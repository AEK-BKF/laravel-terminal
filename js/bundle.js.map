{"version":3,"sources":["bundle.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","mod","define","amd","CodeMirror","dialogDiv","cm","template","bottom","dialog","wrap","getWrapperElement","appendChild","document","createElement","className","innerHTML","closeNotification","newVal","state","currentNotificationClose","defineExtension","callback","options","close","inp","value","closed","parentNode","removeChild","me","focus","onClose","this","button","getElementsByTagName","selectValueOnOpen","select","onInput","on","onKeyUp","onKeyDown","keyCode","closeOnEnter","blur","e_stop","closeOnBlur","callbacks","buttons","blurring","b","e_preventDefault","setTimeout","clearTimeout","doneTimer","duration","../../lib/codemirror","2","setFullscreen","fullScreenRestore","scrollTop","window","pageYOffset","scrollLeft","pageXOffset","width","style","height","documentElement","overflow","refresh","setNormal","replace","info","scrollTo","defineOption","val","old","Init","3","findMatchingBracket","where","strict","config","line","getLineHandle","pos","ch","match","matching","text","charAt","dir","getTokenTypeAt","Pos","found","scanForBracket","from","to","forward","maxScanLen","maxScanLineLength","maxScanLines","stack","re","bracketRegex","lineEnd","Math","min","lastLine","max","firstLine","lineNo","getLine","end","test","undefined","push","pop","matchBrackets","autoclear","maxHighlightLen","maxHighlightLineLength","marks","ranges","listSelections","empty","head","markText","ie_lt8","focused","clear","operation","doMatchBrackets","currentlyHighlighted","navigator","userAgent","documentMode","(",")","[","]","{","}","off","4","CM","env","splitCallback","cont","countDown","ensureDeps","mode","deps","modes","dependencies","missing","hasOwnProperty","split","requireMode","modeURL","loading","name","file","script","src","others","list","insertBefore","requirejs","autoLoadMode","instance","setOption","getOption","5","SearchCursor","doc","query","caseFold","atOccurrence","clipPos","global","RegExp","source","ignoreCase","matches","reverse","lastIndex","start","slice","cutOff","newMatch","exec","index","matchLen","origQuery","toLowerCase","fold","str","target","orig","lastIndexOf","adjustPos","indexOf","origTarget","last","ln","cut","folded","pos1","len1","prototype","findNext","find","findPrevious","savePosAndFail","self","maxLine","lineCount","newText","origin","lines","splitLines","replaceRange","defineDocExtension","cur","getSearchCursor","getCursor","cmpPos","anchor","setSelections","6","defaultKeymap","keys","type","toKeys","context","motion","motionArgs","linewise","toJumplist","wordEnd","bigWord","inclusive","explicitRepeat","toFirstChar","repeatOffset","action","isEdit","actionArgs","after","matchIndent","sameLine","operator","operatorArgs","indentRight","toLower","operatorMotionArgs","visualLine","shouldMoveCursor","insertAt","interlaceInsertRepeat","blockwise","position","increase","backtrack","textObjectInner","searchArgs","querySrc","wholeWordOnly","defaultExCommandMap","shortName","possiblyAsync","excludeFromCommandHistory","Vim","enterVimMode","signal","onCursorActivity","maybeInitVimState","getInputField","getOnPasteFn","leaveVimMode","vim","detachVimMap","next","keyMap","rmClass","attach","attachVimMap","prev","addClass","cmKey","key","vimKey","cmKeyToVimKey","cmd","findKey","pieces","lastPiece","hasCharacter","piece","modifiers","specialKeys","isUpperCase","join","onPasteFn","insertMode","setCursor","offsetCursor","actions","enterInsertMode","makeKeyRange","size","String","fromCharCode","isLine","isLowerCase","k","isMatchableSymbol","isNumber","numberRegex","isWhiteSpaceString","inArray","arr","defaultValue","aliases","cfg","option","scope","local","MacroModeState","latestRegister","isPlaying","isRecording","replaySearchQueries","onRecordingDone","lastInsertModeChanges","createInsertModeChanges","inputState","InputState","lastEditInputState","lastEditActionCommand","lastHPos","lastHSPos","lastMotion","fakeCursor","insertModeRepeat","visualMode","visualBlock","lastSelection","lastPastedText","sel","resetVimGlobalState","vimGlobalState","searchQuery","searchIsReversed","lastSubstituteReplacePart","jumpList","createCircularJumpList","macroModeState","lastCharacterSearch","increment","selectedCharacter","registerController","RegisterController","searchHistoryController","HistoryController","exCommandHistoryController","optionName","prefixRepeat","motionRepeat","keyBuffer","registerName","clearInputState","reason","Register","insertModeChanges","searchQueries","defineRegister","register","registers","validRegisters","unnamedRegister","historyBuffer","iterator","initialPrefix","defineMotion","fn","motions","fillArray","times","defineOperator","operators","defineAction","clipCursorToContent","includeLineBreak","maxCh","lineLength","copyArgs","args","ret","prop","offsetLine","offsetCh","getOffset","commandMatches","partial","full","command","commandMatch","pressed","mapped","prefixLen","pressedPrefix","mappedPrefix","lastChar","repeatFn","repeat","copyCursor","cursorEqual","cur1","cur2","cursorIsBefore","cursorMin","arguments","apply","Array","cursorMax","cursorIsBetween","cur3","cur1before2","cur2before3","lineNum","trim","escapeRegex","extendLineToColumn","column","endCh","spaces","selectBlock","selectionEnd","selections","isClipped","curHead","primIndex","getIndex","wasClipped","base","baseCh","headCh","newDir","range","selectForInsert","lineHead","cursor","atAnchor","atHead","getSelectedAreaRange","getCurrentSelectedAreaRange","selectionStart","getLastSelectedAreaRange","block","anchorMark","headMark","setSelection","updateLastSelection","posFromIndex","indexFromPos","setBookmark","expandSelection","tmp","updateCmSelection","cmSel","makeCmSelection","primary","updateFakeCursor","exclusive","headOffset","anchorOffset","top","left","right","getHead","getSelection","exitVisualMode","moveHead","clipToLine","curStart","curEnd","selection","getRange","expandSelectionToLine","_cm","findFirstNonWhiteSpaceCharacter","firstNonWS","search","expandWordUnderCursor","_forward","noSymbol","idx","wordCharTest","bigWordCharTest","wordStart","recordJumpPosition","oldCur","newCur","add","recordLastCharacterSearch","findSymbol","symb","endLine","curCh","lineText","nextCh","lastCh","reverseSymb","depth","curMoveThrough","symbolToMode","init","findSymbolModes","isComplete","lineLen","findWord","emptyLineIsWord","charTests","stop","foundWord","moveToWord","words","word","eodCh","shortCircuit","firstWord","lastWord","moveToCharacter","character","charIdxInLine","moveToColumn","updateMark","markName","validMarks","includeChar","findParagraph","isEmpty","isBoundary","any","startState","selectCompanionObject","bracketRegexp","openSym","curChar","offset","findBeginningAndEnd","len","chars","firstIndex","SearchState","getSearchState","searchState_","shortText","openDialog","prompt","splitBySlash","argString","slashes","findUnescapedSlashes","tokens","substring","escapeNextChar","c","translateRegex","specials","unescape","out","specialComesNext","translateRegexReplace","charUnescapes","unescapeRegexReplace","stream","StringStream","output","eol","peek","matched","matcher","unescapes","parseQuery","smartCase","lastSearchRegister","getRegister","setText","regexPart","forceIgnoreCase","flagsPart","regexp","showConfirm","openNotification","alert","makePrompt","prefix","desc","raw","showPrompt","regexEqual","r1","r2","props","updateSearchQuery","rawQuery","highlightSearchMatches","getQuery","setQuery","searchOverlay","matchSol","token","sol","skipToEnd","backUp","searchState","overlay","getOverlay","removeOverlay","addOverlay","showMatchesOnScrollbar","getScrollbarAnnotate","setScrollbarAnnotate","setOverlay","clearSearchHighlight","isInRange","getUserVisibleLines","scrollInfo","getScrollInfo","occludeToleranceTop","occludeToleranceBottom","coordsChar","bottomY","clientHeight","doReplace","confirm","lineStart","searchCursor","replaceWith","replaceAll","done","lastPos","scrollIntoView","exMode","onPromptKeyDown","_value","keyName","savedCallback","exitInsertMode","insertModeChangeRegister","lastChange","selLength","inVisualBlock","changes","InsertModeKey","onChange","onKeyEventTargetKeyDown","repeatLastEdit","repeatOverride","toggleOverwrite","logInsertModeChange","_mapCommand","unshift","mapCommand","extra","executeMacroRegister","exCommandDispatcher","processCommand","imc","handleKey","repeatInsertModeChanges","logKey","pushText","pushInsertModeChanges","logSearchQuery","pushSearchQuery","changeObj","expectCursorActivityForChange","curOp","isVimOp","handleExternalSelection","somethingSelected","onKeyFound","lookupKey","repeatForInsert","repeatCommand","isAction","commandDispatcher","processAction","evalInput","repeatInsert","changeObject","cachedInputState","keyHandler","binding","commands","lastSel","j","change","Shift","Ctrl","Alt","Cmd","Mod","Enter","Backspace","Delete","isWordChar","upperCaseAlphabet","lowerCaseAlphabet","numbers","concat","useNextSlot","pointer","trashMark","buffer","current","curMark","markPos","tail","move","mark","inc","cachedCursor","exitMacroRecordMode","enterMacroRecordMode","lastInsertModeKeyTimer","vimApi","buildKeyMap","getRegisterController","resetVimGlobalState_","getVimGlobalState_","maybeInitVimState_","suppressErrorLogging","map","lhs","rhs","ctx","unmap","defineEx","func","exCommands","commandMap_","handleMacroRecording","handleEsc","doKeyToKey","handleKeyInsertMode","keysAreChars","matchCommand","thisMatch","here","handleKeyNonInsertMode","keysMatcher","pushRepeatDigit","handleEx","input","getRepeat","parseInt","toString","isValidRegister","shiftNumericRegisters_","append","nextMatch","up","element","pushInput","splice","reset","bestMatch","processMotion","processOperator","processOperatorMotion","processSearch","processEx","repeatIsExplicit","recordLastEdit","handleQuery","onPromptClose","originalScrollPos","onPromptKeyUp","parsedQuery","originalQuery","setReversed","promptPrefix","shift","searchPromptDesc","isKeyword","exArgs","newHead","newAnchor","origHead","origAnchor","oldHead","oldAnchor","noRepeat","motionResult","Infinity","lineOffset","abs","chOffset","operatorMoveTo","actionCommand","moveToTopLine","_head","moveToMiddleLine","floor","moveToBottomLine","expandToLine","isReversed","goToMark","moveToOtherHighlightedEnd","jumpToMark","best","isWrongDirection","equal","between","moveByCharacters","moveByLines","moveByDisplayLines","moveByScroll","moveToEol","first","moveToStartOfLine","charCoords","res","findPosV","hitSide","lastCharCoords","goalCoords","resCoords","moveByPage","moveByParagraph","scrollbox","defaultTextHeight","dest","moveByWords","moveTillCharacter","moveToSymbol","retval","moveToFirstNonWhiteSpaceCharacter","moveToMatchedSymbol","symbol","moveToLineOrEdgeOfDocument","textObjectManipulation","mirroredPairs","selfPaired","'","\"","repeatLastCharacterSearch","lastSearch","moveH","finalHead","replacement","replaceSelections","lastState","prevLineEnd","Number","MAX_VALUE","wasLastLine","newlineAndIndent","delete","indent","startLine","indentLine","changeCase","getSelections","swapped","toSwap","toUpperCase","yank","endPos","jumpListWalk","scroll","lineHeight","delta","newPos","cursorCoords","ceil","newBottom","scrollToCursor","y","replayMacro","toggleVisualMode","subMode","reselectLastSelection","_actionArgs","joinLines","finalCh","curFinalPos","newLineAndEnterInsertMode","newlineFn","newlineAndIndentContinueComment","paste","tabSize","whitespaceLength","tabs","currentLine","chompedText","wasChomped","firstIndent","wspace","newIndent","quotient","curPosFinal","lastSelectionCurEnd","selectedArea","selectedText","emptyStrings","undo","redo","setRegister","setMark","replaceTo","replaceWithStr","incrementNumberToken","numberStr","lineStr","number","*","/","m","M","#","bracket","section","comment","method","preprocess","reversed","annotate","\\n","\\r","\\t","\\/","\\\\","ExCommandDispatcher","buildCommandMap_","opt_params","that","_processCommand","commandHistoryRegister","previousCommand","inputStream","params","parseInput_","commandName","matchCommand_","parseCommandArgs_","toInput","result","eatWhile","eat","parseLineSpec_","numberMatch","delim","argDelimiter","user","mapping","colorscheme","mapArgs","imap","nmap","vmap","set","setArgs","setCfg","expr","forceGet","optionIsBoolean","oldValue","setlocal","setglobal","regArgs","regInfo","sort","parseArgs","eatSpace","opts","unique","decimal","hex","octal","compareFn","anum","bnum","radix","err","numPart","textPart","textOld","matchedLines","content","nextCommand","substitute","trailing","count","replacePart","startPos","write","save","nohlsearch","delmarks","sym","startMark","finishMark","charCodeAt","finish","detach","Ctrl-N","Ctrl-P","fallthrough","../addon/dialog/dialog","../addon/edit/matchbrackets.js","../addon/search/searchcursor","../lib/codemirror","7","place","copyObj","defaults","setGuttersForLineNumbers","Doc","lineSeparator","inputStyles","inputStyle","display","Display","wrapper","updateGutters","themeChanged","lineWrapping","autofocus","mobile","initScrollbars","keyMaps","overlays","modeGen","overwrite","delayingBlurEvent","suppressEdits","pasteIncoming","cutIncoming","selectingText","draggingText","highlight","Delayed","keySeq","specialChars","ie","ie_version","registerEventHandlers","ensureGlobalHandlers","startOperation","forceUpdate","attachDoc","hasFocus","bind","onFocus","onBlur","opt","optionHandlers","maybeUpdateLineNumberWidth","finishInit","initHooks","endOperation","webkit","getComputedStyle","lineDiv","textRendering","d","scrollbarFiller","elt","setAttribute","gutterFiller","selectionDiv","cursorDiv","measure","lineMeasure","lineSpace","mover","sizer","sizerWidth","heightForcer","scrollerGap","gutters","lineGutter","scroller","zIndex","paddingRight","gecko","draggable","viewFrom","viewTo","reportedViewFrom","reportedViewTo","view","renderedView","externalMeasured","viewOffset","lastWrapHeight","lastWrapWidth","updateLineNumbers","nativeBarWidth","barHeight","barWidth","scrollbarsClipped","lineNumWidth","lineNumInnerWidth","lineNumChars","alignWidgets","cachedCharWidth","cachedTextHeight","cachedPaddingH","maxLineLength","maxLineChanged","wheelDX","wheelDY","wheelStartX","wheelStartY","selForContextMenu","activeTouch","loadMode","getMode","modeOption","resetModeState","iter","stateAfter","styles","frontier","startWorker","regChange","wrappingChanged","minWidth","findMaxLine","estimateLineHeights","clearCaches","updateScrollbars","estimateHeight","th","textHeight","wrapping","perLine","clientWidth","charWidth","lineIsHidden","widgetsHeight","widgets","est","estHeight","updateLineHeight","theme","guttersChanged","alignHorizontally","specs","removeChildren","gutterClass","gElt","updateGutterSpace","offsetWidth","marginLeft","merged","collapsedSpanAtStart","collapsedSpanAtEnd","lineNumbers","measureForScrollbars","gutterW","docH","round","paddingVert","viewHeight","scrollWidth","viewWidth","barLeft","fixedGutter","docHeight","scrollHeight","scrollGap","gutterWidth","NativeScrollbars","vert","horiz","checkedZeroWidth","minHeight","NullScrollbars","scrollbars","scrollbarModel","scrollbarStyle","node","axis","setScrollLeft","setScrollTop","startWidth","startHeight","updateScrollbarsInner","updateHeightsInViewport","sizes","update","paddingBottom","borderBottom","coverGutterNextToScrollbar","visibleLines","viewport","paddingTop","lineAtHeight","ensure","ensureFrom","ensureTo","heightAtLine","firstChild","comp","compensateForHScroll","hidden","gutter","align","alignable","lineNumberFor","innerW","padding","lineNumberFormatter","firstLineNumber","getBoundingClientRect","DisplayUpdate","force","visible","editorIsHidden","wrapperHeight","wrapperWidth","oldDisplayWidth","displayWidth","dims","getDimensions","events","maybeClipScrollbars","marginBottom","borderRightWidth","updateDisplayIfNeeded","resetView","countDirtyView","viewportMargin","sawCollapsedSpans","visualLineNo","visualLineEndNo","different","adjustView","toUpdate","activeElt","patchDisplay","offsetHeight","postUpdateDisplay","displayHeight","barMeasure","updateSelection","setDocumentHeight","updateDisplaySimple","prevBottom","offsetTop","bot","box","diff","updateWidgetHeight","rest","gutterLeft","clientLeft","nextSibling","offsetLeft","fixedPos","gutterTotalWidth","updateNumbersFrom","rm","mac","currentWheelTarget","container","lineN","lineView","updateNumber","lineNumber","updateLineForChanges","createTextNode","buildLineElement","updateLineText","updateLineGutter","updateLineClasses","updateLineWidgets","ensureLineWrapped","replaceChild","updateLineBackground","cls","bgClass","background","getLineContent","ext","built","buildLineContent","pre","textClass","wrapClass","gutterBackground","markers","gutterMarkers","gutterWrap","setUneditable","id","insertLineWidgets","insertLineWidgetsFor","allowAbove","ws","widget","handleMouseEvents","positionLineWidget","above","signalLater","noHScroll","coverGutter","paddingLeft","copyPos","x","maxPos","cmp","minPos","ensureFocus","applyTextInput","inserted","deleted","textLines","multiPaste","lastCopied","lst","lineWise","updateInput","changeEvent","makeChange","triggerElectric","ensureCursorVisible","typing","handlePaste","pasted","clipboardData","getData","preventDefault","isReadOnly","disableInput","runInOp","electricChars","smartIndent","getModeAt","indented","electricInput","copyableRanges","lineRange","disableBrowserMagic","field","TextareaInput","prevInput","pollingFast","polling","inaccurateSelection","hasSelection","composing","hiddenTextarea","te","div","ios","border","ContentEditableInput","lastAnchorNode","lastAnchorOffset","lastFocusNode","lastFocusOffset","gracePeriod","posToDOM","findViewForLine","mapFromLineView","order","getOrder","side","partPos","getBidiPartAt","nodeAndOffsetInLineMap","collapse","badPos","bad","domToPos","lineNode","childNodes","locateNodeInLineView","textNode","topNode","maps","curNode","contains","nodeType","nodeValue","dist","textContent","before","previousSibling","domTextBetween","fromLine","toLine","recognizeMarker","marker","walk","cmText","getAttribute","markerID","findMarks","getBetween","lineSep","nodeName","closing","Selection","Range","normalizeSelection","prim","inv","simpleSelection","clipLine","clipToLen","linelen","clipPosArray","array","extendRange","other","extend","posBefore","extendSelection","extendSelections","heads","newSel","replaceOneSelection","setSimpleSelection","filterSelectionChange","obj","setSelectionReplaceHistory","history","setSelectionNoUndo","addSelectionToHistory","NaN","hasHandler","bias","setSelectionInner","skipAtomicInSelection","equals","selectionChanged","signalCursorActivity","reCheckSelection","sel_dontScroll","mayClear","skipAtomic","skipAtomicInner","oldPos","markedSpans","sp","inclusiveLeft","inclusiveRight","explicitlyCleared","atomic","near","movePos","far","cantEdit","showSelection","prepareSelection","curFragment","cursors","createDocumentFragment","selFragment","collapsed","showCursorWhenSelecting","drawSelectionCursor","drawSelectionRange","singleCursorHeightPerLine","cursorHeight","otherCursor","fragment","rightSide","drawForLine","fromArg","toArg","coords","lineObj","iterateBidiSections","rightPos","leftPos","leftSide","paddingH","sFrom","sTo","singleVLine","leftEnd","rightStart","restartBlink","clearInterval","blinker","visibility","cursorBlinkRate","setInterval","time","highlightWorker","Date","workTime","copyState","getStateBefore","changedLines","oldStyles","tooLong","maxHighlightLength","highlighted","highlightLine","oldCls","styleClasses","newCls","classes","ischange","processLine","workDelay","regLineChange","findStartLine","precise","minindent","minline","lim","innerMode","countColumn","removeChildrenAndAdd","currentStyle","data","isNaN","ensureLineHeights","rect","curWidth","heights","rects","getClientRects","cache","caches","updateExternalMeasurement","LineView","measureChar","measureCharPrepared","prepareMeasureForLine","findViewIndex","hasHeights","prepared","varHeight","measureCharInner","bogus","rtop","rbottom","mStart","mEnd","insertLeft","coverStart","coverEnd","isExtendingChar","nullRect","maybeUpdateRectForZooming","rSpan","rbot","mid","screen","logicalXDPI","deviceXDPI","hasBadZoomedRects","scaleX","scaleY","logicalYDPI","deviceYDPI","clearLineMeasurementCacheFor","clearLineMeasurementCache","externalMeasure","pageScrollX","body","pageScrollY","intoCoordSystem","widgetHeight","yOff","lOff","xOff","fromCoordSystem","localBox","lineSpaceBox","preparedMeasure","get","getBidi","part","level","bidiLeft","bidiRight","bidiOther","estimateCoords","PosWithInfo","outside","xRel","coordsCharInner","mergedPos","getX","wrongLine","innerOff","adjust","bidi","lineLeft","lineRight","fromX","fromOutside","toX","toOutside","moveVisually","xDiff","charSize","step","middle","middleX","measureText","viewChanged","changeObjs","cursorActivityHandlers","cursorActivityCalled","updateMaxLine","scrollToPos","nextOpId","operationGroup","ops","ownsGroup","delayedCallbacks","fireCallbacksForOps","group","op","endOperations","endOperation_R1","endOperation_W1","endOperation_R2","endOperation_W2","endOperation_finish","mustUpdate","updatedDisplay","adjustWidthTo","maxScrollLeft","preparedSelection","takeFocus","forceScroll","scrollPosIntoView","margin","isCursor","maybeScrollWindow","maybeHiddenMarkers","unhidden","maybeUnhiddenMarkers","methodOp","docMethodOp","visualLineContinued","buildViewArray","nextPos","lendiff","viewCuttingPoint","cutTop","cutBot","oldN","newN","dirty","finishTouch","touchFinished","prevTouch","isMouseLikeTouchEvent","touches","touch","radiusX","radiusY","farAway","dx","dy","onMouseDown","signalDOMEvent","posFromMouse","clickInGutter","eventInWidget","findWordAt","captureRightClick","onContextMenu","now","moved","pageX","pageY","onScrollWheel","dragFunctions","enter","over","onDragOver","onDragStart","drop","onDrop","leave","clearDragCursor","getField","onKeyPress","dragDropChanged","wasOn","funcs","toggle","onResize","setSize","e_target","liberal","forRect","space","clientX","clientY","colDiff","supportsTouch","shiftKey","e_button","leftButtonDown","lastMiddleDown","delayBlurEvent","lastDoubleClick","lastClick","contained","modifier","metaKey","ctrlKey","dragDrop","dragAndDrop","leftButtonStartDrag","leftButtonSelect","startTime","dragEnd","e2","copy","altKey","addNew","extendTo","startCol","posCol","findColumn","startSel","ourIndex","oldRange","ourRange","sel_mouse","curCount","counter","editorSize","lastSelOrigin","chromeOS","gutterEvent","prevent","mX","mY","lineBox","e_defaultPrevented","g","lastDrop","files","dataTransfer","FileReader","File","read","loadFile","allowDropFileTypes","reader","onload","changeEnd","readAsText","selected","replaceSelection","setData","effectAllowed","setDragImage","safari","img","presto","_top","frag","dragCursor","isScroller","wheelEventDelta","canScrollX","canScrollY","outer","wheelPixelsPerUnit","pixels","wheelSamples","movedX","movedY","sample","doHandleBinding","bound","dropShift","ensurePolled","prevShift","Pass","lookupKeyForEditor","handle","extraKeys","dispatchKey","seq","isModifierKey","stopSeq","handleKeyBinding","handleCharBinding","returnValue","handled","lastStoppedKey","hasCopyEvent","showCrossHair","charCode","which","readOnly","receivedFocus","contextMenuInGutter","adjustForChange","computeSelAfterChange","offsetPos","nw","computeReplacedSel","hint","oldPrev","newPrev","filterChange","canceled","cancel","ignoreReadOnly","sawReadOnlySpans","removeReadOnlyRanges","makeChangeInner","selAfter","addChangeToHistory","makeChangeSingleDoc","stretchSpansOverChange","rebased","linkedDocs","sharedHist","rebaseHist","makeChangeFromHistory","allowSelectionOnly","event","hist","undone","lastOrigin","pushSelectionToHistory","clearRedo","antiChanges","generation","maxGeneration","filter","historyChangeFromChange","mergeOldSpans","shiftDoc","distance","spans","removed","makeChangeSingleDocInEditor","updateDoc","recomputeMaxLength","checkWidthStart","isWholeLineUpdate","changesHandler","changeHandler","doScroll","innerHeight","phantom","scrollNode","limit","changed","endCoords","scrollPos","calculateScrollPos","startTop","startLeft","x1","y1","x2","y2","snapMargin","screentop","docBottom","atTop","atBottom","newTop","screenleft","screenw","tooWide","addToScrollPos","resolveScrollToPos","cursorScrollMargin","sPos","how","aggressive","curSpace","indentation","curSpaceString","indentUnit","indentString","indentWithTabs","spaceStr","changeLine","changeType","no","deleteNearSelection","compute","kill","toKill","replaced","findPosH","unit","visually","findNextLine","moveOnce","boundToLine","moveLogically","origDir","sawType","helper","getHelper","pageSize","deflt","notOnInit","normalizeKeyName","alt","ctrl","parts","getKeyMap","shared","markTextShared","TextMarker","clearWhenEmpty","replacedWith","widgetNode","conflictingCollapsedRange","addToHistory","curLine","addMarkedSpan","MarkedSpan","clearOnEnter","clearHistory","nextMarkerId","title","startStyle","endStyle","css","cloneNode","linked","isParent","SharedTextMarker","findSharedMarkers","parent","copySharedMarkers","mFrom","mTo","subMark","detachSharedMarkers","subMarker","getMarkedSpanFor","span","removeMarkedSpan","attachLine","markedSpansBefore","startCh","isInsert","startsBefore","endsAfter","markedSpansAfter","oldFirst","oldLast","clearEmptySpans","newMarkers","gapMarkers","gap","getOldSpans","stretched","stretchCur","mk","p","newParts","dfrom","dto","detachMarkedSpans","detachLine","attachMarkedSpans","extraLeft","extraRight","compareCollapsedMarkers","lenDiff","aPos","bPos","fromCmp","toCmp","collapsedSpanAtSide","sps","vis","lineIsHiddenInner","adjustScrollWhenAboveVisible","parentStyle","addLineWidget","LineWidget","aboveVisible","updateLine","cleanUpLine","extractLineClasses","lineClass","callBlankLine","blankLine","inner","readToken","takeToken","asArray","getObj","string","runMode","lineClasses","forceToEnd","flattenSpans","curStyle","addModeClass","mName","st","at","i_end","opaque","getLineStyles","updateFrontier","startAt","interpretTokenStyle","styleToClassCacheWithMode","styleToClassCache","builder","col","splitSpaces","addToken","buildToken","hasBadBidiRects","buildTokenBadBidi","allowFrontierUpdate","insertLineContent","joinClasses","zeroWidthElement","lastChild","querySelector","defaultSpecialCharPlaceholder","displayText","special","mustWrap","skipped","txt","tabWidth","specialCharPlaceholder","fullStyle","buildCollapsedSpan","ignoreWidget","needsContentAttribute","allText","spanStyle","spanEndStyle","spanStartStyle","nextChange","endStyles","foundBookmarks","upto","tokenText","wholeLineUpdateBefore","spansFor","linesFor","Line","lastText","lastSpans","nlines","insert","remove","added","LeafChunk","BranchChunk","children","chunkSize","sharedHistOnly","propagate","skip","rel","chunk","child","sz","getLines","h","lh","bidiOrdering","History","startGen","undoDepth","lastModTime","lastSelTime","lastOp","lastSelOp","histChange","attachLocalSpans","clearSelectionEvents","lastChangeEvent","opId","historyEventDelay","selectionEventCanBeMerged","existing","removeClearedSpans","copyHistoryArray","newGroup","instantiateSel","deepCopy","newChanges","rebaseHistSelSingle","rebaseHistArray","sub","ok","copied","defaultPrevented","srcElement","getHandlers","emitter","_handlers","noHandlers","bnd","orphanDelayedCallbacks","fireOrphanDelayed","delayed","override","codemirrorIgnore","cursorActivity","eventMixin","ctor","spaceStrs","nothing","createObj","inst","Object","create","isWordCharBasic","extendingChars","tag","cssText","activeElement","root","classTest","as","forEachCodeMirror","getElementsByClassName","byClass","globalsRegistered","registerGlobalHandlers","resizeTimer","zwspSupported","badBidiRects","r0","badZoomedRects","normal","fromRange","visual","lineStartSmart","inWS","compareBidiLevel","linedir","moveInLine","byUnit","platform","ie_upto10","ie_11up","qtwebkit","chrome","vendor","mac_geMountainLion","windows","presto_version","flipCtrlCmd","needsH","needsV","sWidth","totalHeight","totalWidth","zeroWidthHack","disableHoriz","enableZeroWidthBar","disableVert","w","pointerEvents","bar","delay","maybeDisable","elementFromPoint","native","null","prepareCopyCut","selectInput","lineWiseCopyCut","textarea","poll","fastPoll","moveInputWithCursor","headPos","wrapOff","lineOff","teTop","teLeft","drawn","contextMenuPending","minimal","resetPosition","slowPoll","pollInterval","missed","execCommand","same","prepareSelectAllHack","extval","rehide","oldWrapperCSS","oldCSS","selectAll","detectingSelectAll","resetSelectionOnContextMenu","wrapperBox","oldScrollY","scrollY","mouseup","readOnlyChanged","onCopyCut","clearData","kludge","hadFocus","startData","ours","applyComposition","forceCompositionEnd","pollContent","showPrimarySelection","showMultipleSelections","curAnchor","anchorNode","curFocus","focusNode","focusOffset","rangeCount","getRangeAt","rng","addRange","removeAllRanges","startGracePeriod","rememberSelection","selectionInEditor","commonAncestorContainer","pollSelection","fromIndex","fromNode","toIndex","toNode","oldText","cutFront","cutEnd","oldTop","maxCutFront","newBot","oldBot","maxCutEnd","chFrom","chTo","contentEditable","contenteditable","there","wheelDeltaX","wheelDeltaY","detail","HORIZONTAL_AXIS","VERTICAL_AXIS","wheelDelta","wheelEventPixels","constructor","getDoc","addKeyMap","removeKeyMap","spec","modeSpec","indentSelection","newRanges","getTokenAt","getLineTokens","getHelpers","helpers","help","helperType","_global","pred","getStateAfter","defaultCharWidth","setGutterMarker","gutterID","clearGutter","lineInfo","getViewport","addWidget","vspace","hspace","triggerOnKeyDown","triggerOnKeyPress","triggerOnKeyUp","amount","extendSelectionsBy","rtlMoveVisually","sel_move","deleteH","goalColumn","moveV","goals","startChar","check","interpret","oldHeight","swapDoc","getScrollerElement","getGutterElement","setValue","newBreaks","integer","disabled","tabIndex","mimeModes","defineMode","defineMIME","mime","resolveMode","mfactory","modeObj","modeExtensions","exts","modeProps","extendMode","properties","defineInitHook","registerHelper","registerGlobalHelper","predicate","nstate","a1","a2","singleSelection","killLine","deleteLine","delLineLeft","delWrappedLineLeft","delWrappedLineRight","undoSelection","redoSelection","goDocStart","goDocEnd","goLineStart","goLineStartSmart","goLineEnd","goLineRight","goLineLeft","goLineLeftSmart","goLineUp","goLineDown","goPageUp","goPageDown","goCharLeft","goCharRight","goColumnLeft","goColumnRight","goWordLeft","goGroupRight","goGroupLeft","goWordRight","delCharBefore","delCharAfter","delWordBefore","delWordAfter","delGroupBefore","delGroupAfter","indentAuto","indentMore","indentLess","insertTab","insertSoftTab","defaultTab","transposeChars","openLine","basic","Left","Right","Up","Down","End","Home","PageUp","PageDown","Shift-Backspace","Tab","Shift-Tab","Insert","Esc","pcDefault","Ctrl-A","Ctrl-D","Ctrl-Z","Shift-Ctrl-Z","Ctrl-Y","Ctrl-Home","Ctrl-End","Ctrl-Up","Ctrl-Down","Ctrl-Left","Ctrl-Right","Alt-Left","Alt-Right","Ctrl-Backspace","Ctrl-Delete","Ctrl-S","Ctrl-F","Ctrl-G","Shift-Ctrl-G","Shift-Ctrl-F","Shift-Ctrl-R","Ctrl-[","Ctrl-]","Ctrl-U","Shift-Ctrl-U","Alt-U","emacsy","Ctrl-B","Alt-F","Alt-B","Ctrl-E","Ctrl-V","Shift-Ctrl-V","Ctrl-H","Alt-D","Alt-Backspace","Ctrl-K","Ctrl-T","Ctrl-O","macDefault","Cmd-A","Cmd-D","Cmd-Z","Shift-Cmd-Z","Cmd-Y","Cmd-Home","Cmd-Up","Cmd-End","Cmd-Down","Cmd-Left","Cmd-Right","Ctrl-Alt-Backspace","Alt-Delete","Cmd-S","Cmd-F","Cmd-G","Shift-Cmd-G","Cmd-Alt-F","Shift-Cmd-Alt-F","Cmd-[","Cmd-]","Cmd-Backspace","Cmd-Delete","Cmd-U","Shift-Cmd-U","normalizeKeyMap","keymap","keyname","keyNames","noShift","altGraphKey","fromTextArea","getValue","tabindex","placeholder","form","leaveSubmitMethodAlone","realSubmit","submit","wrappedSubmit","getTextArea","toTextArea","lastColumnPos","lastColumnValue","skipTo","pattern","consume","caseInsensitive","cased","substr","hideFirstChars","withOp","dHeight","oldH","removeInner","insertInner","iterN","remaining","leaf","maybeSpill","spilled","sibling","myIndex","used","nextDocId","cleanGeneration","getLineNumber","getLineHandleVisualStart","addSelection","dup","setExtending","getExtending","historySize","markClean","changeGeneration","forceSplit","isClean","gen","getHistory","setHistory","histData","addLineClass","removeLineClass","removeLineWidget","realOpts","findMarksAt","getAllMarks","sepSize","copyHistory","linkedDoc","unlinkDoc","link","splitIds","iterLinkedDocs","getEditor","splitLinesAuto","eachLine","dontDelegate","e_stopPropagation","stopPropagation","cancelBubble","addEventListener","attachEvent","removeEventListener","detachEvent","handlers","ms","startIndex","startValue","nextTab","goal","_e","nonASCIISingleCaseWordChar","createRange","endNode","setEnd","setStart","createTextRange","moveToElementText","moveEnd","moveStart","host","nl","rt","ownerDocument","parentElement","compareEndPoints","oncopy","8","9","13","16","17","18","19","20","27","32","33","34","35","36","37","38","39","40","44","45","46","59","61","91","92","93","106","107","109","110","111","127","173","186","187","188","189","190","191","192","219","220","221","222","63232","63233","63234","63235","63272","63273","63275","63276","63277","63302","charType","lowTypes","arabicTypes","BidiSpan","bidiRE","isNeutral","isStrong","countsAsLeft","countsAsNum","outerType","types","nstart","version","Context","pushContext","popContext","typeBefore","prevToken","typeAtEndOfLine","isTopScope","propertyIsEnumerable","cppHook","startOfLine","tokenize","pointerHook","_stream","cpp14Literal","cpp11StringHook","cpp11RawStringDelim","tokenRawString","cppLooksLikeConstructor","lastTwo","tokenAtString","def","mimes","keywords","builtin","atoms","tokenTripleString","escaped","tokenKotlinString","tripleString","tokenCeylonString","stringTokenizer","parserConfig","tokenBase","hooks","tokenString","isPunctuationChar","curPunc","numberStart","tokenComment","isOperatorChar","namespaceSeparator","blockKeywords","defKeywords","isDefKeyword","quote","multiLineStrings","maybeEnd","maybeEOL","typeFirstDefinitions","statementIndentUnit","dontAlignCalls","indentStatements","indentSwitch","endStatement","basecolumn","styleDefs","textAfter","firstChar","dontIndentStatements","hook","switchBlock","allmanIndentation","blockCommentStart","blockCommentEnd","lineComment","cKeywords","cTypes","U","L","R","0","@","=","cx","closeBrackets","triples","intendSwitch","_state","`","keySet","tokenCComment","tp","tokenHooks","tokenParenthesized","pass","states","popAndPass","wordAsValue","valueKeywords","colorKeywords","inline","propertyKeywords","documentTypes","mediaTypes","mediaFeatures","mediaValueKeywords","nonStandardPropertyKeywords","fontProperties","counterDescriptors","allowNested","supportsAtComponent","stateArg","maybeprop","propBlock","parens","pseudo","atBlock","atComponentBlock","atBlock_parens","restricted_atBlock_before","restricted_atBlock","keyframes","interpolation","documentTypes_","mediaTypes_","mediaFeatures_","mediaValueKeywords_","propertyKeywords_","nonStandardPropertyKeywords_","fontProperties_","counterDescriptors_","colorKeywords_","valueKeywords_","allWords",":","$","&","10","maybeBackup","pat","getAttrRegexp","attr","attrRegexpCache","getAttrValue","getTagRegexp","tagName","anchored","addTags","findMatchingMode","tagInfo","tagText","defaultTags","html","htmlMode","htmlState","tags","inTag","endTagA","endTag","localState","localMode","multilineTagIndentFactor","multilineTagIndentPastTag","configTags","configScript","scriptTypes","../css/css","../javascript/javascript","../xml/xml","11","expressionAllowed","lastType","readRegexp","inSet","tokenQuasi","wordRE","known","jsonldMode","isJsonldKeyword","findFatArrow","fatArrowAt","arrow","sawSomething","brackets","JSLexical","inScope","varname","v","localVars","vars","parseJS","cc","marked","lexical","combinator","jsonMode","expression","statement","lex","inList","globalVars","pushcontext","defaultVars","popcontext","pushlex","poplex","expect","wanted","exp","vardef","maybeelse","functiondef","forspec","maybelabel","funarg","afterExport","afterImport","expressionInner","expressionNoComma","noComma","arrowBodyNoComma","arrowBody","commasep","maybeop","maybeoperatorNoComma","maybeoperatorComma","atomicTypes","maybeexpressionNoComma","maybeexpression","comprehension","arrayLiteral","contCommasep","objprop","quasi","maybeTarget","property","continueQuasi","targetNoComma","_","getterSetter","afterprop","what","proceed","maybetype","isTS","typeexpr","maybedefault","afterType","maybeAssign","vardefCont","proppattern","_type","forspec1","forspec2","formaybeinof","forspec3","classNameAfter","classBody","classGetterSetter","maybeFrom","importSpec","maybeAs","maybeArrayComprehension","isContinuedStatement","statementIndent","jsonld","json","typescript","wordCharacters","kw","A","B","C","atom","jsKeywords","if","while","with","else","do","try","finally","return","break","continue","new","throw","debugger","var","const","let","function","catch","for","switch","case","default","in","typeof","instanceof","true","false","class","super","yield","export","import","extends","await","async","tsKeywords","interface","implements","namespace","enum","public","private","protected","abstract","boolean","variable","jsonld-keyword","doubleIndentSwitch","skipExpression","12","modeInfo","alias","findModeByMIME","findModeByExtension","findModeByFileName","filename","dot","findModeByName","matchSequence","escapes","phpString","patterns","phpString_","tokStack","phpKeywords","phpAtoms","phpBuiltin","phpConfig","<","quoted","dispatch","isPHP","curMode","phpMode","pending","php","curState","openPHP","startOpen","htmlNew","phpNew","../clike/clike","../htmlmixed/htmlmixed","14","htmlConfig","autoSelfClosers","area","br","embed","frame","hr","keygen","meta","param","track","wbr","menuitem","implicitlyClosed","dd","li","optgroup","rp","tbody","td","tfoot","tr","contextGrabbers","dt","address","article","aside","blockquote","dl","fieldset","footer","h1","h2","h3","h4","h5","h6","header","hgroup","menu","nav","ol","table","ul","thead","doNotIndent","allowUnquoted","allowMissing","xmlConfig","editorConf","config_","inText","chain","parser","inBlock","doctype","baseState","tagStart","inAttribute","stringStartCol","closure","isInAttribute","terminator","noIndent","maybePopContext","nextTagName","parentTagName","tagNameState","closeTagNameState","setStyle","attrState","matchClosing","closeState","closeStateErr","attrEqState","attrValueState","attrContinuedState","isInText","baseIndent","fullLine","alignCDATA","tagAfter","grabbers","configuration","skipAttribute","15","jQuery","migrateWarn","msg","console","warnedAbout","migrateWarnings","warn","migrateMute","migrateTrace","trace","migrateWarnProp","defineProperty","configurable","enumerable","migrateVersion","log","rbadVersions","jquery","migrateReset","compatMode","oldInit","oldIsNumeric","isNumeric","oldFind","rattrHashTest","rattrHashGlob","arg1","selector","err1","err2","findProp","parseJSON","JSON","parse","isNumeric2","realStringObj","isArray","parseFloat","newValue","uniqueSort","pseudos","oldAjax","ajax","jQXHR","promise","fail","always","oldRemoveAttr","removeAttr","oldToggleClass","toggleClass","rmatchNonSpace","each","bool","internalSwapCall","swap","oldHook","cssHooks","elem","oldData","curData","camelCase","hasData","oldTweenRun","Tween","run","percent","easing","oldLoad","load","originalFix","fix","fixHooks","originalEvent","fixHook","addProp","_migrated_","triggerHandler","ready","setup","unbind","delegate","undelegate","oldOffset","docElem","oldParam","traditional","ajaxTraditional","ajaxSettings","oldSelf","andSelf","addBack","oldDeferred","Deferred","tuples","Callbacks","deferred","pipe","fns","newDefer","tuple","isFunction","returned","resolve","reject","progress","notify","factory","handler","orgEvent","deltaX","deltaY","absDelta","offsetX","offsetY","deltaMode","pageHeight","lowestDelta","shouldAdjustOldDeltas","settings","normalizeOffset","boundingRect","deltaFactor","nullLowestDeltaTimeout","nullLowestDelta","adjustOldDeltas","toFix","toBind","mouseHooks","mousewheel","onmousewheel","getLineHeight","getPageHeight","teardown","removeData","$elem","$parent","trigger","unmousewheel","get_type","str_repeat","multiplier","sprintf","format","parse_tree","argv","arg","pad","pad_character","pad_length","tree_length","node_type","toExponential","toFixed","fmt","_fmt","arg_names","field_list","replacement_field","field_match","vsprintf","_argv","wls","localStorage","wc","setTime","getTime","toGMTString","cookie","rls","rc","nn","ca","dls","dc","str_parts","Cycle","rotate","item","front","Stack","clone","enabled","storage_key","Storage","json_stringify","previous","purge","enable","disable","process_command","regex","terminal","escape_regex","is_scrolled_into_view","docViewTop","docViewBottom","elemTop","elemBottom","char_size","temp","appendTo","outerHeight","get_num_chars","have_scrollbars","SCROLLBAR_WIDTH","margins","innerWidth","get_num_rows","get_selected_text","is","omap","Clone","clone_object","object","clone_array","hasLS","testKey","storage","setItem","removeItem","error","isLS","everyTime","interval","label","belay","timer","oneTime","stopTime","guid","powers","cs","ds","das","hs","ks","timeParse","num","mult","$timers","$timerID","inProgress","timers","_fn","lab","one","els","undef","nativeSplit","compliantExecNpcg","separator","separator2","lastLength","flags","multiline","extended","sticky","lastLastIndex","caret","isContentEditable","range1","range2","cloneRange","selectNodeContents","endContainer","endOffset","setEndPoint","duplicate","bookmark","getBookmark","moveToBookmark","setSelectionRange","repl","is_paste_supported","el","onpaste","mobile_focus","is_touch","clip","fake_mobile_entry","blink","draw_reverse_prompt","rev_search_str","draw_prompt","clear_reverse_state","backup_prompt","reverse_search","reverse_search_position","reverse_history_search","save_string","history_data","redraw","change_num_chars","W","num_chars","get_splited_command_line","prompt_len","isenabled","keydown_event","keydown","first_up_history","mask","historyFilter","selected_text","last_command","prevent_keypress","no_keypress","kill_text","fire_change_command","onCommandChange","keypress_event","keypress","maybe_data","animation","prompt_node","support_animations","is_android","removeClass","animating","draw_cursor_line","encode","before_str","lines_after","last_ins","insertAfter","lines_before","first_len","tabs_rm","num_lines","from_last","last_len","line_index","current_len","stay","destroy","user_prompt","relative","onPositionChange","show","resize","new_mask","animationstring","keyframeprefix","domPrefixes","pfx","elm","animationName","DocumentTouch","format_split_re","format_parts_re","format_re","format_exist_re","format_full_re","color_hex_re","url_re","url_nf_re","email_re","command_re","format_begin_re","format_start_re","format_last_re","format_exec_re","color_names","valid_color","color","have_formatting","is_formatting","format_split","split_equal","is_space","formatting","in_text","prev_format","semicolons","safe","first_index","jlen","strip","text_len","can_break","escape_formatting","escape_brackets","linksNoReferrer","splitted","_class","data_text","style_str","text_decoration","active","terminals","parseArguments","parse_arguments","splitArguments","split_arguments","parseCommand","parse_command","splitCommand","split_command","float_re","oct","extended_command","term","change_hash","then","ids","jrpc","url","success","request","jsonrpc","status","jqXHR","content_type","getResponseHeader","contentType","dataType","version_set","copyright","version_string","reg","name_ver","signatures","exit","maskChar","checkArity","exceptionHandler","cancelableAjax","processArguments","processRPCResponse","Token","convertLinks","historyState","login","outputLimit","formatters","onAjaxError","onRPCError","completion","onInit","noop","onClear","onTerminalChange","onExit","strings","wrongPasswordTryAgain","wrongPassword","ajaxAbortError","wrongArity","commandNotFound","oneRPCWithIgnore","oneInterpreterFunction","loginFunctionMissing","noTokenError","serverResponse","wrongGreetings","notWhileLogin","loginIsNotAFunction","canExitError","invalidCompletion","invalidSelector","invalidTerminalId","password","recursiveCall","hash_commands","requests","save_state","fire_hash_change","first_instance","init_interpreter","get_processed_command","display_object","echo","print_line","url_spec","pause","response","location","href","resume","display_json_rpc_error","message","make_basic_json_rpc","auth","interpreter","ajax_error","make_object_interpreter","arity","fallback","user_command","onCommandNotFound","xhr","responseText","make_json_rpc_object","procs","interpreter_object","proc","args_len","make_interpreter","user_intrp","finalize","fn_interpreter","rpc_count","recur","interpreters","ignoreSystemDescribe","new_obj","make_json_rpc_login","passwd","exception_message","fileName","display_exception","exception","scroll_to_bottom","scroll_object","validate","buffer_line","output_buffer","NEW_LINE","keepWords","process_line","line_settings","prev_command","command_line","lines_to_show","detached_output","rows","flush","show_greetings","greetings","signature","echo_command","restore_state","command_idx","import_view","export_view","maybe_update_hash","hash","silent","after_exec","saved_change_hash","onAfterCommand","first_command","execHash","onBeforeCommand","ghost","logout","in_login","get_token","set_token","when","paused","resume_callbacks","global_logout","onBeforeLogout","clear_loging_storage","onAfterLogout","initialize","prefix_name","maybe_append_name","interpreter_name","names","prepare_top_interpreter","onStart","hashchange","decodeURIComponent","was_paused","onPause","complete_helper","tab_count","loop","key_down","on_scrollbar_show_resize","set_command","readyState","abort","focus_terminal","old_enabled","blur_terminal","num_rows","old_width","old_height","frozen","terminal_id","logins","delayed_commands","get_prompt","get_command","onExport","onImport","set_prompt","ignore_hash","autologin","infinite","login_callback","set_mask","login_name","setInterpreter","set_interpreter","overwrite_interpreter","original","onResume","cols","numChars","numRows","history_state","animate","freeze","get_output","new_num_chars","new_num_rows","$lines","for_remove","parents","locals","local_name","intrp","object_or_name","fun","scroll_bars","agent","onBeforeLogin","base_interpreter","itrp","exec_spec","defer","sender","closest","$win","click","mousedown","overtyping","striped","g1","g2","ansi_colors","black","red","green","yellow","blue","magenta","cyan","white","faited","bold","palette","from_ansi","format_ansi","controls","output_color","output_background","_8bit_color","_8bit_background","process_8bit","color_list","background_list","colors","backgrounds","30","31","41","42","43","47","49","prev_color","prev_background","inside","noGlobal","DOMEval","isArrayLike","isWindow","winnow","elements","qualifier","not","grep","risSimple","createOptions","rnotwhite","flag","Identity","Thrower","ex","adoptValue","completed","Data","expando","uid","dataAttr","rmultiDash","rbrace","dataUser","adjustCSS","valueParts","tween","adjusted","scale","maxIterations","currentValue","initial","cssNumber","initialInUnit","rcssNum","getDefaultDisplay","defaultDisplayMap","showHide","values","dataPriv","isHiddenWithinTree","getAll","querySelectorAll","merge","setGlobalEval","elems","refElements","buildFragment","scripts","ignored","nodes","rhtml","rtagName","wrapMap","_default","htmlPrefilter","rscriptType","returnTrue","returnFalse","safeActiveElement","origFn","manipulationTarget","disableScript","restoreScript","rscriptTypeMasked","removeAttribute","cloneCopyEvent","pdataOld","pdataCur","udataOld","udataCur","access","fixInput","rcheckableType","checked","domManip","collection","hasScripts","iNoClone","support","checkClone","rchecked","eq","_evalUrl","rcleanScript","keepData","cleanData","curCSS","computed","maxWidth","getStyles","getPropertyValue","pixelMarginRight","rnumnonpx","rmargin","addGetHookIf","conditionFn","hookFn","vendorPropName","emptyStyle","capName","cssPrefixes","setPositiveNumber","subtract","augmentWidthOrHeight","isBorderBox","cssExpand","getWidthOrHeight","valueIsBorderBox","boxSizingReliable","raf","timerId","requestAnimationFrame","fx","tick","createFxNow","fxNow","genFx","includeWidth","attrs","opacity","createTween","Animation","tweeners","defaultPrefilter","oldfire","propTween","restoreDisplay","isBox","anim","dataShow","queue","_queueHooks","unqueued","fire","rfxtypes","isEmptyObject","overflowX","overflowY","propFilter","specialEasing","expand","stopped","prefilters","currentTime","tweens","notifyWith","resolveWith","originalProperties","originalOptions","gotoEnd","rejectWith","proxy","complete","getClass","buildParams","rbracket","addToPrefiltersOrTransports","structure","dataTypeExpression","dataTypes","inspectPrefiltersOrTransports","inspect","inspected","prefilterOrFactory","dataTypeOrTransport","seekingTransport","transports","ajaxExtend","deep","flatOptions","ajaxHandleResponses","responses","ct","finalDataType","firstDataType","contents","mimeType","converters","ajaxConvert","isSuccess","conv2","conv","responseFields","dataFilter","getWindow","defaultView","getProto","getPrototypeOf","class2type","hasOwn","fnToString","ObjectFunctionString","rtrim","rmsPrefix","rdashAlpha","fcamelCase","all","letter","toArray","pushStack","prevObject","copyIsArray","isPlainObject","random","isReady","proto","Ctor","globalEval","makeArray","results","second","invert","callbackInverse","callbackExpect","Symbol","Sizzle","seed","nid","groups","newSelector","newContext","preferredDoc","setDocument","documentIsHTML","rquickExpr","getElementById","qsa","compilerCache","rbuggyQSA","rcssescape","fcssescape","toSelector","rsibling","testContext","qsaError","createCache","Expr","cacheLength","markFunction","assert","addHandle","attrHandle","siblingCheck","sourceIndex","createInputPseudo","createButtonPseudo","createDisabledPseudo","isDisabled","disabledAncestor","createPositionalPseudo","argument","matchIndexes","setFilters","addCombinator","checkNonElements","doneName","xml","oldCache","uniqueCache","outerCache","newCache","dirruns","uniqueID","elementMatcher","matchers","multipleContexts","contexts","condense","unmatched","newUnmatched","setMatcher","preFilter","postFilter","postFinder","postSelector","preMap","postMap","preexisting","matcherIn","matcherOut","matcherFromTokens","checkContext","leadingRelative","implicitRelative","matchContext","matchAnyContext","outermostContext","matcherFromGroupMatchers","elementMatchers","setMatchers","bySet","byElement","superMatcher","outermost","matchedCount","setMatched","contextBackup","dirrunsUnique","getText","isXML","compile","sortInput","hasDuplicate","rbuggyMatches","classCache","tokenCache","sortOrder","push_native","booleans","whitespace","identifier","attributes","rwhitespace","rcomma","rcombinators","rattributeQuotes","rpseudo","ridentifier","matchExpr","ID","CLASS","TAG","ATTR","PSEUDO","CHILD","needsContext","rinputs","rheader","rnative","runescape","funescape","escapedWhitespace","high","asCodePoint","unloadHandler","hasCompare","subWindow","createComment","getById","getElementsByName","attrId","getAttributeNode","matchesSelector","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","msMatchesSelector","disconnectedMatch","compareDocumentPosition","adown","bup","compare","sortDetached","aup","ap","bp","specified","escape","duplicates","detectDuplicates","sortStable","selectors","createPseudo",">"," ","+","~","excess","unquoted","nodeNameSelector","simple","ofType","nodeIndex","useCache","has","innerText","lang","elemLang","selectedIndex","even","odd","lt","gt","radio","checkbox","image","filters","parseOnly","soFar","preFilters","cached","compiled","isXMLDoc","escapeSelector","until","truncate","siblings","rneedsContext","rsingleTag","rootjQuery","parseHTML","rparentsprev","guaranteedUnique","targets","prevAll","parentsUntil","nextAll","nextUntil","prevUntil","contentDocument","firing","memory","fired","locked","firingIndex","once","stopOnFalse","lock","fireWith","onFulfilled","onRejected","onProgress","mightThrow","maxDepth","TypeError","process","exceptionHook","stackTrace","getStackHook","stateString","singleValue","resolveContexts","resolveValues","master","updateFunc","rerrorNames","readyList","readyWait","holdReady","hold","wait","chainable","emptyGet","bulk","acceptData","owner","_data","_removeData","dequeue","startLength","setter","clearQueue","pnum","hide","colgroup","caption","noCloneChecked","rkeyEvent","rmouseEvent","rtypenamespace","handleObjIn","eventHandle","handleObj","namespaces","origType","elemData","triggered","delegateType","bindType","delegateCount","mappedTypes","origCount","removeEvent","nativeEvent","handlerQueue","delegateTarget","preDispatch","isPropagationStopped","currentTarget","isImmediatePropagationStopped","rnamespace","postDispatch","Event","writable","noBubble","beforeunload","isDefaultPrevented","relatedTarget","timeStamp","isSimulated","stopImmediatePropagation","bubbles","cancelable","changedTouches","eventPhase","char","pointerId","pointerType","screenX","screenY","targetTouches","toElement","mouseenter","mouseleave","pointerenter","pointerleave","related","rxhtmlTag","rnoInnerhtml","dataAndEvents","deepDataAndEvents","srcElements","destElements","inPage","prepend","prependTo","opener","computeStyleTests","divStyle","pixelPositionVal","reliableMarginLeftVal","boxSizingReliableVal","marginRight","pixelMarginRightVal","backgroundClip","clearCloneStyle","pixelPosition","reliableMarginLeft","rdisplayswap","cssShow","cssNormalTransform","letterSpacing","fontWeight","animationIterationCount","columnCount","fillOpacity","flexGrow","flexShrink","orphans","widows","zoom","cssProps","float","origName","isFinite","suffix","expanded","propHooks","eased","linear","swing","cos","PI","rrun","tweener","prefilter","speed","speeds","fadeTo","optall","doAnimation","stopQueue","cssFn","slideDown","slideUp","slideToggle","fadeIn","fadeOut","fadeToggle","cancelAnimationFrame","slow","fast","timeout","checkOn","optSelected","radioValue","boolHook","nType","attrHooks","attrNames","getter","lowercaseName","rfocusable","rclickable","removeProp","propFix","rclass","curValue","clazz","finalValue","stateVal","classNames","hasClass","rreturn","rspaces","valHooks","optionSet","rfocusMorph","onlyHandlers","bubbleType","ontype","eventPath","isTrigger","parentWindow","simulate","hover","fnOver","fnOut","focusin","attaches","nonce","rquery","parseXML","DOMParser","parseFromString","rCRLF","rsubmitterTypes","rsubmittable","valueOrFunction","encodeURIComponent","serialize","serializeArray","r20","rhash","rts","rheaders","rlocalProtocol","rnoContent","rprotocol","allTypes","originAnchor","lastModified","etag","isLocal","protocol","processData","accepts","* text","text html","text json","text xml","ajaxSetup","ajaxPrefilter","ajaxTransport","nativeStatusText","headers","modified","statusText","timeoutTimer","transport","responseHeadersString","ifModified","cacheURL","callbackContext","statusCode","fireGlobals","globalEventContext","completeDeferred","responseHeaders","urlAnchor","uncached","requestHeaders","requestHeadersNames","strAbort","getAllResponseHeaders","setRequestHeader","overrideMimeType","finalText","crossDomain","hasContent","beforeSend","send","getJSON","getScript","throws","wrapAll","firstElementChild","wrapInner","unwrap","XMLHttpRequest","xhrSuccessStatus","1223","xhrSupported","cors","errorCallback","open","username","xhrFields","onerror","onabort","onreadystatechange","responseType","binary","text script","charset","scriptCharset","evt","oldCallbacks","rjsonp","jsonp","jsonpCallback","originalSettings","callbackName","overwritten","responseContainer","jsonProp","createHTMLDocument","implementation","keepScripts","parsed","animated","setOffset","curPosition","curLeft","curCSSTop","curTop","curOffset","curCSSLeft","calculatePosition","curElem","using","win","clientTop","offsetParent","parentOffset","Height","Width","","defaultExtra","funcName","_jQuery","_$","noConflict","_interopRequireDefault","__esModule","_classCallCheck","Constructor","_createClass","defineProperties","descriptor","protoProps","staticProps","_jquery","_jquery2","_outputFormatter","_outputFormatter2","_loading","_loading2","_artisan","_artisan2","_default2","_help","_help2","_mysql","_mysql2","_tinker","_tinker2","_vi","_vi2","Terminal","_this","$element","$term","assign","formatter","serverInfo","_command","_this2","hostname","os","question","path","basePath","_this3","includes","forEach","_this4","Promise","toBoolean","./commands/artisan","./commands/default","./commands/help","./commands/mysql","./commands/tinker","./commands/vi","./jquery","./loading","./output-formatter","./polyfill","jquery-mousewheel","jquery.terminal","jquery.terminal/js/unix_formatting","21","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","setPrototypeOf","__proto__","_get","receiver","Function","getOwnPropertyDescriptor","_command2","Artisan","_Command","api","environment","confirmToProceed","addslashes","./command","22","Command","requestId","makeRequest","endPoint","X-CSRF-TOKEN","csrfToken","jqXhr","errorThrown","../jquery","../polyfill","23","Default","24","Help","helpInfo","25","Mysql","26","Tinker","_codemirror","_codemirror2","Vi","editor","stringify","quit","codemirror","codemirror/addon/dialog/dialog","codemirror/addon/display/fullscreen","codemirror/addon/edit/matchbrackets","codemirror/addon/mode/loadmode","codemirror/addon/search/searchcursor","codemirror/keymap/vim","codemirror/mode/clike/clike","codemirror/mode/css/css","codemirror/mode/htmlmixed/htmlmixed","codemirror/mode/javascript/javascript","codemirror/mode/meta","codemirror/mode/php/php","codemirror/mode/xml/xml","28","jquery-migrate","29","Loading","intervalId","OutputFormatterStyle","foreground","colorList","backgroundList","getColor","OutputFormatter","_len","_key","_Promise"],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n// Open simple dialogs on top of an editor. Relies on dialog.css.\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  function dialogDiv(cm, template, bottom) {\n    var wrap = cm.getWrapperElement();\n    var dialog;\n    dialog = wrap.appendChild(document.createElement(\"div\"));\n    if (bottom)\n      dialog.className = \"CodeMirror-dialog CodeMirror-dialog-bottom\";\n    else\n      dialog.className = \"CodeMirror-dialog CodeMirror-dialog-top\";\n\n    if (typeof template == \"string\") {\n      dialog.innerHTML = template;\n    } else { // Assuming it's a detached DOM element.\n      dialog.appendChild(template);\n    }\n    return dialog;\n  }\n\n  function closeNotification(cm, newVal) {\n    if (cm.state.currentNotificationClose)\n      cm.state.currentNotificationClose();\n    cm.state.currentNotificationClose = newVal;\n  }\n\n  CodeMirror.defineExtension(\"openDialog\", function(template, callback, options) {\n    if (!options) options = {};\n\n    closeNotification(this, null);\n\n    var dialog = dialogDiv(this, template, options.bottom);\n    var closed = false, me = this;\n    function close(newVal) {\n      if (typeof newVal == 'string') {\n        inp.value = newVal;\n      } else {\n        if (closed) return;\n        closed = true;\n        dialog.parentNode.removeChild(dialog);\n        me.focus();\n\n        if (options.onClose) options.onClose(dialog);\n      }\n    }\n\n    var inp = dialog.getElementsByTagName(\"input\")[0], button;\n    if (inp) {\n      inp.focus();\n\n      if (options.value) {\n        inp.value = options.value;\n        if (options.selectValueOnOpen !== false) {\n          inp.select();\n        }\n      }\n\n      if (options.onInput)\n        CodeMirror.on(inp, \"input\", function(e) { options.onInput(e, inp.value, close);});\n      if (options.onKeyUp)\n        CodeMirror.on(inp, \"keyup\", function(e) {options.onKeyUp(e, inp.value, close);});\n\n      CodeMirror.on(inp, \"keydown\", function(e) {\n        if (options && options.onKeyDown && options.onKeyDown(e, inp.value, close)) { return; }\n        if (e.keyCode == 27 || (options.closeOnEnter !== false && e.keyCode == 13)) {\n          inp.blur();\n          CodeMirror.e_stop(e);\n          close();\n        }\n        if (e.keyCode == 13) callback(inp.value, e);\n      });\n\n      if (options.closeOnBlur !== false) CodeMirror.on(inp, \"blur\", close);\n    } else if (button = dialog.getElementsByTagName(\"button\")[0]) {\n      CodeMirror.on(button, \"click\", function() {\n        close();\n        me.focus();\n      });\n\n      if (options.closeOnBlur !== false) CodeMirror.on(button, \"blur\", close);\n\n      button.focus();\n    }\n    return close;\n  });\n\n  CodeMirror.defineExtension(\"openConfirm\", function(template, callbacks, options) {\n    closeNotification(this, null);\n    var dialog = dialogDiv(this, template, options && options.bottom);\n    var buttons = dialog.getElementsByTagName(\"button\");\n    var closed = false, me = this, blurring = 1;\n    function close() {\n      if (closed) return;\n      closed = true;\n      dialog.parentNode.removeChild(dialog);\n      me.focus();\n    }\n    buttons[0].focus();\n    for (var i = 0; i < buttons.length; ++i) {\n      var b = buttons[i];\n      (function(callback) {\n        CodeMirror.on(b, \"click\", function(e) {\n          CodeMirror.e_preventDefault(e);\n          close();\n          if (callback) callback(me);\n        });\n      })(callbacks[i]);\n      CodeMirror.on(b, \"blur\", function() {\n        --blurring;\n        setTimeout(function() { if (blurring <= 0) close(); }, 200);\n      });\n      CodeMirror.on(b, \"focus\", function() { ++blurring; });\n    }\n  });\n\n  /*\n   * openNotification\n   * Opens a notification, that can be closed with an optional timer\n   * (default 5000ms timer) and always closes on click.\n   *\n   * If a notification is opened while another is opened, it will close the\n   * currently opened one and open the new one immediately.\n   */\n  CodeMirror.defineExtension(\"openNotification\", function(template, options) {\n    closeNotification(this, close);\n    var dialog = dialogDiv(this, template, options && options.bottom);\n    var closed = false, doneTimer;\n    var duration = options && typeof options.duration !== \"undefined\" ? options.duration : 5000;\n\n    function close() {\n      if (closed) return;\n      closed = true;\n      clearTimeout(doneTimer);\n      dialog.parentNode.removeChild(dialog);\n    }\n\n    CodeMirror.on(dialog, 'click', function(e) {\n      CodeMirror.e_preventDefault(e);\n      close();\n    });\n\n    if (duration)\n      doneTimer = setTimeout(close, duration);\n\n    return close;\n  });\n});\n\n},{\"../../lib/codemirror\":7}],2:[function(require,module,exports){\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineOption(\"fullScreen\", false, function(cm, val, old) {\n    if (old == CodeMirror.Init) old = false;\n    if (!old == !val) return;\n    if (val) setFullscreen(cm);\n    else setNormal(cm);\n  });\n\n  function setFullscreen(cm) {\n    var wrap = cm.getWrapperElement();\n    cm.state.fullScreenRestore = {scrollTop: window.pageYOffset, scrollLeft: window.pageXOffset,\n                                  width: wrap.style.width, height: wrap.style.height};\n    wrap.style.width = \"\";\n    wrap.style.height = \"auto\";\n    wrap.className += \" CodeMirror-fullscreen\";\n    document.documentElement.style.overflow = \"hidden\";\n    cm.refresh();\n  }\n\n  function setNormal(cm) {\n    var wrap = cm.getWrapperElement();\n    wrap.className = wrap.className.replace(/\\s*CodeMirror-fullscreen\\b/, \"\");\n    document.documentElement.style.overflow = \"\";\n    var info = cm.state.fullScreenRestore;\n    wrap.style.width = info.width; wrap.style.height = info.height;\n    window.scrollTo(info.scrollLeft, info.scrollTop);\n    cm.refresh();\n  }\n});\n\n},{\"../../lib/codemirror\":7}],3:[function(require,module,exports){\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  var ie_lt8 = /MSIE \\d/.test(navigator.userAgent) &&\n    (document.documentMode == null || document.documentMode < 8);\n\n  var Pos = CodeMirror.Pos;\n\n  var matching = {\"(\": \")>\", \")\": \"(<\", \"[\": \"]>\", \"]\": \"[<\", \"{\": \"}>\", \"}\": \"{<\"};\n\n  function findMatchingBracket(cm, where, strict, config) {\n    var line = cm.getLineHandle(where.line), pos = where.ch - 1;\n    var match = (pos >= 0 && matching[line.text.charAt(pos)]) || matching[line.text.charAt(++pos)];\n    if (!match) return null;\n    var dir = match.charAt(1) == \">\" ? 1 : -1;\n    if (strict && (dir > 0) != (pos == where.ch)) return null;\n    var style = cm.getTokenTypeAt(Pos(where.line, pos + 1));\n\n    var found = scanForBracket(cm, Pos(where.line, pos + (dir > 0 ? 1 : 0)), dir, style || null, config);\n    if (found == null) return null;\n    return {from: Pos(where.line, pos), to: found && found.pos,\n            match: found && found.ch == match.charAt(0), forward: dir > 0};\n  }\n\n  // bracketRegex is used to specify which type of bracket to scan\n  // should be a regexp, e.g. /[[\\]]/\n  //\n  // Note: If \"where\" is on an open bracket, then this bracket is ignored.\n  //\n  // Returns false when no bracket was found, null when it reached\n  // maxScanLines and gave up\n  function scanForBracket(cm, where, dir, style, config) {\n    var maxScanLen = (config && config.maxScanLineLength) || 10000;\n    var maxScanLines = (config && config.maxScanLines) || 1000;\n\n    var stack = [];\n    var re = config && config.bracketRegex ? config.bracketRegex : /[(){}[\\]]/;\n    var lineEnd = dir > 0 ? Math.min(where.line + maxScanLines, cm.lastLine() + 1)\n                          : Math.max(cm.firstLine() - 1, where.line - maxScanLines);\n    for (var lineNo = where.line; lineNo != lineEnd; lineNo += dir) {\n      var line = cm.getLine(lineNo);\n      if (!line) continue;\n      var pos = dir > 0 ? 0 : line.length - 1, end = dir > 0 ? line.length : -1;\n      if (line.length > maxScanLen) continue;\n      if (lineNo == where.line) pos = where.ch - (dir < 0 ? 1 : 0);\n      for (; pos != end; pos += dir) {\n        var ch = line.charAt(pos);\n        if (re.test(ch) && (style === undefined || cm.getTokenTypeAt(Pos(lineNo, pos + 1)) == style)) {\n          var match = matching[ch];\n          if ((match.charAt(1) == \">\") == (dir > 0)) stack.push(ch);\n          else if (!stack.length) return {pos: Pos(lineNo, pos), ch: ch};\n          else stack.pop();\n        }\n      }\n    }\n    return lineNo - dir == (dir > 0 ? cm.lastLine() : cm.firstLine()) ? false : null;\n  }\n\n  function matchBrackets(cm, autoclear, config) {\n    // Disable brace matching in long lines, since it'll cause hugely slow updates\n    var maxHighlightLen = cm.state.matchBrackets.maxHighlightLineLength || 1000;\n    var marks = [], ranges = cm.listSelections();\n    for (var i = 0; i < ranges.length; i++) {\n      var match = ranges[i].empty() && findMatchingBracket(cm, ranges[i].head, false, config);\n      if (match && cm.getLine(match.from.line).length <= maxHighlightLen) {\n        var style = match.match ? \"CodeMirror-matchingbracket\" : \"CodeMirror-nonmatchingbracket\";\n        marks.push(cm.markText(match.from, Pos(match.from.line, match.from.ch + 1), {className: style}));\n        if (match.to && cm.getLine(match.to.line).length <= maxHighlightLen)\n          marks.push(cm.markText(match.to, Pos(match.to.line, match.to.ch + 1), {className: style}));\n      }\n    }\n\n    if (marks.length) {\n      // Kludge to work around the IE bug from issue #1193, where text\n      // input stops going to the textare whever this fires.\n      if (ie_lt8 && cm.state.focused) cm.focus();\n\n      var clear = function() {\n        cm.operation(function() {\n          for (var i = 0; i < marks.length; i++) marks[i].clear();\n        });\n      };\n      if (autoclear) setTimeout(clear, 800);\n      else return clear;\n    }\n  }\n\n  var currentlyHighlighted = null;\n  function doMatchBrackets(cm) {\n    cm.operation(function() {\n      if (currentlyHighlighted) {currentlyHighlighted(); currentlyHighlighted = null;}\n      currentlyHighlighted = matchBrackets(cm, false, cm.state.matchBrackets);\n    });\n  }\n\n  CodeMirror.defineOption(\"matchBrackets\", false, function(cm, val, old) {\n    if (old && old != CodeMirror.Init)\n      cm.off(\"cursorActivity\", doMatchBrackets);\n    if (val) {\n      cm.state.matchBrackets = typeof val == \"object\" ? val : {};\n      cm.on(\"cursorActivity\", doMatchBrackets);\n    }\n  });\n\n  CodeMirror.defineExtension(\"matchBrackets\", function() {matchBrackets(this, true);});\n  CodeMirror.defineExtension(\"findMatchingBracket\", function(pos, strict, config){\n    return findMatchingBracket(this, pos, strict, config);\n  });\n  CodeMirror.defineExtension(\"scanForBracket\", function(pos, dir, style, config){\n    return scanForBracket(this, pos, dir, style, config);\n  });\n});\n\n},{\"../../lib/codemirror\":7}],4:[function(require,module,exports){\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), \"cjs\");\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], function(CM) { mod(CM, \"amd\"); });\n  else // Plain browser env\n    mod(CodeMirror, \"plain\");\n})(function(CodeMirror, env) {\n  if (!CodeMirror.modeURL) CodeMirror.modeURL = \"../mode/%N/%N.js\";\n\n  var loading = {};\n  function splitCallback(cont, n) {\n    var countDown = n;\n    return function() { if (--countDown == 0) cont(); };\n  }\n  function ensureDeps(mode, cont) {\n    var deps = CodeMirror.modes[mode].dependencies;\n    if (!deps) return cont();\n    var missing = [];\n    for (var i = 0; i < deps.length; ++i) {\n      if (!CodeMirror.modes.hasOwnProperty(deps[i]))\n        missing.push(deps[i]);\n    }\n    if (!missing.length) return cont();\n    var split = splitCallback(cont, missing.length);\n    for (var i = 0; i < missing.length; ++i)\n      CodeMirror.requireMode(missing[i], split);\n  }\n\n  CodeMirror.requireMode = function(mode, cont) {\n    if (typeof mode != \"string\") mode = mode.name;\n    if (CodeMirror.modes.hasOwnProperty(mode)) return ensureDeps(mode, cont);\n    if (loading.hasOwnProperty(mode)) return loading[mode].push(cont);\n\n    var file = CodeMirror.modeURL.replace(/%N/g, mode);\n    if (env == \"plain\") {\n      var script = document.createElement(\"script\");\n      script.src = file;\n      var others = document.getElementsByTagName(\"script\")[0];\n      var list = loading[mode] = [cont];\n      CodeMirror.on(script, \"load\", function() {\n        ensureDeps(mode, function() {\n          for (var i = 0; i < list.length; ++i) list[i]();\n        });\n      });\n      others.parentNode.insertBefore(script, others);\n    } else if (env == \"cjs\") {\n      require(file);\n      cont();\n    } else if (env == \"amd\") {\n      requirejs([file], cont);\n    }\n  };\n\n  CodeMirror.autoLoadMode = function(instance, mode) {\n    if (!CodeMirror.modes.hasOwnProperty(mode))\n      CodeMirror.requireMode(mode, function() {\n        instance.setOption(\"mode\", instance.getOption(\"mode\"));\n      });\n  };\n});\n\n},{\"../../lib/codemirror\":7}],5:[function(require,module,exports){\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n  var Pos = CodeMirror.Pos;\n\n  function SearchCursor(doc, query, pos, caseFold) {\n    this.atOccurrence = false; this.doc = doc;\n    if (caseFold == null && typeof query == \"string\") caseFold = false;\n\n    pos = pos ? doc.clipPos(pos) : Pos(0, 0);\n    this.pos = {from: pos, to: pos};\n\n    // The matches method is filled in based on the type of query.\n    // It takes a position and a direction, and returns an object\n    // describing the next occurrence of the query, or null if no\n    // more matches were found.\n    if (typeof query != \"string\") { // Regexp match\n      if (!query.global) query = new RegExp(query.source, query.ignoreCase ? \"ig\" : \"g\");\n      this.matches = function(reverse, pos) {\n        if (reverse) {\n          query.lastIndex = 0;\n          var line = doc.getLine(pos.line).slice(0, pos.ch), cutOff = 0, match, start;\n          for (;;) {\n            query.lastIndex = cutOff;\n            var newMatch = query.exec(line);\n            if (!newMatch) break;\n            match = newMatch;\n            start = match.index;\n            cutOff = match.index + (match[0].length || 1);\n            if (cutOff == line.length) break;\n          }\n          var matchLen = (match && match[0].length) || 0;\n          if (!matchLen) {\n            if (start == 0 && line.length == 0) {match = undefined;}\n            else if (start != doc.getLine(pos.line).length) {\n              matchLen++;\n            }\n          }\n        } else {\n          query.lastIndex = pos.ch;\n          var line = doc.getLine(pos.line), match = query.exec(line);\n          var matchLen = (match && match[0].length) || 0;\n          var start = match && match.index;\n          if (start + matchLen != line.length && !matchLen) matchLen = 1;\n        }\n        if (match && matchLen)\n          return {from: Pos(pos.line, start),\n                  to: Pos(pos.line, start + matchLen),\n                  match: match};\n      };\n    } else { // String query\n      var origQuery = query;\n      if (caseFold) query = query.toLowerCase();\n      var fold = caseFold ? function(str){return str.toLowerCase();} : function(str){return str;};\n      var target = query.split(\"\\n\");\n      // Different methods for single-line and multi-line queries\n      if (target.length == 1) {\n        if (!query.length) {\n          // Empty string would match anything and never progress, so\n          // we define it to match nothing instead.\n          this.matches = function() {};\n        } else {\n          this.matches = function(reverse, pos) {\n            if (reverse) {\n              var orig = doc.getLine(pos.line).slice(0, pos.ch), line = fold(orig);\n              var match = line.lastIndexOf(query);\n              if (match > -1) {\n                match = adjustPos(orig, line, match);\n                return {from: Pos(pos.line, match), to: Pos(pos.line, match + origQuery.length)};\n              }\n             } else {\n               var orig = doc.getLine(pos.line).slice(pos.ch), line = fold(orig);\n               var match = line.indexOf(query);\n               if (match > -1) {\n                 match = adjustPos(orig, line, match) + pos.ch;\n                 return {from: Pos(pos.line, match), to: Pos(pos.line, match + origQuery.length)};\n               }\n            }\n          };\n        }\n      } else {\n        var origTarget = origQuery.split(\"\\n\");\n        this.matches = function(reverse, pos) {\n          var last = target.length - 1;\n          if (reverse) {\n            if (pos.line - (target.length - 1) < doc.firstLine()) return;\n            if (fold(doc.getLine(pos.line).slice(0, origTarget[last].length)) != target[target.length - 1]) return;\n            var to = Pos(pos.line, origTarget[last].length);\n            for (var ln = pos.line - 1, i = last - 1; i >= 1; --i, --ln)\n              if (target[i] != fold(doc.getLine(ln))) return;\n            var line = doc.getLine(ln), cut = line.length - origTarget[0].length;\n            if (fold(line.slice(cut)) != target[0]) return;\n            return {from: Pos(ln, cut), to: to};\n          } else {\n            if (pos.line + (target.length - 1) > doc.lastLine()) return;\n            var line = doc.getLine(pos.line), cut = line.length - origTarget[0].length;\n            if (fold(line.slice(cut)) != target[0]) return;\n            var from = Pos(pos.line, cut);\n            for (var ln = pos.line + 1, i = 1; i < last; ++i, ++ln)\n              if (target[i] != fold(doc.getLine(ln))) return;\n            if (fold(doc.getLine(ln).slice(0, origTarget[last].length)) != target[last]) return;\n            return {from: from, to: Pos(ln, origTarget[last].length)};\n          }\n        };\n      }\n    }\n  }\n\n  SearchCursor.prototype = {\n    findNext: function() {return this.find(false);},\n    findPrevious: function() {return this.find(true);},\n\n    find: function(reverse) {\n      var self = this, pos = this.doc.clipPos(reverse ? this.pos.from : this.pos.to);\n      function savePosAndFail(line) {\n        var pos = Pos(line, 0);\n        self.pos = {from: pos, to: pos};\n        self.atOccurrence = false;\n        return false;\n      }\n\n      for (;;) {\n        if (this.pos = this.matches(reverse, pos)) {\n          this.atOccurrence = true;\n          return this.pos.match || true;\n        }\n        if (reverse) {\n          if (!pos.line) return savePosAndFail(0);\n          pos = Pos(pos.line-1, this.doc.getLine(pos.line-1).length);\n        }\n        else {\n          var maxLine = this.doc.lineCount();\n          if (pos.line == maxLine - 1) return savePosAndFail(maxLine);\n          pos = Pos(pos.line + 1, 0);\n        }\n      }\n    },\n\n    from: function() {if (this.atOccurrence) return this.pos.from;},\n    to: function() {if (this.atOccurrence) return this.pos.to;},\n\n    replace: function(newText, origin) {\n      if (!this.atOccurrence) return;\n      var lines = CodeMirror.splitLines(newText);\n      this.doc.replaceRange(lines, this.pos.from, this.pos.to, origin);\n      this.pos.to = Pos(this.pos.from.line + lines.length - 1,\n                        lines[lines.length - 1].length + (lines.length == 1 ? this.pos.from.ch : 0));\n    }\n  };\n\n  // Maps a position in a case-folded line back to a position in the original line\n  // (compensating for codepoints increasing in number during folding)\n  function adjustPos(orig, folded, pos) {\n    if (orig.length == folded.length) return pos;\n    for (var pos1 = Math.min(pos, orig.length);;) {\n      var len1 = orig.slice(0, pos1).toLowerCase().length;\n      if (len1 < pos) ++pos1;\n      else if (len1 > pos) --pos1;\n      else return pos1;\n    }\n  }\n\n  CodeMirror.defineExtension(\"getSearchCursor\", function(query, pos, caseFold) {\n    return new SearchCursor(this.doc, query, pos, caseFold);\n  });\n  CodeMirror.defineDocExtension(\"getSearchCursor\", function(query, pos, caseFold) {\n    return new SearchCursor(this, query, pos, caseFold);\n  });\n\n  CodeMirror.defineExtension(\"selectMatches\", function(query, caseFold) {\n    var ranges = [];\n    var cur = this.getSearchCursor(query, this.getCursor(\"from\"), caseFold);\n    while (cur.findNext()) {\n      if (CodeMirror.cmpPos(cur.to(), this.getCursor(\"to\")) > 0) break;\n      ranges.push({anchor: cur.from(), head: cur.to()});\n    }\n    if (ranges.length)\n      this.setSelections(ranges, 0);\n  });\n});\n\n},{\"../../lib/codemirror\":7}],6:[function(require,module,exports){\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n/**\n * Supported keybindings:\n *   Too many to list. Refer to defaultKeyMap below.\n *\n * Supported Ex commands:\n *   Refer to defaultExCommandMap below.\n *\n * Registers: unnamed, -, a-z, A-Z, 0-9\n *   (Does not respect the special case for number registers when delete\n *    operator is made with these commands: %, (, ),  , /, ?, n, N, {, } )\n *   TODO: Implement the remaining registers.\n *\n * Marks: a-z, A-Z, and 0-9\n *   TODO: Implement the remaining special marks. They have more complex\n *       behavior.\n *\n * Events:\n *  'vim-mode-change' - raised on the editor anytime the current mode changes,\n *                      Event object: {mode: \"visual\", subMode: \"linewise\"}\n *\n * Code structure:\n *  1. Default keymap\n *  2. Variable declarations and short basic helpers\n *  3. Instance (External API) implementation\n *  4. Internal state tracking objects (input state, counter) implementation\n *     and instantiation\n *  5. Key handler (the main command dispatcher) implementation\n *  6. Motion, operator, and action implementations\n *  7. Helper functions for the key handler, motions, operators, and actions\n *  8. Set up Vim to work as a keymap for CodeMirror.\n *  9. Ex command implementations.\n */\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../lib/codemirror\"), require(\"../addon/search/searchcursor\"), require(\"../addon/dialog/dialog\"), require(\"../addon/edit/matchbrackets.js\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../lib/codemirror\", \"../addon/search/searchcursor\", \"../addon/dialog/dialog\", \"../addon/edit/matchbrackets\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  'use strict';\n\n  var defaultKeymap = [\n    // Key to key mapping. This goes first to make it possible to override\n    // existing mappings.\n    { keys: '<Left>', type: 'keyToKey', toKeys: 'h' },\n    { keys: '<Right>', type: 'keyToKey', toKeys: 'l' },\n    { keys: '<Up>', type: 'keyToKey', toKeys: 'k' },\n    { keys: '<Down>', type: 'keyToKey', toKeys: 'j' },\n    { keys: '<Space>', type: 'keyToKey', toKeys: 'l' },\n    { keys: '<BS>', type: 'keyToKey', toKeys: 'h', context: 'normal'},\n    { keys: '<C-Space>', type: 'keyToKey', toKeys: 'W' },\n    { keys: '<C-BS>', type: 'keyToKey', toKeys: 'B', context: 'normal' },\n    { keys: '<S-Space>', type: 'keyToKey', toKeys: 'w' },\n    { keys: '<S-BS>', type: 'keyToKey', toKeys: 'b', context: 'normal' },\n    { keys: '<C-n>', type: 'keyToKey', toKeys: 'j' },\n    { keys: '<C-p>', type: 'keyToKey', toKeys: 'k' },\n    { keys: '<C-[>', type: 'keyToKey', toKeys: '<Esc>' },\n    { keys: '<C-c>', type: 'keyToKey', toKeys: '<Esc>' },\n    { keys: '<C-[>', type: 'keyToKey', toKeys: '<Esc>', context: 'insert' },\n    { keys: '<C-c>', type: 'keyToKey', toKeys: '<Esc>', context: 'insert' },\n    { keys: 's', type: 'keyToKey', toKeys: 'cl', context: 'normal' },\n    { keys: 's', type: 'keyToKey', toKeys: 'c', context: 'visual'},\n    { keys: 'S', type: 'keyToKey', toKeys: 'cc', context: 'normal' },\n    { keys: 'S', type: 'keyToKey', toKeys: 'VdO', context: 'visual' },\n    { keys: '<Home>', type: 'keyToKey', toKeys: '0' },\n    { keys: '<End>', type: 'keyToKey', toKeys: '$' },\n    { keys: '<PageUp>', type: 'keyToKey', toKeys: '<C-b>' },\n    { keys: '<PageDown>', type: 'keyToKey', toKeys: '<C-f>' },\n    { keys: '<CR>', type: 'keyToKey', toKeys: 'j^', context: 'normal' },\n    // Motions\n    { keys: 'H', type: 'motion', motion: 'moveToTopLine', motionArgs: { linewise: true, toJumplist: true }},\n    { keys: 'M', type: 'motion', motion: 'moveToMiddleLine', motionArgs: { linewise: true, toJumplist: true }},\n    { keys: 'L', type: 'motion', motion: 'moveToBottomLine', motionArgs: { linewise: true, toJumplist: true }},\n    { keys: 'h', type: 'motion', motion: 'moveByCharacters', motionArgs: { forward: false }},\n    { keys: 'l', type: 'motion', motion: 'moveByCharacters', motionArgs: { forward: true }},\n    { keys: 'j', type: 'motion', motion: 'moveByLines', motionArgs: { forward: true, linewise: true }},\n    { keys: 'k', type: 'motion', motion: 'moveByLines', motionArgs: { forward: false, linewise: true }},\n    { keys: 'gj', type: 'motion', motion: 'moveByDisplayLines', motionArgs: { forward: true }},\n    { keys: 'gk', type: 'motion', motion: 'moveByDisplayLines', motionArgs: { forward: false }},\n    { keys: 'w', type: 'motion', motion: 'moveByWords', motionArgs: { forward: true, wordEnd: false }},\n    { keys: 'W', type: 'motion', motion: 'moveByWords', motionArgs: { forward: true, wordEnd: false, bigWord: true }},\n    { keys: 'e', type: 'motion', motion: 'moveByWords', motionArgs: { forward: true, wordEnd: true, inclusive: true }},\n    { keys: 'E', type: 'motion', motion: 'moveByWords', motionArgs: { forward: true, wordEnd: true, bigWord: true, inclusive: true }},\n    { keys: 'b', type: 'motion', motion: 'moveByWords', motionArgs: { forward: false, wordEnd: false }},\n    { keys: 'B', type: 'motion', motion: 'moveByWords', motionArgs: { forward: false, wordEnd: false, bigWord: true }},\n    { keys: 'ge', type: 'motion', motion: 'moveByWords', motionArgs: { forward: false, wordEnd: true, inclusive: true }},\n    { keys: 'gE', type: 'motion', motion: 'moveByWords', motionArgs: { forward: false, wordEnd: true, bigWord: true, inclusive: true }},\n    { keys: '{', type: 'motion', motion: 'moveByParagraph', motionArgs: { forward: false, toJumplist: true }},\n    { keys: '}', type: 'motion', motion: 'moveByParagraph', motionArgs: { forward: true, toJumplist: true }},\n    { keys: '<C-f>', type: 'motion', motion: 'moveByPage', motionArgs: { forward: true }},\n    { keys: '<C-b>', type: 'motion', motion: 'moveByPage', motionArgs: { forward: false }},\n    { keys: '<C-d>', type: 'motion', motion: 'moveByScroll', motionArgs: { forward: true, explicitRepeat: true }},\n    { keys: '<C-u>', type: 'motion', motion: 'moveByScroll', motionArgs: { forward: false, explicitRepeat: true }},\n    { keys: 'gg', type: 'motion', motion: 'moveToLineOrEdgeOfDocument', motionArgs: { forward: false, explicitRepeat: true, linewise: true, toJumplist: true }},\n    { keys: 'G', type: 'motion', motion: 'moveToLineOrEdgeOfDocument', motionArgs: { forward: true, explicitRepeat: true, linewise: true, toJumplist: true }},\n    { keys: '0', type: 'motion', motion: 'moveToStartOfLine' },\n    { keys: '^', type: 'motion', motion: 'moveToFirstNonWhiteSpaceCharacter' },\n    { keys: '+', type: 'motion', motion: 'moveByLines', motionArgs: { forward: true, toFirstChar:true }},\n    { keys: '-', type: 'motion', motion: 'moveByLines', motionArgs: { forward: false, toFirstChar:true }},\n    { keys: '_', type: 'motion', motion: 'moveByLines', motionArgs: { forward: true, toFirstChar:true, repeatOffset:-1 }},\n    { keys: '$', type: 'motion', motion: 'moveToEol', motionArgs: { inclusive: true }},\n    { keys: '%', type: 'motion', motion: 'moveToMatchedSymbol', motionArgs: { inclusive: true, toJumplist: true }},\n    { keys: 'f<character>', type: 'motion', motion: 'moveToCharacter', motionArgs: { forward: true , inclusive: true }},\n    { keys: 'F<character>', type: 'motion', motion: 'moveToCharacter', motionArgs: { forward: false }},\n    { keys: 't<character>', type: 'motion', motion: 'moveTillCharacter', motionArgs: { forward: true, inclusive: true }},\n    { keys: 'T<character>', type: 'motion', motion: 'moveTillCharacter', motionArgs: { forward: false }},\n    { keys: ';', type: 'motion', motion: 'repeatLastCharacterSearch', motionArgs: { forward: true }},\n    { keys: ',', type: 'motion', motion: 'repeatLastCharacterSearch', motionArgs: { forward: false }},\n    { keys: '\\'<character>', type: 'motion', motion: 'goToMark', motionArgs: {toJumplist: true, linewise: true}},\n    { keys: '`<character>', type: 'motion', motion: 'goToMark', motionArgs: {toJumplist: true}},\n    { keys: ']`', type: 'motion', motion: 'jumpToMark', motionArgs: { forward: true } },\n    { keys: '[`', type: 'motion', motion: 'jumpToMark', motionArgs: { forward: false } },\n    { keys: ']\\'', type: 'motion', motion: 'jumpToMark', motionArgs: { forward: true, linewise: true } },\n    { keys: '[\\'', type: 'motion', motion: 'jumpToMark', motionArgs: { forward: false, linewise: true } },\n    // the next two aren't motions but must come before more general motion declarations\n    { keys: ']p', type: 'action', action: 'paste', isEdit: true, actionArgs: { after: true, isEdit: true, matchIndent: true}},\n    { keys: '[p', type: 'action', action: 'paste', isEdit: true, actionArgs: { after: false, isEdit: true, matchIndent: true}},\n    { keys: ']<character>', type: 'motion', motion: 'moveToSymbol', motionArgs: { forward: true, toJumplist: true}},\n    { keys: '[<character>', type: 'motion', motion: 'moveToSymbol', motionArgs: { forward: false, toJumplist: true}},\n    { keys: '|', type: 'motion', motion: 'moveToColumn'},\n    { keys: 'o', type: 'motion', motion: 'moveToOtherHighlightedEnd', context:'visual'},\n    { keys: 'O', type: 'motion', motion: 'moveToOtherHighlightedEnd', motionArgs: {sameLine: true}, context:'visual'},\n    // Operators\n    { keys: 'd', type: 'operator', operator: 'delete' },\n    { keys: 'y', type: 'operator', operator: 'yank' },\n    { keys: 'c', type: 'operator', operator: 'change' },\n    { keys: '>', type: 'operator', operator: 'indent', operatorArgs: { indentRight: true }},\n    { keys: '<', type: 'operator', operator: 'indent', operatorArgs: { indentRight: false }},\n    { keys: 'g~', type: 'operator', operator: 'changeCase' },\n    { keys: 'gu', type: 'operator', operator: 'changeCase', operatorArgs: {toLower: true}, isEdit: true },\n    { keys: 'gU', type: 'operator', operator: 'changeCase', operatorArgs: {toLower: false}, isEdit: true },\n    { keys: 'n', type: 'motion', motion: 'findNext', motionArgs: { forward: true, toJumplist: true }},\n    { keys: 'N', type: 'motion', motion: 'findNext', motionArgs: { forward: false, toJumplist: true }},\n    // Operator-Motion dual commands\n    { keys: 'x', type: 'operatorMotion', operator: 'delete', motion: 'moveByCharacters', motionArgs: { forward: true }, operatorMotionArgs: { visualLine: false }},\n    { keys: 'X', type: 'operatorMotion', operator: 'delete', motion: 'moveByCharacters', motionArgs: { forward: false }, operatorMotionArgs: { visualLine: true }},\n    { keys: 'D', type: 'operatorMotion', operator: 'delete', motion: 'moveToEol', motionArgs: { inclusive: true }, context: 'normal'},\n    { keys: 'D', type: 'operator', operator: 'delete', operatorArgs: { linewise: true }, context: 'visual'},\n    { keys: 'Y', type: 'operatorMotion', operator: 'yank', motion: 'moveToEol', motionArgs: { inclusive: true }, context: 'normal'},\n    { keys: 'Y', type: 'operator', operator: 'yank', operatorArgs: { linewise: true }, context: 'visual'},\n    { keys: 'C', type: 'operatorMotion', operator: 'change', motion: 'moveToEol', motionArgs: { inclusive: true }, context: 'normal'},\n    { keys: 'C', type: 'operator', operator: 'change', operatorArgs: { linewise: true }, context: 'visual'},\n    { keys: '~', type: 'operatorMotion', operator: 'changeCase', motion: 'moveByCharacters', motionArgs: { forward: true }, operatorArgs: { shouldMoveCursor: true }, context: 'normal'},\n    { keys: '~', type: 'operator', operator: 'changeCase', context: 'visual'},\n    { keys: '<C-w>', type: 'operatorMotion', operator: 'delete', motion: 'moveByWords', motionArgs: { forward: false, wordEnd: false }, context: 'insert' },\n    // Actions\n    { keys: '<C-i>', type: 'action', action: 'jumpListWalk', actionArgs: { forward: true }},\n    { keys: '<C-o>', type: 'action', action: 'jumpListWalk', actionArgs: { forward: false }},\n    { keys: '<C-e>', type: 'action', action: 'scroll', actionArgs: { forward: true, linewise: true }},\n    { keys: '<C-y>', type: 'action', action: 'scroll', actionArgs: { forward: false, linewise: true }},\n    { keys: 'a', type: 'action', action: 'enterInsertMode', isEdit: true, actionArgs: { insertAt: 'charAfter' }, context: 'normal' },\n    { keys: 'A', type: 'action', action: 'enterInsertMode', isEdit: true, actionArgs: { insertAt: 'eol' }, context: 'normal' },\n    { keys: 'A', type: 'action', action: 'enterInsertMode', isEdit: true, actionArgs: { insertAt: 'endOfSelectedArea' }, context: 'visual' },\n    { keys: 'i', type: 'action', action: 'enterInsertMode', isEdit: true, actionArgs: { insertAt: 'inplace' }, context: 'normal' },\n    { keys: 'I', type: 'action', action: 'enterInsertMode', isEdit: true, actionArgs: { insertAt: 'firstNonBlank'}, context: 'normal' },\n    { keys: 'I', type: 'action', action: 'enterInsertMode', isEdit: true, actionArgs: { insertAt: 'startOfSelectedArea' }, context: 'visual' },\n    { keys: 'o', type: 'action', action: 'newLineAndEnterInsertMode', isEdit: true, interlaceInsertRepeat: true, actionArgs: { after: true }, context: 'normal' },\n    { keys: 'O', type: 'action', action: 'newLineAndEnterInsertMode', isEdit: true, interlaceInsertRepeat: true, actionArgs: { after: false }, context: 'normal' },\n    { keys: 'v', type: 'action', action: 'toggleVisualMode' },\n    { keys: 'V', type: 'action', action: 'toggleVisualMode', actionArgs: { linewise: true }},\n    { keys: '<C-v>', type: 'action', action: 'toggleVisualMode', actionArgs: { blockwise: true }},\n    { keys: '<C-q>', type: 'action', action: 'toggleVisualMode', actionArgs: { blockwise: true }},\n    { keys: 'gv', type: 'action', action: 'reselectLastSelection' },\n    { keys: 'J', type: 'action', action: 'joinLines', isEdit: true },\n    { keys: 'p', type: 'action', action: 'paste', isEdit: true, actionArgs: { after: true, isEdit: true }},\n    { keys: 'P', type: 'action', action: 'paste', isEdit: true, actionArgs: { after: false, isEdit: true }},\n    { keys: 'r<character>', type: 'action', action: 'replace', isEdit: true },\n    { keys: '@<character>', type: 'action', action: 'replayMacro' },\n    { keys: 'q<character>', type: 'action', action: 'enterMacroRecordMode' },\n    // Handle Replace-mode as a special case of insert mode.\n    { keys: 'R', type: 'action', action: 'enterInsertMode', isEdit: true, actionArgs: { replace: true }},\n    { keys: 'u', type: 'action', action: 'undo', context: 'normal' },\n    { keys: 'u', type: 'operator', operator: 'changeCase', operatorArgs: {toLower: true}, context: 'visual', isEdit: true },\n    { keys: 'U', type: 'operator', operator: 'changeCase', operatorArgs: {toLower: false}, context: 'visual', isEdit: true },\n    { keys: '<C-r>', type: 'action', action: 'redo' },\n    { keys: 'm<character>', type: 'action', action: 'setMark' },\n    { keys: '\"<character>', type: 'action', action: 'setRegister' },\n    { keys: 'zz', type: 'action', action: 'scrollToCursor', actionArgs: { position: 'center' }},\n    { keys: 'z.', type: 'action', action: 'scrollToCursor', actionArgs: { position: 'center' }, motion: 'moveToFirstNonWhiteSpaceCharacter' },\n    { keys: 'zt', type: 'action', action: 'scrollToCursor', actionArgs: { position: 'top' }},\n    { keys: 'z<CR>', type: 'action', action: 'scrollToCursor', actionArgs: { position: 'top' }, motion: 'moveToFirstNonWhiteSpaceCharacter' },\n    { keys: 'z-', type: 'action', action: 'scrollToCursor', actionArgs: { position: 'bottom' }},\n    { keys: 'zb', type: 'action', action: 'scrollToCursor', actionArgs: { position: 'bottom' }, motion: 'moveToFirstNonWhiteSpaceCharacter' },\n    { keys: '.', type: 'action', action: 'repeatLastEdit' },\n    { keys: '<C-a>', type: 'action', action: 'incrementNumberToken', isEdit: true, actionArgs: {increase: true, backtrack: false}},\n    { keys: '<C-x>', type: 'action', action: 'incrementNumberToken', isEdit: true, actionArgs: {increase: false, backtrack: false}},\n    // Text object motions\n    { keys: 'a<character>', type: 'motion', motion: 'textObjectManipulation' },\n    { keys: 'i<character>', type: 'motion', motion: 'textObjectManipulation', motionArgs: { textObjectInner: true }},\n    // Search\n    { keys: '/', type: 'search', searchArgs: { forward: true, querySrc: 'prompt', toJumplist: true }},\n    { keys: '?', type: 'search', searchArgs: { forward: false, querySrc: 'prompt', toJumplist: true }},\n    { keys: '*', type: 'search', searchArgs: { forward: true, querySrc: 'wordUnderCursor', wholeWordOnly: true, toJumplist: true }},\n    { keys: '#', type: 'search', searchArgs: { forward: false, querySrc: 'wordUnderCursor', wholeWordOnly: true, toJumplist: true }},\n    { keys: 'g*', type: 'search', searchArgs: { forward: true, querySrc: 'wordUnderCursor', toJumplist: true }},\n    { keys: 'g#', type: 'search', searchArgs: { forward: false, querySrc: 'wordUnderCursor', toJumplist: true }},\n    // Ex command\n    { keys: ':', type: 'ex' }\n  ];\n\n  /**\n   * Ex commands\n   * Care must be taken when adding to the default Ex command map. For any\n   * pair of commands that have a shared prefix, at least one of their\n   * shortNames must not match the prefix of the other command.\n   */\n  var defaultExCommandMap = [\n    { name: 'colorscheme', shortName: 'colo' },\n    { name: 'map' },\n    { name: 'imap', shortName: 'im' },\n    { name: 'nmap', shortName: 'nm' },\n    { name: 'vmap', shortName: 'vm' },\n    { name: 'unmap' },\n    { name: 'write', shortName: 'w' },\n    { name: 'undo', shortName: 'u' },\n    { name: 'redo', shortName: 'red' },\n    { name: 'set', shortName: 'se' },\n    { name: 'set', shortName: 'se' },\n    { name: 'setlocal', shortName: 'setl' },\n    { name: 'setglobal', shortName: 'setg' },\n    { name: 'sort', shortName: 'sor' },\n    { name: 'substitute', shortName: 's', possiblyAsync: true },\n    { name: 'nohlsearch', shortName: 'noh' },\n    { name: 'yank', shortName: 'y' },\n    { name: 'delmarks', shortName: 'delm' },\n    { name: 'registers', shortName: 'reg', excludeFromCommandHistory: true },\n    { name: 'global', shortName: 'g' }\n  ];\n\n  var Pos = CodeMirror.Pos;\n\n  var Vim = function() {\n    function enterVimMode(cm) {\n      cm.setOption('disableInput', true);\n      cm.setOption('showCursorWhenSelecting', false);\n      CodeMirror.signal(cm, \"vim-mode-change\", {mode: \"normal\"});\n      cm.on('cursorActivity', onCursorActivity);\n      maybeInitVimState(cm);\n      CodeMirror.on(cm.getInputField(), 'paste', getOnPasteFn(cm));\n    }\n\n    function leaveVimMode(cm) {\n      cm.setOption('disableInput', false);\n      cm.off('cursorActivity', onCursorActivity);\n      CodeMirror.off(cm.getInputField(), 'paste', getOnPasteFn(cm));\n      cm.state.vim = null;\n    }\n\n    function detachVimMap(cm, next) {\n      if (this == CodeMirror.keyMap.vim)\n        CodeMirror.rmClass(cm.getWrapperElement(), \"cm-fat-cursor\");\n\n      if (!next || next.attach != attachVimMap)\n        leaveVimMode(cm, false);\n    }\n    function attachVimMap(cm, prev) {\n      if (this == CodeMirror.keyMap.vim)\n        CodeMirror.addClass(cm.getWrapperElement(), \"cm-fat-cursor\");\n\n      if (!prev || prev.attach != attachVimMap)\n        enterVimMode(cm);\n    }\n\n    // Deprecated, simply setting the keymap works again.\n    CodeMirror.defineOption('vimMode', false, function(cm, val, prev) {\n      if (val && cm.getOption(\"keyMap\") != \"vim\")\n        cm.setOption(\"keyMap\", \"vim\");\n      else if (!val && prev != CodeMirror.Init && /^vim/.test(cm.getOption(\"keyMap\")))\n        cm.setOption(\"keyMap\", \"default\");\n    });\n\n    function cmKey(key, cm) {\n      if (!cm) { return undefined; }\n      var vimKey = cmKeyToVimKey(key);\n      if (!vimKey) {\n        return false;\n      }\n      var cmd = CodeMirror.Vim.findKey(cm, vimKey);\n      if (typeof cmd == 'function') {\n        CodeMirror.signal(cm, 'vim-keypress', vimKey);\n      }\n      return cmd;\n    }\n\n    var modifiers = {'Shift': 'S', 'Ctrl': 'C', 'Alt': 'A', 'Cmd': 'D', 'Mod': 'A'};\n    var specialKeys = {Enter:'CR',Backspace:'BS',Delete:'Del'};\n    function cmKeyToVimKey(key) {\n      if (key.charAt(0) == '\\'') {\n        // Keypress character binding of format \"'a'\"\n        return key.charAt(1);\n      }\n      var pieces = key.split(/-(?!$)/);\n      var lastPiece = pieces[pieces.length - 1];\n      if (pieces.length == 1 && pieces[0].length == 1) {\n        // No-modifier bindings use literal character bindings above. Skip.\n        return false;\n      } else if (pieces.length == 2 && pieces[0] == 'Shift' && lastPiece.length == 1) {\n        // Ignore Shift+char bindings as they should be handled by literal character.\n        return false;\n      }\n      var hasCharacter = false;\n      for (var i = 0; i < pieces.length; i++) {\n        var piece = pieces[i];\n        if (piece in modifiers) { pieces[i] = modifiers[piece]; }\n        else { hasCharacter = true; }\n        if (piece in specialKeys) { pieces[i] = specialKeys[piece]; }\n      }\n      if (!hasCharacter) {\n        // Vim does not support modifier only keys.\n        return false;\n      }\n      // TODO: Current bindings expect the character to be lower case, but\n      // it looks like vim key notation uses upper case.\n      if (isUpperCase(lastPiece)) {\n        pieces[pieces.length - 1] = lastPiece.toLowerCase();\n      }\n      return '<' + pieces.join('-') + '>';\n    }\n\n    function getOnPasteFn(cm) {\n      var vim = cm.state.vim;\n      if (!vim.onPasteFn) {\n        vim.onPasteFn = function() {\n          if (!vim.insertMode) {\n            cm.setCursor(offsetCursor(cm.getCursor(), 0, 1));\n            actions.enterInsertMode(cm, {}, vim);\n          }\n        };\n      }\n      return vim.onPasteFn;\n    }\n\n    var numberRegex = /[\\d]/;\n    var wordCharTest = [CodeMirror.isWordChar, function(ch) {\n      return ch && !CodeMirror.isWordChar(ch) && !/\\s/.test(ch);\n    }], bigWordCharTest = [function(ch) {\n      return /\\S/.test(ch);\n    }];\n    function makeKeyRange(start, size) {\n      var keys = [];\n      for (var i = start; i < start + size; i++) {\n        keys.push(String.fromCharCode(i));\n      }\n      return keys;\n    }\n    var upperCaseAlphabet = makeKeyRange(65, 26);\n    var lowerCaseAlphabet = makeKeyRange(97, 26);\n    var numbers = makeKeyRange(48, 10);\n    var validMarks = [].concat(upperCaseAlphabet, lowerCaseAlphabet, numbers, ['<', '>']);\n    var validRegisters = [].concat(upperCaseAlphabet, lowerCaseAlphabet, numbers, ['-', '\"', '.', ':', '/']);\n\n    function isLine(cm, line) {\n      return line >= cm.firstLine() && line <= cm.lastLine();\n    }\n    function isLowerCase(k) {\n      return (/^[a-z]$/).test(k);\n    }\n    function isMatchableSymbol(k) {\n      return '()[]{}'.indexOf(k) != -1;\n    }\n    function isNumber(k) {\n      return numberRegex.test(k);\n    }\n    function isUpperCase(k) {\n      return (/^[A-Z]$/).test(k);\n    }\n    function isWhiteSpaceString(k) {\n      return (/^\\s*$/).test(k);\n    }\n    function inArray(val, arr) {\n      for (var i = 0; i < arr.length; i++) {\n        if (arr[i] == val) {\n          return true;\n        }\n      }\n      return false;\n    }\n\n    var options = {};\n    function defineOption(name, defaultValue, type, aliases, callback) {\n      if (defaultValue === undefined && !callback) {\n        throw Error('defaultValue is required unless callback is provided');\n      }\n      if (!type) { type = 'string'; }\n      options[name] = {\n        type: type,\n        defaultValue: defaultValue,\n        callback: callback\n      };\n      if (aliases) {\n        for (var i = 0; i < aliases.length; i++) {\n          options[aliases[i]] = options[name];\n        }\n      }\n      if (defaultValue) {\n        setOption(name, defaultValue);\n      }\n    }\n\n    function setOption(name, value, cm, cfg) {\n      var option = options[name];\n      cfg = cfg || {};\n      var scope = cfg.scope;\n      if (!option) {\n        throw Error('Unknown option: ' + name);\n      }\n      if (option.type == 'boolean') {\n        if (value && value !== true) {\n          throw Error('Invalid argument: ' + name + '=' + value);\n        } else if (value !== false) {\n          // Boolean options are set to true if value is not defined.\n          value = true;\n        }\n      }\n      if (option.callback) {\n        if (scope !== 'local') {\n          option.callback(value, undefined);\n        }\n        if (scope !== 'global' && cm) {\n          option.callback(value, cm);\n        }\n      } else {\n        if (scope !== 'local') {\n          option.value = option.type == 'boolean' ? !!value : value;\n        }\n        if (scope !== 'global' && cm) {\n          cm.state.vim.options[name] = {value: value};\n        }\n      }\n    }\n\n    function getOption(name, cm, cfg) {\n      var option = options[name];\n      cfg = cfg || {};\n      var scope = cfg.scope;\n      if (!option) {\n        throw Error('Unknown option: ' + name);\n      }\n      if (option.callback) {\n        var local = cm && option.callback(undefined, cm);\n        if (scope !== 'global' && local !== undefined) {\n          return local;\n        }\n        if (scope !== 'local') {\n          return option.callback();\n        }\n        return;\n      } else {\n        var local = (scope !== 'global') && (cm && cm.state.vim.options[name]);\n        return (local || (scope !== 'local') && option || {}).value;\n      }\n    }\n\n    defineOption('filetype', undefined, 'string', ['ft'], function(name, cm) {\n      // Option is local. Do nothing for global.\n      if (cm === undefined) {\n        return;\n      }\n      // The 'filetype' option proxies to the CodeMirror 'mode' option.\n      if (name === undefined) {\n        var mode = cm.getOption('mode');\n        return mode == 'null' ? '' : mode;\n      } else {\n        var mode = name == '' ? 'null' : name;\n        cm.setOption('mode', mode);\n      }\n    });\n\n    var createCircularJumpList = function() {\n      var size = 100;\n      var pointer = -1;\n      var head = 0;\n      var tail = 0;\n      var buffer = new Array(size);\n      function add(cm, oldCur, newCur) {\n        var current = pointer % size;\n        var curMark = buffer[current];\n        function useNextSlot(cursor) {\n          var next = ++pointer % size;\n          var trashMark = buffer[next];\n          if (trashMark) {\n            trashMark.clear();\n          }\n          buffer[next] = cm.setBookmark(cursor);\n        }\n        if (curMark) {\n          var markPos = curMark.find();\n          // avoid recording redundant cursor position\n          if (markPos && !cursorEqual(markPos, oldCur)) {\n            useNextSlot(oldCur);\n          }\n        } else {\n          useNextSlot(oldCur);\n        }\n        useNextSlot(newCur);\n        head = pointer;\n        tail = pointer - size + 1;\n        if (tail < 0) {\n          tail = 0;\n        }\n      }\n      function move(cm, offset) {\n        pointer += offset;\n        if (pointer > head) {\n          pointer = head;\n        } else if (pointer < tail) {\n          pointer = tail;\n        }\n        var mark = buffer[(size + pointer) % size];\n        // skip marks that are temporarily removed from text buffer\n        if (mark && !mark.find()) {\n          var inc = offset > 0 ? 1 : -1;\n          var newCur;\n          var oldCur = cm.getCursor();\n          do {\n            pointer += inc;\n            mark = buffer[(size + pointer) % size];\n            // skip marks that are the same as current position\n            if (mark &&\n                (newCur = mark.find()) &&\n                !cursorEqual(oldCur, newCur)) {\n              break;\n            }\n          } while (pointer < head && pointer > tail);\n        }\n        return mark;\n      }\n      return {\n        cachedCursor: undefined, //used for # and * jumps\n        add: add,\n        move: move\n      };\n    };\n\n    // Returns an object to track the changes associated insert mode.  It\n    // clones the object that is passed in, or creates an empty object one if\n    // none is provided.\n    var createInsertModeChanges = function(c) {\n      if (c) {\n        // Copy construction\n        return {\n          changes: c.changes,\n          expectCursorActivityForChange: c.expectCursorActivityForChange\n        };\n      }\n      return {\n        // Change list\n        changes: [],\n        // Set to true on change, false on cursorActivity.\n        expectCursorActivityForChange: false\n      };\n    };\n\n    function MacroModeState() {\n      this.latestRegister = undefined;\n      this.isPlaying = false;\n      this.isRecording = false;\n      this.replaySearchQueries = [];\n      this.onRecordingDone = undefined;\n      this.lastInsertModeChanges = createInsertModeChanges();\n    }\n    MacroModeState.prototype = {\n      exitMacroRecordMode: function() {\n        var macroModeState = vimGlobalState.macroModeState;\n        if (macroModeState.onRecordingDone) {\n          macroModeState.onRecordingDone(); // close dialog\n        }\n        macroModeState.onRecordingDone = undefined;\n        macroModeState.isRecording = false;\n      },\n      enterMacroRecordMode: function(cm, registerName) {\n        var register =\n            vimGlobalState.registerController.getRegister(registerName);\n        if (register) {\n          register.clear();\n          this.latestRegister = registerName;\n          if (cm.openDialog) {\n            this.onRecordingDone = cm.openDialog(\n                '(recording)['+registerName+']', null, {bottom:true});\n          }\n          this.isRecording = true;\n        }\n      }\n    };\n\n    function maybeInitVimState(cm) {\n      if (!cm.state.vim) {\n        // Store instance state in the CodeMirror object.\n        cm.state.vim = {\n          inputState: new InputState(),\n          // Vim's input state that triggered the last edit, used to repeat\n          // motions and operators with '.'.\n          lastEditInputState: undefined,\n          // Vim's action command before the last edit, used to repeat actions\n          // with '.' and insert mode repeat.\n          lastEditActionCommand: undefined,\n          // When using jk for navigation, if you move from a longer line to a\n          // shorter line, the cursor may clip to the end of the shorter line.\n          // If j is pressed again and cursor goes to the next line, the\n          // cursor should go back to its horizontal position on the longer\n          // line if it can. This is to keep track of the horizontal position.\n          lastHPos: -1,\n          // Doing the same with screen-position for gj/gk\n          lastHSPos: -1,\n          // The last motion command run. Cleared if a non-motion command gets\n          // executed in between.\n          lastMotion: null,\n          marks: {},\n          // Mark for rendering fake cursor for visual mode.\n          fakeCursor: null,\n          insertMode: false,\n          // Repeat count for changes made in insert mode, triggered by key\n          // sequences like 3,i. Only exists when insertMode is true.\n          insertModeRepeat: undefined,\n          visualMode: false,\n          // If we are in visual line mode. No effect if visualMode is false.\n          visualLine: false,\n          visualBlock: false,\n          lastSelection: null,\n          lastPastedText: null,\n          sel: {},\n          // Buffer-local/window-local values of vim options.\n          options: {}\n        };\n      }\n      return cm.state.vim;\n    }\n    var vimGlobalState;\n    function resetVimGlobalState() {\n      vimGlobalState = {\n        // The current search query.\n        searchQuery: null,\n        // Whether we are searching backwards.\n        searchIsReversed: false,\n        // Replace part of the last substituted pattern\n        lastSubstituteReplacePart: undefined,\n        jumpList: createCircularJumpList(),\n        macroModeState: new MacroModeState,\n        // Recording latest f, t, F or T motion command.\n        lastCharacterSearch: {increment:0, forward:true, selectedCharacter:''},\n        registerController: new RegisterController({}),\n        // search history buffer\n        searchHistoryController: new HistoryController({}),\n        // ex Command history buffer\n        exCommandHistoryController : new HistoryController({})\n      };\n      for (var optionName in options) {\n        var option = options[optionName];\n        option.value = option.defaultValue;\n      }\n    }\n\n    var lastInsertModeKeyTimer;\n    var vimApi= {\n      buildKeyMap: function() {\n        // TODO: Convert keymap into dictionary format for fast lookup.\n      },\n      // Testing hook, though it might be useful to expose the register\n      // controller anyways.\n      getRegisterController: function() {\n        return vimGlobalState.registerController;\n      },\n      // Testing hook.\n      resetVimGlobalState_: resetVimGlobalState,\n\n      // Testing hook.\n      getVimGlobalState_: function() {\n        return vimGlobalState;\n      },\n\n      // Testing hook.\n      maybeInitVimState_: maybeInitVimState,\n\n      suppressErrorLogging: false,\n\n      InsertModeKey: InsertModeKey,\n      map: function(lhs, rhs, ctx) {\n        // Add user defined key bindings.\n        exCommandDispatcher.map(lhs, rhs, ctx);\n      },\n      unmap: function(lhs, ctx) {\n        exCommandDispatcher.unmap(lhs, ctx);\n      },\n      // TODO: Expose setOption and getOption as instance methods. Need to decide how to namespace\n      // them, or somehow make them work with the existing CodeMirror setOption/getOption API.\n      setOption: setOption,\n      getOption: getOption,\n      defineOption: defineOption,\n      defineEx: function(name, prefix, func){\n        if (!prefix) {\n          prefix = name;\n        } else if (name.indexOf(prefix) !== 0) {\n          throw new Error('(Vim.defineEx) \"'+prefix+'\" is not a prefix of \"'+name+'\", command not registered');\n        }\n        exCommands[name]=func;\n        exCommandDispatcher.commandMap_[prefix]={name:name, shortName:prefix, type:'api'};\n      },\n      handleKey: function (cm, key, origin) {\n        var command = this.findKey(cm, key, origin);\n        if (typeof command === 'function') {\n          return command();\n        }\n      },\n      /**\n       * This is the outermost function called by CodeMirror, after keys have\n       * been mapped to their Vim equivalents.\n       *\n       * Finds a command based on the key (and cached keys if there is a\n       * multi-key sequence). Returns `undefined` if no key is matched, a noop\n       * function if a partial match is found (multi-key), and a function to\n       * execute the bound command if a a key is matched. The function always\n       * returns true.\n       */\n      findKey: function(cm, key, origin) {\n        var vim = maybeInitVimState(cm);\n        function handleMacroRecording() {\n          var macroModeState = vimGlobalState.macroModeState;\n          if (macroModeState.isRecording) {\n            if (key == 'q') {\n              macroModeState.exitMacroRecordMode();\n              clearInputState(cm);\n              return true;\n            }\n            if (origin != 'mapping') {\n              logKey(macroModeState, key);\n            }\n          }\n        }\n        function handleEsc() {\n          if (key == '<Esc>') {\n            // Clear input state and get back to normal mode.\n            clearInputState(cm);\n            if (vim.visualMode) {\n              exitVisualMode(cm);\n            } else if (vim.insertMode) {\n              exitInsertMode(cm);\n            }\n            return true;\n          }\n        }\n        function doKeyToKey(keys) {\n          // TODO: prevent infinite recursion.\n          var match;\n          while (keys) {\n            // Pull off one command key, which is either a single character\n            // or a special sequence wrapped in '<' and '>', e.g. '<Space>'.\n            match = (/<\\w+-.+?>|<\\w+>|./).exec(keys);\n            key = match[0];\n            keys = keys.substring(match.index + key.length);\n            CodeMirror.Vim.handleKey(cm, key, 'mapping');\n          }\n        }\n\n        function handleKeyInsertMode() {\n          if (handleEsc()) { return true; }\n          var keys = vim.inputState.keyBuffer = vim.inputState.keyBuffer + key;\n          var keysAreChars = key.length == 1;\n          var match = commandDispatcher.matchCommand(keys, defaultKeymap, vim.inputState, 'insert');\n          // Need to check all key substrings in insert mode.\n          while (keys.length > 1 && match.type != 'full') {\n            var keys = vim.inputState.keyBuffer = keys.slice(1);\n            var thisMatch = commandDispatcher.matchCommand(keys, defaultKeymap, vim.inputState, 'insert');\n            if (thisMatch.type != 'none') { match = thisMatch; }\n          }\n          if (match.type == 'none') { clearInputState(cm); return false; }\n          else if (match.type == 'partial') {\n            if (lastInsertModeKeyTimer) { window.clearTimeout(lastInsertModeKeyTimer); }\n            lastInsertModeKeyTimer = window.setTimeout(\n              function() { if (vim.insertMode && vim.inputState.keyBuffer) { clearInputState(cm); } },\n              getOption('insertModeEscKeysTimeout'));\n            return !keysAreChars;\n          }\n\n          if (lastInsertModeKeyTimer) { window.clearTimeout(lastInsertModeKeyTimer); }\n          if (keysAreChars) {\n            var here = cm.getCursor();\n            cm.replaceRange('', offsetCursor(here, 0, -(keys.length - 1)), here, '+input');\n          }\n          clearInputState(cm);\n          return match.command;\n        }\n\n        function handleKeyNonInsertMode() {\n          if (handleMacroRecording() || handleEsc()) { return true; };\n\n          var keys = vim.inputState.keyBuffer = vim.inputState.keyBuffer + key;\n          if (/^[1-9]\\d*$/.test(keys)) { return true; }\n\n          var keysMatcher = /^(\\d*)(.*)$/.exec(keys);\n          if (!keysMatcher) { clearInputState(cm); return false; }\n          var context = vim.visualMode ? 'visual' :\n                                         'normal';\n          var match = commandDispatcher.matchCommand(keysMatcher[2] || keysMatcher[1], defaultKeymap, vim.inputState, context);\n          if (match.type == 'none') { clearInputState(cm); return false; }\n          else if (match.type == 'partial') { return true; }\n\n          vim.inputState.keyBuffer = '';\n          var keysMatcher = /^(\\d*)(.*)$/.exec(keys);\n          if (keysMatcher[1] && keysMatcher[1] != '0') {\n            vim.inputState.pushRepeatDigit(keysMatcher[1]);\n          }\n          return match.command;\n        }\n\n        var command;\n        if (vim.insertMode) { command = handleKeyInsertMode(); }\n        else { command = handleKeyNonInsertMode(); }\n        if (command === false) {\n          return undefined;\n        } else if (command === true) {\n          // TODO: Look into using CodeMirror's multi-key handling.\n          // Return no-op since we are caching the key. Counts as handled, but\n          // don't want act on it just yet.\n          return function() {};\n        } else {\n          return function() {\n            return cm.operation(function() {\n              cm.curOp.isVimOp = true;\n              try {\n                if (command.type == 'keyToKey') {\n                  doKeyToKey(command.toKeys);\n                } else {\n                  commandDispatcher.processCommand(cm, vim, command);\n                }\n              } catch (e) {\n                // clear VIM state in case it's in a bad state.\n                cm.state.vim = undefined;\n                maybeInitVimState(cm);\n                if (!CodeMirror.Vim.suppressErrorLogging) {\n                  console['log'](e);\n                }\n                throw e;\n              }\n              return true;\n            });\n          };\n        }\n      },\n      handleEx: function(cm, input) {\n        exCommandDispatcher.processCommand(cm, input);\n      },\n\n      defineMotion: defineMotion,\n      defineAction: defineAction,\n      defineOperator: defineOperator,\n      mapCommand: mapCommand,\n      _mapCommand: _mapCommand,\n\n      defineRegister: defineRegister,\n\n      exitVisualMode: exitVisualMode,\n      exitInsertMode: exitInsertMode\n    };\n\n    // Represents the current input state.\n    function InputState() {\n      this.prefixRepeat = [];\n      this.motionRepeat = [];\n\n      this.operator = null;\n      this.operatorArgs = null;\n      this.motion = null;\n      this.motionArgs = null;\n      this.keyBuffer = []; // For matching multi-key commands.\n      this.registerName = null; // Defaults to the unnamed register.\n    }\n    InputState.prototype.pushRepeatDigit = function(n) {\n      if (!this.operator) {\n        this.prefixRepeat = this.prefixRepeat.concat(n);\n      } else {\n        this.motionRepeat = this.motionRepeat.concat(n);\n      }\n    };\n    InputState.prototype.getRepeat = function() {\n      var repeat = 0;\n      if (this.prefixRepeat.length > 0 || this.motionRepeat.length > 0) {\n        repeat = 1;\n        if (this.prefixRepeat.length > 0) {\n          repeat *= parseInt(this.prefixRepeat.join(''), 10);\n        }\n        if (this.motionRepeat.length > 0) {\n          repeat *= parseInt(this.motionRepeat.join(''), 10);\n        }\n      }\n      return repeat;\n    };\n\n    function clearInputState(cm, reason) {\n      cm.state.vim.inputState = new InputState();\n      CodeMirror.signal(cm, 'vim-command-done', reason);\n    }\n\n    /*\n     * Register stores information about copy and paste registers.  Besides\n     * text, a register must store whether it is linewise (i.e., when it is\n     * pasted, should it insert itself into a new line, or should the text be\n     * inserted at the cursor position.)\n     */\n    function Register(text, linewise, blockwise) {\n      this.clear();\n      this.keyBuffer = [text || ''];\n      this.insertModeChanges = [];\n      this.searchQueries = [];\n      this.linewise = !!linewise;\n      this.blockwise = !!blockwise;\n    }\n    Register.prototype = {\n      setText: function(text, linewise, blockwise) {\n        this.keyBuffer = [text || ''];\n        this.linewise = !!linewise;\n        this.blockwise = !!blockwise;\n      },\n      pushText: function(text, linewise) {\n        // if this register has ever been set to linewise, use linewise.\n        if (linewise) {\n          if (!this.linewise) {\n            this.keyBuffer.push('\\n');\n          }\n          this.linewise = true;\n        }\n        this.keyBuffer.push(text);\n      },\n      pushInsertModeChanges: function(changes) {\n        this.insertModeChanges.push(createInsertModeChanges(changes));\n      },\n      pushSearchQuery: function(query) {\n        this.searchQueries.push(query);\n      },\n      clear: function() {\n        this.keyBuffer = [];\n        this.insertModeChanges = [];\n        this.searchQueries = [];\n        this.linewise = false;\n      },\n      toString: function() {\n        return this.keyBuffer.join('');\n      }\n    };\n\n    /**\n     * Defines an external register.\n     *\n     * The name should be a single character that will be used to reference the register.\n     * The register should support setText, pushText, clear, and toString(). See Register\n     * for a reference implementation.\n     */\n    function defineRegister(name, register) {\n      var registers = vimGlobalState.registerController.registers[name];\n      if (!name || name.length != 1) {\n        throw Error('Register name must be 1 character');\n      }\n      if (registers[name]) {\n        throw Error('Register already defined ' + name);\n      }\n      registers[name] = register;\n      validRegisters.push(name);\n    }\n\n    /*\n     * vim registers allow you to keep many independent copy and paste buffers.\n     * See http://usevim.com/2012/04/13/registers/ for an introduction.\n     *\n     * RegisterController keeps the state of all the registers.  An initial\n     * state may be passed in.  The unnamed register '\"' will always be\n     * overridden.\n     */\n    function RegisterController(registers) {\n      this.registers = registers;\n      this.unnamedRegister = registers['\"'] = new Register();\n      registers['.'] = new Register();\n      registers[':'] = new Register();\n      registers['/'] = new Register();\n    }\n    RegisterController.prototype = {\n      pushText: function(registerName, operator, text, linewise, blockwise) {\n        if (linewise && text.charAt(0) == '\\n') {\n          text = text.slice(1) + '\\n';\n        }\n        if (linewise && text.charAt(text.length - 1) !== '\\n'){\n          text += '\\n';\n        }\n        // Lowercase and uppercase registers refer to the same register.\n        // Uppercase just means append.\n        var register = this.isValidRegister(registerName) ?\n            this.getRegister(registerName) : null;\n        // if no register/an invalid register was specified, things go to the\n        // default registers\n        if (!register) {\n          switch (operator) {\n            case 'yank':\n              // The 0 register contains the text from the most recent yank.\n              this.registers['0'] = new Register(text, linewise, blockwise);\n              break;\n            case 'delete':\n            case 'change':\n              if (text.indexOf('\\n') == -1) {\n                // Delete less than 1 line. Update the small delete register.\n                this.registers['-'] = new Register(text, linewise);\n              } else {\n                // Shift down the contents of the numbered registers and put the\n                // deleted text into register 1.\n                this.shiftNumericRegisters_();\n                this.registers['1'] = new Register(text, linewise);\n              }\n              break;\n          }\n          // Make sure the unnamed register is set to what just happened\n          this.unnamedRegister.setText(text, linewise, blockwise);\n          return;\n        }\n\n        // If we've gotten to this point, we've actually specified a register\n        var append = isUpperCase(registerName);\n        if (append) {\n          register.pushText(text, linewise);\n        } else {\n          register.setText(text, linewise, blockwise);\n        }\n        // The unnamed register always has the same value as the last used\n        // register.\n        this.unnamedRegister.setText(register.toString(), linewise);\n      },\n      // Gets the register named @name.  If one of @name doesn't already exist,\n      // create it.  If @name is invalid, return the unnamedRegister.\n      getRegister: function(name) {\n        if (!this.isValidRegister(name)) {\n          return this.unnamedRegister;\n        }\n        name = name.toLowerCase();\n        if (!this.registers[name]) {\n          this.registers[name] = new Register();\n        }\n        return this.registers[name];\n      },\n      isValidRegister: function(name) {\n        return name && inArray(name, validRegisters);\n      },\n      shiftNumericRegisters_: function() {\n        for (var i = 9; i >= 2; i--) {\n          this.registers[i] = this.getRegister('' + (i - 1));\n        }\n      }\n    };\n    function HistoryController() {\n        this.historyBuffer = [];\n        this.iterator = 0;\n        this.initialPrefix = null;\n    }\n    HistoryController.prototype = {\n      // the input argument here acts a user entered prefix for a small time\n      // until we start autocompletion in which case it is the autocompleted.\n      nextMatch: function (input, up) {\n        var historyBuffer = this.historyBuffer;\n        var dir = up ? -1 : 1;\n        if (this.initialPrefix === null) this.initialPrefix = input;\n        for (var i = this.iterator + dir; up ? i >= 0 : i < historyBuffer.length; i+= dir) {\n          var element = historyBuffer[i];\n          for (var j = 0; j <= element.length; j++) {\n            if (this.initialPrefix == element.substring(0, j)) {\n              this.iterator = i;\n              return element;\n            }\n          }\n        }\n        // should return the user input in case we reach the end of buffer.\n        if (i >= historyBuffer.length) {\n          this.iterator = historyBuffer.length;\n          return this.initialPrefix;\n        }\n        // return the last autocompleted query or exCommand as it is.\n        if (i < 0 ) return input;\n      },\n      pushInput: function(input) {\n        var index = this.historyBuffer.indexOf(input);\n        if (index > -1) this.historyBuffer.splice(index, 1);\n        if (input.length) this.historyBuffer.push(input);\n      },\n      reset: function() {\n        this.initialPrefix = null;\n        this.iterator = this.historyBuffer.length;\n      }\n    };\n    var commandDispatcher = {\n      matchCommand: function(keys, keyMap, inputState, context) {\n        var matches = commandMatches(keys, keyMap, context, inputState);\n        if (!matches.full && !matches.partial) {\n          return {type: 'none'};\n        } else if (!matches.full && matches.partial) {\n          return {type: 'partial'};\n        }\n\n        var bestMatch;\n        for (var i = 0; i < matches.full.length; i++) {\n          var match = matches.full[i];\n          if (!bestMatch) {\n            bestMatch = match;\n          }\n        }\n        if (bestMatch.keys.slice(-11) == '<character>') {\n          inputState.selectedCharacter = lastChar(keys);\n        }\n        return {type: 'full', command: bestMatch};\n      },\n      processCommand: function(cm, vim, command) {\n        vim.inputState.repeatOverride = command.repeatOverride;\n        switch (command.type) {\n          case 'motion':\n            this.processMotion(cm, vim, command);\n            break;\n          case 'operator':\n            this.processOperator(cm, vim, command);\n            break;\n          case 'operatorMotion':\n            this.processOperatorMotion(cm, vim, command);\n            break;\n          case 'action':\n            this.processAction(cm, vim, command);\n            break;\n          case 'search':\n            this.processSearch(cm, vim, command);\n            break;\n          case 'ex':\n          case 'keyToEx':\n            this.processEx(cm, vim, command);\n            break;\n          default:\n            break;\n        }\n      },\n      processMotion: function(cm, vim, command) {\n        vim.inputState.motion = command.motion;\n        vim.inputState.motionArgs = copyArgs(command.motionArgs);\n        this.evalInput(cm, vim);\n      },\n      processOperator: function(cm, vim, command) {\n        var inputState = vim.inputState;\n        if (inputState.operator) {\n          if (inputState.operator == command.operator) {\n            // Typing an operator twice like 'dd' makes the operator operate\n            // linewise\n            inputState.motion = 'expandToLine';\n            inputState.motionArgs = { linewise: true };\n            this.evalInput(cm, vim);\n            return;\n          } else {\n            // 2 different operators in a row doesn't make sense.\n            clearInputState(cm);\n          }\n        }\n        inputState.operator = command.operator;\n        inputState.operatorArgs = copyArgs(command.operatorArgs);\n        if (vim.visualMode) {\n          // Operating on a selection in visual mode. We don't need a motion.\n          this.evalInput(cm, vim);\n        }\n      },\n      processOperatorMotion: function(cm, vim, command) {\n        var visualMode = vim.visualMode;\n        var operatorMotionArgs = copyArgs(command.operatorMotionArgs);\n        if (operatorMotionArgs) {\n          // Operator motions may have special behavior in visual mode.\n          if (visualMode && operatorMotionArgs.visualLine) {\n            vim.visualLine = true;\n          }\n        }\n        this.processOperator(cm, vim, command);\n        if (!visualMode) {\n          this.processMotion(cm, vim, command);\n        }\n      },\n      processAction: function(cm, vim, command) {\n        var inputState = vim.inputState;\n        var repeat = inputState.getRepeat();\n        var repeatIsExplicit = !!repeat;\n        var actionArgs = copyArgs(command.actionArgs) || {};\n        if (inputState.selectedCharacter) {\n          actionArgs.selectedCharacter = inputState.selectedCharacter;\n        }\n        // Actions may or may not have motions and operators. Do these first.\n        if (command.operator) {\n          this.processOperator(cm, vim, command);\n        }\n        if (command.motion) {\n          this.processMotion(cm, vim, command);\n        }\n        if (command.motion || command.operator) {\n          this.evalInput(cm, vim);\n        }\n        actionArgs.repeat = repeat || 1;\n        actionArgs.repeatIsExplicit = repeatIsExplicit;\n        actionArgs.registerName = inputState.registerName;\n        clearInputState(cm);\n        vim.lastMotion = null;\n        if (command.isEdit) {\n          this.recordLastEdit(vim, inputState, command);\n        }\n        actions[command.action](cm, actionArgs, vim);\n      },\n      processSearch: function(cm, vim, command) {\n        if (!cm.getSearchCursor) {\n          // Search depends on SearchCursor.\n          return;\n        }\n        var forward = command.searchArgs.forward;\n        var wholeWordOnly = command.searchArgs.wholeWordOnly;\n        getSearchState(cm).setReversed(!forward);\n        var promptPrefix = (forward) ? '/' : '?';\n        var originalQuery = getSearchState(cm).getQuery();\n        var originalScrollPos = cm.getScrollInfo();\n        function handleQuery(query, ignoreCase, smartCase) {\n          vimGlobalState.searchHistoryController.pushInput(query);\n          vimGlobalState.searchHistoryController.reset();\n          try {\n            updateSearchQuery(cm, query, ignoreCase, smartCase);\n          } catch (e) {\n            showConfirm(cm, 'Invalid regex: ' + query);\n            clearInputState(cm);\n            return;\n          }\n          commandDispatcher.processMotion(cm, vim, {\n            type: 'motion',\n            motion: 'findNext',\n            motionArgs: { forward: true, toJumplist: command.searchArgs.toJumplist }\n          });\n        }\n        function onPromptClose(query) {\n          cm.scrollTo(originalScrollPos.left, originalScrollPos.top);\n          handleQuery(query, true /** ignoreCase */, true /** smartCase */);\n          var macroModeState = vimGlobalState.macroModeState;\n          if (macroModeState.isRecording) {\n            logSearchQuery(macroModeState, query);\n          }\n        }\n        function onPromptKeyUp(e, query, close) {\n          var keyName = CodeMirror.keyName(e), up;\n          if (keyName == 'Up' || keyName == 'Down') {\n            up = keyName == 'Up' ? true : false;\n            query = vimGlobalState.searchHistoryController.nextMatch(query, up) || '';\n            close(query);\n          } else {\n            if ( keyName != 'Left' && keyName != 'Right' && keyName != 'Ctrl' && keyName != 'Alt' && keyName != 'Shift')\n              vimGlobalState.searchHistoryController.reset();\n          }\n          var parsedQuery;\n          try {\n            parsedQuery = updateSearchQuery(cm, query,\n                true /** ignoreCase */, true /** smartCase */);\n          } catch (e) {\n            // Swallow bad regexes for incremental search.\n          }\n          if (parsedQuery) {\n            cm.scrollIntoView(findNext(cm, !forward, parsedQuery), 30);\n          } else {\n            clearSearchHighlight(cm);\n            cm.scrollTo(originalScrollPos.left, originalScrollPos.top);\n          }\n        }\n        function onPromptKeyDown(e, query, close) {\n          var keyName = CodeMirror.keyName(e);\n          if (keyName == 'Esc' || keyName == 'Ctrl-C' || keyName == 'Ctrl-[' ||\n              (keyName == 'Backspace' && query == '')) {\n            vimGlobalState.searchHistoryController.pushInput(query);\n            vimGlobalState.searchHistoryController.reset();\n            updateSearchQuery(cm, originalQuery);\n            clearSearchHighlight(cm);\n            cm.scrollTo(originalScrollPos.left, originalScrollPos.top);\n            CodeMirror.e_stop(e);\n            clearInputState(cm);\n            close();\n            cm.focus();\n          } else if (keyName == 'Ctrl-U') {\n            // Ctrl-U clears input.\n            CodeMirror.e_stop(e);\n            close('');\n          }\n        }\n        switch (command.searchArgs.querySrc) {\n          case 'prompt':\n            var macroModeState = vimGlobalState.macroModeState;\n            if (macroModeState.isPlaying) {\n              var query = macroModeState.replaySearchQueries.shift();\n              handleQuery(query, true /** ignoreCase */, false /** smartCase */);\n            } else {\n              showPrompt(cm, {\n                  onClose: onPromptClose,\n                  prefix: promptPrefix,\n                  desc: searchPromptDesc,\n                  onKeyUp: onPromptKeyUp,\n                  onKeyDown: onPromptKeyDown\n              });\n            }\n            break;\n          case 'wordUnderCursor':\n            var word = expandWordUnderCursor(cm, false /** inclusive */,\n                true /** forward */, false /** bigWord */,\n                true /** noSymbol */);\n            var isKeyword = true;\n            if (!word) {\n              word = expandWordUnderCursor(cm, false /** inclusive */,\n                  true /** forward */, false /** bigWord */,\n                  false /** noSymbol */);\n              isKeyword = false;\n            }\n            if (!word) {\n              return;\n            }\n            var query = cm.getLine(word.start.line).substring(word.start.ch,\n                word.end.ch);\n            if (isKeyword && wholeWordOnly) {\n                query = '\\\\b' + query + '\\\\b';\n            } else {\n              query = escapeRegex(query);\n            }\n\n            // cachedCursor is used to save the old position of the cursor\n            // when * or # causes vim to seek for the nearest word and shift\n            // the cursor before entering the motion.\n            vimGlobalState.jumpList.cachedCursor = cm.getCursor();\n            cm.setCursor(word.start);\n\n            handleQuery(query, true /** ignoreCase */, false /** smartCase */);\n            break;\n        }\n      },\n      processEx: function(cm, vim, command) {\n        function onPromptClose(input) {\n          // Give the prompt some time to close so that if processCommand shows\n          // an error, the elements don't overlap.\n          vimGlobalState.exCommandHistoryController.pushInput(input);\n          vimGlobalState.exCommandHistoryController.reset();\n          exCommandDispatcher.processCommand(cm, input);\n        }\n        function onPromptKeyDown(e, input, close) {\n          var keyName = CodeMirror.keyName(e), up;\n          if (keyName == 'Esc' || keyName == 'Ctrl-C' || keyName == 'Ctrl-[' ||\n              (keyName == 'Backspace' && input == '')) {\n            vimGlobalState.exCommandHistoryController.pushInput(input);\n            vimGlobalState.exCommandHistoryController.reset();\n            CodeMirror.e_stop(e);\n            clearInputState(cm);\n            close();\n            cm.focus();\n          }\n          if (keyName == 'Up' || keyName == 'Down') {\n            up = keyName == 'Up' ? true : false;\n            input = vimGlobalState.exCommandHistoryController.nextMatch(input, up) || '';\n            close(input);\n          } else if (keyName == 'Ctrl-U') {\n            // Ctrl-U clears input.\n            CodeMirror.e_stop(e);\n            close('');\n          } else {\n            if ( keyName != 'Left' && keyName != 'Right' && keyName != 'Ctrl' && keyName != 'Alt' && keyName != 'Shift')\n              vimGlobalState.exCommandHistoryController.reset();\n          }\n        }\n        if (command.type == 'keyToEx') {\n          // Handle user defined Ex to Ex mappings\n          exCommandDispatcher.processCommand(cm, command.exArgs.input);\n        } else {\n          if (vim.visualMode) {\n            showPrompt(cm, { onClose: onPromptClose, prefix: ':', value: '\\'<,\\'>',\n                onKeyDown: onPromptKeyDown});\n          } else {\n            showPrompt(cm, { onClose: onPromptClose, prefix: ':',\n                onKeyDown: onPromptKeyDown});\n          }\n        }\n      },\n      evalInput: function(cm, vim) {\n        // If the motion command is set, execute both the operator and motion.\n        // Otherwise return.\n        var inputState = vim.inputState;\n        var motion = inputState.motion;\n        var motionArgs = inputState.motionArgs || {};\n        var operator = inputState.operator;\n        var operatorArgs = inputState.operatorArgs || {};\n        var registerName = inputState.registerName;\n        var sel = vim.sel;\n        // TODO: Make sure cm and vim selections are identical outside visual mode.\n        var origHead = copyCursor(vim.visualMode ? clipCursorToContent(cm, sel.head): cm.getCursor('head'));\n        var origAnchor = copyCursor(vim.visualMode ? clipCursorToContent(cm, sel.anchor) : cm.getCursor('anchor'));\n        var oldHead = copyCursor(origHead);\n        var oldAnchor = copyCursor(origAnchor);\n        var newHead, newAnchor;\n        var repeat;\n        if (operator) {\n          this.recordLastEdit(vim, inputState);\n        }\n        if (inputState.repeatOverride !== undefined) {\n          // If repeatOverride is specified, that takes precedence over the\n          // input state's repeat. Used by Ex mode and can be user defined.\n          repeat = inputState.repeatOverride;\n        } else {\n          repeat = inputState.getRepeat();\n        }\n        if (repeat > 0 && motionArgs.explicitRepeat) {\n          motionArgs.repeatIsExplicit = true;\n        } else if (motionArgs.noRepeat ||\n            (!motionArgs.explicitRepeat && repeat === 0)) {\n          repeat = 1;\n          motionArgs.repeatIsExplicit = false;\n        }\n        if (inputState.selectedCharacter) {\n          // If there is a character input, stick it in all of the arg arrays.\n          motionArgs.selectedCharacter = operatorArgs.selectedCharacter =\n              inputState.selectedCharacter;\n        }\n        motionArgs.repeat = repeat;\n        clearInputState(cm);\n        if (motion) {\n          var motionResult = motions[motion](cm, origHead, motionArgs, vim);\n          vim.lastMotion = motions[motion];\n          if (!motionResult) {\n            return;\n          }\n          if (motionArgs.toJumplist) {\n            var jumpList = vimGlobalState.jumpList;\n            // if the current motion is # or *, use cachedCursor\n            var cachedCursor = jumpList.cachedCursor;\n            if (cachedCursor) {\n              recordJumpPosition(cm, cachedCursor, motionResult);\n              delete jumpList.cachedCursor;\n            } else {\n              recordJumpPosition(cm, origHead, motionResult);\n            }\n          }\n          if (motionResult instanceof Array) {\n            newAnchor = motionResult[0];\n            newHead = motionResult[1];\n          } else {\n            newHead = motionResult;\n          }\n          // TODO: Handle null returns from motion commands better.\n          if (!newHead) {\n            newHead = copyCursor(origHead);\n          }\n          if (vim.visualMode) {\n            if (!(vim.visualBlock && newHead.ch === Infinity)) {\n              newHead = clipCursorToContent(cm, newHead, vim.visualBlock);\n            }\n            if (newAnchor) {\n              newAnchor = clipCursorToContent(cm, newAnchor, true);\n            }\n            newAnchor = newAnchor || oldAnchor;\n            sel.anchor = newAnchor;\n            sel.head = newHead;\n            updateCmSelection(cm);\n            updateMark(cm, vim, '<',\n                cursorIsBefore(newAnchor, newHead) ? newAnchor\n                    : newHead);\n            updateMark(cm, vim, '>',\n                cursorIsBefore(newAnchor, newHead) ? newHead\n                    : newAnchor);\n          } else if (!operator) {\n            newHead = clipCursorToContent(cm, newHead);\n            cm.setCursor(newHead.line, newHead.ch);\n          }\n        }\n        if (operator) {\n          if (operatorArgs.lastSel) {\n            // Replaying a visual mode operation\n            newAnchor = oldAnchor;\n            var lastSel = operatorArgs.lastSel;\n            var lineOffset = Math.abs(lastSel.head.line - lastSel.anchor.line);\n            var chOffset = Math.abs(lastSel.head.ch - lastSel.anchor.ch);\n            if (lastSel.visualLine) {\n              // Linewise Visual mode: The same number of lines.\n              newHead = Pos(oldAnchor.line + lineOffset, oldAnchor.ch);\n            } else if (lastSel.visualBlock) {\n              // Blockwise Visual mode: The same number of lines and columns.\n              newHead = Pos(oldAnchor.line + lineOffset, oldAnchor.ch + chOffset);\n            } else if (lastSel.head.line == lastSel.anchor.line) {\n              // Normal Visual mode within one line: The same number of characters.\n              newHead = Pos(oldAnchor.line, oldAnchor.ch + chOffset);\n            } else {\n              // Normal Visual mode with several lines: The same number of lines, in the\n              // last line the same number of characters as in the last line the last time.\n              newHead = Pos(oldAnchor.line + lineOffset, oldAnchor.ch);\n            }\n            vim.visualMode = true;\n            vim.visualLine = lastSel.visualLine;\n            vim.visualBlock = lastSel.visualBlock;\n            sel = vim.sel = {\n              anchor: newAnchor,\n              head: newHead\n            };\n            updateCmSelection(cm);\n          } else if (vim.visualMode) {\n            operatorArgs.lastSel = {\n              anchor: copyCursor(sel.anchor),\n              head: copyCursor(sel.head),\n              visualBlock: vim.visualBlock,\n              visualLine: vim.visualLine\n            };\n          }\n          var curStart, curEnd, linewise, mode;\n          var cmSel;\n          if (vim.visualMode) {\n            // Init visual op\n            curStart = cursorMin(sel.head, sel.anchor);\n            curEnd = cursorMax(sel.head, sel.anchor);\n            linewise = vim.visualLine || operatorArgs.linewise;\n            mode = vim.visualBlock ? 'block' :\n                   linewise ? 'line' :\n                   'char';\n            cmSel = makeCmSelection(cm, {\n              anchor: curStart,\n              head: curEnd\n            }, mode);\n            if (linewise) {\n              var ranges = cmSel.ranges;\n              if (mode == 'block') {\n                // Linewise operators in visual block mode extend to end of line\n                for (var i = 0; i < ranges.length; i++) {\n                  ranges[i].head.ch = lineLength(cm, ranges[i].head.line);\n                }\n              } else if (mode == 'line') {\n                ranges[0].head = Pos(ranges[0].head.line + 1, 0);\n              }\n            }\n          } else {\n            // Init motion op\n            curStart = copyCursor(newAnchor || oldAnchor);\n            curEnd = copyCursor(newHead || oldHead);\n            if (cursorIsBefore(curEnd, curStart)) {\n              var tmp = curStart;\n              curStart = curEnd;\n              curEnd = tmp;\n            }\n            linewise = motionArgs.linewise || operatorArgs.linewise;\n            if (linewise) {\n              // Expand selection to entire line.\n              expandSelectionToLine(cm, curStart, curEnd);\n            } else if (motionArgs.forward) {\n              // Clip to trailing newlines only if the motion goes forward.\n              clipToLine(cm, curStart, curEnd);\n            }\n            mode = 'char';\n            var exclusive = !motionArgs.inclusive || linewise;\n            cmSel = makeCmSelection(cm, {\n              anchor: curStart,\n              head: curEnd\n            }, mode, exclusive);\n          }\n          cm.setSelections(cmSel.ranges, cmSel.primary);\n          vim.lastMotion = null;\n          operatorArgs.repeat = repeat; // For indent in visual mode.\n          operatorArgs.registerName = registerName;\n          // Keep track of linewise as it affects how paste and change behave.\n          operatorArgs.linewise = linewise;\n          var operatorMoveTo = operators[operator](\n            cm, operatorArgs, cmSel.ranges, oldAnchor, newHead);\n          if (vim.visualMode) {\n            exitVisualMode(cm, operatorMoveTo != null);\n          }\n          if (operatorMoveTo) {\n            cm.setCursor(operatorMoveTo);\n          }\n        }\n      },\n      recordLastEdit: function(vim, inputState, actionCommand) {\n        var macroModeState = vimGlobalState.macroModeState;\n        if (macroModeState.isPlaying) { return; }\n        vim.lastEditInputState = inputState;\n        vim.lastEditActionCommand = actionCommand;\n        macroModeState.lastInsertModeChanges.changes = [];\n        macroModeState.lastInsertModeChanges.expectCursorActivityForChange = false;\n      }\n    };\n\n    /**\n     * typedef {Object{line:number,ch:number}} Cursor An object containing the\n     *     position of the cursor.\n     */\n    // All of the functions below return Cursor objects.\n    var motions = {\n      moveToTopLine: function(cm, _head, motionArgs) {\n        var line = getUserVisibleLines(cm).top + motionArgs.repeat -1;\n        return Pos(line, findFirstNonWhiteSpaceCharacter(cm.getLine(line)));\n      },\n      moveToMiddleLine: function(cm) {\n        var range = getUserVisibleLines(cm);\n        var line = Math.floor((range.top + range.bottom) * 0.5);\n        return Pos(line, findFirstNonWhiteSpaceCharacter(cm.getLine(line)));\n      },\n      moveToBottomLine: function(cm, _head, motionArgs) {\n        var line = getUserVisibleLines(cm).bottom - motionArgs.repeat +1;\n        return Pos(line, findFirstNonWhiteSpaceCharacter(cm.getLine(line)));\n      },\n      expandToLine: function(_cm, head, motionArgs) {\n        // Expands forward to end of line, and then to next line if repeat is\n        // >1. Does not handle backward motion!\n        var cur = head;\n        return Pos(cur.line + motionArgs.repeat - 1, Infinity);\n      },\n      findNext: function(cm, _head, motionArgs) {\n        var state = getSearchState(cm);\n        var query = state.getQuery();\n        if (!query) {\n          return;\n        }\n        var prev = !motionArgs.forward;\n        // If search is initiated with ? instead of /, negate direction.\n        prev = (state.isReversed()) ? !prev : prev;\n        highlightSearchMatches(cm, query);\n        return findNext(cm, prev/** prev */, query, motionArgs.repeat);\n      },\n      goToMark: function(cm, _head, motionArgs, vim) {\n        var mark = vim.marks[motionArgs.selectedCharacter];\n        if (mark) {\n          var pos = mark.find();\n          return motionArgs.linewise ? { line: pos.line, ch: findFirstNonWhiteSpaceCharacter(cm.getLine(pos.line)) } : pos;\n        }\n        return null;\n      },\n      moveToOtherHighlightedEnd: function(cm, _head, motionArgs, vim) {\n        if (vim.visualBlock && motionArgs.sameLine) {\n          var sel = vim.sel;\n          return [\n            clipCursorToContent(cm, Pos(sel.anchor.line, sel.head.ch)),\n            clipCursorToContent(cm, Pos(sel.head.line, sel.anchor.ch))\n          ];\n        } else {\n          return ([vim.sel.head, vim.sel.anchor]);\n        }\n      },\n      jumpToMark: function(cm, head, motionArgs, vim) {\n        var best = head;\n        for (var i = 0; i < motionArgs.repeat; i++) {\n          var cursor = best;\n          for (var key in vim.marks) {\n            if (!isLowerCase(key)) {\n              continue;\n            }\n            var mark = vim.marks[key].find();\n            var isWrongDirection = (motionArgs.forward) ?\n              cursorIsBefore(mark, cursor) : cursorIsBefore(cursor, mark);\n\n            if (isWrongDirection) {\n              continue;\n            }\n            if (motionArgs.linewise && (mark.line == cursor.line)) {\n              continue;\n            }\n\n            var equal = cursorEqual(cursor, best);\n            var between = (motionArgs.forward) ?\n              cursorIsBetween(cursor, mark, best) :\n              cursorIsBetween(best, mark, cursor);\n\n            if (equal || between) {\n              best = mark;\n            }\n          }\n        }\n\n        if (motionArgs.linewise) {\n          // Vim places the cursor on the first non-whitespace character of\n          // the line if there is one, else it places the cursor at the end\n          // of the line, regardless of whether a mark was found.\n          best = Pos(best.line, findFirstNonWhiteSpaceCharacter(cm.getLine(best.line)));\n        }\n        return best;\n      },\n      moveByCharacters: function(_cm, head, motionArgs) {\n        var cur = head;\n        var repeat = motionArgs.repeat;\n        var ch = motionArgs.forward ? cur.ch + repeat : cur.ch - repeat;\n        return Pos(cur.line, ch);\n      },\n      moveByLines: function(cm, head, motionArgs, vim) {\n        var cur = head;\n        var endCh = cur.ch;\n        // Depending what our last motion was, we may want to do different\n        // things. If our last motion was moving vertically, we want to\n        // preserve the HPos from our last horizontal move.  If our last motion\n        // was going to the end of a line, moving vertically we should go to\n        // the end of the line, etc.\n        switch (vim.lastMotion) {\n          case this.moveByLines:\n          case this.moveByDisplayLines:\n          case this.moveByScroll:\n          case this.moveToColumn:\n          case this.moveToEol:\n            endCh = vim.lastHPos;\n            break;\n          default:\n            vim.lastHPos = endCh;\n        }\n        var repeat = motionArgs.repeat+(motionArgs.repeatOffset||0);\n        var line = motionArgs.forward ? cur.line + repeat : cur.line - repeat;\n        var first = cm.firstLine();\n        var last = cm.lastLine();\n        // Vim go to line begin or line end when cursor at first/last line and\n        // move to previous/next line is triggered.\n        if (line < first && cur.line == first){\n          return this.moveToStartOfLine(cm, head, motionArgs, vim);\n        }else if (line > last && cur.line == last){\n            return this.moveToEol(cm, head, motionArgs, vim);\n        }\n        if (motionArgs.toFirstChar){\n          endCh=findFirstNonWhiteSpaceCharacter(cm.getLine(line));\n          vim.lastHPos = endCh;\n        }\n        vim.lastHSPos = cm.charCoords(Pos(line, endCh),'div').left;\n        return Pos(line, endCh);\n      },\n      moveByDisplayLines: function(cm, head, motionArgs, vim) {\n        var cur = head;\n        switch (vim.lastMotion) {\n          case this.moveByDisplayLines:\n          case this.moveByScroll:\n          case this.moveByLines:\n          case this.moveToColumn:\n          case this.moveToEol:\n            break;\n          default:\n            vim.lastHSPos = cm.charCoords(cur,'div').left;\n        }\n        var repeat = motionArgs.repeat;\n        var res=cm.findPosV(cur,(motionArgs.forward ? repeat : -repeat),'line',vim.lastHSPos);\n        if (res.hitSide) {\n          if (motionArgs.forward) {\n            var lastCharCoords = cm.charCoords(res, 'div');\n            var goalCoords = { top: lastCharCoords.top + 8, left: vim.lastHSPos };\n            var res = cm.coordsChar(goalCoords, 'div');\n          } else {\n            var resCoords = cm.charCoords(Pos(cm.firstLine(), 0), 'div');\n            resCoords.left = vim.lastHSPos;\n            res = cm.coordsChar(resCoords, 'div');\n          }\n        }\n        vim.lastHPos = res.ch;\n        return res;\n      },\n      moveByPage: function(cm, head, motionArgs) {\n        // CodeMirror only exposes functions that move the cursor page down, so\n        // doing this bad hack to move the cursor and move it back. evalInput\n        // will move the cursor to where it should be in the end.\n        var curStart = head;\n        var repeat = motionArgs.repeat;\n        return cm.findPosV(curStart, (motionArgs.forward ? repeat : -repeat), 'page');\n      },\n      moveByParagraph: function(cm, head, motionArgs) {\n        var dir = motionArgs.forward ? 1 : -1;\n        return findParagraph(cm, head, motionArgs.repeat, dir);\n      },\n      moveByScroll: function(cm, head, motionArgs, vim) {\n        var scrollbox = cm.getScrollInfo();\n        var curEnd = null;\n        var repeat = motionArgs.repeat;\n        if (!repeat) {\n          repeat = scrollbox.clientHeight / (2 * cm.defaultTextHeight());\n        }\n        var orig = cm.charCoords(head, 'local');\n        motionArgs.repeat = repeat;\n        var curEnd = motions.moveByDisplayLines(cm, head, motionArgs, vim);\n        if (!curEnd) {\n          return null;\n        }\n        var dest = cm.charCoords(curEnd, 'local');\n        cm.scrollTo(null, scrollbox.top + dest.top - orig.top);\n        return curEnd;\n      },\n      moveByWords: function(cm, head, motionArgs) {\n        return moveToWord(cm, head, motionArgs.repeat, !!motionArgs.forward,\n            !!motionArgs.wordEnd, !!motionArgs.bigWord);\n      },\n      moveTillCharacter: function(cm, _head, motionArgs) {\n        var repeat = motionArgs.repeat;\n        var curEnd = moveToCharacter(cm, repeat, motionArgs.forward,\n            motionArgs.selectedCharacter);\n        var increment = motionArgs.forward ? -1 : 1;\n        recordLastCharacterSearch(increment, motionArgs);\n        if (!curEnd) return null;\n        curEnd.ch += increment;\n        return curEnd;\n      },\n      moveToCharacter: function(cm, head, motionArgs) {\n        var repeat = motionArgs.repeat;\n        recordLastCharacterSearch(0, motionArgs);\n        return moveToCharacter(cm, repeat, motionArgs.forward,\n            motionArgs.selectedCharacter) || head;\n      },\n      moveToSymbol: function(cm, head, motionArgs) {\n        var repeat = motionArgs.repeat;\n        return findSymbol(cm, repeat, motionArgs.forward,\n            motionArgs.selectedCharacter) || head;\n      },\n      moveToColumn: function(cm, head, motionArgs, vim) {\n        var repeat = motionArgs.repeat;\n        // repeat is equivalent to which column we want to move to!\n        vim.lastHPos = repeat - 1;\n        vim.lastHSPos = cm.charCoords(head,'div').left;\n        return moveToColumn(cm, repeat);\n      },\n      moveToEol: function(cm, head, motionArgs, vim) {\n        var cur = head;\n        vim.lastHPos = Infinity;\n        var retval= Pos(cur.line + motionArgs.repeat - 1, Infinity);\n        var end=cm.clipPos(retval);\n        end.ch--;\n        vim.lastHSPos = cm.charCoords(end,'div').left;\n        return retval;\n      },\n      moveToFirstNonWhiteSpaceCharacter: function(cm, head) {\n        // Go to the start of the line where the text begins, or the end for\n        // whitespace-only lines\n        var cursor = head;\n        return Pos(cursor.line,\n                   findFirstNonWhiteSpaceCharacter(cm.getLine(cursor.line)));\n      },\n      moveToMatchedSymbol: function(cm, head) {\n        var cursor = head;\n        var line = cursor.line;\n        var ch = cursor.ch;\n        var lineText = cm.getLine(line);\n        var symbol;\n        do {\n          symbol = lineText.charAt(ch++);\n          if (symbol && isMatchableSymbol(symbol)) {\n            var style = cm.getTokenTypeAt(Pos(line, ch));\n            if (style !== \"string\" && style !== \"comment\") {\n              break;\n            }\n          }\n        } while (symbol);\n        if (symbol) {\n          var matched = cm.findMatchingBracket(Pos(line, ch));\n          return matched.to;\n        } else {\n          return cursor;\n        }\n      },\n      moveToStartOfLine: function(_cm, head) {\n        return Pos(head.line, 0);\n      },\n      moveToLineOrEdgeOfDocument: function(cm, _head, motionArgs) {\n        var lineNum = motionArgs.forward ? cm.lastLine() : cm.firstLine();\n        if (motionArgs.repeatIsExplicit) {\n          lineNum = motionArgs.repeat - cm.getOption('firstLineNumber');\n        }\n        return Pos(lineNum,\n                   findFirstNonWhiteSpaceCharacter(cm.getLine(lineNum)));\n      },\n      textObjectManipulation: function(cm, head, motionArgs, vim) {\n        // TODO: lots of possible exceptions that can be thrown here. Try da(\n        //     outside of a () block.\n\n        // TODO: adding <> >< to this map doesn't work, presumably because\n        // they're operators\n        var mirroredPairs = {'(': ')', ')': '(',\n                             '{': '}', '}': '{',\n                             '[': ']', ']': '['};\n        var selfPaired = {'\\'': true, '\"': true};\n\n        var character = motionArgs.selectedCharacter;\n        // 'b' refers to  '()' block.\n        // 'B' refers to  '{}' block.\n        if (character == 'b') {\n          character = '(';\n        } else if (character == 'B') {\n          character = '{';\n        }\n\n        // Inclusive is the difference between a and i\n        // TODO: Instead of using the additional text object map to perform text\n        //     object operations, merge the map into the defaultKeyMap and use\n        //     motionArgs to define behavior. Define separate entries for 'aw',\n        //     'iw', 'a[', 'i[', etc.\n        var inclusive = !motionArgs.textObjectInner;\n\n        var tmp;\n        if (mirroredPairs[character]) {\n          tmp = selectCompanionObject(cm, head, character, inclusive);\n        } else if (selfPaired[character]) {\n          tmp = findBeginningAndEnd(cm, head, character, inclusive);\n        } else if (character === 'W') {\n          tmp = expandWordUnderCursor(cm, inclusive, true /** forward */,\n                                                     true /** bigWord */);\n        } else if (character === 'w') {\n          tmp = expandWordUnderCursor(cm, inclusive, true /** forward */,\n                                                     false /** bigWord */);\n        } else if (character === 'p') {\n          tmp = findParagraph(cm, head, motionArgs.repeat, 0, inclusive);\n          motionArgs.linewise = true;\n          if (vim.visualMode) {\n            if (!vim.visualLine) { vim.visualLine = true; }\n          } else {\n            var operatorArgs = vim.inputState.operatorArgs;\n            if (operatorArgs) { operatorArgs.linewise = true; }\n            tmp.end.line--;\n          }\n        } else {\n          // No text object defined for this, don't move.\n          return null;\n        }\n\n        if (!cm.state.vim.visualMode) {\n          return [tmp.start, tmp.end];\n        } else {\n          return expandSelection(cm, tmp.start, tmp.end);\n        }\n      },\n\n      repeatLastCharacterSearch: function(cm, head, motionArgs) {\n        var lastSearch = vimGlobalState.lastCharacterSearch;\n        var repeat = motionArgs.repeat;\n        var forward = motionArgs.forward === lastSearch.forward;\n        var increment = (lastSearch.increment ? 1 : 0) * (forward ? -1 : 1);\n        cm.moveH(-increment, 'char');\n        motionArgs.inclusive = forward ? true : false;\n        var curEnd = moveToCharacter(cm, repeat, forward, lastSearch.selectedCharacter);\n        if (!curEnd) {\n          cm.moveH(increment, 'char');\n          return head;\n        }\n        curEnd.ch += increment;\n        return curEnd;\n      }\n    };\n\n    function defineMotion(name, fn) {\n      motions[name] = fn;\n    }\n\n    function fillArray(val, times) {\n      var arr = [];\n      for (var i = 0; i < times; i++) {\n        arr.push(val);\n      }\n      return arr;\n    }\n    /**\n     * An operator acts on a text selection. It receives the list of selections\n     * as input. The corresponding CodeMirror selection is guaranteed to\n    * match the input selection.\n     */\n    var operators = {\n      change: function(cm, args, ranges) {\n        var finalHead, text;\n        var vim = cm.state.vim;\n        vimGlobalState.macroModeState.lastInsertModeChanges.inVisualBlock = vim.visualBlock;\n        if (!vim.visualMode) {\n          var anchor = ranges[0].anchor,\n              head = ranges[0].head;\n          text = cm.getRange(anchor, head);\n          var lastState = vim.lastEditInputState || {};\n          if (lastState.motion == \"moveByWords\" && !isWhiteSpaceString(text)) {\n            // Exclude trailing whitespace if the range is not all whitespace.\n            var match = (/\\s+$/).exec(text);\n            if (match && lastState.motionArgs && lastState.motionArgs.forward) {\n              head = offsetCursor(head, 0, - match[0].length);\n              text = text.slice(0, - match[0].length);\n            }\n          }\n          var prevLineEnd = new Pos(anchor.line - 1, Number.MAX_VALUE);\n          var wasLastLine = cm.firstLine() == cm.lastLine();\n          if (head.line > cm.lastLine() && args.linewise && !wasLastLine) {\n            cm.replaceRange('', prevLineEnd, head);\n          } else {\n            cm.replaceRange('', anchor, head);\n          }\n          if (args.linewise) {\n            // Push the next line back down, if there is a next line.\n            if (!wasLastLine) {\n              cm.setCursor(prevLineEnd);\n              CodeMirror.commands.newlineAndIndent(cm);\n            }\n            // make sure cursor ends up at the end of the line.\n            anchor.ch = Number.MAX_VALUE;\n          }\n          finalHead = anchor;\n        } else {\n          text = cm.getSelection();\n          var replacement = fillArray('', ranges.length);\n          cm.replaceSelections(replacement);\n          finalHead = cursorMin(ranges[0].head, ranges[0].anchor);\n        }\n        vimGlobalState.registerController.pushText(\n            args.registerName, 'change', text,\n            args.linewise, ranges.length > 1);\n        actions.enterInsertMode(cm, {head: finalHead}, cm.state.vim);\n      },\n      // delete is a javascript keyword.\n      'delete': function(cm, args, ranges) {\n        var finalHead, text;\n        var vim = cm.state.vim;\n        if (!vim.visualBlock) {\n          var anchor = ranges[0].anchor,\n              head = ranges[0].head;\n          if (args.linewise &&\n              head.line != cm.firstLine() &&\n              anchor.line == cm.lastLine() &&\n              anchor.line == head.line - 1) {\n            // Special case for dd on last line (and first line).\n            if (anchor.line == cm.firstLine()) {\n              anchor.ch = 0;\n            } else {\n              anchor = Pos(anchor.line - 1, lineLength(cm, anchor.line - 1));\n            }\n          }\n          text = cm.getRange(anchor, head);\n          cm.replaceRange('', anchor, head);\n          finalHead = anchor;\n          if (args.linewise) {\n            finalHead = motions.moveToFirstNonWhiteSpaceCharacter(cm, anchor);\n          }\n        } else {\n          text = cm.getSelection();\n          var replacement = fillArray('', ranges.length);\n          cm.replaceSelections(replacement);\n          finalHead = ranges[0].anchor;\n        }\n        vimGlobalState.registerController.pushText(\n            args.registerName, 'delete', text,\n            args.linewise, vim.visualBlock);\n        return clipCursorToContent(cm, finalHead);\n      },\n      indent: function(cm, args, ranges) {\n        var vim = cm.state.vim;\n        var startLine = ranges[0].anchor.line;\n        var endLine = vim.visualBlock ?\n          ranges[ranges.length - 1].anchor.line :\n          ranges[0].head.line;\n        // In visual mode, n> shifts the selection right n times, instead of\n        // shifting n lines right once.\n        var repeat = (vim.visualMode) ? args.repeat : 1;\n        if (args.linewise) {\n          // The only way to delete a newline is to delete until the start of\n          // the next line, so in linewise mode evalInput will include the next\n          // line. We don't want this in indent, so we go back a line.\n          endLine--;\n        }\n        for (var i = startLine; i <= endLine; i++) {\n          for (var j = 0; j < repeat; j++) {\n            cm.indentLine(i, args.indentRight);\n          }\n        }\n        return motions.moveToFirstNonWhiteSpaceCharacter(cm, ranges[0].anchor);\n      },\n      changeCase: function(cm, args, ranges, oldAnchor, newHead) {\n        var selections = cm.getSelections();\n        var swapped = [];\n        var toLower = args.toLower;\n        for (var j = 0; j < selections.length; j++) {\n          var toSwap = selections[j];\n          var text = '';\n          if (toLower === true) {\n            text = toSwap.toLowerCase();\n          } else if (toLower === false) {\n            text = toSwap.toUpperCase();\n          } else {\n            for (var i = 0; i < toSwap.length; i++) {\n              var character = toSwap.charAt(i);\n              text += isUpperCase(character) ? character.toLowerCase() :\n                  character.toUpperCase();\n            }\n          }\n          swapped.push(text);\n        }\n        cm.replaceSelections(swapped);\n        if (args.shouldMoveCursor){\n          return newHead;\n        } else if (!cm.state.vim.visualMode && args.linewise && ranges[0].anchor.line + 1 == ranges[0].head.line) {\n          return motions.moveToFirstNonWhiteSpaceCharacter(cm, oldAnchor);\n        } else if (args.linewise){\n          return oldAnchor;\n        } else {\n          return cursorMin(ranges[0].anchor, ranges[0].head);\n        }\n      },\n      yank: function(cm, args, ranges, oldAnchor) {\n        var vim = cm.state.vim;\n        var text = cm.getSelection();\n        var endPos = vim.visualMode\n          ? cursorMin(vim.sel.anchor, vim.sel.head, ranges[0].head, ranges[0].anchor)\n          : oldAnchor;\n        vimGlobalState.registerController.pushText(\n            args.registerName, 'yank',\n            text, args.linewise, vim.visualBlock);\n        return endPos;\n      }\n    };\n\n    function defineOperator(name, fn) {\n      operators[name] = fn;\n    }\n\n    var actions = {\n      jumpListWalk: function(cm, actionArgs, vim) {\n        if (vim.visualMode) {\n          return;\n        }\n        var repeat = actionArgs.repeat;\n        var forward = actionArgs.forward;\n        var jumpList = vimGlobalState.jumpList;\n\n        var mark = jumpList.move(cm, forward ? repeat : -repeat);\n        var markPos = mark ? mark.find() : undefined;\n        markPos = markPos ? markPos : cm.getCursor();\n        cm.setCursor(markPos);\n      },\n      scroll: function(cm, actionArgs, vim) {\n        if (vim.visualMode) {\n          return;\n        }\n        var repeat = actionArgs.repeat || 1;\n        var lineHeight = cm.defaultTextHeight();\n        var top = cm.getScrollInfo().top;\n        var delta = lineHeight * repeat;\n        var newPos = actionArgs.forward ? top + delta : top - delta;\n        var cursor = copyCursor(cm.getCursor());\n        var cursorCoords = cm.charCoords(cursor, 'local');\n        if (actionArgs.forward) {\n          if (newPos > cursorCoords.top) {\n             cursor.line += (newPos - cursorCoords.top) / lineHeight;\n             cursor.line = Math.ceil(cursor.line);\n             cm.setCursor(cursor);\n             cursorCoords = cm.charCoords(cursor, 'local');\n             cm.scrollTo(null, cursorCoords.top);\n          } else {\n             // Cursor stays within bounds.  Just reposition the scroll window.\n             cm.scrollTo(null, newPos);\n          }\n        } else {\n          var newBottom = newPos + cm.getScrollInfo().clientHeight;\n          if (newBottom < cursorCoords.bottom) {\n             cursor.line -= (cursorCoords.bottom - newBottom) / lineHeight;\n             cursor.line = Math.floor(cursor.line);\n             cm.setCursor(cursor);\n             cursorCoords = cm.charCoords(cursor, 'local');\n             cm.scrollTo(\n                 null, cursorCoords.bottom - cm.getScrollInfo().clientHeight);\n          } else {\n             // Cursor stays within bounds.  Just reposition the scroll window.\n             cm.scrollTo(null, newPos);\n          }\n        }\n      },\n      scrollToCursor: function(cm, actionArgs) {\n        var lineNum = cm.getCursor().line;\n        var charCoords = cm.charCoords(Pos(lineNum, 0), 'local');\n        var height = cm.getScrollInfo().clientHeight;\n        var y = charCoords.top;\n        var lineHeight = charCoords.bottom - y;\n        switch (actionArgs.position) {\n          case 'center': y = y - (height / 2) + lineHeight;\n            break;\n          case 'bottom': y = y - height + lineHeight;\n            break;\n        }\n        cm.scrollTo(null, y);\n      },\n      replayMacro: function(cm, actionArgs, vim) {\n        var registerName = actionArgs.selectedCharacter;\n        var repeat = actionArgs.repeat;\n        var macroModeState = vimGlobalState.macroModeState;\n        if (registerName == '@') {\n          registerName = macroModeState.latestRegister;\n        }\n        while(repeat--){\n          executeMacroRegister(cm, vim, macroModeState, registerName);\n        }\n      },\n      enterMacroRecordMode: function(cm, actionArgs) {\n        var macroModeState = vimGlobalState.macroModeState;\n        var registerName = actionArgs.selectedCharacter;\n        macroModeState.enterMacroRecordMode(cm, registerName);\n      },\n      enterInsertMode: function(cm, actionArgs, vim) {\n        if (cm.getOption('readOnly')) { return; }\n        vim.insertMode = true;\n        vim.insertModeRepeat = actionArgs && actionArgs.repeat || 1;\n        var insertAt = (actionArgs) ? actionArgs.insertAt : null;\n        var sel = vim.sel;\n        var head = actionArgs.head || cm.getCursor('head');\n        var height = cm.listSelections().length;\n        if (insertAt == 'eol') {\n          head = Pos(head.line, lineLength(cm, head.line));\n        } else if (insertAt == 'charAfter') {\n          head = offsetCursor(head, 0, 1);\n        } else if (insertAt == 'firstNonBlank') {\n          head = motions.moveToFirstNonWhiteSpaceCharacter(cm, head);\n        } else if (insertAt == 'startOfSelectedArea') {\n          if (!vim.visualBlock) {\n            if (sel.head.line < sel.anchor.line) {\n              head = sel.head;\n            } else {\n              head = Pos(sel.anchor.line, 0);\n            }\n          } else {\n            head = Pos(\n                Math.min(sel.head.line, sel.anchor.line),\n                Math.min(sel.head.ch, sel.anchor.ch));\n            height = Math.abs(sel.head.line - sel.anchor.line) + 1;\n          }\n        } else if (insertAt == 'endOfSelectedArea') {\n          if (!vim.visualBlock) {\n            if (sel.head.line >= sel.anchor.line) {\n              head = offsetCursor(sel.head, 0, 1);\n            } else {\n              head = Pos(sel.anchor.line, 0);\n            }\n          } else {\n            head = Pos(\n                Math.min(sel.head.line, sel.anchor.line),\n                Math.max(sel.head.ch + 1, sel.anchor.ch));\n            height = Math.abs(sel.head.line - sel.anchor.line) + 1;\n          }\n        } else if (insertAt == 'inplace') {\n          if (vim.visualMode){\n            return;\n          }\n        }\n        cm.setOption('keyMap', 'vim-insert');\n        cm.setOption('disableInput', false);\n        if (actionArgs && actionArgs.replace) {\n          // Handle Replace-mode as a special case of insert mode.\n          cm.toggleOverwrite(true);\n          cm.setOption('keyMap', 'vim-replace');\n          CodeMirror.signal(cm, \"vim-mode-change\", {mode: \"replace\"});\n        } else {\n          cm.setOption('keyMap', 'vim-insert');\n          CodeMirror.signal(cm, \"vim-mode-change\", {mode: \"insert\"});\n        }\n        if (!vimGlobalState.macroModeState.isPlaying) {\n          // Only record if not replaying.\n          cm.on('change', onChange);\n          CodeMirror.on(cm.getInputField(), 'keydown', onKeyEventTargetKeyDown);\n        }\n        if (vim.visualMode) {\n          exitVisualMode(cm);\n        }\n        selectForInsert(cm, head, height);\n      },\n      toggleVisualMode: function(cm, actionArgs, vim) {\n        var repeat = actionArgs.repeat;\n        var anchor = cm.getCursor();\n        var head;\n        // TODO: The repeat should actually select number of characters/lines\n        //     equal to the repeat times the size of the previous visual\n        //     operation.\n        if (!vim.visualMode) {\n          // Entering visual mode\n          vim.visualMode = true;\n          vim.visualLine = !!actionArgs.linewise;\n          vim.visualBlock = !!actionArgs.blockwise;\n          head = clipCursorToContent(\n              cm, Pos(anchor.line, anchor.ch + repeat - 1),\n              true /** includeLineBreak */);\n          vim.sel = {\n            anchor: anchor,\n            head: head\n          };\n          CodeMirror.signal(cm, \"vim-mode-change\", {mode: \"visual\", subMode: vim.visualLine ? \"linewise\" : vim.visualBlock ? \"blockwise\" : \"\"});\n          updateCmSelection(cm);\n          updateMark(cm, vim, '<', cursorMin(anchor, head));\n          updateMark(cm, vim, '>', cursorMax(anchor, head));\n        } else if (vim.visualLine ^ actionArgs.linewise ||\n            vim.visualBlock ^ actionArgs.blockwise) {\n          // Toggling between modes\n          vim.visualLine = !!actionArgs.linewise;\n          vim.visualBlock = !!actionArgs.blockwise;\n          CodeMirror.signal(cm, \"vim-mode-change\", {mode: \"visual\", subMode: vim.visualLine ? \"linewise\" : vim.visualBlock ? \"blockwise\" : \"\"});\n          updateCmSelection(cm);\n        } else {\n          exitVisualMode(cm);\n        }\n      },\n      reselectLastSelection: function(cm, _actionArgs, vim) {\n        var lastSelection = vim.lastSelection;\n        if (vim.visualMode) {\n          updateLastSelection(cm, vim);\n        }\n        if (lastSelection) {\n          var anchor = lastSelection.anchorMark.find();\n          var head = lastSelection.headMark.find();\n          if (!anchor || !head) {\n            // If the marks have been destroyed due to edits, do nothing.\n            return;\n          }\n          vim.sel = {\n            anchor: anchor,\n            head: head\n          };\n          vim.visualMode = true;\n          vim.visualLine = lastSelection.visualLine;\n          vim.visualBlock = lastSelection.visualBlock;\n          updateCmSelection(cm);\n          updateMark(cm, vim, '<', cursorMin(anchor, head));\n          updateMark(cm, vim, '>', cursorMax(anchor, head));\n          CodeMirror.signal(cm, 'vim-mode-change', {\n            mode: 'visual',\n            subMode: vim.visualLine ? 'linewise' :\n                     vim.visualBlock ? 'blockwise' : ''});\n        }\n      },\n      joinLines: function(cm, actionArgs, vim) {\n        var curStart, curEnd;\n        if (vim.visualMode) {\n          curStart = cm.getCursor('anchor');\n          curEnd = cm.getCursor('head');\n          if (cursorIsBefore(curEnd, curStart)) {\n            var tmp = curEnd;\n            curEnd = curStart;\n            curStart = tmp;\n          }\n          curEnd.ch = lineLength(cm, curEnd.line) - 1;\n        } else {\n          // Repeat is the number of lines to join. Minimum 2 lines.\n          var repeat = Math.max(actionArgs.repeat, 2);\n          curStart = cm.getCursor();\n          curEnd = clipCursorToContent(cm, Pos(curStart.line + repeat - 1,\n                                               Infinity));\n        }\n        var finalCh = 0;\n        for (var i = curStart.line; i < curEnd.line; i++) {\n          finalCh = lineLength(cm, curStart.line);\n          var tmp = Pos(curStart.line + 1,\n                        lineLength(cm, curStart.line + 1));\n          var text = cm.getRange(curStart, tmp);\n          text = text.replace(/\\n\\s*/g, ' ');\n          cm.replaceRange(text, curStart, tmp);\n        }\n        var curFinalPos = Pos(curStart.line, finalCh);\n        if (vim.visualMode) {\n          exitVisualMode(cm, false);\n        }\n        cm.setCursor(curFinalPos);\n      },\n      newLineAndEnterInsertMode: function(cm, actionArgs, vim) {\n        vim.insertMode = true;\n        var insertAt = copyCursor(cm.getCursor());\n        if (insertAt.line === cm.firstLine() && !actionArgs.after) {\n          // Special case for inserting newline before start of document.\n          cm.replaceRange('\\n', Pos(cm.firstLine(), 0));\n          cm.setCursor(cm.firstLine(), 0);\n        } else {\n          insertAt.line = (actionArgs.after) ? insertAt.line :\n              insertAt.line - 1;\n          insertAt.ch = lineLength(cm, insertAt.line);\n          cm.setCursor(insertAt);\n          var newlineFn = CodeMirror.commands.newlineAndIndentContinueComment ||\n              CodeMirror.commands.newlineAndIndent;\n          newlineFn(cm);\n        }\n        this.enterInsertMode(cm, { repeat: actionArgs.repeat }, vim);\n      },\n      paste: function(cm, actionArgs, vim) {\n        var cur = copyCursor(cm.getCursor());\n        var register = vimGlobalState.registerController.getRegister(\n            actionArgs.registerName);\n        var text = register.toString();\n        if (!text) {\n          return;\n        }\n        if (actionArgs.matchIndent) {\n          var tabSize = cm.getOption(\"tabSize\");\n          // length that considers tabs and tabSize\n          var whitespaceLength = function(str) {\n            var tabs = (str.split(\"\\t\").length - 1);\n            var spaces = (str.split(\" \").length - 1);\n            return tabs * tabSize + spaces * 1;\n          };\n          var currentLine = cm.getLine(cm.getCursor().line);\n          var indent = whitespaceLength(currentLine.match(/^\\s*/)[0]);\n          // chomp last newline b/c don't want it to match /^\\s*/gm\n          var chompedText = text.replace(/\\n$/, '');\n          var wasChomped = text !== chompedText;\n          var firstIndent = whitespaceLength(text.match(/^\\s*/)[0]);\n          var text = chompedText.replace(/^\\s*/gm, function(wspace) {\n            var newIndent = indent + (whitespaceLength(wspace) - firstIndent);\n            if (newIndent < 0) {\n              return \"\";\n            }\n            else if (cm.getOption(\"indentWithTabs\")) {\n              var quotient = Math.floor(newIndent / tabSize);\n              return Array(quotient + 1).join('\\t');\n            }\n            else {\n              return Array(newIndent + 1).join(' ');\n            }\n          });\n          text += wasChomped ? \"\\n\" : \"\";\n        }\n        if (actionArgs.repeat > 1) {\n          var text = Array(actionArgs.repeat + 1).join(text);\n        }\n        var linewise = register.linewise;\n        var blockwise = register.blockwise;\n        if (linewise) {\n          if(vim.visualMode) {\n            text = vim.visualLine ? text.slice(0, -1) : '\\n' + text.slice(0, text.length - 1) + '\\n';\n          } else if (actionArgs.after) {\n            // Move the newline at the end to the start instead, and paste just\n            // before the newline character of the line we are on right now.\n            text = '\\n' + text.slice(0, text.length - 1);\n            cur.ch = lineLength(cm, cur.line);\n          } else {\n            cur.ch = 0;\n          }\n        } else {\n          if (blockwise) {\n            text = text.split('\\n');\n            for (var i = 0; i < text.length; i++) {\n              text[i] = (text[i] == '') ? ' ' : text[i];\n            }\n          }\n          cur.ch += actionArgs.after ? 1 : 0;\n        }\n        var curPosFinal;\n        var idx;\n        if (vim.visualMode) {\n          //  save the pasted text for reselection if the need arises\n          vim.lastPastedText = text;\n          var lastSelectionCurEnd;\n          var selectedArea = getSelectedAreaRange(cm, vim);\n          var selectionStart = selectedArea[0];\n          var selectionEnd = selectedArea[1];\n          var selectedText = cm.getSelection();\n          var selections = cm.listSelections();\n          var emptyStrings = new Array(selections.length).join('1').split('1');\n          // save the curEnd marker before it get cleared due to cm.replaceRange.\n          if (vim.lastSelection) {\n            lastSelectionCurEnd = vim.lastSelection.headMark.find();\n          }\n          // push the previously selected text to unnamed register\n          vimGlobalState.registerController.unnamedRegister.setText(selectedText);\n          if (blockwise) {\n            // first delete the selected text\n            cm.replaceSelections(emptyStrings);\n            // Set new selections as per the block length of the yanked text\n            selectionEnd = Pos(selectionStart.line + text.length-1, selectionStart.ch);\n            cm.setCursor(selectionStart);\n            selectBlock(cm, selectionEnd);\n            cm.replaceSelections(text);\n            curPosFinal = selectionStart;\n          } else if (vim.visualBlock) {\n            cm.replaceSelections(emptyStrings);\n            cm.setCursor(selectionStart);\n            cm.replaceRange(text, selectionStart, selectionStart);\n            curPosFinal = selectionStart;\n          } else {\n            cm.replaceRange(text, selectionStart, selectionEnd);\n            curPosFinal = cm.posFromIndex(cm.indexFromPos(selectionStart) + text.length - 1);\n          }\n          // restore the the curEnd marker\n          if(lastSelectionCurEnd) {\n            vim.lastSelection.headMark = cm.setBookmark(lastSelectionCurEnd);\n          }\n          if (linewise) {\n            curPosFinal.ch=0;\n          }\n        } else {\n          if (blockwise) {\n            cm.setCursor(cur);\n            for (var i = 0; i < text.length; i++) {\n              var line = cur.line+i;\n              if (line > cm.lastLine()) {\n                cm.replaceRange('\\n',  Pos(line, 0));\n              }\n              var lastCh = lineLength(cm, line);\n              if (lastCh < cur.ch) {\n                extendLineToColumn(cm, line, cur.ch);\n              }\n            }\n            cm.setCursor(cur);\n            selectBlock(cm, Pos(cur.line + text.length-1, cur.ch));\n            cm.replaceSelections(text);\n            curPosFinal = cur;\n          } else {\n            cm.replaceRange(text, cur);\n            // Now fine tune the cursor to where we want it.\n            if (linewise && actionArgs.after) {\n              curPosFinal = Pos(\n              cur.line + 1,\n              findFirstNonWhiteSpaceCharacter(cm.getLine(cur.line + 1)));\n            } else if (linewise && !actionArgs.after) {\n              curPosFinal = Pos(\n                cur.line,\n                findFirstNonWhiteSpaceCharacter(cm.getLine(cur.line)));\n            } else if (!linewise && actionArgs.after) {\n              idx = cm.indexFromPos(cur);\n              curPosFinal = cm.posFromIndex(idx + text.length - 1);\n            } else {\n              idx = cm.indexFromPos(cur);\n              curPosFinal = cm.posFromIndex(idx + text.length);\n            }\n          }\n        }\n        if (vim.visualMode) {\n          exitVisualMode(cm, false);\n        }\n        cm.setCursor(curPosFinal);\n      },\n      undo: function(cm, actionArgs) {\n        cm.operation(function() {\n          repeatFn(cm, CodeMirror.commands.undo, actionArgs.repeat)();\n          cm.setCursor(cm.getCursor('anchor'));\n        });\n      },\n      redo: function(cm, actionArgs) {\n        repeatFn(cm, CodeMirror.commands.redo, actionArgs.repeat)();\n      },\n      setRegister: function(_cm, actionArgs, vim) {\n        vim.inputState.registerName = actionArgs.selectedCharacter;\n      },\n      setMark: function(cm, actionArgs, vim) {\n        var markName = actionArgs.selectedCharacter;\n        updateMark(cm, vim, markName, cm.getCursor());\n      },\n      replace: function(cm, actionArgs, vim) {\n        var replaceWith = actionArgs.selectedCharacter;\n        var curStart = cm.getCursor();\n        var replaceTo;\n        var curEnd;\n        var selections = cm.listSelections();\n        if (vim.visualMode) {\n          curStart = cm.getCursor('start');\n          curEnd = cm.getCursor('end');\n        } else {\n          var line = cm.getLine(curStart.line);\n          replaceTo = curStart.ch + actionArgs.repeat;\n          if (replaceTo > line.length) {\n            replaceTo=line.length;\n          }\n          curEnd = Pos(curStart.line, replaceTo);\n        }\n        if (replaceWith=='\\n') {\n          if (!vim.visualMode) cm.replaceRange('', curStart, curEnd);\n          // special case, where vim help says to replace by just one line-break\n          (CodeMirror.commands.newlineAndIndentContinueComment || CodeMirror.commands.newlineAndIndent)(cm);\n        } else {\n          var replaceWithStr = cm.getRange(curStart, curEnd);\n          //replace all characters in range by selected, but keep linebreaks\n          replaceWithStr = replaceWithStr.replace(/[^\\n]/g, replaceWith);\n          if (vim.visualBlock) {\n            // Tabs are split in visua block before replacing\n            var spaces = new Array(cm.getOption(\"tabSize\")+1).join(' ');\n            replaceWithStr = cm.getSelection();\n            replaceWithStr = replaceWithStr.replace(/\\t/g, spaces).replace(/[^\\n]/g, replaceWith).split('\\n');\n            cm.replaceSelections(replaceWithStr);\n          } else {\n            cm.replaceRange(replaceWithStr, curStart, curEnd);\n          }\n          if (vim.visualMode) {\n            curStart = cursorIsBefore(selections[0].anchor, selections[0].head) ?\n                         selections[0].anchor : selections[0].head;\n            cm.setCursor(curStart);\n            exitVisualMode(cm, false);\n          } else {\n            cm.setCursor(offsetCursor(curEnd, 0, -1));\n          }\n        }\n      },\n      incrementNumberToken: function(cm, actionArgs) {\n        var cur = cm.getCursor();\n        var lineStr = cm.getLine(cur.line);\n        var re = /-?\\d+/g;\n        var match;\n        var start;\n        var end;\n        var numberStr;\n        var token;\n        while ((match = re.exec(lineStr)) !== null) {\n          token = match[0];\n          start = match.index;\n          end = start + token.length;\n          if (cur.ch < end)break;\n        }\n        if (!actionArgs.backtrack && (end <= cur.ch))return;\n        if (token) {\n          var increment = actionArgs.increase ? 1 : -1;\n          var number = parseInt(token) + (increment * actionArgs.repeat);\n          var from = Pos(cur.line, start);\n          var to = Pos(cur.line, end);\n          numberStr = number.toString();\n          cm.replaceRange(numberStr, from, to);\n        } else {\n          return;\n        }\n        cm.setCursor(Pos(cur.line, start + numberStr.length - 1));\n      },\n      repeatLastEdit: function(cm, actionArgs, vim) {\n        var lastEditInputState = vim.lastEditInputState;\n        if (!lastEditInputState) { return; }\n        var repeat = actionArgs.repeat;\n        if (repeat && actionArgs.repeatIsExplicit) {\n          vim.lastEditInputState.repeatOverride = repeat;\n        } else {\n          repeat = vim.lastEditInputState.repeatOverride || repeat;\n        }\n        repeatLastEdit(cm, vim, repeat, false /** repeatForInsert */);\n      },\n      exitInsertMode: exitInsertMode\n    };\n\n    function defineAction(name, fn) {\n      actions[name] = fn;\n    }\n\n    /*\n     * Below are miscellaneous utility functions used by vim.js\n     */\n\n    /**\n     * Clips cursor to ensure that line is within the buffer's range\n     * If includeLineBreak is true, then allow cur.ch == lineLength.\n     */\n    function clipCursorToContent(cm, cur, includeLineBreak) {\n      var line = Math.min(Math.max(cm.firstLine(), cur.line), cm.lastLine() );\n      var maxCh = lineLength(cm, line) - 1;\n      maxCh = (includeLineBreak) ? maxCh + 1 : maxCh;\n      var ch = Math.min(Math.max(0, cur.ch), maxCh);\n      return Pos(line, ch);\n    }\n    function copyArgs(args) {\n      var ret = {};\n      for (var prop in args) {\n        if (args.hasOwnProperty(prop)) {\n          ret[prop] = args[prop];\n        }\n      }\n      return ret;\n    }\n    function offsetCursor(cur, offsetLine, offsetCh) {\n      if (typeof offsetLine === 'object') {\n        offsetCh = offsetLine.ch;\n        offsetLine = offsetLine.line;\n      }\n      return Pos(cur.line + offsetLine, cur.ch + offsetCh);\n    }\n    function getOffset(anchor, head) {\n      return {\n        line: head.line - anchor.line,\n        ch: head.line - anchor.line\n      };\n    }\n    function commandMatches(keys, keyMap, context, inputState) {\n      // Partial matches are not applied. They inform the key handler\n      // that the current key sequence is a subsequence of a valid key\n      // sequence, so that the key buffer is not cleared.\n      var match, partial = [], full = [];\n      for (var i = 0; i < keyMap.length; i++) {\n        var command = keyMap[i];\n        if (context == 'insert' && command.context != 'insert' ||\n            command.context && command.context != context ||\n            inputState.operator && command.type == 'action' ||\n            !(match = commandMatch(keys, command.keys))) { continue; }\n        if (match == 'partial') { partial.push(command); }\n        if (match == 'full') { full.push(command); }\n      }\n      return {\n        partial: partial.length && partial,\n        full: full.length && full\n      };\n    }\n    function commandMatch(pressed, mapped) {\n      if (mapped.slice(-11) == '<character>') {\n        // Last character matches anything.\n        var prefixLen = mapped.length - 11;\n        var pressedPrefix = pressed.slice(0, prefixLen);\n        var mappedPrefix = mapped.slice(0, prefixLen);\n        return pressedPrefix == mappedPrefix && pressed.length > prefixLen ? 'full' :\n               mappedPrefix.indexOf(pressedPrefix) == 0 ? 'partial' : false;\n      } else {\n        return pressed == mapped ? 'full' :\n               mapped.indexOf(pressed) == 0 ? 'partial' : false;\n      }\n    }\n    function lastChar(keys) {\n      var match = /^.*(<[\\w\\-]+>)$/.exec(keys);\n      var selectedCharacter = match ? match[1] : keys.slice(-1);\n      if (selectedCharacter.length > 1){\n        switch(selectedCharacter){\n          case '<CR>':\n            selectedCharacter='\\n';\n            break;\n          case '<Space>':\n            selectedCharacter=' ';\n            break;\n          default:\n            break;\n        }\n      }\n      return selectedCharacter;\n    }\n    function repeatFn(cm, fn, repeat) {\n      return function() {\n        for (var i = 0; i < repeat; i++) {\n          fn(cm);\n        }\n      };\n    }\n    function copyCursor(cur) {\n      return Pos(cur.line, cur.ch);\n    }\n    function cursorEqual(cur1, cur2) {\n      return cur1.ch == cur2.ch && cur1.line == cur2.line;\n    }\n    function cursorIsBefore(cur1, cur2) {\n      if (cur1.line < cur2.line) {\n        return true;\n      }\n      if (cur1.line == cur2.line && cur1.ch < cur2.ch) {\n        return true;\n      }\n      return false;\n    }\n    function cursorMin(cur1, cur2) {\n      if (arguments.length > 2) {\n        cur2 = cursorMin.apply(undefined, Array.prototype.slice.call(arguments, 1));\n      }\n      return cursorIsBefore(cur1, cur2) ? cur1 : cur2;\n    }\n    function cursorMax(cur1, cur2) {\n      if (arguments.length > 2) {\n        cur2 = cursorMax.apply(undefined, Array.prototype.slice.call(arguments, 1));\n      }\n      return cursorIsBefore(cur1, cur2) ? cur2 : cur1;\n    }\n    function cursorIsBetween(cur1, cur2, cur3) {\n      // returns true if cur2 is between cur1 and cur3.\n      var cur1before2 = cursorIsBefore(cur1, cur2);\n      var cur2before3 = cursorIsBefore(cur2, cur3);\n      return cur1before2 && cur2before3;\n    }\n    function lineLength(cm, lineNum) {\n      return cm.getLine(lineNum).length;\n    }\n    function trim(s) {\n      if (s.trim) {\n        return s.trim();\n      }\n      return s.replace(/^\\s+|\\s+$/g, '');\n    }\n    function escapeRegex(s) {\n      return s.replace(/([.?*+$\\[\\]\\/\\\\(){}|\\-])/g, '\\\\$1');\n    }\n    function extendLineToColumn(cm, lineNum, column) {\n      var endCh = lineLength(cm, lineNum);\n      var spaces = new Array(column-endCh+1).join(' ');\n      cm.setCursor(Pos(lineNum, endCh));\n      cm.replaceRange(spaces, cm.getCursor());\n    }\n    // This functions selects a rectangular block\n    // of text with selectionEnd as any of its corner\n    // Height of block:\n    // Difference in selectionEnd.line and first/last selection.line\n    // Width of the block:\n    // Distance between selectionEnd.ch and any(first considered here) selection.ch\n    function selectBlock(cm, selectionEnd) {\n      var selections = [], ranges = cm.listSelections();\n      var head = copyCursor(cm.clipPos(selectionEnd));\n      var isClipped = !cursorEqual(selectionEnd, head);\n      var curHead = cm.getCursor('head');\n      var primIndex = getIndex(ranges, curHead);\n      var wasClipped = cursorEqual(ranges[primIndex].head, ranges[primIndex].anchor);\n      var max = ranges.length - 1;\n      var index = max - primIndex > primIndex ? max : 0;\n      var base = ranges[index].anchor;\n\n      var firstLine = Math.min(base.line, head.line);\n      var lastLine = Math.max(base.line, head.line);\n      var baseCh = base.ch, headCh = head.ch;\n\n      var dir = ranges[index].head.ch - baseCh;\n      var newDir = headCh - baseCh;\n      if (dir > 0 && newDir <= 0) {\n        baseCh++;\n        if (!isClipped) { headCh--; }\n      } else if (dir < 0 && newDir >= 0) {\n        baseCh--;\n        if (!wasClipped) { headCh++; }\n      } else if (dir < 0 && newDir == -1) {\n        baseCh--;\n        headCh++;\n      }\n      for (var line = firstLine; line <= lastLine; line++) {\n        var range = {anchor: new Pos(line, baseCh), head: new Pos(line, headCh)};\n        selections.push(range);\n      }\n      primIndex = head.line == lastLine ? selections.length - 1 : 0;\n      cm.setSelections(selections);\n      selectionEnd.ch = headCh;\n      base.ch = baseCh;\n      return base;\n    }\n    function selectForInsert(cm, head, height) {\n      var sel = [];\n      for (var i = 0; i < height; i++) {\n        var lineHead = offsetCursor(head, i, 0);\n        sel.push({anchor: lineHead, head: lineHead});\n      }\n      cm.setSelections(sel, 0);\n    }\n    // getIndex returns the index of the cursor in the selections.\n    function getIndex(ranges, cursor, end) {\n      for (var i = 0; i < ranges.length; i++) {\n        var atAnchor = end != 'head' && cursorEqual(ranges[i].anchor, cursor);\n        var atHead = end != 'anchor' && cursorEqual(ranges[i].head, cursor);\n        if (atAnchor || atHead) {\n          return i;\n        }\n      }\n      return -1;\n    }\n    function getSelectedAreaRange(cm, vim) {\n      var lastSelection = vim.lastSelection;\n      var getCurrentSelectedAreaRange = function() {\n        var selections = cm.listSelections();\n        var start =  selections[0];\n        var end = selections[selections.length-1];\n        var selectionStart = cursorIsBefore(start.anchor, start.head) ? start.anchor : start.head;\n        var selectionEnd = cursorIsBefore(end.anchor, end.head) ? end.head : end.anchor;\n        return [selectionStart, selectionEnd];\n      };\n      var getLastSelectedAreaRange = function() {\n        var selectionStart = cm.getCursor();\n        var selectionEnd = cm.getCursor();\n        var block = lastSelection.visualBlock;\n        if (block) {\n          var width = block.width;\n          var height = block.height;\n          selectionEnd = Pos(selectionStart.line + height, selectionStart.ch + width);\n          var selections = [];\n          // selectBlock creates a 'proper' rectangular block.\n          // We do not want that in all cases, so we manually set selections.\n          for (var i = selectionStart.line; i < selectionEnd.line; i++) {\n            var anchor = Pos(i, selectionStart.ch);\n            var head = Pos(i, selectionEnd.ch);\n            var range = {anchor: anchor, head: head};\n            selections.push(range);\n          }\n          cm.setSelections(selections);\n        } else {\n          var start = lastSelection.anchorMark.find();\n          var end = lastSelection.headMark.find();\n          var line = end.line - start.line;\n          var ch = end.ch - start.ch;\n          selectionEnd = {line: selectionEnd.line + line, ch: line ? selectionEnd.ch : ch + selectionEnd.ch};\n          if (lastSelection.visualLine) {\n            selectionStart = Pos(selectionStart.line, 0);\n            selectionEnd = Pos(selectionEnd.line, lineLength(cm, selectionEnd.line));\n          }\n          cm.setSelection(selectionStart, selectionEnd);\n        }\n        return [selectionStart, selectionEnd];\n      };\n      if (!vim.visualMode) {\n      // In case of replaying the action.\n        return getLastSelectedAreaRange();\n      } else {\n        return getCurrentSelectedAreaRange();\n      }\n    }\n    // Updates the previous selection with the current selection's values. This\n    // should only be called in visual mode.\n    function updateLastSelection(cm, vim) {\n      var anchor = vim.sel.anchor;\n      var head = vim.sel.head;\n      // To accommodate the effect of lastPastedText in the last selection\n      if (vim.lastPastedText) {\n        head = cm.posFromIndex(cm.indexFromPos(anchor) + vim.lastPastedText.length);\n        vim.lastPastedText = null;\n      }\n      vim.lastSelection = {'anchorMark': cm.setBookmark(anchor),\n                           'headMark': cm.setBookmark(head),\n                           'anchor': copyCursor(anchor),\n                           'head': copyCursor(head),\n                           'visualMode': vim.visualMode,\n                           'visualLine': vim.visualLine,\n                           'visualBlock': vim.visualBlock};\n    }\n    function expandSelection(cm, start, end) {\n      var sel = cm.state.vim.sel;\n      var head = sel.head;\n      var anchor = sel.anchor;\n      var tmp;\n      if (cursorIsBefore(end, start)) {\n        tmp = end;\n        end = start;\n        start = tmp;\n      }\n      if (cursorIsBefore(head, anchor)) {\n        head = cursorMin(start, head);\n        anchor = cursorMax(anchor, end);\n      } else {\n        anchor = cursorMin(start, anchor);\n        head = cursorMax(head, end);\n        head = offsetCursor(head, 0, -1);\n        if (head.ch == -1 && head.line != cm.firstLine()) {\n          head = Pos(head.line - 1, lineLength(cm, head.line - 1));\n        }\n      }\n      return [anchor, head];\n    }\n    /**\n     * Updates the CodeMirror selection to match the provided vim selection.\n     * If no arguments are given, it uses the current vim selection state.\n     */\n    function updateCmSelection(cm, sel, mode) {\n      var vim = cm.state.vim;\n      sel = sel || vim.sel;\n      var mode = mode ||\n        vim.visualLine ? 'line' : vim.visualBlock ? 'block' : 'char';\n      var cmSel = makeCmSelection(cm, sel, mode);\n      cm.setSelections(cmSel.ranges, cmSel.primary);\n      updateFakeCursor(cm);\n    }\n    function makeCmSelection(cm, sel, mode, exclusive) {\n      var head = copyCursor(sel.head);\n      var anchor = copyCursor(sel.anchor);\n      if (mode == 'char') {\n        var headOffset = !exclusive && !cursorIsBefore(sel.head, sel.anchor) ? 1 : 0;\n        var anchorOffset = cursorIsBefore(sel.head, sel.anchor) ? 1 : 0;\n        head = offsetCursor(sel.head, 0, headOffset);\n        anchor = offsetCursor(sel.anchor, 0, anchorOffset);\n        return {\n          ranges: [{anchor: anchor, head: head}],\n          primary: 0\n        };\n      } else if (mode == 'line') {\n        if (!cursorIsBefore(sel.head, sel.anchor)) {\n          anchor.ch = 0;\n\n          var lastLine = cm.lastLine();\n          if (head.line > lastLine) {\n            head.line = lastLine;\n          }\n          head.ch = lineLength(cm, head.line);\n        } else {\n          head.ch = 0;\n          anchor.ch = lineLength(cm, anchor.line);\n        }\n        return {\n          ranges: [{anchor: anchor, head: head}],\n          primary: 0\n        };\n      } else if (mode == 'block') {\n        var top = Math.min(anchor.line, head.line),\n            left = Math.min(anchor.ch, head.ch),\n            bottom = Math.max(anchor.line, head.line),\n            right = Math.max(anchor.ch, head.ch) + 1;\n        var height = bottom - top + 1;\n        var primary = head.line == top ? 0 : height - 1;\n        var ranges = [];\n        for (var i = 0; i < height; i++) {\n          ranges.push({\n            anchor: Pos(top + i, left),\n            head: Pos(top + i, right)\n          });\n        }\n        return {\n          ranges: ranges,\n          primary: primary\n        };\n      }\n    }\n    function getHead(cm) {\n      var cur = cm.getCursor('head');\n      if (cm.getSelection().length == 1) {\n        // Small corner case when only 1 character is selected. The \"real\"\n        // head is the left of head and anchor.\n        cur = cursorMin(cur, cm.getCursor('anchor'));\n      }\n      return cur;\n    }\n\n    /**\n     * If moveHead is set to false, the CodeMirror selection will not be\n     * touched. The caller assumes the responsibility of putting the cursor\n    * in the right place.\n     */\n    function exitVisualMode(cm, moveHead) {\n      var vim = cm.state.vim;\n      if (moveHead !== false) {\n        cm.setCursor(clipCursorToContent(cm, vim.sel.head));\n      }\n      updateLastSelection(cm, vim);\n      vim.visualMode = false;\n      vim.visualLine = false;\n      vim.visualBlock = false;\n      CodeMirror.signal(cm, \"vim-mode-change\", {mode: \"normal\"});\n      if (vim.fakeCursor) {\n        vim.fakeCursor.clear();\n      }\n    }\n\n    // Remove any trailing newlines from the selection. For\n    // example, with the caret at the start of the last word on the line,\n    // 'dw' should word, but not the newline, while 'w' should advance the\n    // caret to the first character of the next line.\n    function clipToLine(cm, curStart, curEnd) {\n      var selection = cm.getRange(curStart, curEnd);\n      // Only clip if the selection ends with trailing newline + whitespace\n      if (/\\n\\s*$/.test(selection)) {\n        var lines = selection.split('\\n');\n        // We know this is all whitespace.\n        lines.pop();\n\n        // Cases:\n        // 1. Last word is an empty line - do not clip the trailing '\\n'\n        // 2. Last word is not an empty line - clip the trailing '\\n'\n        var line;\n        // Find the line containing the last word, and clip all whitespace up\n        // to it.\n        for (var line = lines.pop(); lines.length > 0 && line && isWhiteSpaceString(line); line = lines.pop()) {\n          curEnd.line--;\n          curEnd.ch = 0;\n        }\n        // If the last word is not an empty line, clip an additional newline\n        if (line) {\n          curEnd.line--;\n          curEnd.ch = lineLength(cm, curEnd.line);\n        } else {\n          curEnd.ch = 0;\n        }\n      }\n    }\n\n    // Expand the selection to line ends.\n    function expandSelectionToLine(_cm, curStart, curEnd) {\n      curStart.ch = 0;\n      curEnd.ch = 0;\n      curEnd.line++;\n    }\n\n    function findFirstNonWhiteSpaceCharacter(text) {\n      if (!text) {\n        return 0;\n      }\n      var firstNonWS = text.search(/\\S/);\n      return firstNonWS == -1 ? text.length : firstNonWS;\n    }\n\n    function expandWordUnderCursor(cm, inclusive, _forward, bigWord, noSymbol) {\n      var cur = getHead(cm);\n      var line = cm.getLine(cur.line);\n      var idx = cur.ch;\n\n      // Seek to first word or non-whitespace character, depending on if\n      // noSymbol is true.\n      var test = noSymbol ? wordCharTest[0] : bigWordCharTest [0];\n      while (!test(line.charAt(idx))) {\n        idx++;\n        if (idx >= line.length) { return null; }\n      }\n\n      if (bigWord) {\n        test = bigWordCharTest[0];\n      } else {\n        test = wordCharTest[0];\n        if (!test(line.charAt(idx))) {\n          test = wordCharTest[1];\n        }\n      }\n\n      var end = idx, start = idx;\n      while (test(line.charAt(end)) && end < line.length) { end++; }\n      while (test(line.charAt(start)) && start >= 0) { start--; }\n      start++;\n\n      if (inclusive) {\n        // If present, include all whitespace after word.\n        // Otherwise, include all whitespace before word, except indentation.\n        var wordEnd = end;\n        while (/\\s/.test(line.charAt(end)) && end < line.length) { end++; }\n        if (wordEnd == end) {\n          var wordStart = start;\n          while (/\\s/.test(line.charAt(start - 1)) && start > 0) { start--; }\n          if (!start) { start = wordStart; }\n        }\n      }\n      return { start: Pos(cur.line, start), end: Pos(cur.line, end) };\n    }\n\n    function recordJumpPosition(cm, oldCur, newCur) {\n      if (!cursorEqual(oldCur, newCur)) {\n        vimGlobalState.jumpList.add(cm, oldCur, newCur);\n      }\n    }\n\n    function recordLastCharacterSearch(increment, args) {\n        vimGlobalState.lastCharacterSearch.increment = increment;\n        vimGlobalState.lastCharacterSearch.forward = args.forward;\n        vimGlobalState.lastCharacterSearch.selectedCharacter = args.selectedCharacter;\n    }\n\n    var symbolToMode = {\n        '(': 'bracket', ')': 'bracket', '{': 'bracket', '}': 'bracket',\n        '[': 'section', ']': 'section',\n        '*': 'comment', '/': 'comment',\n        'm': 'method', 'M': 'method',\n        '#': 'preprocess'\n    };\n    var findSymbolModes = {\n      bracket: {\n        isComplete: function(state) {\n          if (state.nextCh === state.symb) {\n            state.depth++;\n            if (state.depth >= 1)return true;\n          } else if (state.nextCh === state.reverseSymb) {\n            state.depth--;\n          }\n          return false;\n        }\n      },\n      section: {\n        init: function(state) {\n          state.curMoveThrough = true;\n          state.symb = (state.forward ? ']' : '[') === state.symb ? '{' : '}';\n        },\n        isComplete: function(state) {\n          return state.index === 0 && state.nextCh === state.symb;\n        }\n      },\n      comment: {\n        isComplete: function(state) {\n          var found = state.lastCh === '*' && state.nextCh === '/';\n          state.lastCh = state.nextCh;\n          return found;\n        }\n      },\n      // TODO: The original Vim implementation only operates on level 1 and 2.\n      // The current implementation doesn't check for code block level and\n      // therefore it operates on any levels.\n      method: {\n        init: function(state) {\n          state.symb = (state.symb === 'm' ? '{' : '}');\n          state.reverseSymb = state.symb === '{' ? '}' : '{';\n        },\n        isComplete: function(state) {\n          if (state.nextCh === state.symb)return true;\n          return false;\n        }\n      },\n      preprocess: {\n        init: function(state) {\n          state.index = 0;\n        },\n        isComplete: function(state) {\n          if (state.nextCh === '#') {\n            var token = state.lineText.match(/#(\\w+)/)[1];\n            if (token === 'endif') {\n              if (state.forward && state.depth === 0) {\n                return true;\n              }\n              state.depth++;\n            } else if (token === 'if') {\n              if (!state.forward && state.depth === 0) {\n                return true;\n              }\n              state.depth--;\n            }\n            if (token === 'else' && state.depth === 0)return true;\n          }\n          return false;\n        }\n      }\n    };\n    function findSymbol(cm, repeat, forward, symb) {\n      var cur = copyCursor(cm.getCursor());\n      var increment = forward ? 1 : -1;\n      var endLine = forward ? cm.lineCount() : -1;\n      var curCh = cur.ch;\n      var line = cur.line;\n      var lineText = cm.getLine(line);\n      var state = {\n        lineText: lineText,\n        nextCh: lineText.charAt(curCh),\n        lastCh: null,\n        index: curCh,\n        symb: symb,\n        reverseSymb: (forward ?  { ')': '(', '}': '{' } : { '(': ')', '{': '}' })[symb],\n        forward: forward,\n        depth: 0,\n        curMoveThrough: false\n      };\n      var mode = symbolToMode[symb];\n      if (!mode)return cur;\n      var init = findSymbolModes[mode].init;\n      var isComplete = findSymbolModes[mode].isComplete;\n      if (init) { init(state); }\n      while (line !== endLine && repeat) {\n        state.index += increment;\n        state.nextCh = state.lineText.charAt(state.index);\n        if (!state.nextCh) {\n          line += increment;\n          state.lineText = cm.getLine(line) || '';\n          if (increment > 0) {\n            state.index = 0;\n          } else {\n            var lineLen = state.lineText.length;\n            state.index = (lineLen > 0) ? (lineLen-1) : 0;\n          }\n          state.nextCh = state.lineText.charAt(state.index);\n        }\n        if (isComplete(state)) {\n          cur.line = line;\n          cur.ch = state.index;\n          repeat--;\n        }\n      }\n      if (state.nextCh || state.curMoveThrough) {\n        return Pos(line, state.index);\n      }\n      return cur;\n    }\n\n    /**\n     * Returns the boundaries of the next word. If the cursor in the middle of\n     * the word, then returns the boundaries of the current word, starting at\n     * the cursor. If the cursor is at the start/end of a word, and we are going\n     * forward/backward, respectively, find the boundaries of the next word.\n     *\n     * @param {CodeMirror} cm CodeMirror object.\n     * @param {Cursor} cur The cursor position.\n     * @param {boolean} forward True to search forward. False to search\n     *     backward.\n     * @param {boolean} bigWord True if punctuation count as part of the word.\n     *     False if only [a-zA-Z0-9] characters count as part of the word.\n     * @param {boolean} emptyLineIsWord True if empty lines should be treated\n     *     as words.\n     * @return {Object{from:number, to:number, line: number}} The boundaries of\n     *     the word, or null if there are no more words.\n     */\n    function findWord(cm, cur, forward, bigWord, emptyLineIsWord) {\n      var lineNum = cur.line;\n      var pos = cur.ch;\n      var line = cm.getLine(lineNum);\n      var dir = forward ? 1 : -1;\n      var charTests = bigWord ? bigWordCharTest: wordCharTest;\n\n      if (emptyLineIsWord && line == '') {\n        lineNum += dir;\n        line = cm.getLine(lineNum);\n        if (!isLine(cm, lineNum)) {\n          return null;\n        }\n        pos = (forward) ? 0 : line.length;\n      }\n\n      while (true) {\n        if (emptyLineIsWord && line == '') {\n          return { from: 0, to: 0, line: lineNum };\n        }\n        var stop = (dir > 0) ? line.length : -1;\n        var wordStart = stop, wordEnd = stop;\n        // Find bounds of next word.\n        while (pos != stop) {\n          var foundWord = false;\n          for (var i = 0; i < charTests.length && !foundWord; ++i) {\n            if (charTests[i](line.charAt(pos))) {\n              wordStart = pos;\n              // Advance to end of word.\n              while (pos != stop && charTests[i](line.charAt(pos))) {\n                pos += dir;\n              }\n              wordEnd = pos;\n              foundWord = wordStart != wordEnd;\n              if (wordStart == cur.ch && lineNum == cur.line &&\n                  wordEnd == wordStart + dir) {\n                // We started at the end of a word. Find the next one.\n                continue;\n              } else {\n                return {\n                  from: Math.min(wordStart, wordEnd + 1),\n                  to: Math.max(wordStart, wordEnd),\n                  line: lineNum };\n              }\n            }\n          }\n          if (!foundWord) {\n            pos += dir;\n          }\n        }\n        // Advance to next/prev line.\n        lineNum += dir;\n        if (!isLine(cm, lineNum)) {\n          return null;\n        }\n        line = cm.getLine(lineNum);\n        pos = (dir > 0) ? 0 : line.length;\n      }\n    }\n\n    /**\n     * @param {CodeMirror} cm CodeMirror object.\n     * @param {Pos} cur The position to start from.\n     * @param {int} repeat Number of words to move past.\n     * @param {boolean} forward True to search forward. False to search\n     *     backward.\n     * @param {boolean} wordEnd True to move to end of word. False to move to\n     *     beginning of word.\n     * @param {boolean} bigWord True if punctuation count as part of the word.\n     *     False if only alphabet characters count as part of the word.\n     * @return {Cursor} The position the cursor should move to.\n     */\n    function moveToWord(cm, cur, repeat, forward, wordEnd, bigWord) {\n      var curStart = copyCursor(cur);\n      var words = [];\n      if (forward && !wordEnd || !forward && wordEnd) {\n        repeat++;\n      }\n      // For 'e', empty lines are not considered words, go figure.\n      var emptyLineIsWord = !(forward && wordEnd);\n      for (var i = 0; i < repeat; i++) {\n        var word = findWord(cm, cur, forward, bigWord, emptyLineIsWord);\n        if (!word) {\n          var eodCh = lineLength(cm, cm.lastLine());\n          words.push(forward\n              ? {line: cm.lastLine(), from: eodCh, to: eodCh}\n              : {line: 0, from: 0, to: 0});\n          break;\n        }\n        words.push(word);\n        cur = Pos(word.line, forward ? (word.to - 1) : word.from);\n      }\n      var shortCircuit = words.length != repeat;\n      var firstWord = words[0];\n      var lastWord = words.pop();\n      if (forward && !wordEnd) {\n        // w\n        if (!shortCircuit && (firstWord.from != curStart.ch || firstWord.line != curStart.line)) {\n          // We did not start in the middle of a word. Discard the extra word at the end.\n          lastWord = words.pop();\n        }\n        return Pos(lastWord.line, lastWord.from);\n      } else if (forward && wordEnd) {\n        return Pos(lastWord.line, lastWord.to - 1);\n      } else if (!forward && wordEnd) {\n        // ge\n        if (!shortCircuit && (firstWord.to != curStart.ch || firstWord.line != curStart.line)) {\n          // We did not start in the middle of a word. Discard the extra word at the end.\n          lastWord = words.pop();\n        }\n        return Pos(lastWord.line, lastWord.to);\n      } else {\n        // b\n        return Pos(lastWord.line, lastWord.from);\n      }\n    }\n\n    function moveToCharacter(cm, repeat, forward, character) {\n      var cur = cm.getCursor();\n      var start = cur.ch;\n      var idx;\n      for (var i = 0; i < repeat; i ++) {\n        var line = cm.getLine(cur.line);\n        idx = charIdxInLine(start, line, character, forward, true);\n        if (idx == -1) {\n          return null;\n        }\n        start = idx;\n      }\n      return Pos(cm.getCursor().line, idx);\n    }\n\n    function moveToColumn(cm, repeat) {\n      // repeat is always >= 1, so repeat - 1 always corresponds\n      // to the column we want to go to.\n      var line = cm.getCursor().line;\n      return clipCursorToContent(cm, Pos(line, repeat - 1));\n    }\n\n    function updateMark(cm, vim, markName, pos) {\n      if (!inArray(markName, validMarks)) {\n        return;\n      }\n      if (vim.marks[markName]) {\n        vim.marks[markName].clear();\n      }\n      vim.marks[markName] = cm.setBookmark(pos);\n    }\n\n    function charIdxInLine(start, line, character, forward, includeChar) {\n      // Search for char in line.\n      // motion_options: {forward, includeChar}\n      // If includeChar = true, include it too.\n      // If forward = true, search forward, else search backwards.\n      // If char is not found on this line, do nothing\n      var idx;\n      if (forward) {\n        idx = line.indexOf(character, start + 1);\n        if (idx != -1 && !includeChar) {\n          idx -= 1;\n        }\n      } else {\n        idx = line.lastIndexOf(character, start - 1);\n        if (idx != -1 && !includeChar) {\n          idx += 1;\n        }\n      }\n      return idx;\n    }\n\n    function findParagraph(cm, head, repeat, dir, inclusive) {\n      var line = head.line;\n      var min = cm.firstLine();\n      var max = cm.lastLine();\n      var start, end, i = line;\n      function isEmpty(i) { return !cm.getLine(i); }\n      function isBoundary(i, dir, any) {\n        if (any) { return isEmpty(i) != isEmpty(i + dir); }\n        return !isEmpty(i) && isEmpty(i + dir);\n      }\n      if (dir) {\n        while (min <= i && i <= max && repeat > 0) {\n          if (isBoundary(i, dir)) { repeat--; }\n          i += dir;\n        }\n        return new Pos(i, 0);\n      }\n\n      var vim = cm.state.vim;\n      if (vim.visualLine && isBoundary(line, 1, true)) {\n        var anchor = vim.sel.anchor;\n        if (isBoundary(anchor.line, -1, true)) {\n          if (!inclusive || anchor.line != line) {\n            line += 1;\n          }\n        }\n      }\n      var startState = isEmpty(line);\n      for (i = line; i <= max && repeat; i++) {\n        if (isBoundary(i, 1, true)) {\n          if (!inclusive || isEmpty(i) != startState) {\n            repeat--;\n          }\n        }\n      }\n      end = new Pos(i, 0);\n      // select boundary before paragraph for the last one\n      if (i > max && !startState) { startState = true; }\n      else { inclusive = false; }\n      for (i = line; i > min; i--) {\n        if (!inclusive || isEmpty(i) == startState || i == line) {\n          if (isBoundary(i, -1, true)) { break; }\n        }\n      }\n      start = new Pos(i, 0);\n      return { start: start, end: end };\n    }\n\n    // TODO: perhaps this finagling of start and end positions belonds\n    // in codemirror/replaceRange?\n    function selectCompanionObject(cm, head, symb, inclusive) {\n      var cur = head, start, end;\n\n      var bracketRegexp = ({\n        '(': /[()]/, ')': /[()]/,\n        '[': /[[\\]]/, ']': /[[\\]]/,\n        '{': /[{}]/, '}': /[{}]/})[symb];\n      var openSym = ({\n        '(': '(', ')': '(',\n        '[': '[', ']': '[',\n        '{': '{', '}': '{'})[symb];\n      var curChar = cm.getLine(cur.line).charAt(cur.ch);\n      // Due to the behavior of scanForBracket, we need to add an offset if the\n      // cursor is on a matching open bracket.\n      var offset = curChar === openSym ? 1 : 0;\n\n      start = cm.scanForBracket(Pos(cur.line, cur.ch + offset), -1, null, {'bracketRegex': bracketRegexp});\n      end = cm.scanForBracket(Pos(cur.line, cur.ch + offset), 1, null, {'bracketRegex': bracketRegexp});\n\n      if (!start || !end) {\n        return { start: cur, end: cur };\n      }\n\n      start = start.pos;\n      end = end.pos;\n\n      if ((start.line == end.line && start.ch > end.ch)\n          || (start.line > end.line)) {\n        var tmp = start;\n        start = end;\n        end = tmp;\n      }\n\n      if (inclusive) {\n        end.ch += 1;\n      } else {\n        start.ch += 1;\n      }\n\n      return { start: start, end: end };\n    }\n\n    // Takes in a symbol and a cursor and tries to simulate text objects that\n    // have identical opening and closing symbols\n    // TODO support across multiple lines\n    function findBeginningAndEnd(cm, head, symb, inclusive) {\n      var cur = copyCursor(head);\n      var line = cm.getLine(cur.line);\n      var chars = line.split('');\n      var start, end, i, len;\n      var firstIndex = chars.indexOf(symb);\n\n      // the decision tree is to always look backwards for the beginning first,\n      // but if the cursor is in front of the first instance of the symb,\n      // then move the cursor forward\n      if (cur.ch < firstIndex) {\n        cur.ch = firstIndex;\n        // Why is this line even here???\n        // cm.setCursor(cur.line, firstIndex+1);\n      }\n      // otherwise if the cursor is currently on the closing symbol\n      else if (firstIndex < cur.ch && chars[cur.ch] == symb) {\n        end = cur.ch; // assign end to the current cursor\n        --cur.ch; // make sure to look backwards\n      }\n\n      // if we're currently on the symbol, we've got a start\n      if (chars[cur.ch] == symb && !end) {\n        start = cur.ch + 1; // assign start to ahead of the cursor\n      } else {\n        // go backwards to find the start\n        for (i = cur.ch; i > -1 && !start; i--) {\n          if (chars[i] == symb) {\n            start = i + 1;\n          }\n        }\n      }\n\n      // look forwards for the end symbol\n      if (start && !end) {\n        for (i = start, len = chars.length; i < len && !end; i++) {\n          if (chars[i] == symb) {\n            end = i;\n          }\n        }\n      }\n\n      // nothing found\n      if (!start || !end) {\n        return { start: cur, end: cur };\n      }\n\n      // include the symbols\n      if (inclusive) {\n        --start; ++end;\n      }\n\n      return {\n        start: Pos(cur.line, start),\n        end: Pos(cur.line, end)\n      };\n    }\n\n    // Search functions\n    defineOption('pcre', true, 'boolean');\n    function SearchState() {}\n    SearchState.prototype = {\n      getQuery: function() {\n        return vimGlobalState.query;\n      },\n      setQuery: function(query) {\n        vimGlobalState.query = query;\n      },\n      getOverlay: function() {\n        return this.searchOverlay;\n      },\n      setOverlay: function(overlay) {\n        this.searchOverlay = overlay;\n      },\n      isReversed: function() {\n        return vimGlobalState.isReversed;\n      },\n      setReversed: function(reversed) {\n        vimGlobalState.isReversed = reversed;\n      },\n      getScrollbarAnnotate: function() {\n        return this.annotate;\n      },\n      setScrollbarAnnotate: function(annotate) {\n        this.annotate = annotate;\n      }\n    };\n    function getSearchState(cm) {\n      var vim = cm.state.vim;\n      return vim.searchState_ || (vim.searchState_ = new SearchState());\n    }\n    function dialog(cm, template, shortText, onClose, options) {\n      if (cm.openDialog) {\n        cm.openDialog(template, onClose, { bottom: true, value: options.value,\n            onKeyDown: options.onKeyDown, onKeyUp: options.onKeyUp,\n            selectValueOnOpen: false});\n      }\n      else {\n        onClose(prompt(shortText, ''));\n      }\n    }\n    function splitBySlash(argString) {\n      var slashes = findUnescapedSlashes(argString) || [];\n      if (!slashes.length) return [];\n      var tokens = [];\n      // in case of strings like foo/bar\n      if (slashes[0] !== 0) return;\n      for (var i = 0; i < slashes.length; i++) {\n        if (typeof slashes[i] == 'number')\n          tokens.push(argString.substring(slashes[i] + 1, slashes[i+1]));\n      }\n      return tokens;\n    }\n\n    function findUnescapedSlashes(str) {\n      var escapeNextChar = false;\n      var slashes = [];\n      for (var i = 0; i < str.length; i++) {\n        var c = str.charAt(i);\n        if (!escapeNextChar && c == '/') {\n          slashes.push(i);\n        }\n        escapeNextChar = !escapeNextChar && (c == '\\\\');\n      }\n      return slashes;\n    }\n\n    // Translates a search string from ex (vim) syntax into javascript form.\n    function translateRegex(str) {\n      // When these match, add a '\\' if unescaped or remove one if escaped.\n      var specials = '|(){';\n      // Remove, but never add, a '\\' for these.\n      var unescape = '}';\n      var escapeNextChar = false;\n      var out = [];\n      for (var i = -1; i < str.length; i++) {\n        var c = str.charAt(i) || '';\n        var n = str.charAt(i+1) || '';\n        var specialComesNext = (n && specials.indexOf(n) != -1);\n        if (escapeNextChar) {\n          if (c !== '\\\\' || !specialComesNext) {\n            out.push(c);\n          }\n          escapeNextChar = false;\n        } else {\n          if (c === '\\\\') {\n            escapeNextChar = true;\n            // Treat the unescape list as special for removing, but not adding '\\'.\n            if (n && unescape.indexOf(n) != -1) {\n              specialComesNext = true;\n            }\n            // Not passing this test means removing a '\\'.\n            if (!specialComesNext || n === '\\\\') {\n              out.push(c);\n            }\n          } else {\n            out.push(c);\n            if (specialComesNext && n !== '\\\\') {\n              out.push('\\\\');\n            }\n          }\n        }\n      }\n      return out.join('');\n    }\n\n    // Translates the replace part of a search and replace from ex (vim) syntax into\n    // javascript form.  Similar to translateRegex, but additionally fixes back references\n    // (translates '\\[0..9]' to '$[0..9]') and follows different rules for escaping '$'.\n    var charUnescapes = {'\\\\n': '\\n', '\\\\r': '\\r', '\\\\t': '\\t'};\n    function translateRegexReplace(str) {\n      var escapeNextChar = false;\n      var out = [];\n      for (var i = -1; i < str.length; i++) {\n        var c = str.charAt(i) || '';\n        var n = str.charAt(i+1) || '';\n        if (charUnescapes[c + n]) {\n          out.push(charUnescapes[c+n]);\n          i++;\n        } else if (escapeNextChar) {\n          // At any point in the loop, escapeNextChar is true if the previous\n          // character was a '\\' and was not escaped.\n          out.push(c);\n          escapeNextChar = false;\n        } else {\n          if (c === '\\\\') {\n            escapeNextChar = true;\n            if ((isNumber(n) || n === '$')) {\n              out.push('$');\n            } else if (n !== '/' && n !== '\\\\') {\n              out.push('\\\\');\n            }\n          } else {\n            if (c === '$') {\n              out.push('$');\n            }\n            out.push(c);\n            if (n === '/') {\n              out.push('\\\\');\n            }\n          }\n        }\n      }\n      return out.join('');\n    }\n\n    // Unescape \\ and / in the replace part, for PCRE mode.\n    var unescapes = {'\\\\/': '/', '\\\\\\\\': '\\\\', '\\\\n': '\\n', '\\\\r': '\\r', '\\\\t': '\\t'};\n    function unescapeRegexReplace(str) {\n      var stream = new CodeMirror.StringStream(str);\n      var output = [];\n      while (!stream.eol()) {\n        // Search for \\.\n        while (stream.peek() && stream.peek() != '\\\\') {\n          output.push(stream.next());\n        }\n        var matched = false;\n        for (var matcher in unescapes) {\n          if (stream.match(matcher, true)) {\n            matched = true;\n            output.push(unescapes[matcher]);\n            break;\n          }\n        }\n        if (!matched) {\n          // Don't change anything\n          output.push(stream.next());\n        }\n      }\n      return output.join('');\n    }\n\n    /**\n     * Extract the regular expression from the query and return a Regexp object.\n     * Returns null if the query is blank.\n     * If ignoreCase is passed in, the Regexp object will have the 'i' flag set.\n     * If smartCase is passed in, and the query contains upper case letters,\n     *   then ignoreCase is overridden, and the 'i' flag will not be set.\n     * If the query contains the /i in the flag part of the regular expression,\n     *   then both ignoreCase and smartCase are ignored, and 'i' will be passed\n     *   through to the Regex object.\n     */\n    function parseQuery(query, ignoreCase, smartCase) {\n      // First update the last search register\n      var lastSearchRegister = vimGlobalState.registerController.getRegister('/');\n      lastSearchRegister.setText(query);\n      // Check if the query is already a regex.\n      if (query instanceof RegExp) { return query; }\n      // First try to extract regex + flags from the input. If no flags found,\n      // extract just the regex. IE does not accept flags directly defined in\n      // the regex string in the form /regex/flags\n      var slashes = findUnescapedSlashes(query);\n      var regexPart;\n      var forceIgnoreCase;\n      if (!slashes.length) {\n        // Query looks like 'regexp'\n        regexPart = query;\n      } else {\n        // Query looks like 'regexp/...'\n        regexPart = query.substring(0, slashes[0]);\n        var flagsPart = query.substring(slashes[0]);\n        forceIgnoreCase = (flagsPart.indexOf('i') != -1);\n      }\n      if (!regexPart) {\n        return null;\n      }\n      if (!getOption('pcre')) {\n        regexPart = translateRegex(regexPart);\n      }\n      if (smartCase) {\n        ignoreCase = (/^[^A-Z]*$/).test(regexPart);\n      }\n      var regexp = new RegExp(regexPart,\n          (ignoreCase || forceIgnoreCase) ? 'i' : undefined);\n      return regexp;\n    }\n    function showConfirm(cm, text) {\n      if (cm.openNotification) {\n        cm.openNotification('<span style=\"color: red\">' + text + '</span>',\n                            {bottom: true, duration: 5000});\n      } else {\n        alert(text);\n      }\n    }\n    function makePrompt(prefix, desc) {\n      var raw = '<span style=\"font-family: monospace; white-space: pre\">' +\n          (prefix || \"\") + '<input type=\"text\"></span>';\n      if (desc)\n        raw += ' <span style=\"color: #888\">' + desc + '</span>';\n      return raw;\n    }\n    var searchPromptDesc = '(Javascript regexp)';\n    function showPrompt(cm, options) {\n      var shortText = (options.prefix || '') + ' ' + (options.desc || '');\n      var prompt = makePrompt(options.prefix, options.desc);\n      dialog(cm, prompt, shortText, options.onClose, options);\n    }\n    function regexEqual(r1, r2) {\n      if (r1 instanceof RegExp && r2 instanceof RegExp) {\n          var props = ['global', 'multiline', 'ignoreCase', 'source'];\n          for (var i = 0; i < props.length; i++) {\n              var prop = props[i];\n              if (r1[prop] !== r2[prop]) {\n                  return false;\n              }\n          }\n          return true;\n      }\n      return false;\n    }\n    // Returns true if the query is valid.\n    function updateSearchQuery(cm, rawQuery, ignoreCase, smartCase) {\n      if (!rawQuery) {\n        return;\n      }\n      var state = getSearchState(cm);\n      var query = parseQuery(rawQuery, !!ignoreCase, !!smartCase);\n      if (!query) {\n        return;\n      }\n      highlightSearchMatches(cm, query);\n      if (regexEqual(query, state.getQuery())) {\n        return query;\n      }\n      state.setQuery(query);\n      return query;\n    }\n    function searchOverlay(query) {\n      if (query.source.charAt(0) == '^') {\n        var matchSol = true;\n      }\n      return {\n        token: function(stream) {\n          if (matchSol && !stream.sol()) {\n            stream.skipToEnd();\n            return;\n          }\n          var match = stream.match(query, false);\n          if (match) {\n            if (match[0].length == 0) {\n              // Matched empty string, skip to next.\n              stream.next();\n              return 'searching';\n            }\n            if (!stream.sol()) {\n              // Backtrack 1 to match \\b\n              stream.backUp(1);\n              if (!query.exec(stream.next() + match[0])) {\n                stream.next();\n                return null;\n              }\n            }\n            stream.match(query);\n            return 'searching';\n          }\n          while (!stream.eol()) {\n            stream.next();\n            if (stream.match(query, false)) break;\n          }\n        },\n        query: query\n      };\n    }\n    function highlightSearchMatches(cm, query) {\n      var searchState = getSearchState(cm);\n      var overlay = searchState.getOverlay();\n      if (!overlay || query != overlay.query) {\n        if (overlay) {\n          cm.removeOverlay(overlay);\n        }\n        overlay = searchOverlay(query);\n        cm.addOverlay(overlay);\n        if (cm.showMatchesOnScrollbar) {\n          if (searchState.getScrollbarAnnotate()) {\n            searchState.getScrollbarAnnotate().clear();\n          }\n          searchState.setScrollbarAnnotate(cm.showMatchesOnScrollbar(query));\n        }\n        searchState.setOverlay(overlay);\n      }\n    }\n    function findNext(cm, prev, query, repeat) {\n      if (repeat === undefined) { repeat = 1; }\n      return cm.operation(function() {\n        var pos = cm.getCursor();\n        var cursor = cm.getSearchCursor(query, pos);\n        for (var i = 0; i < repeat; i++) {\n          var found = cursor.find(prev);\n          if (i == 0 && found && cursorEqual(cursor.from(), pos)) { found = cursor.find(prev); }\n          if (!found) {\n            // SearchCursor may have returned null because it hit EOF, wrap\n            // around and try again.\n            cursor = cm.getSearchCursor(query,\n                (prev) ? Pos(cm.lastLine()) : Pos(cm.firstLine(), 0) );\n            if (!cursor.find(prev)) {\n              return;\n            }\n          }\n        }\n        return cursor.from();\n      });\n    }\n    function clearSearchHighlight(cm) {\n      var state = getSearchState(cm);\n      cm.removeOverlay(getSearchState(cm).getOverlay());\n      state.setOverlay(null);\n      if (state.getScrollbarAnnotate()) {\n        state.getScrollbarAnnotate().clear();\n        state.setScrollbarAnnotate(null);\n      }\n    }\n    /**\n     * Check if pos is in the specified range, INCLUSIVE.\n     * Range can be specified with 1 or 2 arguments.\n     * If the first range argument is an array, treat it as an array of line\n     * numbers. Match pos against any of the lines.\n     * If the first range argument is a number,\n     *   if there is only 1 range argument, check if pos has the same line\n     *       number\n     *   if there are 2 range arguments, then check if pos is in between the two\n     *       range arguments.\n     */\n    function isInRange(pos, start, end) {\n      if (typeof pos != 'number') {\n        // Assume it is a cursor position. Get the line number.\n        pos = pos.line;\n      }\n      if (start instanceof Array) {\n        return inArray(pos, start);\n      } else {\n        if (end) {\n          return (pos >= start && pos <= end);\n        } else {\n          return pos == start;\n        }\n      }\n    }\n    function getUserVisibleLines(cm) {\n      var scrollInfo = cm.getScrollInfo();\n      var occludeToleranceTop = 6;\n      var occludeToleranceBottom = 10;\n      var from = cm.coordsChar({left:0, top: occludeToleranceTop + scrollInfo.top}, 'local');\n      var bottomY = scrollInfo.clientHeight - occludeToleranceBottom + scrollInfo.top;\n      var to = cm.coordsChar({left:0, top: bottomY}, 'local');\n      return {top: from.line, bottom: to.line};\n    }\n\n    var ExCommandDispatcher = function() {\n      this.buildCommandMap_();\n    };\n    ExCommandDispatcher.prototype = {\n      processCommand: function(cm, input, opt_params) {\n        var that = this;\n        cm.operation(function () {\n          cm.curOp.isVimOp = true;\n          that._processCommand(cm, input, opt_params);\n        });\n      },\n      _processCommand: function(cm, input, opt_params) {\n        var vim = cm.state.vim;\n        var commandHistoryRegister = vimGlobalState.registerController.getRegister(':');\n        var previousCommand = commandHistoryRegister.toString();\n        if (vim.visualMode) {\n          exitVisualMode(cm);\n        }\n        var inputStream = new CodeMirror.StringStream(input);\n        // update \": with the latest command whether valid or invalid\n        commandHistoryRegister.setText(input);\n        var params = opt_params || {};\n        params.input = input;\n        try {\n          this.parseInput_(cm, inputStream, params);\n        } catch(e) {\n          showConfirm(cm, e);\n          throw e;\n        }\n        var command;\n        var commandName;\n        if (!params.commandName) {\n          // If only a line range is defined, move to the line.\n          if (params.line !== undefined) {\n            commandName = 'move';\n          }\n        } else {\n          command = this.matchCommand_(params.commandName);\n          if (command) {\n            commandName = command.name;\n            if (command.excludeFromCommandHistory) {\n              commandHistoryRegister.setText(previousCommand);\n            }\n            this.parseCommandArgs_(inputStream, params, command);\n            if (command.type == 'exToKey') {\n              // Handle Ex to Key mapping.\n              for (var i = 0; i < command.toKeys.length; i++) {\n                CodeMirror.Vim.handleKey(cm, command.toKeys[i], 'mapping');\n              }\n              return;\n            } else if (command.type == 'exToEx') {\n              // Handle Ex to Ex mapping.\n              this.processCommand(cm, command.toInput);\n              return;\n            }\n          }\n        }\n        if (!commandName) {\n          showConfirm(cm, 'Not an editor command \":' + input + '\"');\n          return;\n        }\n        try {\n          exCommands[commandName](cm, params);\n          // Possibly asynchronous commands (e.g. substitute, which might have a\n          // user confirmation), are responsible for calling the callback when\n          // done. All others have it taken care of for them here.\n          if ((!command || !command.possiblyAsync) && params.callback) {\n            params.callback();\n          }\n        } catch(e) {\n          showConfirm(cm, e);\n          throw e;\n        }\n      },\n      parseInput_: function(cm, inputStream, result) {\n        inputStream.eatWhile(':');\n        // Parse range.\n        if (inputStream.eat('%')) {\n          result.line = cm.firstLine();\n          result.lineEnd = cm.lastLine();\n        } else {\n          result.line = this.parseLineSpec_(cm, inputStream);\n          if (result.line !== undefined && inputStream.eat(',')) {\n            result.lineEnd = this.parseLineSpec_(cm, inputStream);\n          }\n        }\n\n        // Parse command name.\n        var commandMatch = inputStream.match(/^(\\w+)/);\n        if (commandMatch) {\n          result.commandName = commandMatch[1];\n        } else {\n          result.commandName = inputStream.match(/.*/)[0];\n        }\n\n        return result;\n      },\n      parseLineSpec_: function(cm, inputStream) {\n        var numberMatch = inputStream.match(/^(\\d+)/);\n        if (numberMatch) {\n          return parseInt(numberMatch[1], 10) - 1;\n        }\n        switch (inputStream.next()) {\n          case '.':\n            return cm.getCursor().line;\n          case '$':\n            return cm.lastLine();\n          case '\\'':\n            var mark = cm.state.vim.marks[inputStream.next()];\n            if (mark && mark.find()) {\n              return mark.find().line;\n            }\n            throw new Error('Mark not set');\n          default:\n            inputStream.backUp(1);\n            return undefined;\n        }\n      },\n      parseCommandArgs_: function(inputStream, params, command) {\n        if (inputStream.eol()) {\n          return;\n        }\n        params.argString = inputStream.match(/.*/)[0];\n        // Parse command-line arguments\n        var delim = command.argDelimiter || /\\s+/;\n        var args = trim(params.argString).split(delim);\n        if (args.length && args[0]) {\n          params.args = args;\n        }\n      },\n      matchCommand_: function(commandName) {\n        // Return the command in the command map that matches the shortest\n        // prefix of the passed in command name. The match is guaranteed to be\n        // unambiguous if the defaultExCommandMap's shortNames are set up\n        // correctly. (see @code{defaultExCommandMap}).\n        for (var i = commandName.length; i > 0; i--) {\n          var prefix = commandName.substring(0, i);\n          if (this.commandMap_[prefix]) {\n            var command = this.commandMap_[prefix];\n            if (command.name.indexOf(commandName) === 0) {\n              return command;\n            }\n          }\n        }\n        return null;\n      },\n      buildCommandMap_: function() {\n        this.commandMap_ = {};\n        for (var i = 0; i < defaultExCommandMap.length; i++) {\n          var command = defaultExCommandMap[i];\n          var key = command.shortName || command.name;\n          this.commandMap_[key] = command;\n        }\n      },\n      map: function(lhs, rhs, ctx) {\n        if (lhs != ':' && lhs.charAt(0) == ':') {\n          if (ctx) { throw Error('Mode not supported for ex mappings'); }\n          var commandName = lhs.substring(1);\n          if (rhs != ':' && rhs.charAt(0) == ':') {\n            // Ex to Ex mapping\n            this.commandMap_[commandName] = {\n              name: commandName,\n              type: 'exToEx',\n              toInput: rhs.substring(1),\n              user: true\n            };\n          } else {\n            // Ex to key mapping\n            this.commandMap_[commandName] = {\n              name: commandName,\n              type: 'exToKey',\n              toKeys: rhs,\n              user: true\n            };\n          }\n        } else {\n          if (rhs != ':' && rhs.charAt(0) == ':') {\n            // Key to Ex mapping.\n            var mapping = {\n              keys: lhs,\n              type: 'keyToEx',\n              exArgs: { input: rhs.substring(1) },\n              user: true};\n            if (ctx) { mapping.context = ctx; }\n            defaultKeymap.unshift(mapping);\n          } else {\n            // Key to key mapping\n            var mapping = {\n              keys: lhs,\n              type: 'keyToKey',\n              toKeys: rhs,\n              user: true\n            };\n            if (ctx) { mapping.context = ctx; }\n            defaultKeymap.unshift(mapping);\n          }\n        }\n      },\n      unmap: function(lhs, ctx) {\n        if (lhs != ':' && lhs.charAt(0) == ':') {\n          // Ex to Ex or Ex to key mapping\n          if (ctx) { throw Error('Mode not supported for ex mappings'); }\n          var commandName = lhs.substring(1);\n          if (this.commandMap_[commandName] && this.commandMap_[commandName].user) {\n            delete this.commandMap_[commandName];\n            return;\n          }\n        } else {\n          // Key to Ex or key to key mapping\n          var keys = lhs;\n          for (var i = 0; i < defaultKeymap.length; i++) {\n            if (keys == defaultKeymap[i].keys\n                && defaultKeymap[i].context === ctx\n                && defaultKeymap[i].user) {\n              defaultKeymap.splice(i, 1);\n              return;\n            }\n          }\n        }\n        throw Error('No such mapping.');\n      }\n    };\n\n    var exCommands = {\n      colorscheme: function(cm, params) {\n        if (!params.args || params.args.length < 1) {\n          showConfirm(cm, cm.getOption('theme'));\n          return;\n        }\n        cm.setOption('theme', params.args[0]);\n      },\n      map: function(cm, params, ctx) {\n        var mapArgs = params.args;\n        if (!mapArgs || mapArgs.length < 2) {\n          if (cm) {\n            showConfirm(cm, 'Invalid mapping: ' + params.input);\n          }\n          return;\n        }\n        exCommandDispatcher.map(mapArgs[0], mapArgs[1], ctx);\n      },\n      imap: function(cm, params) { this.map(cm, params, 'insert'); },\n      nmap: function(cm, params) { this.map(cm, params, 'normal'); },\n      vmap: function(cm, params) { this.map(cm, params, 'visual'); },\n      unmap: function(cm, params, ctx) {\n        var mapArgs = params.args;\n        if (!mapArgs || mapArgs.length < 1) {\n          if (cm) {\n            showConfirm(cm, 'No such mapping: ' + params.input);\n          }\n          return;\n        }\n        exCommandDispatcher.unmap(mapArgs[0], ctx);\n      },\n      move: function(cm, params) {\n        commandDispatcher.processCommand(cm, cm.state.vim, {\n            type: 'motion',\n            motion: 'moveToLineOrEdgeOfDocument',\n            motionArgs: { forward: false, explicitRepeat: true,\n              linewise: true },\n            repeatOverride: params.line+1});\n      },\n      set: function(cm, params) {\n        var setArgs = params.args;\n        // Options passed through to the setOption/getOption calls. May be passed in by the\n        // local/global versions of the set command\n        var setCfg = params.setCfg || {};\n        if (!setArgs || setArgs.length < 1) {\n          if (cm) {\n            showConfirm(cm, 'Invalid mapping: ' + params.input);\n          }\n          return;\n        }\n        var expr = setArgs[0].split('=');\n        var optionName = expr[0];\n        var value = expr[1];\n        var forceGet = false;\n\n        if (optionName.charAt(optionName.length - 1) == '?') {\n          // If post-fixed with ?, then the set is actually a get.\n          if (value) { throw Error('Trailing characters: ' + params.argString); }\n          optionName = optionName.substring(0, optionName.length - 1);\n          forceGet = true;\n        }\n        if (value === undefined && optionName.substring(0, 2) == 'no') {\n          // To set boolean options to false, the option name is prefixed with\n          // 'no'.\n          optionName = optionName.substring(2);\n          value = false;\n        }\n\n        var optionIsBoolean = options[optionName] && options[optionName].type == 'boolean';\n        if (optionIsBoolean && value == undefined) {\n          // Calling set with a boolean option sets it to true.\n          value = true;\n        }\n        // If no value is provided, then we assume this is a get.\n        if (!optionIsBoolean && value === undefined || forceGet) {\n          var oldValue = getOption(optionName, cm, setCfg);\n          if (oldValue === true || oldValue === false) {\n            showConfirm(cm, ' ' + (oldValue ? '' : 'no') + optionName);\n          } else {\n            showConfirm(cm, '  ' + optionName + '=' + oldValue);\n          }\n        } else {\n          setOption(optionName, value, cm, setCfg);\n        }\n      },\n      setlocal: function (cm, params) {\n        // setCfg is passed through to setOption\n        params.setCfg = {scope: 'local'};\n        this.set(cm, params);\n      },\n      setglobal: function (cm, params) {\n        // setCfg is passed through to setOption\n        params.setCfg = {scope: 'global'};\n        this.set(cm, params);\n      },\n      registers: function(cm, params) {\n        var regArgs = params.args;\n        var registers = vimGlobalState.registerController.registers;\n        var regInfo = '----------Registers----------<br><br>';\n        if (!regArgs) {\n          for (var registerName in registers) {\n            var text = registers[registerName].toString();\n            if (text.length) {\n              regInfo += '\"' + registerName + '    ' + text + '<br>';\n            }\n          }\n        } else {\n          var registerName;\n          regArgs = regArgs.join('');\n          for (var i = 0; i < regArgs.length; i++) {\n            registerName = regArgs.charAt(i);\n            if (!vimGlobalState.registerController.isValidRegister(registerName)) {\n              continue;\n            }\n            var register = registers[registerName] || new Register();\n            regInfo += '\"' + registerName + '    ' + register.toString() + '<br>';\n          }\n        }\n        showConfirm(cm, regInfo);\n      },\n      sort: function(cm, params) {\n        var reverse, ignoreCase, unique, number;\n        function parseArgs() {\n          if (params.argString) {\n            var args = new CodeMirror.StringStream(params.argString);\n            if (args.eat('!')) { reverse = true; }\n            if (args.eol()) { return; }\n            if (!args.eatSpace()) { return 'Invalid arguments'; }\n            var opts = args.match(/[a-z]+/);\n            if (opts) {\n              opts = opts[0];\n              ignoreCase = opts.indexOf('i') != -1;\n              unique = opts.indexOf('u') != -1;\n              var decimal = opts.indexOf('d') != -1 && 1;\n              var hex = opts.indexOf('x') != -1 && 1;\n              var octal = opts.indexOf('o') != -1 && 1;\n              if (decimal + hex + octal > 1) { return 'Invalid arguments'; }\n              number = decimal && 'decimal' || hex && 'hex' || octal && 'octal';\n            }\n            if (args.match(/\\/.*\\//)) { return 'patterns not supported'; }\n          }\n        }\n        var err = parseArgs();\n        if (err) {\n          showConfirm(cm, err + ': ' + params.argString);\n          return;\n        }\n        var lineStart = params.line || cm.firstLine();\n        var lineEnd = params.lineEnd || params.line || cm.lastLine();\n        if (lineStart == lineEnd) { return; }\n        var curStart = Pos(lineStart, 0);\n        var curEnd = Pos(lineEnd, lineLength(cm, lineEnd));\n        var text = cm.getRange(curStart, curEnd).split('\\n');\n        var numberRegex = (number == 'decimal') ? /(-?)([\\d]+)/ :\n           (number == 'hex') ? /(-?)(?:0x)?([0-9a-f]+)/i :\n           (number == 'octal') ? /([0-7]+)/ : null;\n        var radix = (number == 'decimal') ? 10 : (number == 'hex') ? 16 : (number == 'octal') ? 8 : null;\n        var numPart = [], textPart = [];\n        if (number) {\n          for (var i = 0; i < text.length; i++) {\n            if (numberRegex.exec(text[i])) {\n              numPart.push(text[i]);\n            } else {\n              textPart.push(text[i]);\n            }\n          }\n        } else {\n          textPart = text;\n        }\n        function compareFn(a, b) {\n          if (reverse) { var tmp; tmp = a; a = b; b = tmp; }\n          if (ignoreCase) { a = a.toLowerCase(); b = b.toLowerCase(); }\n          var anum = number && numberRegex.exec(a);\n          var bnum = number && numberRegex.exec(b);\n          if (!anum) { return a < b ? -1 : 1; }\n          anum = parseInt((anum[1] + anum[2]).toLowerCase(), radix);\n          bnum = parseInt((bnum[1] + bnum[2]).toLowerCase(), radix);\n          return anum - bnum;\n        }\n        numPart.sort(compareFn);\n        textPart.sort(compareFn);\n        text = (!reverse) ? textPart.concat(numPart) : numPart.concat(textPart);\n        if (unique) { // Remove duplicate lines\n          var textOld = text;\n          var lastLine;\n          text = [];\n          for (var i = 0; i < textOld.length; i++) {\n            if (textOld[i] != lastLine) {\n              text.push(textOld[i]);\n            }\n            lastLine = textOld[i];\n          }\n        }\n        cm.replaceRange(text.join('\\n'), curStart, curEnd);\n      },\n      global: function(cm, params) {\n        // a global command is of the form\n        // :[range]g/pattern/[cmd]\n        // argString holds the string /pattern/[cmd]\n        var argString = params.argString;\n        if (!argString) {\n          showConfirm(cm, 'Regular Expression missing from global');\n          return;\n        }\n        // range is specified here\n        var lineStart = (params.line !== undefined) ? params.line : cm.firstLine();\n        var lineEnd = params.lineEnd || params.line || cm.lastLine();\n        // get the tokens from argString\n        var tokens = splitBySlash(argString);\n        var regexPart = argString, cmd;\n        if (tokens.length) {\n          regexPart = tokens[0];\n          cmd = tokens.slice(1, tokens.length).join('/');\n        }\n        if (regexPart) {\n          // If regex part is empty, then use the previous query. Otherwise\n          // use the regex part as the new query.\n          try {\n           updateSearchQuery(cm, regexPart, true /** ignoreCase */,\n             true /** smartCase */);\n          } catch (e) {\n           showConfirm(cm, 'Invalid regex: ' + regexPart);\n           return;\n          }\n        }\n        // now that we have the regexPart, search for regex matches in the\n        // specified range of lines\n        var query = getSearchState(cm).getQuery();\n        var matchedLines = [], content = '';\n        for (var i = lineStart; i <= lineEnd; i++) {\n          var matched = query.test(cm.getLine(i));\n          if (matched) {\n            matchedLines.push(i+1);\n            content+= cm.getLine(i) + '<br>';\n          }\n        }\n        // if there is no [cmd], just display the list of matched lines\n        if (!cmd) {\n          showConfirm(cm, content);\n          return;\n        }\n        var index = 0;\n        var nextCommand = function() {\n          if (index < matchedLines.length) {\n            var command = matchedLines[index] + cmd;\n            exCommandDispatcher.processCommand(cm, command, {\n              callback: nextCommand\n            });\n          }\n          index++;\n        };\n        nextCommand();\n      },\n      substitute: function(cm, params) {\n        if (!cm.getSearchCursor) {\n          throw new Error('Search feature not available. Requires searchcursor.js or ' +\n              'any other getSearchCursor implementation.');\n        }\n        var argString = params.argString;\n        var tokens = argString ? splitBySlash(argString) : [];\n        var regexPart, replacePart = '', trailing, flagsPart, count;\n        var confirm = false; // Whether to confirm each replace.\n        var global = false; // True to replace all instances on a line, false to replace only 1.\n        if (tokens.length) {\n          regexPart = tokens[0];\n          replacePart = tokens[1];\n          if (replacePart !== undefined) {\n            if (getOption('pcre')) {\n              replacePart = unescapeRegexReplace(replacePart);\n            } else {\n              replacePart = translateRegexReplace(replacePart);\n            }\n            vimGlobalState.lastSubstituteReplacePart = replacePart;\n          }\n          trailing = tokens[2] ? tokens[2].split(' ') : [];\n        } else {\n          // either the argString is empty or its of the form ' hello/world'\n          // actually splitBySlash returns a list of tokens\n          // only if the string starts with a '/'\n          if (argString && argString.length) {\n            showConfirm(cm, 'Substitutions should be of the form ' +\n                ':s/pattern/replace/');\n            return;\n          }\n        }\n        // After the 3rd slash, we can have flags followed by a space followed\n        // by count.\n        if (trailing) {\n          flagsPart = trailing[0];\n          count = parseInt(trailing[1]);\n          if (flagsPart) {\n            if (flagsPart.indexOf('c') != -1) {\n              confirm = true;\n              flagsPart.replace('c', '');\n            }\n            if (flagsPart.indexOf('g') != -1) {\n              global = true;\n              flagsPart.replace('g', '');\n            }\n            regexPart = regexPart + '/' + flagsPart;\n          }\n        }\n        if (regexPart) {\n          // If regex part is empty, then use the previous query. Otherwise use\n          // the regex part as the new query.\n          try {\n            updateSearchQuery(cm, regexPart, true /** ignoreCase */,\n              true /** smartCase */);\n          } catch (e) {\n            showConfirm(cm, 'Invalid regex: ' + regexPart);\n            return;\n          }\n        }\n        replacePart = replacePart || vimGlobalState.lastSubstituteReplacePart;\n        if (replacePart === undefined) {\n          showConfirm(cm, 'No previous substitute regular expression');\n          return;\n        }\n        var state = getSearchState(cm);\n        var query = state.getQuery();\n        var lineStart = (params.line !== undefined) ? params.line : cm.getCursor().line;\n        var lineEnd = params.lineEnd || lineStart;\n        if (lineStart == cm.firstLine() && lineEnd == cm.lastLine()) {\n          lineEnd = Infinity;\n        }\n        if (count) {\n          lineStart = lineEnd;\n          lineEnd = lineStart + count - 1;\n        }\n        var startPos = clipCursorToContent(cm, Pos(lineStart, 0));\n        var cursor = cm.getSearchCursor(query, startPos);\n        doReplace(cm, confirm, global, lineStart, lineEnd, cursor, query, replacePart, params.callback);\n      },\n      redo: CodeMirror.commands.redo,\n      undo: CodeMirror.commands.undo,\n      write: function(cm) {\n        if (CodeMirror.commands.save) {\n          // If a save command is defined, call it.\n          CodeMirror.commands.save(cm);\n        } else if (cm.save) {\n          // Saves to text area if no save command is defined and cm.save() is available.\n          cm.save();\n        }\n      },\n      nohlsearch: function(cm) {\n        clearSearchHighlight(cm);\n      },\n      yank: function (cm) {\n        var cur = copyCursor(cm.getCursor());\n        var line = cur.line;\n        var lineText = cm.getLine(line);\n        vimGlobalState.registerController.pushText(\n          '0', 'yank', lineText, true, true);\n      },\n      delmarks: function(cm, params) {\n        if (!params.argString || !trim(params.argString)) {\n          showConfirm(cm, 'Argument required');\n          return;\n        }\n\n        var state = cm.state.vim;\n        var stream = new CodeMirror.StringStream(trim(params.argString));\n        while (!stream.eol()) {\n          stream.eatSpace();\n\n          // Record the streams position at the beginning of the loop for use\n          // in error messages.\n          var count = stream.pos;\n\n          if (!stream.match(/[a-zA-Z]/, false)) {\n            showConfirm(cm, 'Invalid argument: ' + params.argString.substring(count));\n            return;\n          }\n\n          var sym = stream.next();\n          // Check if this symbol is part of a range\n          if (stream.match('-', true)) {\n            // This symbol is part of a range.\n\n            // The range must terminate at an alphabetic character.\n            if (!stream.match(/[a-zA-Z]/, false)) {\n              showConfirm(cm, 'Invalid argument: ' + params.argString.substring(count));\n              return;\n            }\n\n            var startMark = sym;\n            var finishMark = stream.next();\n            // The range must terminate at an alphabetic character which\n            // shares the same case as the start of the range.\n            if (isLowerCase(startMark) && isLowerCase(finishMark) ||\n                isUpperCase(startMark) && isUpperCase(finishMark)) {\n              var start = startMark.charCodeAt(0);\n              var finish = finishMark.charCodeAt(0);\n              if (start >= finish) {\n                showConfirm(cm, 'Invalid argument: ' + params.argString.substring(count));\n                return;\n              }\n\n              // Because marks are always ASCII values, and we have\n              // determined that they are the same case, we can use\n              // their char codes to iterate through the defined range.\n              for (var j = 0; j <= finish - start; j++) {\n                var mark = String.fromCharCode(start + j);\n                delete state.marks[mark];\n              }\n            } else {\n              showConfirm(cm, 'Invalid argument: ' + startMark + '-');\n              return;\n            }\n          } else {\n            // This symbol is a valid mark, and is not part of a range.\n            delete state.marks[sym];\n          }\n        }\n      }\n    };\n\n    var exCommandDispatcher = new ExCommandDispatcher();\n\n    /**\n    * @param {CodeMirror} cm CodeMirror instance we are in.\n    * @param {boolean} confirm Whether to confirm each replace.\n    * @param {Cursor} lineStart Line to start replacing from.\n    * @param {Cursor} lineEnd Line to stop replacing at.\n    * @param {RegExp} query Query for performing matches with.\n    * @param {string} replaceWith Text to replace matches with. May contain $1,\n    *     $2, etc for replacing captured groups using Javascript replace.\n    * @param {function()} callback A callback for when the replace is done.\n    */\n    function doReplace(cm, confirm, global, lineStart, lineEnd, searchCursor, query,\n        replaceWith, callback) {\n      // Set up all the functions.\n      cm.state.vim.exMode = true;\n      var done = false;\n      var lastPos = searchCursor.from();\n      function replaceAll() {\n        cm.operation(function() {\n          while (!done) {\n            replace();\n            next();\n          }\n          stop();\n        });\n      }\n      function replace() {\n        var text = cm.getRange(searchCursor.from(), searchCursor.to());\n        var newText = text.replace(query, replaceWith);\n        searchCursor.replace(newText);\n      }\n      function next() {\n        // The below only loops to skip over multiple occurrences on the same\n        // line when 'global' is not true.\n        while(searchCursor.findNext() &&\n              isInRange(searchCursor.from(), lineStart, lineEnd)) {\n          if (!global && lastPos && searchCursor.from().line == lastPos.line) {\n            continue;\n          }\n          cm.scrollIntoView(searchCursor.from(), 30);\n          cm.setSelection(searchCursor.from(), searchCursor.to());\n          lastPos = searchCursor.from();\n          done = false;\n          return;\n        }\n        done = true;\n      }\n      function stop(close) {\n        if (close) { close(); }\n        cm.focus();\n        if (lastPos) {\n          cm.setCursor(lastPos);\n          var vim = cm.state.vim;\n          vim.exMode = false;\n          vim.lastHPos = vim.lastHSPos = lastPos.ch;\n        }\n        if (callback) { callback(); }\n      }\n      function onPromptKeyDown(e, _value, close) {\n        // Swallow all keys.\n        CodeMirror.e_stop(e);\n        var keyName = CodeMirror.keyName(e);\n        switch (keyName) {\n          case 'Y':\n            replace(); next(); break;\n          case 'N':\n            next(); break;\n          case 'A':\n            // replaceAll contains a call to close of its own. We don't want it\n            // to fire too early or multiple times.\n            var savedCallback = callback;\n            callback = undefined;\n            cm.operation(replaceAll);\n            callback = savedCallback;\n            break;\n          case 'L':\n            replace();\n            // fall through and exit.\n          case 'Q':\n          case 'Esc':\n          case 'Ctrl-C':\n          case 'Ctrl-[':\n            stop(close);\n            break;\n        }\n        if (done) { stop(close); }\n        return true;\n      }\n\n      // Actually do replace.\n      next();\n      if (done) {\n        showConfirm(cm, 'No matches for ' + query.source);\n        return;\n      }\n      if (!confirm) {\n        replaceAll();\n        if (callback) { callback(); };\n        return;\n      }\n      showPrompt(cm, {\n        prefix: 'replace with <strong>' + replaceWith + '</strong> (y/n/a/q/l)',\n        onKeyDown: onPromptKeyDown\n      });\n    }\n\n    CodeMirror.keyMap.vim = {\n      attach: attachVimMap,\n      detach: detachVimMap,\n      call: cmKey\n    };\n\n    function exitInsertMode(cm) {\n      var vim = cm.state.vim;\n      var macroModeState = vimGlobalState.macroModeState;\n      var insertModeChangeRegister = vimGlobalState.registerController.getRegister('.');\n      var isPlaying = macroModeState.isPlaying;\n      var lastChange = macroModeState.lastInsertModeChanges;\n      // In case of visual block, the insertModeChanges are not saved as a\n      // single word, so we convert them to a single word\n      // so as to update the \". register as expected in real vim.\n      var text = [];\n      if (!isPlaying) {\n        var selLength = lastChange.inVisualBlock ? vim.lastSelection.visualBlock.height : 1;\n        var changes = lastChange.changes;\n        var text = [];\n        var i = 0;\n        // In case of multiple selections in blockwise visual,\n        // the inserted text, for example: 'f<Backspace>oo', is stored as\n        // 'f', 'f', InsertModeKey 'o', 'o', 'o', 'o'. (if you have a block with 2 lines).\n        // We push the contents of the changes array as per the following:\n        // 1. In case of InsertModeKey, just increment by 1.\n        // 2. In case of a character, jump by selLength (2 in the example).\n        while (i < changes.length) {\n          // This loop will convert 'ff<bs>oooo' to 'f<bs>oo'.\n          text.push(changes[i]);\n          if (changes[i] instanceof InsertModeKey) {\n             i++;\n          } else {\n             i+= selLength;\n          }\n        }\n        lastChange.changes = text;\n        cm.off('change', onChange);\n        CodeMirror.off(cm.getInputField(), 'keydown', onKeyEventTargetKeyDown);\n      }\n      if (!isPlaying && vim.insertModeRepeat > 1) {\n        // Perform insert mode repeat for commands like 3,a and 3,o.\n        repeatLastEdit(cm, vim, vim.insertModeRepeat - 1,\n            true /** repeatForInsert */);\n        vim.lastEditInputState.repeatOverride = vim.insertModeRepeat;\n      }\n      delete vim.insertModeRepeat;\n      vim.insertMode = false;\n      cm.setCursor(cm.getCursor().line, cm.getCursor().ch-1);\n      cm.setOption('keyMap', 'vim');\n      cm.setOption('disableInput', true);\n      cm.toggleOverwrite(false); // exit replace mode if we were in it.\n      // update the \". register before exiting insert mode\n      insertModeChangeRegister.setText(lastChange.changes.join(''));\n      CodeMirror.signal(cm, \"vim-mode-change\", {mode: \"normal\"});\n      if (macroModeState.isRecording) {\n        logInsertModeChange(macroModeState);\n      }\n    }\n\n    function _mapCommand(command) {\n      defaultKeymap.unshift(command);\n    }\n\n    function mapCommand(keys, type, name, args, extra) {\n      var command = {keys: keys, type: type};\n      command[type] = name;\n      command[type + \"Args\"] = args;\n      for (var key in extra)\n        command[key] = extra[key];\n      _mapCommand(command);\n    }\n\n    // The timeout in milliseconds for the two-character ESC keymap should be\n    // adjusted according to your typing speed to prevent false positives.\n    defineOption('insertModeEscKeysTimeout', 200, 'number');\n\n    CodeMirror.keyMap['vim-insert'] = {\n      // TODO: override navigation keys so that Esc will cancel automatic\n      // indentation from o, O, i_<CR>\n      'Ctrl-N': 'autocomplete',\n      'Ctrl-P': 'autocomplete',\n      'Enter': function(cm) {\n        var fn = CodeMirror.commands.newlineAndIndentContinueComment ||\n            CodeMirror.commands.newlineAndIndent;\n        fn(cm);\n      },\n      fallthrough: ['default'],\n      attach: attachVimMap,\n      detach: detachVimMap,\n      call: cmKey\n    };\n\n    CodeMirror.keyMap['vim-replace'] = {\n      'Backspace': 'goCharLeft',\n      fallthrough: ['vim-insert'],\n      attach: attachVimMap,\n      detach: detachVimMap,\n      call: cmKey\n    };\n\n    function executeMacroRegister(cm, vim, macroModeState, registerName) {\n      var register = vimGlobalState.registerController.getRegister(registerName);\n      if (registerName == ':') {\n        // Read-only register containing last Ex command.\n        if (register.keyBuffer[0]) {\n          exCommandDispatcher.processCommand(cm, register.keyBuffer[0]);\n        }\n        macroModeState.isPlaying = false;\n        return;\n      }\n      var keyBuffer = register.keyBuffer;\n      var imc = 0;\n      macroModeState.isPlaying = true;\n      macroModeState.replaySearchQueries = register.searchQueries.slice(0);\n      for (var i = 0; i < keyBuffer.length; i++) {\n        var text = keyBuffer[i];\n        var match, key;\n        while (text) {\n          // Pull off one command key, which is either a single character\n          // or a special sequence wrapped in '<' and '>', e.g. '<Space>'.\n          match = (/<\\w+-.+?>|<\\w+>|./).exec(text);\n          key = match[0];\n          text = text.substring(match.index + key.length);\n          CodeMirror.Vim.handleKey(cm, key, 'macro');\n          if (vim.insertMode) {\n            var changes = register.insertModeChanges[imc++].changes;\n            vimGlobalState.macroModeState.lastInsertModeChanges.changes =\n                changes;\n            repeatInsertModeChanges(cm, changes, 1);\n            exitInsertMode(cm);\n          }\n        }\n      };\n      macroModeState.isPlaying = false;\n    }\n\n    function logKey(macroModeState, key) {\n      if (macroModeState.isPlaying) { return; }\n      var registerName = macroModeState.latestRegister;\n      var register = vimGlobalState.registerController.getRegister(registerName);\n      if (register) {\n        register.pushText(key);\n      }\n    }\n\n    function logInsertModeChange(macroModeState) {\n      if (macroModeState.isPlaying) { return; }\n      var registerName = macroModeState.latestRegister;\n      var register = vimGlobalState.registerController.getRegister(registerName);\n      if (register && register.pushInsertModeChanges) {\n        register.pushInsertModeChanges(macroModeState.lastInsertModeChanges);\n      }\n    }\n\n    function logSearchQuery(macroModeState, query) {\n      if (macroModeState.isPlaying) { return; }\n      var registerName = macroModeState.latestRegister;\n      var register = vimGlobalState.registerController.getRegister(registerName);\n      if (register && register.pushSearchQuery) {\n        register.pushSearchQuery(query);\n      }\n    }\n\n    /**\n     * Listens for changes made in insert mode.\n     * Should only be active in insert mode.\n     */\n    function onChange(_cm, changeObj) {\n      var macroModeState = vimGlobalState.macroModeState;\n      var lastChange = macroModeState.lastInsertModeChanges;\n      if (!macroModeState.isPlaying) {\n        while(changeObj) {\n          lastChange.expectCursorActivityForChange = true;\n          if (changeObj.origin == '+input' || changeObj.origin == 'paste'\n              || changeObj.origin === undefined /* only in testing */) {\n            var text = changeObj.text.join('\\n');\n            lastChange.changes.push(text);\n          }\n          // Change objects may be chained with next.\n          changeObj = changeObj.next;\n        }\n      }\n    }\n\n    /**\n    * Listens for any kind of cursor activity on CodeMirror.\n    */\n    function onCursorActivity(cm) {\n      var vim = cm.state.vim;\n      if (vim.insertMode) {\n        // Tracking cursor activity in insert mode (for macro support).\n        var macroModeState = vimGlobalState.macroModeState;\n        if (macroModeState.isPlaying) { return; }\n        var lastChange = macroModeState.lastInsertModeChanges;\n        if (lastChange.expectCursorActivityForChange) {\n          lastChange.expectCursorActivityForChange = false;\n        } else {\n          // Cursor moved outside the context of an edit. Reset the change.\n          lastChange.changes = [];\n        }\n      } else if (!cm.curOp.isVimOp) {\n        handleExternalSelection(cm, vim);\n      }\n      if (vim.visualMode) {\n        updateFakeCursor(cm);\n      }\n    }\n    function updateFakeCursor(cm) {\n      var vim = cm.state.vim;\n      var from = clipCursorToContent(cm, copyCursor(vim.sel.head));\n      var to = offsetCursor(from, 0, 1);\n      if (vim.fakeCursor) {\n        vim.fakeCursor.clear();\n      }\n      vim.fakeCursor = cm.markText(from, to, {className: 'cm-animate-fat-cursor'});\n    }\n    function handleExternalSelection(cm, vim) {\n      var anchor = cm.getCursor('anchor');\n      var head = cm.getCursor('head');\n      // Enter or exit visual mode to match mouse selection.\n      if (vim.visualMode && !cm.somethingSelected()) {\n        exitVisualMode(cm, false);\n      } else if (!vim.visualMode && !vim.insertMode && cm.somethingSelected()) {\n        vim.visualMode = true;\n        vim.visualLine = false;\n        CodeMirror.signal(cm, \"vim-mode-change\", {mode: \"visual\"});\n      }\n      if (vim.visualMode) {\n        // Bind CodeMirror selection model to vim selection model.\n        // Mouse selections are considered visual characterwise.\n        var headOffset = !cursorIsBefore(head, anchor) ? -1 : 0;\n        var anchorOffset = cursorIsBefore(head, anchor) ? -1 : 0;\n        head = offsetCursor(head, 0, headOffset);\n        anchor = offsetCursor(anchor, 0, anchorOffset);\n        vim.sel = {\n          anchor: anchor,\n          head: head\n        };\n        updateMark(cm, vim, '<', cursorMin(head, anchor));\n        updateMark(cm, vim, '>', cursorMax(head, anchor));\n      } else if (!vim.insertMode) {\n        // Reset lastHPos if selection was modified by something outside of vim mode e.g. by mouse.\n        vim.lastHPos = cm.getCursor().ch;\n      }\n    }\n\n    /** Wrapper for special keys pressed in insert mode */\n    function InsertModeKey(keyName) {\n      this.keyName = keyName;\n    }\n\n    /**\n    * Handles raw key down events from the text area.\n    * - Should only be active in insert mode.\n    * - For recording deletes in insert mode.\n    */\n    function onKeyEventTargetKeyDown(e) {\n      var macroModeState = vimGlobalState.macroModeState;\n      var lastChange = macroModeState.lastInsertModeChanges;\n      var keyName = CodeMirror.keyName(e);\n      if (!keyName) { return; }\n      function onKeyFound() {\n        lastChange.changes.push(new InsertModeKey(keyName));\n        return true;\n      }\n      if (keyName.indexOf('Delete') != -1 || keyName.indexOf('Backspace') != -1) {\n        CodeMirror.lookupKey(keyName, 'vim-insert', onKeyFound);\n      }\n    }\n\n    /**\n     * Repeats the last edit, which includes exactly 1 command and at most 1\n     * insert. Operator and motion commands are read from lastEditInputState,\n     * while action commands are read from lastEditActionCommand.\n     *\n     * If repeatForInsert is true, then the function was called by\n     * exitInsertMode to repeat the insert mode changes the user just made. The\n     * corresponding enterInsertMode call was made with a count.\n     */\n    function repeatLastEdit(cm, vim, repeat, repeatForInsert) {\n      var macroModeState = vimGlobalState.macroModeState;\n      macroModeState.isPlaying = true;\n      var isAction = !!vim.lastEditActionCommand;\n      var cachedInputState = vim.inputState;\n      function repeatCommand() {\n        if (isAction) {\n          commandDispatcher.processAction(cm, vim, vim.lastEditActionCommand);\n        } else {\n          commandDispatcher.evalInput(cm, vim);\n        }\n      }\n      function repeatInsert(repeat) {\n        if (macroModeState.lastInsertModeChanges.changes.length > 0) {\n          // For some reason, repeat cw in desktop VIM does not repeat\n          // insert mode changes. Will conform to that behavior.\n          repeat = !vim.lastEditActionCommand ? 1 : repeat;\n          var changeObject = macroModeState.lastInsertModeChanges;\n          repeatInsertModeChanges(cm, changeObject.changes, repeat);\n        }\n      }\n      vim.inputState = vim.lastEditInputState;\n      if (isAction && vim.lastEditActionCommand.interlaceInsertRepeat) {\n        // o and O repeat have to be interlaced with insert repeats so that the\n        // insertions appear on separate lines instead of the last line.\n        for (var i = 0; i < repeat; i++) {\n          repeatCommand();\n          repeatInsert(1);\n        }\n      } else {\n        if (!repeatForInsert) {\n          // Hack to get the cursor to end up at the right place. If I is\n          // repeated in insert mode repeat, cursor will be 1 insert\n          // change set left of where it should be.\n          repeatCommand();\n        }\n        repeatInsert(repeat);\n      }\n      vim.inputState = cachedInputState;\n      if (vim.insertMode && !repeatForInsert) {\n        // Don't exit insert mode twice. If repeatForInsert is set, then we\n        // were called by an exitInsertMode call lower on the stack.\n        exitInsertMode(cm);\n      }\n      macroModeState.isPlaying = false;\n    };\n\n    function repeatInsertModeChanges(cm, changes, repeat) {\n      function keyHandler(binding) {\n        if (typeof binding == 'string') {\n          CodeMirror.commands[binding](cm);\n        } else {\n          binding(cm);\n        }\n        return true;\n      }\n      var head = cm.getCursor('head');\n      var inVisualBlock = vimGlobalState.macroModeState.lastInsertModeChanges.inVisualBlock;\n      if (inVisualBlock) {\n        // Set up block selection again for repeating the changes.\n        var vim = cm.state.vim;\n        var lastSel = vim.lastSelection;\n        var offset = getOffset(lastSel.anchor, lastSel.head);\n        selectForInsert(cm, head, offset.line + 1);\n        repeat = cm.listSelections().length;\n        cm.setCursor(head);\n      }\n      for (var i = 0; i < repeat; i++) {\n        if (inVisualBlock) {\n          cm.setCursor(offsetCursor(head, i, 0));\n        }\n        for (var j = 0; j < changes.length; j++) {\n          var change = changes[j];\n          if (change instanceof InsertModeKey) {\n            CodeMirror.lookupKey(change.keyName, 'vim-insert', keyHandler);\n          } else {\n            var cur = cm.getCursor();\n            cm.replaceRange(change, cur, cur);\n          }\n        }\n      }\n      if (inVisualBlock) {\n        cm.setCursor(offsetCursor(head, 0, 1));\n      }\n    }\n\n    resetVimGlobalState();\n    return vimApi;\n  };\n  // Initialize Vim and make it available as an API.\n  CodeMirror.Vim = Vim();\n});\n\n},{\"../addon/dialog/dialog\":1,\"../addon/edit/matchbrackets.js\":3,\"../addon/search/searchcursor\":5,\"../lib/codemirror\":7}],7:[function(require,module,exports){\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n// This is CodeMirror (http://codemirror.net), a code editor\n// implemented in JavaScript on top of the browser's DOM.\n//\n// You can find some technical background for some of the code below\n// at http://marijnhaverbeke.nl/blog/#cm-internals .\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    module.exports = mod();\n  else if (typeof define == \"function\" && define.amd) // AMD\n    return define([], mod);\n  else // Plain browser env\n    (this || window).CodeMirror = mod();\n})(function() {\n  \"use strict\";\n\n  // BROWSER SNIFFING\n\n  // Kludges for bugs and behavior differences that can't be feature\n  // detected are enabled based on userAgent etc sniffing.\n  var userAgent = navigator.userAgent;\n  var platform = navigator.platform;\n\n  var gecko = /gecko\\/\\d/i.test(userAgent);\n  var ie_upto10 = /MSIE \\d/.test(userAgent);\n  var ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(userAgent);\n  var ie = ie_upto10 || ie_11up;\n  var ie_version = ie && (ie_upto10 ? document.documentMode || 6 : ie_11up[1]);\n  var webkit = /WebKit\\//.test(userAgent);\n  var qtwebkit = webkit && /Qt\\/\\d+\\.\\d+/.test(userAgent);\n  var chrome = /Chrome\\//.test(userAgent);\n  var presto = /Opera\\//.test(userAgent);\n  var safari = /Apple Computer/.test(navigator.vendor);\n  var mac_geMountainLion = /Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(userAgent);\n  var phantom = /PhantomJS/.test(userAgent);\n\n  var ios = /AppleWebKit/.test(userAgent) && /Mobile\\/\\w+/.test(userAgent);\n  // This is woefully incomplete. Suggestions for alternative methods welcome.\n  var mobile = ios || /Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent);\n  var mac = ios || /Mac/.test(platform);\n  var chromeOS = /\\bCrOS\\b/.test(userAgent);\n  var windows = /win/i.test(platform);\n\n  var presto_version = presto && userAgent.match(/Version\\/(\\d*\\.\\d*)/);\n  if (presto_version) presto_version = Number(presto_version[1]);\n  if (presto_version && presto_version >= 15) { presto = false; webkit = true; }\n  // Some browsers use the wrong event properties to signal cmd/ctrl on OS X\n  var flipCtrlCmd = mac && (qtwebkit || presto && (presto_version == null || presto_version < 12.11));\n  var captureRightClick = gecko || (ie && ie_version >= 9);\n\n  // Optimize some code when these features are not used.\n  var sawReadOnlySpans = false, sawCollapsedSpans = false;\n\n  // EDITOR CONSTRUCTOR\n\n  // A CodeMirror instance represents an editor. This is the object\n  // that user code is usually dealing with.\n\n  function CodeMirror(place, options) {\n    if (!(this instanceof CodeMirror)) return new CodeMirror(place, options);\n\n    this.options = options = options ? copyObj(options) : {};\n    // Determine effective options based on given values and defaults.\n    copyObj(defaults, options, false);\n    setGuttersForLineNumbers(options);\n\n    var doc = options.value;\n    if (typeof doc == \"string\") doc = new Doc(doc, options.mode, null, options.lineSeparator);\n    this.doc = doc;\n\n    var input = new CodeMirror.inputStyles[options.inputStyle](this);\n    var display = this.display = new Display(place, doc, input);\n    display.wrapper.CodeMirror = this;\n    updateGutters(this);\n    themeChanged(this);\n    if (options.lineWrapping)\n      this.display.wrapper.className += \" CodeMirror-wrap\";\n    if (options.autofocus && !mobile) display.input.focus();\n    initScrollbars(this);\n\n    this.state = {\n      keyMaps: [],  // stores maps added by addKeyMap\n      overlays: [], // highlighting overlays, as added by addOverlay\n      modeGen: 0,   // bumped when mode/overlay changes, used to invalidate highlighting info\n      overwrite: false,\n      delayingBlurEvent: false,\n      focused: false,\n      suppressEdits: false, // used to disable editing during key handlers when in readOnly mode\n      pasteIncoming: false, cutIncoming: false, // help recognize paste/cut edits in input.poll\n      selectingText: false,\n      draggingText: false,\n      highlight: new Delayed(), // stores highlight worker timeout\n      keySeq: null,  // Unfinished key sequence\n      specialChars: null\n    };\n\n    var cm = this;\n\n    // Override magic textarea content restore that IE sometimes does\n    // on our hidden textarea on reload\n    if (ie && ie_version < 11) setTimeout(function() { cm.display.input.reset(true); }, 20);\n\n    registerEventHandlers(this);\n    ensureGlobalHandlers();\n\n    startOperation(this);\n    this.curOp.forceUpdate = true;\n    attachDoc(this, doc);\n\n    if ((options.autofocus && !mobile) || cm.hasFocus())\n      setTimeout(bind(onFocus, this), 20);\n    else\n      onBlur(this);\n\n    for (var opt in optionHandlers) if (optionHandlers.hasOwnProperty(opt))\n      optionHandlers[opt](this, options[opt], Init);\n    maybeUpdateLineNumberWidth(this);\n    if (options.finishInit) options.finishInit(this);\n    for (var i = 0; i < initHooks.length; ++i) initHooks[i](this);\n    endOperation(this);\n    // Suppress optimizelegibility in Webkit, since it breaks text\n    // measuring on line wrapping boundaries.\n    if (webkit && options.lineWrapping &&\n        getComputedStyle(display.lineDiv).textRendering == \"optimizelegibility\")\n      display.lineDiv.style.textRendering = \"auto\";\n  }\n\n  // DISPLAY CONSTRUCTOR\n\n  // The display handles the DOM integration, both for input reading\n  // and content drawing. It holds references to DOM nodes and\n  // display-related state.\n\n  function Display(place, doc, input) {\n    var d = this;\n    this.input = input;\n\n    // Covers bottom-right square when both scrollbars are present.\n    d.scrollbarFiller = elt(\"div\", null, \"CodeMirror-scrollbar-filler\");\n    d.scrollbarFiller.setAttribute(\"cm-not-content\", \"true\");\n    // Covers bottom of gutter when coverGutterNextToScrollbar is on\n    // and h scrollbar is present.\n    d.gutterFiller = elt(\"div\", null, \"CodeMirror-gutter-filler\");\n    d.gutterFiller.setAttribute(\"cm-not-content\", \"true\");\n    // Will contain the actual code, positioned to cover the viewport.\n    d.lineDiv = elt(\"div\", null, \"CodeMirror-code\");\n    // Elements are added to these to represent selection and cursors.\n    d.selectionDiv = elt(\"div\", null, null, \"position: relative; z-index: 1\");\n    d.cursorDiv = elt(\"div\", null, \"CodeMirror-cursors\");\n    // A visibility: hidden element used to find the size of things.\n    d.measure = elt(\"div\", null, \"CodeMirror-measure\");\n    // When lines outside of the viewport are measured, they are drawn in this.\n    d.lineMeasure = elt(\"div\", null, \"CodeMirror-measure\");\n    // Wraps everything that needs to exist inside the vertically-padded coordinate system\n    d.lineSpace = elt(\"div\", [d.measure, d.lineMeasure, d.selectionDiv, d.cursorDiv, d.lineDiv],\n                      null, \"position: relative; outline: none\");\n    // Moved around its parent to cover visible view.\n    d.mover = elt(\"div\", [elt(\"div\", [d.lineSpace], \"CodeMirror-lines\")], null, \"position: relative\");\n    // Set to the height of the document, allowing scrolling.\n    d.sizer = elt(\"div\", [d.mover], \"CodeMirror-sizer\");\n    d.sizerWidth = null;\n    // Behavior of elts with overflow: auto and padding is\n    // inconsistent across browsers. This is used to ensure the\n    // scrollable area is big enough.\n    d.heightForcer = elt(\"div\", null, null, \"position: absolute; height: \" + scrollerGap + \"px; width: 1px;\");\n    // Will contain the gutters, if any.\n    d.gutters = elt(\"div\", null, \"CodeMirror-gutters\");\n    d.lineGutter = null;\n    // Actual scrollable element.\n    d.scroller = elt(\"div\", [d.sizer, d.heightForcer, d.gutters], \"CodeMirror-scroll\");\n    d.scroller.setAttribute(\"tabIndex\", \"-1\");\n    // The element in which the editor lives.\n    d.wrapper = elt(\"div\", [d.scrollbarFiller, d.gutterFiller, d.scroller], \"CodeMirror\");\n\n    // Work around IE7 z-index bug (not perfect, hence IE7 not really being supported)\n    if (ie && ie_version < 8) { d.gutters.style.zIndex = -1; d.scroller.style.paddingRight = 0; }\n    if (!webkit && !(gecko && mobile)) d.scroller.draggable = true;\n\n    if (place) {\n      if (place.appendChild) place.appendChild(d.wrapper);\n      else place(d.wrapper);\n    }\n\n    // Current rendered range (may be bigger than the view window).\n    d.viewFrom = d.viewTo = doc.first;\n    d.reportedViewFrom = d.reportedViewTo = doc.first;\n    // Information about the rendered lines.\n    d.view = [];\n    d.renderedView = null;\n    // Holds info about a single rendered line when it was rendered\n    // for measurement, while not in view.\n    d.externalMeasured = null;\n    // Empty space (in pixels) above the view\n    d.viewOffset = 0;\n    d.lastWrapHeight = d.lastWrapWidth = 0;\n    d.updateLineNumbers = null;\n\n    d.nativeBarWidth = d.barHeight = d.barWidth = 0;\n    d.scrollbarsClipped = false;\n\n    // Used to only resize the line number gutter when necessary (when\n    // the amount of lines crosses a boundary that makes its width change)\n    d.lineNumWidth = d.lineNumInnerWidth = d.lineNumChars = null;\n    // Set to true when a non-horizontal-scrolling line widget is\n    // added. As an optimization, line widget aligning is skipped when\n    // this is false.\n    d.alignWidgets = false;\n\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n\n    // Tracks the maximum line length so that the horizontal scrollbar\n    // can be kept static when scrolling.\n    d.maxLine = null;\n    d.maxLineLength = 0;\n    d.maxLineChanged = false;\n\n    // Used for measuring wheel scrolling granularity\n    d.wheelDX = d.wheelDY = d.wheelStartX = d.wheelStartY = null;\n\n    // True when shift is held down.\n    d.shift = false;\n\n    // Used to track whether anything happened since the context menu\n    // was opened.\n    d.selForContextMenu = null;\n\n    d.activeTouch = null;\n\n    input.init(d);\n  }\n\n  // STATE UPDATES\n\n  // Used to get the editor into a consistent state again when options change.\n\n  function loadMode(cm) {\n    cm.doc.mode = CodeMirror.getMode(cm.options, cm.doc.modeOption);\n    resetModeState(cm);\n  }\n\n  function resetModeState(cm) {\n    cm.doc.iter(function(line) {\n      if (line.stateAfter) line.stateAfter = null;\n      if (line.styles) line.styles = null;\n    });\n    cm.doc.frontier = cm.doc.first;\n    startWorker(cm, 100);\n    cm.state.modeGen++;\n    if (cm.curOp) regChange(cm);\n  }\n\n  function wrappingChanged(cm) {\n    if (cm.options.lineWrapping) {\n      addClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      cm.display.sizer.style.minWidth = \"\";\n      cm.display.sizerWidth = null;\n    } else {\n      rmClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      findMaxLine(cm);\n    }\n    estimateLineHeights(cm);\n    regChange(cm);\n    clearCaches(cm);\n    setTimeout(function(){updateScrollbars(cm);}, 100);\n  }\n\n  // Returns a function that estimates the height of a line, to use as\n  // first approximation until the line becomes visible (and is thus\n  // properly measurable).\n  function estimateHeight(cm) {\n    var th = textHeight(cm.display), wrapping = cm.options.lineWrapping;\n    var perLine = wrapping && Math.max(5, cm.display.scroller.clientWidth / charWidth(cm.display) - 3);\n    return function(line) {\n      if (lineIsHidden(cm.doc, line)) return 0;\n\n      var widgetsHeight = 0;\n      if (line.widgets) for (var i = 0; i < line.widgets.length; i++) {\n        if (line.widgets[i].height) widgetsHeight += line.widgets[i].height;\n      }\n\n      if (wrapping)\n        return widgetsHeight + (Math.ceil(line.text.length / perLine) || 1) * th;\n      else\n        return widgetsHeight + th;\n    };\n  }\n\n  function estimateLineHeights(cm) {\n    var doc = cm.doc, est = estimateHeight(cm);\n    doc.iter(function(line) {\n      var estHeight = est(line);\n      if (estHeight != line.height) updateLineHeight(line, estHeight);\n    });\n  }\n\n  function themeChanged(cm) {\n    cm.display.wrapper.className = cm.display.wrapper.className.replace(/\\s*cm-s-\\S+/g, \"\") +\n      cm.options.theme.replace(/(^|\\s)\\s*/g, \" cm-s-\");\n    clearCaches(cm);\n  }\n\n  function guttersChanged(cm) {\n    updateGutters(cm);\n    regChange(cm);\n    setTimeout(function(){alignHorizontally(cm);}, 20);\n  }\n\n  // Rebuild the gutter elements, ensure the margin to the left of the\n  // code matches their width.\n  function updateGutters(cm) {\n    var gutters = cm.display.gutters, specs = cm.options.gutters;\n    removeChildren(gutters);\n    for (var i = 0; i < specs.length; ++i) {\n      var gutterClass = specs[i];\n      var gElt = gutters.appendChild(elt(\"div\", null, \"CodeMirror-gutter \" + gutterClass));\n      if (gutterClass == \"CodeMirror-linenumbers\") {\n        cm.display.lineGutter = gElt;\n        gElt.style.width = (cm.display.lineNumWidth || 1) + \"px\";\n      }\n    }\n    gutters.style.display = i ? \"\" : \"none\";\n    updateGutterSpace(cm);\n  }\n\n  function updateGutterSpace(cm) {\n    var width = cm.display.gutters.offsetWidth;\n    cm.display.sizer.style.marginLeft = width + \"px\";\n  }\n\n  // Compute the character length of a line, taking into account\n  // collapsed ranges (see markText) that might hide parts, and join\n  // other lines onto it.\n  function lineLength(line) {\n    if (line.height == 0) return 0;\n    var len = line.text.length, merged, cur = line;\n    while (merged = collapsedSpanAtStart(cur)) {\n      var found = merged.find(0, true);\n      cur = found.from.line;\n      len += found.from.ch - found.to.ch;\n    }\n    cur = line;\n    while (merged = collapsedSpanAtEnd(cur)) {\n      var found = merged.find(0, true);\n      len -= cur.text.length - found.from.ch;\n      cur = found.to.line;\n      len += cur.text.length - found.to.ch;\n    }\n    return len;\n  }\n\n  // Find the longest line in the document.\n  function findMaxLine(cm) {\n    var d = cm.display, doc = cm.doc;\n    d.maxLine = getLine(doc, doc.first);\n    d.maxLineLength = lineLength(d.maxLine);\n    d.maxLineChanged = true;\n    doc.iter(function(line) {\n      var len = lineLength(line);\n      if (len > d.maxLineLength) {\n        d.maxLineLength = len;\n        d.maxLine = line;\n      }\n    });\n  }\n\n  // Make sure the gutters options contains the element\n  // \"CodeMirror-linenumbers\" when the lineNumbers option is true.\n  function setGuttersForLineNumbers(options) {\n    var found = indexOf(options.gutters, \"CodeMirror-linenumbers\");\n    if (found == -1 && options.lineNumbers) {\n      options.gutters = options.gutters.concat([\"CodeMirror-linenumbers\"]);\n    } else if (found > -1 && !options.lineNumbers) {\n      options.gutters = options.gutters.slice(0);\n      options.gutters.splice(found, 1);\n    }\n  }\n\n  // SCROLLBARS\n\n  // Prepare DOM reads needed to update the scrollbars. Done in one\n  // shot to minimize update/measure roundtrips.\n  function measureForScrollbars(cm) {\n    var d = cm.display, gutterW = d.gutters.offsetWidth;\n    var docH = Math.round(cm.doc.height + paddingVert(cm.display));\n    return {\n      clientHeight: d.scroller.clientHeight,\n      viewHeight: d.wrapper.clientHeight,\n      scrollWidth: d.scroller.scrollWidth, clientWidth: d.scroller.clientWidth,\n      viewWidth: d.wrapper.clientWidth,\n      barLeft: cm.options.fixedGutter ? gutterW : 0,\n      docHeight: docH,\n      scrollHeight: docH + scrollGap(cm) + d.barHeight,\n      nativeBarWidth: d.nativeBarWidth,\n      gutterWidth: gutterW\n    };\n  }\n\n  function NativeScrollbars(place, scroll, cm) {\n    this.cm = cm;\n    var vert = this.vert = elt(\"div\", [elt(\"div\", null, null, \"min-width: 1px\")], \"CodeMirror-vscrollbar\");\n    var horiz = this.horiz = elt(\"div\", [elt(\"div\", null, null, \"height: 100%; min-height: 1px\")], \"CodeMirror-hscrollbar\");\n    place(vert); place(horiz);\n\n    on(vert, \"scroll\", function() {\n      if (vert.clientHeight) scroll(vert.scrollTop, \"vertical\");\n    });\n    on(horiz, \"scroll\", function() {\n      if (horiz.clientWidth) scroll(horiz.scrollLeft, \"horizontal\");\n    });\n\n    this.checkedZeroWidth = false;\n    // Need to set a minimum width to see the scrollbar on IE7 (but must not set it on IE8).\n    if (ie && ie_version < 8) this.horiz.style.minHeight = this.vert.style.minWidth = \"18px\";\n  }\n\n  NativeScrollbars.prototype = copyObj({\n    update: function(measure) {\n      var needsH = measure.scrollWidth > measure.clientWidth + 1;\n      var needsV = measure.scrollHeight > measure.clientHeight + 1;\n      var sWidth = measure.nativeBarWidth;\n\n      if (needsV) {\n        this.vert.style.display = \"block\";\n        this.vert.style.bottom = needsH ? sWidth + \"px\" : \"0\";\n        var totalHeight = measure.viewHeight - (needsH ? sWidth : 0);\n        // A bug in IE8 can cause this value to be negative, so guard it.\n        this.vert.firstChild.style.height =\n          Math.max(0, measure.scrollHeight - measure.clientHeight + totalHeight) + \"px\";\n      } else {\n        this.vert.style.display = \"\";\n        this.vert.firstChild.style.height = \"0\";\n      }\n\n      if (needsH) {\n        this.horiz.style.display = \"block\";\n        this.horiz.style.right = needsV ? sWidth + \"px\" : \"0\";\n        this.horiz.style.left = measure.barLeft + \"px\";\n        var totalWidth = measure.viewWidth - measure.barLeft - (needsV ? sWidth : 0);\n        this.horiz.firstChild.style.width =\n          (measure.scrollWidth - measure.clientWidth + totalWidth) + \"px\";\n      } else {\n        this.horiz.style.display = \"\";\n        this.horiz.firstChild.style.width = \"0\";\n      }\n\n      if (!this.checkedZeroWidth && measure.clientHeight > 0) {\n        if (sWidth == 0) this.zeroWidthHack();\n        this.checkedZeroWidth = true;\n      }\n\n      return {right: needsV ? sWidth : 0, bottom: needsH ? sWidth : 0};\n    },\n    setScrollLeft: function(pos) {\n      if (this.horiz.scrollLeft != pos) this.horiz.scrollLeft = pos;\n      if (this.disableHoriz) this.enableZeroWidthBar(this.horiz, this.disableHoriz);\n    },\n    setScrollTop: function(pos) {\n      if (this.vert.scrollTop != pos) this.vert.scrollTop = pos;\n      if (this.disableVert) this.enableZeroWidthBar(this.vert, this.disableVert);\n    },\n    zeroWidthHack: function() {\n      var w = mac && !mac_geMountainLion ? \"12px\" : \"18px\";\n      this.horiz.style.height = this.vert.style.width = w;\n      this.horiz.style.pointerEvents = this.vert.style.pointerEvents = \"none\";\n      this.disableHoriz = new Delayed;\n      this.disableVert = new Delayed;\n    },\n    enableZeroWidthBar: function(bar, delay) {\n      bar.style.pointerEvents = \"auto\";\n      function maybeDisable() {\n        // To find out whether the scrollbar is still visible, we\n        // check whether the element under the pixel in the bottom\n        // left corner of the scrollbar box is the scrollbar box\n        // itself (when the bar is still visible) or its filler child\n        // (when the bar is hidden). If it is still visible, we keep\n        // it enabled, if it's hidden, we disable pointer events.\n        var box = bar.getBoundingClientRect();\n        var elt = document.elementFromPoint(box.left + 1, box.bottom - 1);\n        if (elt != bar) bar.style.pointerEvents = \"none\";\n        else delay.set(1000, maybeDisable);\n      }\n      delay.set(1000, maybeDisable);\n    },\n    clear: function() {\n      var parent = this.horiz.parentNode;\n      parent.removeChild(this.horiz);\n      parent.removeChild(this.vert);\n    }\n  }, NativeScrollbars.prototype);\n\n  function NullScrollbars() {}\n\n  NullScrollbars.prototype = copyObj({\n    update: function() { return {bottom: 0, right: 0}; },\n    setScrollLeft: function() {},\n    setScrollTop: function() {},\n    clear: function() {}\n  }, NullScrollbars.prototype);\n\n  CodeMirror.scrollbarModel = {\"native\": NativeScrollbars, \"null\": NullScrollbars};\n\n  function initScrollbars(cm) {\n    if (cm.display.scrollbars) {\n      cm.display.scrollbars.clear();\n      if (cm.display.scrollbars.addClass)\n        rmClass(cm.display.wrapper, cm.display.scrollbars.addClass);\n    }\n\n    cm.display.scrollbars = new CodeMirror.scrollbarModel[cm.options.scrollbarStyle](function(node) {\n      cm.display.wrapper.insertBefore(node, cm.display.scrollbarFiller);\n      // Prevent clicks in the scrollbars from killing focus\n      on(node, \"mousedown\", function() {\n        if (cm.state.focused) setTimeout(function() { cm.display.input.focus(); }, 0);\n      });\n      node.setAttribute(\"cm-not-content\", \"true\");\n    }, function(pos, axis) {\n      if (axis == \"horizontal\") setScrollLeft(cm, pos);\n      else setScrollTop(cm, pos);\n    }, cm);\n    if (cm.display.scrollbars.addClass)\n      addClass(cm.display.wrapper, cm.display.scrollbars.addClass);\n  }\n\n  function updateScrollbars(cm, measure) {\n    if (!measure) measure = measureForScrollbars(cm);\n    var startWidth = cm.display.barWidth, startHeight = cm.display.barHeight;\n    updateScrollbarsInner(cm, measure);\n    for (var i = 0; i < 4 && startWidth != cm.display.barWidth || startHeight != cm.display.barHeight; i++) {\n      if (startWidth != cm.display.barWidth && cm.options.lineWrapping)\n        updateHeightsInViewport(cm);\n      updateScrollbarsInner(cm, measureForScrollbars(cm));\n      startWidth = cm.display.barWidth; startHeight = cm.display.barHeight;\n    }\n  }\n\n  // Re-synchronize the fake scrollbars with the actual size of the\n  // content.\n  function updateScrollbarsInner(cm, measure) {\n    var d = cm.display;\n    var sizes = d.scrollbars.update(measure);\n\n    d.sizer.style.paddingRight = (d.barWidth = sizes.right) + \"px\";\n    d.sizer.style.paddingBottom = (d.barHeight = sizes.bottom) + \"px\";\n    d.heightForcer.style.borderBottom = sizes.bottom + \"px solid transparent\"\n\n    if (sizes.right && sizes.bottom) {\n      d.scrollbarFiller.style.display = \"block\";\n      d.scrollbarFiller.style.height = sizes.bottom + \"px\";\n      d.scrollbarFiller.style.width = sizes.right + \"px\";\n    } else d.scrollbarFiller.style.display = \"\";\n    if (sizes.bottom && cm.options.coverGutterNextToScrollbar && cm.options.fixedGutter) {\n      d.gutterFiller.style.display = \"block\";\n      d.gutterFiller.style.height = sizes.bottom + \"px\";\n      d.gutterFiller.style.width = measure.gutterWidth + \"px\";\n    } else d.gutterFiller.style.display = \"\";\n  }\n\n  // Compute the lines that are visible in a given viewport (defaults\n  // the the current scroll position). viewport may contain top,\n  // height, and ensure (see op.scrollToPos) properties.\n  function visibleLines(display, doc, viewport) {\n    var top = viewport && viewport.top != null ? Math.max(0, viewport.top) : display.scroller.scrollTop;\n    top = Math.floor(top - paddingTop(display));\n    var bottom = viewport && viewport.bottom != null ? viewport.bottom : top + display.wrapper.clientHeight;\n\n    var from = lineAtHeight(doc, top), to = lineAtHeight(doc, bottom);\n    // Ensure is a {from: {line, ch}, to: {line, ch}} object, and\n    // forces those lines into the viewport (if possible).\n    if (viewport && viewport.ensure) {\n      var ensureFrom = viewport.ensure.from.line, ensureTo = viewport.ensure.to.line;\n      if (ensureFrom < from) {\n        from = ensureFrom;\n        to = lineAtHeight(doc, heightAtLine(getLine(doc, ensureFrom)) + display.wrapper.clientHeight);\n      } else if (Math.min(ensureTo, doc.lastLine()) >= to) {\n        from = lineAtHeight(doc, heightAtLine(getLine(doc, ensureTo)) - display.wrapper.clientHeight);\n        to = ensureTo;\n      }\n    }\n    return {from: from, to: Math.max(to, from + 1)};\n  }\n\n  // LINE NUMBERS\n\n  // Re-align line numbers and gutter marks to compensate for\n  // horizontal scrolling.\n  function alignHorizontally(cm) {\n    var display = cm.display, view = display.view;\n    if (!display.alignWidgets && (!display.gutters.firstChild || !cm.options.fixedGutter)) return;\n    var comp = compensateForHScroll(display) - display.scroller.scrollLeft + cm.doc.scrollLeft;\n    var gutterW = display.gutters.offsetWidth, left = comp + \"px\";\n    for (var i = 0; i < view.length; i++) if (!view[i].hidden) {\n      if (cm.options.fixedGutter && view[i].gutter)\n        view[i].gutter.style.left = left;\n      var align = view[i].alignable;\n      if (align) for (var j = 0; j < align.length; j++)\n        align[j].style.left = left;\n    }\n    if (cm.options.fixedGutter)\n      display.gutters.style.left = (comp + gutterW) + \"px\";\n  }\n\n  // Used to ensure that the line number gutter is still the right\n  // size for the current document size. Returns true when an update\n  // is needed.\n  function maybeUpdateLineNumberWidth(cm) {\n    if (!cm.options.lineNumbers) return false;\n    var doc = cm.doc, last = lineNumberFor(cm.options, doc.first + doc.size - 1), display = cm.display;\n    if (last.length != display.lineNumChars) {\n      var test = display.measure.appendChild(elt(\"div\", [elt(\"div\", last)],\n                                                 \"CodeMirror-linenumber CodeMirror-gutter-elt\"));\n      var innerW = test.firstChild.offsetWidth, padding = test.offsetWidth - innerW;\n      display.lineGutter.style.width = \"\";\n      display.lineNumInnerWidth = Math.max(innerW, display.lineGutter.offsetWidth - padding) + 1;\n      display.lineNumWidth = display.lineNumInnerWidth + padding;\n      display.lineNumChars = display.lineNumInnerWidth ? last.length : -1;\n      display.lineGutter.style.width = display.lineNumWidth + \"px\";\n      updateGutterSpace(cm);\n      return true;\n    }\n    return false;\n  }\n\n  function lineNumberFor(options, i) {\n    return String(options.lineNumberFormatter(i + options.firstLineNumber));\n  }\n\n  // Computes display.scroller.scrollLeft + display.gutters.offsetWidth,\n  // but using getBoundingClientRect to get a sub-pixel-accurate\n  // result.\n  function compensateForHScroll(display) {\n    return display.scroller.getBoundingClientRect().left - display.sizer.getBoundingClientRect().left;\n  }\n\n  // DISPLAY DRAWING\n\n  function DisplayUpdate(cm, viewport, force) {\n    var display = cm.display;\n\n    this.viewport = viewport;\n    // Store some values that we'll need later (but don't want to force a relayout for)\n    this.visible = visibleLines(display, cm.doc, viewport);\n    this.editorIsHidden = !display.wrapper.offsetWidth;\n    this.wrapperHeight = display.wrapper.clientHeight;\n    this.wrapperWidth = display.wrapper.clientWidth;\n    this.oldDisplayWidth = displayWidth(cm);\n    this.force = force;\n    this.dims = getDimensions(cm);\n    this.events = [];\n  }\n\n  DisplayUpdate.prototype.signal = function(emitter, type) {\n    if (hasHandler(emitter, type))\n      this.events.push(arguments);\n  };\n  DisplayUpdate.prototype.finish = function() {\n    for (var i = 0; i < this.events.length; i++)\n      signal.apply(null, this.events[i]);\n  };\n\n  function maybeClipScrollbars(cm) {\n    var display = cm.display;\n    if (!display.scrollbarsClipped && display.scroller.offsetWidth) {\n      display.nativeBarWidth = display.scroller.offsetWidth - display.scroller.clientWidth;\n      display.heightForcer.style.height = scrollGap(cm) + \"px\";\n      display.sizer.style.marginBottom = -display.nativeBarWidth + \"px\";\n      display.sizer.style.borderRightWidth = scrollGap(cm) + \"px\";\n      display.scrollbarsClipped = true;\n    }\n  }\n\n  // Does the actual updating of the line display. Bails out\n  // (returning false) when there is nothing to be done and forced is\n  // false.\n  function updateDisplayIfNeeded(cm, update) {\n    var display = cm.display, doc = cm.doc;\n\n    if (update.editorIsHidden) {\n      resetView(cm);\n      return false;\n    }\n\n    // Bail out if the visible area is already rendered and nothing changed.\n    if (!update.force &&\n        update.visible.from >= display.viewFrom && update.visible.to <= display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo) &&\n        display.renderedView == display.view && countDirtyView(cm) == 0)\n      return false;\n\n    if (maybeUpdateLineNumberWidth(cm)) {\n      resetView(cm);\n      update.dims = getDimensions(cm);\n    }\n\n    // Compute a suitable new viewport (from & to)\n    var end = doc.first + doc.size;\n    var from = Math.max(update.visible.from - cm.options.viewportMargin, doc.first);\n    var to = Math.min(end, update.visible.to + cm.options.viewportMargin);\n    if (display.viewFrom < from && from - display.viewFrom < 20) from = Math.max(doc.first, display.viewFrom);\n    if (display.viewTo > to && display.viewTo - to < 20) to = Math.min(end, display.viewTo);\n    if (sawCollapsedSpans) {\n      from = visualLineNo(cm.doc, from);\n      to = visualLineEndNo(cm.doc, to);\n    }\n\n    var different = from != display.viewFrom || to != display.viewTo ||\n      display.lastWrapHeight != update.wrapperHeight || display.lastWrapWidth != update.wrapperWidth;\n    adjustView(cm, from, to);\n\n    display.viewOffset = heightAtLine(getLine(cm.doc, display.viewFrom));\n    // Position the mover div to align with the current scroll position\n    cm.display.mover.style.top = display.viewOffset + \"px\";\n\n    var toUpdate = countDirtyView(cm);\n    if (!different && toUpdate == 0 && !update.force && display.renderedView == display.view &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo))\n      return false;\n\n    // For big changes, we hide the enclosing element during the\n    // update, since that speeds up the operations on most browsers.\n    var focused = activeElt();\n    if (toUpdate > 4) display.lineDiv.style.display = \"none\";\n    patchDisplay(cm, display.updateLineNumbers, update.dims);\n    if (toUpdate > 4) display.lineDiv.style.display = \"\";\n    display.renderedView = display.view;\n    // There might have been a widget with a focused element that got\n    // hidden or updated, if so re-focus it.\n    if (focused && activeElt() != focused && focused.offsetHeight) focused.focus();\n\n    // Prevent selection and cursors from interfering with the scroll\n    // width and height.\n    removeChildren(display.cursorDiv);\n    removeChildren(display.selectionDiv);\n    display.gutters.style.height = display.sizer.style.minHeight = 0;\n\n    if (different) {\n      display.lastWrapHeight = update.wrapperHeight;\n      display.lastWrapWidth = update.wrapperWidth;\n      startWorker(cm, 400);\n    }\n\n    display.updateLineNumbers = null;\n\n    return true;\n  }\n\n  function postUpdateDisplay(cm, update) {\n    var viewport = update.viewport;\n\n    for (var first = true;; first = false) {\n      if (!first || !cm.options.lineWrapping || update.oldDisplayWidth == displayWidth(cm)) {\n        // Clip forced viewport to actual scrollable area.\n        if (viewport && viewport.top != null)\n          viewport = {top: Math.min(cm.doc.height + paddingVert(cm.display) - displayHeight(cm), viewport.top)};\n        // Updated line heights might result in the drawn area not\n        // actually covering the viewport. Keep looping until it does.\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n        if (update.visible.from >= cm.display.viewFrom && update.visible.to <= cm.display.viewTo)\n          break;\n      }\n      if (!updateDisplayIfNeeded(cm, update)) break;\n      updateHeightsInViewport(cm);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n    }\n\n    update.signal(cm, \"update\", cm);\n    if (cm.display.viewFrom != cm.display.reportedViewFrom || cm.display.viewTo != cm.display.reportedViewTo) {\n      update.signal(cm, \"viewportChange\", cm, cm.display.viewFrom, cm.display.viewTo);\n      cm.display.reportedViewFrom = cm.display.viewFrom; cm.display.reportedViewTo = cm.display.viewTo;\n    }\n  }\n\n  function updateDisplaySimple(cm, viewport) {\n    var update = new DisplayUpdate(cm, viewport);\n    if (updateDisplayIfNeeded(cm, update)) {\n      updateHeightsInViewport(cm);\n      postUpdateDisplay(cm, update);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.finish();\n    }\n  }\n\n  function setDocumentHeight(cm, measure) {\n    cm.display.sizer.style.minHeight = measure.docHeight + \"px\";\n    cm.display.heightForcer.style.top = measure.docHeight + \"px\";\n    cm.display.gutters.style.height = (measure.docHeight + cm.display.barHeight + scrollGap(cm)) + \"px\";\n  }\n\n  // Read the actual heights of the rendered lines, and update their\n  // stored heights to match.\n  function updateHeightsInViewport(cm) {\n    var display = cm.display;\n    var prevBottom = display.lineDiv.offsetTop;\n    for (var i = 0; i < display.view.length; i++) {\n      var cur = display.view[i], height;\n      if (cur.hidden) continue;\n      if (ie && ie_version < 8) {\n        var bot = cur.node.offsetTop + cur.node.offsetHeight;\n        height = bot - prevBottom;\n        prevBottom = bot;\n      } else {\n        var box = cur.node.getBoundingClientRect();\n        height = box.bottom - box.top;\n      }\n      var diff = cur.line.height - height;\n      if (height < 2) height = textHeight(display);\n      if (diff > .001 || diff < -.001) {\n        updateLineHeight(cur.line, height);\n        updateWidgetHeight(cur.line);\n        if (cur.rest) for (var j = 0; j < cur.rest.length; j++)\n          updateWidgetHeight(cur.rest[j]);\n      }\n    }\n  }\n\n  // Read and store the height of line widgets associated with the\n  // given line.\n  function updateWidgetHeight(line) {\n    if (line.widgets) for (var i = 0; i < line.widgets.length; ++i)\n      line.widgets[i].height = line.widgets[i].node.parentNode.offsetHeight;\n  }\n\n  // Do a bulk-read of the DOM positions and sizes needed to draw the\n  // view, so that we don't interleave reading and writing to the DOM.\n  function getDimensions(cm) {\n    var d = cm.display, left = {}, width = {};\n    var gutterLeft = d.gutters.clientLeft;\n    for (var n = d.gutters.firstChild, i = 0; n; n = n.nextSibling, ++i) {\n      left[cm.options.gutters[i]] = n.offsetLeft + n.clientLeft + gutterLeft;\n      width[cm.options.gutters[i]] = n.clientWidth;\n    }\n    return {fixedPos: compensateForHScroll(d),\n            gutterTotalWidth: d.gutters.offsetWidth,\n            gutterLeft: left,\n            gutterWidth: width,\n            wrapperWidth: d.wrapper.clientWidth};\n  }\n\n  // Sync the actual display DOM structure with display.view, removing\n  // nodes for lines that are no longer in view, and creating the ones\n  // that are not there yet, and updating the ones that are out of\n  // date.\n  function patchDisplay(cm, updateNumbersFrom, dims) {\n    var display = cm.display, lineNumbers = cm.options.lineNumbers;\n    var container = display.lineDiv, cur = container.firstChild;\n\n    function rm(node) {\n      var next = node.nextSibling;\n      // Works around a throw-scroll bug in OS X Webkit\n      if (webkit && mac && cm.display.currentWheelTarget == node)\n        node.style.display = \"none\";\n      else\n        node.parentNode.removeChild(node);\n      return next;\n    }\n\n    var view = display.view, lineN = display.viewFrom;\n    // Loop over the elements in the view, syncing cur (the DOM nodes\n    // in display.lineDiv) with the view as we go.\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (lineView.hidden) {\n      } else if (!lineView.node || lineView.node.parentNode != container) { // Not drawn yet\n        var node = buildLineElement(cm, lineView, lineN, dims);\n        container.insertBefore(node, cur);\n      } else { // Already drawn\n        while (cur != lineView.node) cur = rm(cur);\n        var updateNumber = lineNumbers && updateNumbersFrom != null &&\n          updateNumbersFrom <= lineN && lineView.lineNumber;\n        if (lineView.changes) {\n          if (indexOf(lineView.changes, \"gutter\") > -1) updateNumber = false;\n          updateLineForChanges(cm, lineView, lineN, dims);\n        }\n        if (updateNumber) {\n          removeChildren(lineView.lineNumber);\n          lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options, lineN)));\n        }\n        cur = lineView.node.nextSibling;\n      }\n      lineN += lineView.size;\n    }\n    while (cur) cur = rm(cur);\n  }\n\n  // When an aspect of a line changes, a string is added to\n  // lineView.changes. This updates the relevant part of the line's\n  // DOM structure.\n  function updateLineForChanges(cm, lineView, lineN, dims) {\n    for (var j = 0; j < lineView.changes.length; j++) {\n      var type = lineView.changes[j];\n      if (type == \"text\") updateLineText(cm, lineView);\n      else if (type == \"gutter\") updateLineGutter(cm, lineView, lineN, dims);\n      else if (type == \"class\") updateLineClasses(lineView);\n      else if (type == \"widget\") updateLineWidgets(cm, lineView, dims);\n    }\n    lineView.changes = null;\n  }\n\n  // Lines with gutter elements, widgets or a background class need to\n  // be wrapped, and have the extra elements added to the wrapper div\n  function ensureLineWrapped(lineView) {\n    if (lineView.node == lineView.text) {\n      lineView.node = elt(\"div\", null, null, \"position: relative\");\n      if (lineView.text.parentNode)\n        lineView.text.parentNode.replaceChild(lineView.node, lineView.text);\n      lineView.node.appendChild(lineView.text);\n      if (ie && ie_version < 8) lineView.node.style.zIndex = 2;\n    }\n    return lineView.node;\n  }\n\n  function updateLineBackground(lineView) {\n    var cls = lineView.bgClass ? lineView.bgClass + \" \" + (lineView.line.bgClass || \"\") : lineView.line.bgClass;\n    if (cls) cls += \" CodeMirror-linebackground\";\n    if (lineView.background) {\n      if (cls) lineView.background.className = cls;\n      else { lineView.background.parentNode.removeChild(lineView.background); lineView.background = null; }\n    } else if (cls) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.background = wrap.insertBefore(elt(\"div\", null, cls), wrap.firstChild);\n    }\n  }\n\n  // Wrapper around buildLineContent which will reuse the structure\n  // in display.externalMeasured when possible.\n  function getLineContent(cm, lineView) {\n    var ext = cm.display.externalMeasured;\n    if (ext && ext.line == lineView.line) {\n      cm.display.externalMeasured = null;\n      lineView.measure = ext.measure;\n      return ext.built;\n    }\n    return buildLineContent(cm, lineView);\n  }\n\n  // Redraw the line's text. Interacts with the background and text\n  // classes because the mode may output tokens that influence these\n  // classes.\n  function updateLineText(cm, lineView) {\n    var cls = lineView.text.className;\n    var built = getLineContent(cm, lineView);\n    if (lineView.text == lineView.node) lineView.node = built.pre;\n    lineView.text.parentNode.replaceChild(built.pre, lineView.text);\n    lineView.text = built.pre;\n    if (built.bgClass != lineView.bgClass || built.textClass != lineView.textClass) {\n      lineView.bgClass = built.bgClass;\n      lineView.textClass = built.textClass;\n      updateLineClasses(lineView);\n    } else if (cls) {\n      lineView.text.className = cls;\n    }\n  }\n\n  function updateLineClasses(lineView) {\n    updateLineBackground(lineView);\n    if (lineView.line.wrapClass)\n      ensureLineWrapped(lineView).className = lineView.line.wrapClass;\n    else if (lineView.node != lineView.text)\n      lineView.node.className = \"\";\n    var textClass = lineView.textClass ? lineView.textClass + \" \" + (lineView.line.textClass || \"\") : lineView.line.textClass;\n    lineView.text.className = textClass || \"\";\n  }\n\n  function updateLineGutter(cm, lineView, lineN, dims) {\n    if (lineView.gutter) {\n      lineView.node.removeChild(lineView.gutter);\n      lineView.gutter = null;\n    }\n    if (lineView.gutterBackground) {\n      lineView.node.removeChild(lineView.gutterBackground);\n      lineView.gutterBackground = null;\n    }\n    if (lineView.line.gutterClass) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.gutterBackground = elt(\"div\", null, \"CodeMirror-gutter-background \" + lineView.line.gutterClass,\n                                      \"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) +\n                                      \"px; width: \" + dims.gutterTotalWidth + \"px\");\n      wrap.insertBefore(lineView.gutterBackground, lineView.text);\n    }\n    var markers = lineView.line.gutterMarkers;\n    if (cm.options.lineNumbers || markers) {\n      var wrap = ensureLineWrapped(lineView);\n      var gutterWrap = lineView.gutter = elt(\"div\", null, \"CodeMirror-gutter-wrapper\", \"left: \" +\n                                             (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px\");\n      cm.display.input.setUneditable(gutterWrap);\n      wrap.insertBefore(gutterWrap, lineView.text);\n      if (lineView.line.gutterClass)\n        gutterWrap.className += \" \" + lineView.line.gutterClass;\n      if (cm.options.lineNumbers && (!markers || !markers[\"CodeMirror-linenumbers\"]))\n        lineView.lineNumber = gutterWrap.appendChild(\n          elt(\"div\", lineNumberFor(cm.options, lineN),\n              \"CodeMirror-linenumber CodeMirror-gutter-elt\",\n              \"left: \" + dims.gutterLeft[\"CodeMirror-linenumbers\"] + \"px; width: \"\n              + cm.display.lineNumInnerWidth + \"px\"));\n      if (markers) for (var k = 0; k < cm.options.gutters.length; ++k) {\n        var id = cm.options.gutters[k], found = markers.hasOwnProperty(id) && markers[id];\n        if (found)\n          gutterWrap.appendChild(elt(\"div\", [found], \"CodeMirror-gutter-elt\", \"left: \" +\n                                     dims.gutterLeft[id] + \"px; width: \" + dims.gutterWidth[id] + \"px\"));\n      }\n    }\n  }\n\n  function updateLineWidgets(cm, lineView, dims) {\n    if (lineView.alignable) lineView.alignable = null;\n    for (var node = lineView.node.firstChild, next; node; node = next) {\n      var next = node.nextSibling;\n      if (node.className == \"CodeMirror-linewidget\")\n        lineView.node.removeChild(node);\n    }\n    insertLineWidgets(cm, lineView, dims);\n  }\n\n  // Build a line's DOM representation from scratch\n  function buildLineElement(cm, lineView, lineN, dims) {\n    var built = getLineContent(cm, lineView);\n    lineView.text = lineView.node = built.pre;\n    if (built.bgClass) lineView.bgClass = built.bgClass;\n    if (built.textClass) lineView.textClass = built.textClass;\n\n    updateLineClasses(lineView);\n    updateLineGutter(cm, lineView, lineN, dims);\n    insertLineWidgets(cm, lineView, dims);\n    return lineView.node;\n  }\n\n  // A lineView may contain multiple logical lines (when merged by\n  // collapsed spans). The widgets for all of them need to be drawn.\n  function insertLineWidgets(cm, lineView, dims) {\n    insertLineWidgetsFor(cm, lineView.line, lineView, dims, true);\n    if (lineView.rest) for (var i = 0; i < lineView.rest.length; i++)\n      insertLineWidgetsFor(cm, lineView.rest[i], lineView, dims, false);\n  }\n\n  function insertLineWidgetsFor(cm, line, lineView, dims, allowAbove) {\n    if (!line.widgets) return;\n    var wrap = ensureLineWrapped(lineView);\n    for (var i = 0, ws = line.widgets; i < ws.length; ++i) {\n      var widget = ws[i], node = elt(\"div\", [widget.node], \"CodeMirror-linewidget\");\n      if (!widget.handleMouseEvents) node.setAttribute(\"cm-ignore-events\", \"true\");\n      positionLineWidget(widget, node, lineView, dims);\n      cm.display.input.setUneditable(node);\n      if (allowAbove && widget.above)\n        wrap.insertBefore(node, lineView.gutter || lineView.text);\n      else\n        wrap.appendChild(node);\n      signalLater(widget, \"redraw\");\n    }\n  }\n\n  function positionLineWidget(widget, node, lineView, dims) {\n    if (widget.noHScroll) {\n      (lineView.alignable || (lineView.alignable = [])).push(node);\n      var width = dims.wrapperWidth;\n      node.style.left = dims.fixedPos + \"px\";\n      if (!widget.coverGutter) {\n        width -= dims.gutterTotalWidth;\n        node.style.paddingLeft = dims.gutterTotalWidth + \"px\";\n      }\n      node.style.width = width + \"px\";\n    }\n    if (widget.coverGutter) {\n      node.style.zIndex = 5;\n      node.style.position = \"relative\";\n      if (!widget.noHScroll) node.style.marginLeft = -dims.gutterTotalWidth + \"px\";\n    }\n  }\n\n  // POSITION OBJECT\n\n  // A Pos instance represents a position within the text.\n  var Pos = CodeMirror.Pos = function(line, ch) {\n    if (!(this instanceof Pos)) return new Pos(line, ch);\n    this.line = line; this.ch = ch;\n  };\n\n  // Compare two positions, return 0 if they are the same, a negative\n  // number when a is less, and a positive number otherwise.\n  var cmp = CodeMirror.cmpPos = function(a, b) { return a.line - b.line || a.ch - b.ch; };\n\n  function copyPos(x) {return Pos(x.line, x.ch);}\n  function maxPos(a, b) { return cmp(a, b) < 0 ? b : a; }\n  function minPos(a, b) { return cmp(a, b) < 0 ? a : b; }\n\n  // INPUT HANDLING\n\n  function ensureFocus(cm) {\n    if (!cm.state.focused) { cm.display.input.focus(); onFocus(cm); }\n  }\n\n  // This will be set to a {lineWise: bool, text: [string]} object, so\n  // that, when pasting, we know what kind of selections the copied\n  // text was made out of.\n  var lastCopied = null;\n\n  function applyTextInput(cm, inserted, deleted, sel, origin) {\n    var doc = cm.doc;\n    cm.display.shift = false;\n    if (!sel) sel = doc.sel;\n\n    var paste = cm.state.pasteIncoming || origin == \"paste\";\n    var textLines = doc.splitLines(inserted), multiPaste = null\n    // When pasing N lines into N selections, insert one line per selection\n    if (paste && sel.ranges.length > 1) {\n      if (lastCopied && lastCopied.text.join(\"\\n\") == inserted) {\n        if (sel.ranges.length % lastCopied.text.length == 0) {\n          multiPaste = [];\n          for (var i = 0; i < lastCopied.text.length; i++)\n            multiPaste.push(doc.splitLines(lastCopied.text[i]));\n        }\n      } else if (textLines.length == sel.ranges.length) {\n        multiPaste = map(textLines, function(l) { return [l]; });\n      }\n    }\n\n    // Normal behavior is to insert the new text into every selection\n    for (var i = sel.ranges.length - 1; i >= 0; i--) {\n      var range = sel.ranges[i];\n      var from = range.from(), to = range.to();\n      if (range.empty()) {\n        if (deleted && deleted > 0) // Handle deletion\n          from = Pos(from.line, from.ch - deleted);\n        else if (cm.state.overwrite && !paste) // Handle overwrite\n          to = Pos(to.line, Math.min(getLine(doc, to.line).text.length, to.ch + lst(textLines).length));\n        else if (lastCopied && lastCopied.lineWise && lastCopied.text.join(\"\\n\") == inserted)\n          from = to = Pos(from.line, 0)\n      }\n      var updateInput = cm.curOp.updateInput;\n      var changeEvent = {from: from, to: to, text: multiPaste ? multiPaste[i % multiPaste.length] : textLines,\n                         origin: origin || (paste ? \"paste\" : cm.state.cutIncoming ? \"cut\" : \"+input\")};\n      makeChange(cm.doc, changeEvent);\n      signalLater(cm, \"inputRead\", cm, changeEvent);\n    }\n    if (inserted && !paste)\n      triggerElectric(cm, inserted);\n\n    ensureCursorVisible(cm);\n    cm.curOp.updateInput = updateInput;\n    cm.curOp.typing = true;\n    cm.state.pasteIncoming = cm.state.cutIncoming = false;\n  }\n\n  function handlePaste(e, cm) {\n    var pasted = e.clipboardData && e.clipboardData.getData(\"text/plain\");\n    if (pasted) {\n      e.preventDefault();\n      if (!cm.isReadOnly() && !cm.options.disableInput)\n        runInOp(cm, function() { applyTextInput(cm, pasted, 0, null, \"paste\"); });\n      return true;\n    }\n  }\n\n  function triggerElectric(cm, inserted) {\n    // When an 'electric' character is inserted, immediately trigger a reindent\n    if (!cm.options.electricChars || !cm.options.smartIndent) return;\n    var sel = cm.doc.sel;\n\n    for (var i = sel.ranges.length - 1; i >= 0; i--) {\n      var range = sel.ranges[i];\n      if (range.head.ch > 100 || (i && sel.ranges[i - 1].head.line == range.head.line)) continue;\n      var mode = cm.getModeAt(range.head);\n      var indented = false;\n      if (mode.electricChars) {\n        for (var j = 0; j < mode.electricChars.length; j++)\n          if (inserted.indexOf(mode.electricChars.charAt(j)) > -1) {\n            indented = indentLine(cm, range.head.line, \"smart\");\n            break;\n          }\n      } else if (mode.electricInput) {\n        if (mode.electricInput.test(getLine(cm.doc, range.head.line).text.slice(0, range.head.ch)))\n          indented = indentLine(cm, range.head.line, \"smart\");\n      }\n      if (indented) signalLater(cm, \"electricInput\", cm, range.head.line);\n    }\n  }\n\n  function copyableRanges(cm) {\n    var text = [], ranges = [];\n    for (var i = 0; i < cm.doc.sel.ranges.length; i++) {\n      var line = cm.doc.sel.ranges[i].head.line;\n      var lineRange = {anchor: Pos(line, 0), head: Pos(line + 1, 0)};\n      ranges.push(lineRange);\n      text.push(cm.getRange(lineRange.anchor, lineRange.head));\n    }\n    return {text: text, ranges: ranges};\n  }\n\n  function disableBrowserMagic(field) {\n    field.setAttribute(\"autocorrect\", \"off\");\n    field.setAttribute(\"autocapitalize\", \"off\");\n    field.setAttribute(\"spellcheck\", \"false\");\n  }\n\n  // TEXTAREA INPUT STYLE\n\n  function TextareaInput(cm) {\n    this.cm = cm;\n    // See input.poll and input.reset\n    this.prevInput = \"\";\n\n    // Flag that indicates whether we expect input to appear real soon\n    // now (after some event like 'keypress' or 'input') and are\n    // polling intensively.\n    this.pollingFast = false;\n    // Self-resetting timeout for the poller\n    this.polling = new Delayed();\n    // Tracks when input.reset has punted to just putting a short\n    // string into the textarea instead of the full selection.\n    this.inaccurateSelection = false;\n    // Used to work around IE issue with selection being forgotten when focus moves away from textarea\n    this.hasSelection = false;\n    this.composing = null;\n  };\n\n  function hiddenTextarea() {\n    var te = elt(\"textarea\", null, null, \"position: absolute; padding: 0; width: 1px; height: 1em; outline: none\");\n    var div = elt(\"div\", [te], null, \"overflow: hidden; position: relative; width: 3px; height: 0px;\");\n    // The textarea is kept positioned near the cursor to prevent the\n    // fact that it'll be scrolled into view on input from scrolling\n    // our fake cursor out of view. On webkit, when wrap=off, paste is\n    // very slow. So make the area wide instead.\n    if (webkit) te.style.width = \"1000px\";\n    else te.setAttribute(\"wrap\", \"off\");\n    // If border: 0; -- iOS fails to open keyboard (issue #1287)\n    if (ios) te.style.border = \"1px solid black\";\n    disableBrowserMagic(te);\n    return div;\n  }\n\n  TextareaInput.prototype = copyObj({\n    init: function(display) {\n      var input = this, cm = this.cm;\n\n      // Wraps and hides input textarea\n      var div = this.wrapper = hiddenTextarea();\n      // The semihidden textarea that is focused when the editor is\n      // focused, and receives input.\n      var te = this.textarea = div.firstChild;\n      display.wrapper.insertBefore(div, display.wrapper.firstChild);\n\n      // Needed to hide big blue blinking cursor on Mobile Safari (doesn't seem to work in iOS 8 anymore)\n      if (ios) te.style.width = \"0px\";\n\n      on(te, \"input\", function() {\n        if (ie && ie_version >= 9 && input.hasSelection) input.hasSelection = null;\n        input.poll();\n      });\n\n      on(te, \"paste\", function(e) {\n        if (signalDOMEvent(cm, e) || handlePaste(e, cm)) return\n\n        cm.state.pasteIncoming = true;\n        input.fastPoll();\n      });\n\n      function prepareCopyCut(e) {\n        if (signalDOMEvent(cm, e)) return\n        if (cm.somethingSelected()) {\n          lastCopied = {lineWise: false, text: cm.getSelections()};\n          if (input.inaccurateSelection) {\n            input.prevInput = \"\";\n            input.inaccurateSelection = false;\n            te.value = lastCopied.text.join(\"\\n\");\n            selectInput(te);\n          }\n        } else if (!cm.options.lineWiseCopyCut) {\n          return;\n        } else {\n          var ranges = copyableRanges(cm);\n          lastCopied = {lineWise: true, text: ranges.text};\n          if (e.type == \"cut\") {\n            cm.setSelections(ranges.ranges, null, sel_dontScroll);\n          } else {\n            input.prevInput = \"\";\n            te.value = ranges.text.join(\"\\n\");\n            selectInput(te);\n          }\n        }\n        if (e.type == \"cut\") cm.state.cutIncoming = true;\n      }\n      on(te, \"cut\", prepareCopyCut);\n      on(te, \"copy\", prepareCopyCut);\n\n      on(display.scroller, \"paste\", function(e) {\n        if (eventInWidget(display, e) || signalDOMEvent(cm, e)) return;\n        cm.state.pasteIncoming = true;\n        input.focus();\n      });\n\n      // Prevent normal selection in the editor (we handle our own)\n      on(display.lineSpace, \"selectstart\", function(e) {\n        if (!eventInWidget(display, e)) e_preventDefault(e);\n      });\n\n      on(te, \"compositionstart\", function() {\n        var start = cm.getCursor(\"from\");\n        if (input.composing) input.composing.range.clear()\n        input.composing = {\n          start: start,\n          range: cm.markText(start, cm.getCursor(\"to\"), {className: \"CodeMirror-composing\"})\n        };\n      });\n      on(te, \"compositionend\", function() {\n        if (input.composing) {\n          input.poll();\n          input.composing.range.clear();\n          input.composing = null;\n        }\n      });\n    },\n\n    prepareSelection: function() {\n      // Redraw the selection and/or cursor\n      var cm = this.cm, display = cm.display, doc = cm.doc;\n      var result = prepareSelection(cm);\n\n      // Move the hidden textarea near the cursor to prevent scrolling artifacts\n      if (cm.options.moveInputWithCursor) {\n        var headPos = cursorCoords(cm, doc.sel.primary().head, \"div\");\n        var wrapOff = display.wrapper.getBoundingClientRect(), lineOff = display.lineDiv.getBoundingClientRect();\n        result.teTop = Math.max(0, Math.min(display.wrapper.clientHeight - 10,\n                                            headPos.top + lineOff.top - wrapOff.top));\n        result.teLeft = Math.max(0, Math.min(display.wrapper.clientWidth - 10,\n                                             headPos.left + lineOff.left - wrapOff.left));\n      }\n\n      return result;\n    },\n\n    showSelection: function(drawn) {\n      var cm = this.cm, display = cm.display;\n      removeChildrenAndAdd(display.cursorDiv, drawn.cursors);\n      removeChildrenAndAdd(display.selectionDiv, drawn.selection);\n      if (drawn.teTop != null) {\n        this.wrapper.style.top = drawn.teTop + \"px\";\n        this.wrapper.style.left = drawn.teLeft + \"px\";\n      }\n    },\n\n    // Reset the input to correspond to the selection (or to be empty,\n    // when not typing and nothing is selected)\n    reset: function(typing) {\n      if (this.contextMenuPending) return;\n      var minimal, selected, cm = this.cm, doc = cm.doc;\n      if (cm.somethingSelected()) {\n        this.prevInput = \"\";\n        var range = doc.sel.primary();\n        minimal = hasCopyEvent &&\n          (range.to().line - range.from().line > 100 || (selected = cm.getSelection()).length > 1000);\n        var content = minimal ? \"-\" : selected || cm.getSelection();\n        this.textarea.value = content;\n        if (cm.state.focused) selectInput(this.textarea);\n        if (ie && ie_version >= 9) this.hasSelection = content;\n      } else if (!typing) {\n        this.prevInput = this.textarea.value = \"\";\n        if (ie && ie_version >= 9) this.hasSelection = null;\n      }\n      this.inaccurateSelection = minimal;\n    },\n\n    getField: function() { return this.textarea; },\n\n    supportsTouch: function() { return false; },\n\n    focus: function() {\n      if (this.cm.options.readOnly != \"nocursor\" && (!mobile || activeElt() != this.textarea)) {\n        try { this.textarea.focus(); }\n        catch (e) {} // IE8 will throw if the textarea is display: none or not in DOM\n      }\n    },\n\n    blur: function() { this.textarea.blur(); },\n\n    resetPosition: function() {\n      this.wrapper.style.top = this.wrapper.style.left = 0;\n    },\n\n    receivedFocus: function() { this.slowPoll(); },\n\n    // Poll for input changes, using the normal rate of polling. This\n    // runs as long as the editor is focused.\n    slowPoll: function() {\n      var input = this;\n      if (input.pollingFast) return;\n      input.polling.set(this.cm.options.pollInterval, function() {\n        input.poll();\n        if (input.cm.state.focused) input.slowPoll();\n      });\n    },\n\n    // When an event has just come in that is likely to add or change\n    // something in the input textarea, we poll faster, to ensure that\n    // the change appears on the screen quickly.\n    fastPoll: function() {\n      var missed = false, input = this;\n      input.pollingFast = true;\n      function p() {\n        var changed = input.poll();\n        if (!changed && !missed) {missed = true; input.polling.set(60, p);}\n        else {input.pollingFast = false; input.slowPoll();}\n      }\n      input.polling.set(20, p);\n    },\n\n    // Read input from the textarea, and update the document to match.\n    // When something is selected, it is present in the textarea, and\n    // selected (unless it is huge, in which case a placeholder is\n    // used). When nothing is selected, the cursor sits after previously\n    // seen text (can be empty), which is stored in prevInput (we must\n    // not reset the textarea when typing, because that breaks IME).\n    poll: function() {\n      var cm = this.cm, input = this.textarea, prevInput = this.prevInput;\n      // Since this is called a *lot*, try to bail out as cheaply as\n      // possible when it is clear that nothing happened. hasSelection\n      // will be the case when there is a lot of text in the textarea,\n      // in which case reading its value would be expensive.\n      if (this.contextMenuPending || !cm.state.focused ||\n          (hasSelection(input) && !prevInput && !this.composing) ||\n          cm.isReadOnly() || cm.options.disableInput || cm.state.keySeq)\n        return false;\n\n      var text = input.value;\n      // If nothing changed, bail.\n      if (text == prevInput && !cm.somethingSelected()) return false;\n      // Work around nonsensical selection resetting in IE9/10, and\n      // inexplicable appearance of private area unicode characters on\n      // some key combos in Mac (#2689).\n      if (ie && ie_version >= 9 && this.hasSelection === text ||\n          mac && /[\\uf700-\\uf7ff]/.test(text)) {\n        cm.display.input.reset();\n        return false;\n      }\n\n      if (cm.doc.sel == cm.display.selForContextMenu) {\n        var first = text.charCodeAt(0);\n        if (first == 0x200b && !prevInput) prevInput = \"\\u200b\";\n        if (first == 0x21da) { this.reset(); return this.cm.execCommand(\"undo\"); }\n      }\n      // Find the part of the input that is actually new\n      var same = 0, l = Math.min(prevInput.length, text.length);\n      while (same < l && prevInput.charCodeAt(same) == text.charCodeAt(same)) ++same;\n\n      var self = this;\n      runInOp(cm, function() {\n        applyTextInput(cm, text.slice(same), prevInput.length - same,\n                       null, self.composing ? \"*compose\" : null);\n\n        // Don't leave long text in the textarea, since it makes further polling slow\n        if (text.length > 1000 || text.indexOf(\"\\n\") > -1) input.value = self.prevInput = \"\";\n        else self.prevInput = text;\n\n        if (self.composing) {\n          self.composing.range.clear();\n          self.composing.range = cm.markText(self.composing.start, cm.getCursor(\"to\"),\n                                             {className: \"CodeMirror-composing\"});\n        }\n      });\n      return true;\n    },\n\n    ensurePolled: function() {\n      if (this.pollingFast && this.poll()) this.pollingFast = false;\n    },\n\n    onKeyPress: function() {\n      if (ie && ie_version >= 9) this.hasSelection = null;\n      this.fastPoll();\n    },\n\n    onContextMenu: function(e) {\n      var input = this, cm = input.cm, display = cm.display, te = input.textarea;\n      var pos = posFromMouse(cm, e), scrollPos = display.scroller.scrollTop;\n      if (!pos || presto) return; // Opera is difficult.\n\n      // Reset the current text selection only if the click is done outside of the selection\n      // and 'resetSelectionOnContextMenu' option is true.\n      var reset = cm.options.resetSelectionOnContextMenu;\n      if (reset && cm.doc.sel.contains(pos) == -1)\n        operation(cm, setSelection)(cm.doc, simpleSelection(pos), sel_dontScroll);\n\n      var oldCSS = te.style.cssText, oldWrapperCSS = input.wrapper.style.cssText;\n      input.wrapper.style.cssText = \"position: absolute\"\n      var wrapperBox = input.wrapper.getBoundingClientRect()\n      te.style.cssText = \"position: absolute; width: 30px; height: 30px; top: \" + (e.clientY - wrapperBox.top - 5) +\n        \"px; left: \" + (e.clientX - wrapperBox.left - 5) + \"px; z-index: 1000; background: \" +\n        (ie ? \"rgba(255, 255, 255, .05)\" : \"transparent\") +\n        \"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\";\n      if (webkit) var oldScrollY = window.scrollY; // Work around Chrome issue (#2712)\n      display.input.focus();\n      if (webkit) window.scrollTo(null, oldScrollY);\n      display.input.reset();\n      // Adds \"Select all\" to context menu in FF\n      if (!cm.somethingSelected()) te.value = input.prevInput = \" \";\n      input.contextMenuPending = true;\n      display.selForContextMenu = cm.doc.sel;\n      clearTimeout(display.detectingSelectAll);\n\n      // Select-all will be greyed out if there's nothing to select, so\n      // this adds a zero-width space so that we can later check whether\n      // it got selected.\n      function prepareSelectAllHack() {\n        if (te.selectionStart != null) {\n          var selected = cm.somethingSelected();\n          var extval = \"\\u200b\" + (selected ? te.value : \"\");\n          te.value = \"\\u21da\"; // Used to catch context-menu undo\n          te.value = extval;\n          input.prevInput = selected ? \"\" : \"\\u200b\";\n          te.selectionStart = 1; te.selectionEnd = extval.length;\n          // Re-set this, in case some other handler touched the\n          // selection in the meantime.\n          display.selForContextMenu = cm.doc.sel;\n        }\n      }\n      function rehide() {\n        input.contextMenuPending = false;\n        input.wrapper.style.cssText = oldWrapperCSS\n        te.style.cssText = oldCSS;\n        if (ie && ie_version < 9) display.scrollbars.setScrollTop(display.scroller.scrollTop = scrollPos);\n\n        // Try to detect the user choosing select-all\n        if (te.selectionStart != null) {\n          if (!ie || (ie && ie_version < 9)) prepareSelectAllHack();\n          var i = 0, poll = function() {\n            if (display.selForContextMenu == cm.doc.sel && te.selectionStart == 0 &&\n                te.selectionEnd > 0 && input.prevInput == \"\\u200b\")\n              operation(cm, commands.selectAll)(cm);\n            else if (i++ < 10) display.detectingSelectAll = setTimeout(poll, 500);\n            else display.input.reset();\n          };\n          display.detectingSelectAll = setTimeout(poll, 200);\n        }\n      }\n\n      if (ie && ie_version >= 9) prepareSelectAllHack();\n      if (captureRightClick) {\n        e_stop(e);\n        var mouseup = function() {\n          off(window, \"mouseup\", mouseup);\n          setTimeout(rehide, 20);\n        };\n        on(window, \"mouseup\", mouseup);\n      } else {\n        setTimeout(rehide, 50);\n      }\n    },\n\n    readOnlyChanged: function(val) {\n      if (!val) this.reset();\n    },\n\n    setUneditable: nothing,\n\n    needsContentAttribute: false\n  }, TextareaInput.prototype);\n\n  // CONTENTEDITABLE INPUT STYLE\n\n  function ContentEditableInput(cm) {\n    this.cm = cm;\n    this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null;\n    this.polling = new Delayed();\n    this.gracePeriod = false;\n  }\n\n  ContentEditableInput.prototype = copyObj({\n    init: function(display) {\n      var input = this, cm = input.cm;\n      var div = input.div = display.lineDiv;\n      disableBrowserMagic(div);\n\n      on(div, \"paste\", function(e) {\n        if (!signalDOMEvent(cm, e)) handlePaste(e, cm);\n      })\n\n      on(div, \"compositionstart\", function(e) {\n        var data = e.data;\n        input.composing = {sel: cm.doc.sel, data: data, startData: data};\n        if (!data) return;\n        var prim = cm.doc.sel.primary();\n        var line = cm.getLine(prim.head.line);\n        var found = line.indexOf(data, Math.max(0, prim.head.ch - data.length));\n        if (found > -1 && found <= prim.head.ch)\n          input.composing.sel = simpleSelection(Pos(prim.head.line, found),\n                                                Pos(prim.head.line, found + data.length));\n      });\n      on(div, \"compositionupdate\", function(e) {\n        input.composing.data = e.data;\n      });\n      on(div, \"compositionend\", function(e) {\n        var ours = input.composing;\n        if (!ours) return;\n        if (e.data != ours.startData && !/\\u200b/.test(e.data))\n          ours.data = e.data;\n        // Need a small delay to prevent other code (input event,\n        // selection polling) from doing damage when fired right after\n        // compositionend.\n        setTimeout(function() {\n          if (!ours.handled)\n            input.applyComposition(ours);\n          if (input.composing == ours)\n            input.composing = null;\n        }, 50);\n      });\n\n      on(div, \"touchstart\", function() {\n        input.forceCompositionEnd();\n      });\n\n      on(div, \"input\", function() {\n        if (input.composing) return;\n        if (cm.isReadOnly() || !input.pollContent())\n          runInOp(input.cm, function() {regChange(cm);});\n      });\n\n      function onCopyCut(e) {\n        if (signalDOMEvent(cm, e)) return\n        if (cm.somethingSelected()) {\n          lastCopied = {lineWise: false, text: cm.getSelections()};\n          if (e.type == \"cut\") cm.replaceSelection(\"\", null, \"cut\");\n        } else if (!cm.options.lineWiseCopyCut) {\n          return;\n        } else {\n          var ranges = copyableRanges(cm);\n          lastCopied = {lineWise: true, text: ranges.text};\n          if (e.type == \"cut\") {\n            cm.operation(function() {\n              cm.setSelections(ranges.ranges, 0, sel_dontScroll);\n              cm.replaceSelection(\"\", null, \"cut\");\n            });\n          }\n        }\n        // iOS exposes the clipboard API, but seems to discard content inserted into it\n        if (e.clipboardData && !ios) {\n          e.preventDefault();\n          e.clipboardData.clearData();\n          e.clipboardData.setData(\"text/plain\", lastCopied.text.join(\"\\n\"));\n        } else {\n          // Old-fashioned briefly-focus-a-textarea hack\n          var kludge = hiddenTextarea(), te = kludge.firstChild;\n          cm.display.lineSpace.insertBefore(kludge, cm.display.lineSpace.firstChild);\n          te.value = lastCopied.text.join(\"\\n\");\n          var hadFocus = document.activeElement;\n          selectInput(te);\n          setTimeout(function() {\n            cm.display.lineSpace.removeChild(kludge);\n            hadFocus.focus();\n          }, 50);\n        }\n      }\n      on(div, \"copy\", onCopyCut);\n      on(div, \"cut\", onCopyCut);\n    },\n\n    prepareSelection: function() {\n      var result = prepareSelection(this.cm, false);\n      result.focus = this.cm.state.focused;\n      return result;\n    },\n\n    showSelection: function(info, takeFocus) {\n      if (!info || !this.cm.display.view.length) return;\n      if (info.focus || takeFocus) this.showPrimarySelection();\n      this.showMultipleSelections(info);\n    },\n\n    showPrimarySelection: function() {\n      var sel = window.getSelection(), prim = this.cm.doc.sel.primary();\n      var curAnchor = domToPos(this.cm, sel.anchorNode, sel.anchorOffset);\n      var curFocus = domToPos(this.cm, sel.focusNode, sel.focusOffset);\n      if (curAnchor && !curAnchor.bad && curFocus && !curFocus.bad &&\n          cmp(minPos(curAnchor, curFocus), prim.from()) == 0 &&\n          cmp(maxPos(curAnchor, curFocus), prim.to()) == 0)\n        return;\n\n      var start = posToDOM(this.cm, prim.from());\n      var end = posToDOM(this.cm, prim.to());\n      if (!start && !end) return;\n\n      var view = this.cm.display.view;\n      var old = sel.rangeCount && sel.getRangeAt(0);\n      if (!start) {\n        start = {node: view[0].measure.map[2], offset: 0};\n      } else if (!end) { // FIXME dangerously hacky\n        var measure = view[view.length - 1].measure;\n        var map = measure.maps ? measure.maps[measure.maps.length - 1] : measure.map;\n        end = {node: map[map.length - 1], offset: map[map.length - 2] - map[map.length - 3]};\n      }\n\n      try { var rng = range(start.node, start.offset, end.offset, end.node); }\n      catch(e) {} // Our model of the DOM might be outdated, in which case the range we try to set can be impossible\n      if (rng) {\n        if (!gecko && this.cm.state.focused) {\n          sel.collapse(start.node, start.offset);\n          if (!rng.collapsed) sel.addRange(rng);\n        } else {\n          sel.removeAllRanges();\n          sel.addRange(rng);\n        }\n        if (old && sel.anchorNode == null) sel.addRange(old);\n        else if (gecko) this.startGracePeriod();\n      }\n      this.rememberSelection();\n    },\n\n    startGracePeriod: function() {\n      var input = this;\n      clearTimeout(this.gracePeriod);\n      this.gracePeriod = setTimeout(function() {\n        input.gracePeriod = false;\n        if (input.selectionChanged())\n          input.cm.operation(function() { input.cm.curOp.selectionChanged = true; });\n      }, 20);\n    },\n\n    showMultipleSelections: function(info) {\n      removeChildrenAndAdd(this.cm.display.cursorDiv, info.cursors);\n      removeChildrenAndAdd(this.cm.display.selectionDiv, info.selection);\n    },\n\n    rememberSelection: function() {\n      var sel = window.getSelection();\n      this.lastAnchorNode = sel.anchorNode; this.lastAnchorOffset = sel.anchorOffset;\n      this.lastFocusNode = sel.focusNode; this.lastFocusOffset = sel.focusOffset;\n    },\n\n    selectionInEditor: function() {\n      var sel = window.getSelection();\n      if (!sel.rangeCount) return false;\n      var node = sel.getRangeAt(0).commonAncestorContainer;\n      return contains(this.div, node);\n    },\n\n    focus: function() {\n      if (this.cm.options.readOnly != \"nocursor\") this.div.focus();\n    },\n    blur: function() { this.div.blur(); },\n    getField: function() { return this.div; },\n\n    supportsTouch: function() { return true; },\n\n    receivedFocus: function() {\n      var input = this;\n      if (this.selectionInEditor())\n        this.pollSelection();\n      else\n        runInOp(this.cm, function() { input.cm.curOp.selectionChanged = true; });\n\n      function poll() {\n        if (input.cm.state.focused) {\n          input.pollSelection();\n          input.polling.set(input.cm.options.pollInterval, poll);\n        }\n      }\n      this.polling.set(this.cm.options.pollInterval, poll);\n    },\n\n    selectionChanged: function() {\n      var sel = window.getSelection();\n      return sel.anchorNode != this.lastAnchorNode || sel.anchorOffset != this.lastAnchorOffset ||\n        sel.focusNode != this.lastFocusNode || sel.focusOffset != this.lastFocusOffset;\n    },\n\n    pollSelection: function() {\n      if (!this.composing && !this.gracePeriod && this.selectionChanged()) {\n        var sel = window.getSelection(), cm = this.cm;\n        this.rememberSelection();\n        var anchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n        var head = domToPos(cm, sel.focusNode, sel.focusOffset);\n        if (anchor && head) runInOp(cm, function() {\n          setSelection(cm.doc, simpleSelection(anchor, head), sel_dontScroll);\n          if (anchor.bad || head.bad) cm.curOp.selectionChanged = true;\n        });\n      }\n    },\n\n    pollContent: function() {\n      var cm = this.cm, display = cm.display, sel = cm.doc.sel.primary();\n      var from = sel.from(), to = sel.to();\n      if (from.line < display.viewFrom || to.line > display.viewTo - 1) return false;\n\n      var fromIndex;\n      if (from.line == display.viewFrom || (fromIndex = findViewIndex(cm, from.line)) == 0) {\n        var fromLine = lineNo(display.view[0].line);\n        var fromNode = display.view[0].node;\n      } else {\n        var fromLine = lineNo(display.view[fromIndex].line);\n        var fromNode = display.view[fromIndex - 1].node.nextSibling;\n      }\n      var toIndex = findViewIndex(cm, to.line);\n      if (toIndex == display.view.length - 1) {\n        var toLine = display.viewTo - 1;\n        var toNode = display.lineDiv.lastChild;\n      } else {\n        var toLine = lineNo(display.view[toIndex + 1].line) - 1;\n        var toNode = display.view[toIndex + 1].node.previousSibling;\n      }\n\n      var newText = cm.doc.splitLines(domTextBetween(cm, fromNode, toNode, fromLine, toLine));\n      var oldText = getBetween(cm.doc, Pos(fromLine, 0), Pos(toLine, getLine(cm.doc, toLine).text.length));\n      while (newText.length > 1 && oldText.length > 1) {\n        if (lst(newText) == lst(oldText)) { newText.pop(); oldText.pop(); toLine--; }\n        else if (newText[0] == oldText[0]) { newText.shift(); oldText.shift(); fromLine++; }\n        else break;\n      }\n\n      var cutFront = 0, cutEnd = 0;\n      var newTop = newText[0], oldTop = oldText[0], maxCutFront = Math.min(newTop.length, oldTop.length);\n      while (cutFront < maxCutFront && newTop.charCodeAt(cutFront) == oldTop.charCodeAt(cutFront))\n        ++cutFront;\n      var newBot = lst(newText), oldBot = lst(oldText);\n      var maxCutEnd = Math.min(newBot.length - (newText.length == 1 ? cutFront : 0),\n                               oldBot.length - (oldText.length == 1 ? cutFront : 0));\n      while (cutEnd < maxCutEnd &&\n             newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1))\n        ++cutEnd;\n\n      newText[newText.length - 1] = newBot.slice(0, newBot.length - cutEnd);\n      newText[0] = newText[0].slice(cutFront);\n\n      var chFrom = Pos(fromLine, cutFront);\n      var chTo = Pos(toLine, oldText.length ? lst(oldText).length - cutEnd : 0);\n      if (newText.length > 1 || newText[0] || cmp(chFrom, chTo)) {\n        replaceRange(cm.doc, newText, chFrom, chTo, \"+input\");\n        return true;\n      }\n    },\n\n    ensurePolled: function() {\n      this.forceCompositionEnd();\n    },\n    reset: function() {\n      this.forceCompositionEnd();\n    },\n    forceCompositionEnd: function() {\n      if (!this.composing || this.composing.handled) return;\n      this.applyComposition(this.composing);\n      this.composing.handled = true;\n      this.div.blur();\n      this.div.focus();\n    },\n    applyComposition: function(composing) {\n      if (this.cm.isReadOnly())\n        operation(this.cm, regChange)(this.cm)\n      else if (composing.data && composing.data != composing.startData)\n        operation(this.cm, applyTextInput)(this.cm, composing.data, 0, composing.sel);\n    },\n\n    setUneditable: function(node) {\n      node.contentEditable = \"false\"\n    },\n\n    onKeyPress: function(e) {\n      e.preventDefault();\n      if (!this.cm.isReadOnly())\n        operation(this.cm, applyTextInput)(this.cm, String.fromCharCode(e.charCode == null ? e.keyCode : e.charCode), 0);\n    },\n\n    readOnlyChanged: function(val) {\n      this.div.contentEditable = String(val != \"nocursor\")\n    },\n\n    onContextMenu: nothing,\n    resetPosition: nothing,\n\n    needsContentAttribute: true\n  }, ContentEditableInput.prototype);\n\n  function posToDOM(cm, pos) {\n    var view = findViewForLine(cm, pos.line);\n    if (!view || view.hidden) return null;\n    var line = getLine(cm.doc, pos.line);\n    var info = mapFromLineView(view, line, pos.line);\n\n    var order = getOrder(line), side = \"left\";\n    if (order) {\n      var partPos = getBidiPartAt(order, pos.ch);\n      side = partPos % 2 ? \"right\" : \"left\";\n    }\n    var result = nodeAndOffsetInLineMap(info.map, pos.ch, side);\n    result.offset = result.collapse == \"right\" ? result.end : result.start;\n    return result;\n  }\n\n  function badPos(pos, bad) { if (bad) pos.bad = true; return pos; }\n\n  function domToPos(cm, node, offset) {\n    var lineNode;\n    if (node == cm.display.lineDiv) {\n      lineNode = cm.display.lineDiv.childNodes[offset];\n      if (!lineNode) return badPos(cm.clipPos(Pos(cm.display.viewTo - 1)), true);\n      node = null; offset = 0;\n    } else {\n      for (lineNode = node;; lineNode = lineNode.parentNode) {\n        if (!lineNode || lineNode == cm.display.lineDiv) return null;\n        if (lineNode.parentNode && lineNode.parentNode == cm.display.lineDiv) break;\n      }\n    }\n    for (var i = 0; i < cm.display.view.length; i++) {\n      var lineView = cm.display.view[i];\n      if (lineView.node == lineNode)\n        return locateNodeInLineView(lineView, node, offset);\n    }\n  }\n\n  function locateNodeInLineView(lineView, node, offset) {\n    var wrapper = lineView.text.firstChild, bad = false;\n    if (!node || !contains(wrapper, node)) return badPos(Pos(lineNo(lineView.line), 0), true);\n    if (node == wrapper) {\n      bad = true;\n      node = wrapper.childNodes[offset];\n      offset = 0;\n      if (!node) {\n        var line = lineView.rest ? lst(lineView.rest) : lineView.line;\n        return badPos(Pos(lineNo(line), line.text.length), bad);\n      }\n    }\n\n    var textNode = node.nodeType == 3 ? node : null, topNode = node;\n    if (!textNode && node.childNodes.length == 1 && node.firstChild.nodeType == 3) {\n      textNode = node.firstChild;\n      if (offset) offset = textNode.nodeValue.length;\n    }\n    while (topNode.parentNode != wrapper) topNode = topNode.parentNode;\n    var measure = lineView.measure, maps = measure.maps;\n\n    function find(textNode, topNode, offset) {\n      for (var i = -1; i < (maps ? maps.length : 0); i++) {\n        var map = i < 0 ? measure.map : maps[i];\n        for (var j = 0; j < map.length; j += 3) {\n          var curNode = map[j + 2];\n          if (curNode == textNode || curNode == topNode) {\n            var line = lineNo(i < 0 ? lineView.line : lineView.rest[i]);\n            var ch = map[j] + offset;\n            if (offset < 0 || curNode != textNode) ch = map[j + (offset ? 1 : 0)];\n            return Pos(line, ch);\n          }\n        }\n      }\n    }\n    var found = find(textNode, topNode, offset);\n    if (found) return badPos(found, bad);\n\n    // FIXME this is all really shaky. might handle the few cases it needs to handle, but likely to cause problems\n    for (var after = topNode.nextSibling, dist = textNode ? textNode.nodeValue.length - offset : 0; after; after = after.nextSibling) {\n      found = find(after, after.firstChild, 0);\n      if (found)\n        return badPos(Pos(found.line, found.ch - dist), bad);\n      else\n        dist += after.textContent.length;\n    }\n    for (var before = topNode.previousSibling, dist = offset; before; before = before.previousSibling) {\n      found = find(before, before.firstChild, -1);\n      if (found)\n        return badPos(Pos(found.line, found.ch + dist), bad);\n      else\n        dist += after.textContent.length;\n    }\n  }\n\n  function domTextBetween(cm, from, to, fromLine, toLine) {\n    var text = \"\", closing = false, lineSep = cm.doc.lineSeparator();\n    function recognizeMarker(id) { return function(marker) { return marker.id == id; }; }\n    function walk(node) {\n      if (node.nodeType == 1) {\n        var cmText = node.getAttribute(\"cm-text\");\n        if (cmText != null) {\n          if (cmText == \"\") cmText = node.textContent.replace(/\\u200b/g, \"\");\n          text += cmText;\n          return;\n        }\n        var markerID = node.getAttribute(\"cm-marker\"), range;\n        if (markerID) {\n          var found = cm.findMarks(Pos(fromLine, 0), Pos(toLine + 1, 0), recognizeMarker(+markerID));\n          if (found.length && (range = found[0].find()))\n            text += getBetween(cm.doc, range.from, range.to).join(lineSep);\n          return;\n        }\n        if (node.getAttribute(\"contenteditable\") == \"false\") return;\n        for (var i = 0; i < node.childNodes.length; i++)\n          walk(node.childNodes[i]);\n        if (/^(pre|div|p)$/i.test(node.nodeName))\n          closing = true;\n      } else if (node.nodeType == 3) {\n        var val = node.nodeValue;\n        if (!val) return;\n        if (closing) {\n          text += lineSep;\n          closing = false;\n        }\n        text += val;\n      }\n    }\n    for (;;) {\n      walk(from);\n      if (from == to) break;\n      from = from.nextSibling;\n    }\n    return text;\n  }\n\n  CodeMirror.inputStyles = {\"textarea\": TextareaInput, \"contenteditable\": ContentEditableInput};\n\n  // SELECTION / CURSOR\n\n  // Selection objects are immutable. A new one is created every time\n  // the selection changes. A selection is one or more non-overlapping\n  // (and non-touching) ranges, sorted, and an integer that indicates\n  // which one is the primary selection (the one that's scrolled into\n  // view, that getCursor returns, etc).\n  function Selection(ranges, primIndex) {\n    this.ranges = ranges;\n    this.primIndex = primIndex;\n  }\n\n  Selection.prototype = {\n    primary: function() { return this.ranges[this.primIndex]; },\n    equals: function(other) {\n      if (other == this) return true;\n      if (other.primIndex != this.primIndex || other.ranges.length != this.ranges.length) return false;\n      for (var i = 0; i < this.ranges.length; i++) {\n        var here = this.ranges[i], there = other.ranges[i];\n        if (cmp(here.anchor, there.anchor) != 0 || cmp(here.head, there.head) != 0) return false;\n      }\n      return true;\n    },\n    deepCopy: function() {\n      for (var out = [], i = 0; i < this.ranges.length; i++)\n        out[i] = new Range(copyPos(this.ranges[i].anchor), copyPos(this.ranges[i].head));\n      return new Selection(out, this.primIndex);\n    },\n    somethingSelected: function() {\n      for (var i = 0; i < this.ranges.length; i++)\n        if (!this.ranges[i].empty()) return true;\n      return false;\n    },\n    contains: function(pos, end) {\n      if (!end) end = pos;\n      for (var i = 0; i < this.ranges.length; i++) {\n        var range = this.ranges[i];\n        if (cmp(end, range.from()) >= 0 && cmp(pos, range.to()) <= 0)\n          return i;\n      }\n      return -1;\n    }\n  };\n\n  function Range(anchor, head) {\n    this.anchor = anchor; this.head = head;\n  }\n\n  Range.prototype = {\n    from: function() { return minPos(this.anchor, this.head); },\n    to: function() { return maxPos(this.anchor, this.head); },\n    empty: function() {\n      return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch;\n    }\n  };\n\n  // Take an unsorted, potentially overlapping set of ranges, and\n  // build a selection out of it. 'Consumes' ranges array (modifying\n  // it).\n  function normalizeSelection(ranges, primIndex) {\n    var prim = ranges[primIndex];\n    ranges.sort(function(a, b) { return cmp(a.from(), b.from()); });\n    primIndex = indexOf(ranges, prim);\n    for (var i = 1; i < ranges.length; i++) {\n      var cur = ranges[i], prev = ranges[i - 1];\n      if (cmp(prev.to(), cur.from()) >= 0) {\n        var from = minPos(prev.from(), cur.from()), to = maxPos(prev.to(), cur.to());\n        var inv = prev.empty() ? cur.from() == cur.head : prev.from() == prev.head;\n        if (i <= primIndex) --primIndex;\n        ranges.splice(--i, 2, new Range(inv ? to : from, inv ? from : to));\n      }\n    }\n    return new Selection(ranges, primIndex);\n  }\n\n  function simpleSelection(anchor, head) {\n    return new Selection([new Range(anchor, head || anchor)], 0);\n  }\n\n  // Most of the external API clips given positions to make sure they\n  // actually exist within the document.\n  function clipLine(doc, n) {return Math.max(doc.first, Math.min(n, doc.first + doc.size - 1));}\n  function clipPos(doc, pos) {\n    if (pos.line < doc.first) return Pos(doc.first, 0);\n    var last = doc.first + doc.size - 1;\n    if (pos.line > last) return Pos(last, getLine(doc, last).text.length);\n    return clipToLen(pos, getLine(doc, pos.line).text.length);\n  }\n  function clipToLen(pos, linelen) {\n    var ch = pos.ch;\n    if (ch == null || ch > linelen) return Pos(pos.line, linelen);\n    else if (ch < 0) return Pos(pos.line, 0);\n    else return pos;\n  }\n  function isLine(doc, l) {return l >= doc.first && l < doc.first + doc.size;}\n  function clipPosArray(doc, array) {\n    for (var out = [], i = 0; i < array.length; i++) out[i] = clipPos(doc, array[i]);\n    return out;\n  }\n\n  // SELECTION UPDATES\n\n  // The 'scroll' parameter given to many of these indicated whether\n  // the new cursor position should be scrolled into view after\n  // modifying the selection.\n\n  // If shift is held or the extend flag is set, extends a range to\n  // include a given position (and optionally a second position).\n  // Otherwise, simply returns the range between the given positions.\n  // Used for cursor motion and such.\n  function extendRange(doc, range, head, other) {\n    if (doc.cm && doc.cm.display.shift || doc.extend) {\n      var anchor = range.anchor;\n      if (other) {\n        var posBefore = cmp(head, anchor) < 0;\n        if (posBefore != (cmp(other, anchor) < 0)) {\n          anchor = head;\n          head = other;\n        } else if (posBefore != (cmp(head, other) < 0)) {\n          head = other;\n        }\n      }\n      return new Range(anchor, head);\n    } else {\n      return new Range(other || head, head);\n    }\n  }\n\n  // Extend the primary selection range, discard the rest.\n  function extendSelection(doc, head, other, options) {\n    setSelection(doc, new Selection([extendRange(doc, doc.sel.primary(), head, other)], 0), options);\n  }\n\n  // Extend all selections (pos is an array of selections with length\n  // equal the number of selections)\n  function extendSelections(doc, heads, options) {\n    for (var out = [], i = 0; i < doc.sel.ranges.length; i++)\n      out[i] = extendRange(doc, doc.sel.ranges[i], heads[i], null);\n    var newSel = normalizeSelection(out, doc.sel.primIndex);\n    setSelection(doc, newSel, options);\n  }\n\n  // Updates a single range in the selection.\n  function replaceOneSelection(doc, i, range, options) {\n    var ranges = doc.sel.ranges.slice(0);\n    ranges[i] = range;\n    setSelection(doc, normalizeSelection(ranges, doc.sel.primIndex), options);\n  }\n\n  // Reset the selection to a single range.\n  function setSimpleSelection(doc, anchor, head, options) {\n    setSelection(doc, simpleSelection(anchor, head), options);\n  }\n\n  // Give beforeSelectionChange handlers a change to influence a\n  // selection update.\n  function filterSelectionChange(doc, sel, options) {\n    var obj = {\n      ranges: sel.ranges,\n      update: function(ranges) {\n        this.ranges = [];\n        for (var i = 0; i < ranges.length; i++)\n          this.ranges[i] = new Range(clipPos(doc, ranges[i].anchor),\n                                     clipPos(doc, ranges[i].head));\n      },\n      origin: options && options.origin\n    };\n    signal(doc, \"beforeSelectionChange\", doc, obj);\n    if (doc.cm) signal(doc.cm, \"beforeSelectionChange\", doc.cm, obj);\n    if (obj.ranges != sel.ranges) return normalizeSelection(obj.ranges, obj.ranges.length - 1);\n    else return sel;\n  }\n\n  function setSelectionReplaceHistory(doc, sel, options) {\n    var done = doc.history.done, last = lst(done);\n    if (last && last.ranges) {\n      done[done.length - 1] = sel;\n      setSelectionNoUndo(doc, sel, options);\n    } else {\n      setSelection(doc, sel, options);\n    }\n  }\n\n  // Set a new selection.\n  function setSelection(doc, sel, options) {\n    setSelectionNoUndo(doc, sel, options);\n    addSelectionToHistory(doc, doc.sel, doc.cm ? doc.cm.curOp.id : NaN, options);\n  }\n\n  function setSelectionNoUndo(doc, sel, options) {\n    if (hasHandler(doc, \"beforeSelectionChange\") || doc.cm && hasHandler(doc.cm, \"beforeSelectionChange\"))\n      sel = filterSelectionChange(doc, sel, options);\n\n    var bias = options && options.bias ||\n      (cmp(sel.primary().head, doc.sel.primary().head) < 0 ? -1 : 1);\n    setSelectionInner(doc, skipAtomicInSelection(doc, sel, bias, true));\n\n    if (!(options && options.scroll === false) && doc.cm)\n      ensureCursorVisible(doc.cm);\n  }\n\n  function setSelectionInner(doc, sel) {\n    if (sel.equals(doc.sel)) return;\n\n    doc.sel = sel;\n\n    if (doc.cm) {\n      doc.cm.curOp.updateInput = doc.cm.curOp.selectionChanged = true;\n      signalCursorActivity(doc.cm);\n    }\n    signalLater(doc, \"cursorActivity\", doc);\n  }\n\n  // Verify that the selection does not partially select any atomic\n  // marked ranges.\n  function reCheckSelection(doc) {\n    setSelectionInner(doc, skipAtomicInSelection(doc, doc.sel, null, false), sel_dontScroll);\n  }\n\n  // Return a selection that does not partially select any atomic\n  // ranges.\n  function skipAtomicInSelection(doc, sel, bias, mayClear) {\n    var out;\n    for (var i = 0; i < sel.ranges.length; i++) {\n      var range = sel.ranges[i];\n      var old = sel.ranges.length == doc.sel.ranges.length && doc.sel.ranges[i];\n      var newAnchor = skipAtomic(doc, range.anchor, old && old.anchor, bias, mayClear);\n      var newHead = skipAtomic(doc, range.head, old && old.head, bias, mayClear);\n      if (out || newAnchor != range.anchor || newHead != range.head) {\n        if (!out) out = sel.ranges.slice(0, i);\n        out[i] = new Range(newAnchor, newHead);\n      }\n    }\n    return out ? normalizeSelection(out, sel.primIndex) : sel;\n  }\n\n  function skipAtomicInner(doc, pos, oldPos, dir, mayClear) {\n    var line = getLine(doc, pos.line);\n    if (line.markedSpans) for (var i = 0; i < line.markedSpans.length; ++i) {\n      var sp = line.markedSpans[i], m = sp.marker;\n      if ((sp.from == null || (m.inclusiveLeft ? sp.from <= pos.ch : sp.from < pos.ch)) &&\n          (sp.to == null || (m.inclusiveRight ? sp.to >= pos.ch : sp.to > pos.ch))) {\n        if (mayClear) {\n          signal(m, \"beforeCursorEnter\");\n          if (m.explicitlyCleared) {\n            if (!line.markedSpans) break;\n            else {--i; continue;}\n          }\n        }\n        if (!m.atomic) continue;\n\n        if (oldPos) {\n          var near = m.find(dir < 0 ? 1 : -1), diff;\n          if (dir < 0 ? m.inclusiveRight : m.inclusiveLeft)\n            near = movePos(doc, near, -dir, near && near.line == pos.line ? line : null);\n          if (near && near.line == pos.line && (diff = cmp(near, oldPos)) && (dir < 0 ? diff < 0 : diff > 0))\n            return skipAtomicInner(doc, near, pos, dir, mayClear);\n        }\n\n        var far = m.find(dir < 0 ? -1 : 1);\n        if (dir < 0 ? m.inclusiveLeft : m.inclusiveRight)\n          far = movePos(doc, far, dir, far.line == pos.line ? line : null);\n        return far ? skipAtomicInner(doc, far, pos, dir, mayClear) : null;\n      }\n    }\n    return pos;\n  }\n\n  // Ensure a given position is not inside an atomic range.\n  function skipAtomic(doc, pos, oldPos, bias, mayClear) {\n    var dir = bias || 1;\n    var found = skipAtomicInner(doc, pos, oldPos, dir, mayClear) ||\n        (!mayClear && skipAtomicInner(doc, pos, oldPos, dir, true)) ||\n        skipAtomicInner(doc, pos, oldPos, -dir, mayClear) ||\n        (!mayClear && skipAtomicInner(doc, pos, oldPos, -dir, true));\n    if (!found) {\n      doc.cantEdit = true;\n      return Pos(doc.first, 0);\n    }\n    return found;\n  }\n\n  function movePos(doc, pos, dir, line) {\n    if (dir < 0 && pos.ch == 0) {\n      if (pos.line > doc.first) return clipPos(doc, Pos(pos.line - 1));\n      else return null;\n    } else if (dir > 0 && pos.ch == (line || getLine(doc, pos.line)).text.length) {\n      if (pos.line < doc.first + doc.size - 1) return Pos(pos.line + 1, 0);\n      else return null;\n    } else {\n      return new Pos(pos.line, pos.ch + dir);\n    }\n  }\n\n  // SELECTION DRAWING\n\n  function updateSelection(cm) {\n    cm.display.input.showSelection(cm.display.input.prepareSelection());\n  }\n\n  function prepareSelection(cm, primary) {\n    var doc = cm.doc, result = {};\n    var curFragment = result.cursors = document.createDocumentFragment();\n    var selFragment = result.selection = document.createDocumentFragment();\n\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      if (primary === false && i == doc.sel.primIndex) continue;\n      var range = doc.sel.ranges[i];\n      if (range.from().line >= cm.display.viewTo || range.to().line < cm.display.viewFrom) continue;\n      var collapsed = range.empty();\n      if (collapsed || cm.options.showCursorWhenSelecting)\n        drawSelectionCursor(cm, range.head, curFragment);\n      if (!collapsed)\n        drawSelectionRange(cm, range, selFragment);\n    }\n    return result;\n  }\n\n  // Draws a cursor for the given range\n  function drawSelectionCursor(cm, head, output) {\n    var pos = cursorCoords(cm, head, \"div\", null, null, !cm.options.singleCursorHeightPerLine);\n\n    var cursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor\"));\n    cursor.style.left = pos.left + \"px\";\n    cursor.style.top = pos.top + \"px\";\n    cursor.style.height = Math.max(0, pos.bottom - pos.top) * cm.options.cursorHeight + \"px\";\n\n    if (pos.other) {\n      // Secondary cursor, shown when on a 'jump' in bi-directional text\n      var otherCursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor CodeMirror-secondarycursor\"));\n      otherCursor.style.display = \"\";\n      otherCursor.style.left = pos.other.left + \"px\";\n      otherCursor.style.top = pos.other.top + \"px\";\n      otherCursor.style.height = (pos.other.bottom - pos.other.top) * .85 + \"px\";\n    }\n  }\n\n  // Draws the given range as a highlighted selection\n  function drawSelectionRange(cm, range, output) {\n    var display = cm.display, doc = cm.doc;\n    var fragment = document.createDocumentFragment();\n    var padding = paddingH(cm.display), leftSide = padding.left;\n    var rightSide = Math.max(display.sizerWidth, displayWidth(cm) - display.sizer.offsetLeft) - padding.right;\n\n    function add(left, top, width, bottom) {\n      if (top < 0) top = 0;\n      top = Math.round(top);\n      bottom = Math.round(bottom);\n      fragment.appendChild(elt(\"div\", null, \"CodeMirror-selected\", \"position: absolute; left: \" + left +\n                               \"px; top: \" + top + \"px; width: \" + (width == null ? rightSide - left : width) +\n                               \"px; height: \" + (bottom - top) + \"px\"));\n    }\n\n    function drawForLine(line, fromArg, toArg) {\n      var lineObj = getLine(doc, line);\n      var lineLen = lineObj.text.length;\n      var start, end;\n      function coords(ch, bias) {\n        return charCoords(cm, Pos(line, ch), \"div\", lineObj, bias);\n      }\n\n      iterateBidiSections(getOrder(lineObj), fromArg || 0, toArg == null ? lineLen : toArg, function(from, to, dir) {\n        var leftPos = coords(from, \"left\"), rightPos, left, right;\n        if (from == to) {\n          rightPos = leftPos;\n          left = right = leftPos.left;\n        } else {\n          rightPos = coords(to - 1, \"right\");\n          if (dir == \"rtl\") { var tmp = leftPos; leftPos = rightPos; rightPos = tmp; }\n          left = leftPos.left;\n          right = rightPos.right;\n        }\n        if (fromArg == null && from == 0) left = leftSide;\n        if (rightPos.top - leftPos.top > 3) { // Different lines, draw top part\n          add(left, leftPos.top, null, leftPos.bottom);\n          left = leftSide;\n          if (leftPos.bottom < rightPos.top) add(left, leftPos.bottom, null, rightPos.top);\n        }\n        if (toArg == null && to == lineLen) right = rightSide;\n        if (!start || leftPos.top < start.top || leftPos.top == start.top && leftPos.left < start.left)\n          start = leftPos;\n        if (!end || rightPos.bottom > end.bottom || rightPos.bottom == end.bottom && rightPos.right > end.right)\n          end = rightPos;\n        if (left < leftSide + 1) left = leftSide;\n        add(left, rightPos.top, right - left, rightPos.bottom);\n      });\n      return {start: start, end: end};\n    }\n\n    var sFrom = range.from(), sTo = range.to();\n    if (sFrom.line == sTo.line) {\n      drawForLine(sFrom.line, sFrom.ch, sTo.ch);\n    } else {\n      var fromLine = getLine(doc, sFrom.line), toLine = getLine(doc, sTo.line);\n      var singleVLine = visualLine(fromLine) == visualLine(toLine);\n      var leftEnd = drawForLine(sFrom.line, sFrom.ch, singleVLine ? fromLine.text.length + 1 : null).end;\n      var rightStart = drawForLine(sTo.line, singleVLine ? 0 : null, sTo.ch).start;\n      if (singleVLine) {\n        if (leftEnd.top < rightStart.top - 2) {\n          add(leftEnd.right, leftEnd.top, null, leftEnd.bottom);\n          add(leftSide, rightStart.top, rightStart.left, rightStart.bottom);\n        } else {\n          add(leftEnd.right, leftEnd.top, rightStart.left - leftEnd.right, leftEnd.bottom);\n        }\n      }\n      if (leftEnd.bottom < rightStart.top)\n        add(leftSide, leftEnd.bottom, null, rightStart.top);\n    }\n\n    output.appendChild(fragment);\n  }\n\n  // Cursor-blinking\n  function restartBlink(cm) {\n    if (!cm.state.focused) return;\n    var display = cm.display;\n    clearInterval(display.blinker);\n    var on = true;\n    display.cursorDiv.style.visibility = \"\";\n    if (cm.options.cursorBlinkRate > 0)\n      display.blinker = setInterval(function() {\n        display.cursorDiv.style.visibility = (on = !on) ? \"\" : \"hidden\";\n      }, cm.options.cursorBlinkRate);\n    else if (cm.options.cursorBlinkRate < 0)\n      display.cursorDiv.style.visibility = \"hidden\";\n  }\n\n  // HIGHLIGHT WORKER\n\n  function startWorker(cm, time) {\n    if (cm.doc.mode.startState && cm.doc.frontier < cm.display.viewTo)\n      cm.state.highlight.set(time, bind(highlightWorker, cm));\n  }\n\n  function highlightWorker(cm) {\n    var doc = cm.doc;\n    if (doc.frontier < doc.first) doc.frontier = doc.first;\n    if (doc.frontier >= cm.display.viewTo) return;\n    var end = +new Date + cm.options.workTime;\n    var state = copyState(doc.mode, getStateBefore(cm, doc.frontier));\n    var changedLines = [];\n\n    doc.iter(doc.frontier, Math.min(doc.first + doc.size, cm.display.viewTo + 500), function(line) {\n      if (doc.frontier >= cm.display.viewFrom) { // Visible\n        var oldStyles = line.styles, tooLong = line.text.length > cm.options.maxHighlightLength;\n        var highlighted = highlightLine(cm, line, tooLong ? copyState(doc.mode, state) : state, true);\n        line.styles = highlighted.styles;\n        var oldCls = line.styleClasses, newCls = highlighted.classes;\n        if (newCls) line.styleClasses = newCls;\n        else if (oldCls) line.styleClasses = null;\n        var ischange = !oldStyles || oldStyles.length != line.styles.length ||\n          oldCls != newCls && (!oldCls || !newCls || oldCls.bgClass != newCls.bgClass || oldCls.textClass != newCls.textClass);\n        for (var i = 0; !ischange && i < oldStyles.length; ++i) ischange = oldStyles[i] != line.styles[i];\n        if (ischange) changedLines.push(doc.frontier);\n        line.stateAfter = tooLong ? state : copyState(doc.mode, state);\n      } else {\n        if (line.text.length <= cm.options.maxHighlightLength)\n          processLine(cm, line.text, state);\n        line.stateAfter = doc.frontier % 5 == 0 ? copyState(doc.mode, state) : null;\n      }\n      ++doc.frontier;\n      if (+new Date > end) {\n        startWorker(cm, cm.options.workDelay);\n        return true;\n      }\n    });\n    if (changedLines.length) runInOp(cm, function() {\n      for (var i = 0; i < changedLines.length; i++)\n        regLineChange(cm, changedLines[i], \"text\");\n    });\n  }\n\n  // Finds the line to start with when starting a parse. Tries to\n  // find a line with a stateAfter, so that it can start with a\n  // valid state. If that fails, it returns the line with the\n  // smallest indentation, which tends to need the least context to\n  // parse correctly.\n  function findStartLine(cm, n, precise) {\n    var minindent, minline, doc = cm.doc;\n    var lim = precise ? -1 : n - (cm.doc.mode.innerMode ? 1000 : 100);\n    for (var search = n; search > lim; --search) {\n      if (search <= doc.first) return doc.first;\n      var line = getLine(doc, search - 1);\n      if (line.stateAfter && (!precise || search <= doc.frontier)) return search;\n      var indented = countColumn(line.text, null, cm.options.tabSize);\n      if (minline == null || minindent > indented) {\n        minline = search - 1;\n        minindent = indented;\n      }\n    }\n    return minline;\n  }\n\n  function getStateBefore(cm, n, precise) {\n    var doc = cm.doc, display = cm.display;\n    if (!doc.mode.startState) return true;\n    var pos = findStartLine(cm, n, precise), state = pos > doc.first && getLine(doc, pos-1).stateAfter;\n    if (!state) state = startState(doc.mode);\n    else state = copyState(doc.mode, state);\n    doc.iter(pos, n, function(line) {\n      processLine(cm, line.text, state);\n      var save = pos == n - 1 || pos % 5 == 0 || pos >= display.viewFrom && pos < display.viewTo;\n      line.stateAfter = save ? copyState(doc.mode, state) : null;\n      ++pos;\n    });\n    if (precise) doc.frontier = pos;\n    return state;\n  }\n\n  // POSITION MEASUREMENT\n\n  function paddingTop(display) {return display.lineSpace.offsetTop;}\n  function paddingVert(display) {return display.mover.offsetHeight - display.lineSpace.offsetHeight;}\n  function paddingH(display) {\n    if (display.cachedPaddingH) return display.cachedPaddingH;\n    var e = removeChildrenAndAdd(display.measure, elt(\"pre\", \"x\"));\n    var style = window.getComputedStyle ? window.getComputedStyle(e) : e.currentStyle;\n    var data = {left: parseInt(style.paddingLeft), right: parseInt(style.paddingRight)};\n    if (!isNaN(data.left) && !isNaN(data.right)) display.cachedPaddingH = data;\n    return data;\n  }\n\n  function scrollGap(cm) { return scrollerGap - cm.display.nativeBarWidth; }\n  function displayWidth(cm) {\n    return cm.display.scroller.clientWidth - scrollGap(cm) - cm.display.barWidth;\n  }\n  function displayHeight(cm) {\n    return cm.display.scroller.clientHeight - scrollGap(cm) - cm.display.barHeight;\n  }\n\n  // Ensure the lineView.wrapping.heights array is populated. This is\n  // an array of bottom offsets for the lines that make up a drawn\n  // line. When lineWrapping is on, there might be more than one\n  // height.\n  function ensureLineHeights(cm, lineView, rect) {\n    var wrapping = cm.options.lineWrapping;\n    var curWidth = wrapping && displayWidth(cm);\n    if (!lineView.measure.heights || wrapping && lineView.measure.width != curWidth) {\n      var heights = lineView.measure.heights = [];\n      if (wrapping) {\n        lineView.measure.width = curWidth;\n        var rects = lineView.text.firstChild.getClientRects();\n        for (var i = 0; i < rects.length - 1; i++) {\n          var cur = rects[i], next = rects[i + 1];\n          if (Math.abs(cur.bottom - next.bottom) > 2)\n            heights.push((cur.bottom + next.top) / 2 - rect.top);\n        }\n      }\n      heights.push(rect.bottom - rect.top);\n    }\n  }\n\n  // Find a line map (mapping character offsets to text nodes) and a\n  // measurement cache for the given line number. (A line view might\n  // contain multiple lines when collapsed ranges are present.)\n  function mapFromLineView(lineView, line, lineN) {\n    if (lineView.line == line)\n      return {map: lineView.measure.map, cache: lineView.measure.cache};\n    for (var i = 0; i < lineView.rest.length; i++)\n      if (lineView.rest[i] == line)\n        return {map: lineView.measure.maps[i], cache: lineView.measure.caches[i]};\n    for (var i = 0; i < lineView.rest.length; i++)\n      if (lineNo(lineView.rest[i]) > lineN)\n        return {map: lineView.measure.maps[i], cache: lineView.measure.caches[i], before: true};\n  }\n\n  // Render a line into the hidden node display.externalMeasured. Used\n  // when measurement is needed for a line that's not in the viewport.\n  function updateExternalMeasurement(cm, line) {\n    line = visualLine(line);\n    var lineN = lineNo(line);\n    var view = cm.display.externalMeasured = new LineView(cm.doc, line, lineN);\n    view.lineN = lineN;\n    var built = view.built = buildLineContent(cm, view);\n    view.text = built.pre;\n    removeChildrenAndAdd(cm.display.lineMeasure, built.pre);\n    return view;\n  }\n\n  // Get a {top, bottom, left, right} box (in line-local coordinates)\n  // for a given character.\n  function measureChar(cm, line, ch, bias) {\n    return measureCharPrepared(cm, prepareMeasureForLine(cm, line), ch, bias);\n  }\n\n  // Find a line view that corresponds to the given line number.\n  function findViewForLine(cm, lineN) {\n    if (lineN >= cm.display.viewFrom && lineN < cm.display.viewTo)\n      return cm.display.view[findViewIndex(cm, lineN)];\n    var ext = cm.display.externalMeasured;\n    if (ext && lineN >= ext.lineN && lineN < ext.lineN + ext.size)\n      return ext;\n  }\n\n  // Measurement can be split in two steps, the set-up work that\n  // applies to the whole line, and the measurement of the actual\n  // character. Functions like coordsChar, that need to do a lot of\n  // measurements in a row, can thus ensure that the set-up work is\n  // only done once.\n  function prepareMeasureForLine(cm, line) {\n    var lineN = lineNo(line);\n    var view = findViewForLine(cm, lineN);\n    if (view && !view.text) {\n      view = null;\n    } else if (view && view.changes) {\n      updateLineForChanges(cm, view, lineN, getDimensions(cm));\n      cm.curOp.forceUpdate = true;\n    }\n    if (!view)\n      view = updateExternalMeasurement(cm, line);\n\n    var info = mapFromLineView(view, line, lineN);\n    return {\n      line: line, view: view, rect: null,\n      map: info.map, cache: info.cache, before: info.before,\n      hasHeights: false\n    };\n  }\n\n  // Given a prepared measurement object, measures the position of an\n  // actual character (or fetches it from the cache).\n  function measureCharPrepared(cm, prepared, ch, bias, varHeight) {\n    if (prepared.before) ch = -1;\n    var key = ch + (bias || \"\"), found;\n    if (prepared.cache.hasOwnProperty(key)) {\n      found = prepared.cache[key];\n    } else {\n      if (!prepared.rect)\n        prepared.rect = prepared.view.text.getBoundingClientRect();\n      if (!prepared.hasHeights) {\n        ensureLineHeights(cm, prepared.view, prepared.rect);\n        prepared.hasHeights = true;\n      }\n      found = measureCharInner(cm, prepared, ch, bias);\n      if (!found.bogus) prepared.cache[key] = found;\n    }\n    return {left: found.left, right: found.right,\n            top: varHeight ? found.rtop : found.top,\n            bottom: varHeight ? found.rbottom : found.bottom};\n  }\n\n  var nullRect = {left: 0, right: 0, top: 0, bottom: 0};\n\n  function nodeAndOffsetInLineMap(map, ch, bias) {\n    var node, start, end, collapse;\n    // First, search the line map for the text node corresponding to,\n    // or closest to, the target character.\n    for (var i = 0; i < map.length; i += 3) {\n      var mStart = map[i], mEnd = map[i + 1];\n      if (ch < mStart) {\n        start = 0; end = 1;\n        collapse = \"left\";\n      } else if (ch < mEnd) {\n        start = ch - mStart;\n        end = start + 1;\n      } else if (i == map.length - 3 || ch == mEnd && map[i + 3] > ch) {\n        end = mEnd - mStart;\n        start = end - 1;\n        if (ch >= mEnd) collapse = \"right\";\n      }\n      if (start != null) {\n        node = map[i + 2];\n        if (mStart == mEnd && bias == (node.insertLeft ? \"left\" : \"right\"))\n          collapse = bias;\n        if (bias == \"left\" && start == 0)\n          while (i && map[i - 2] == map[i - 3] && map[i - 1].insertLeft) {\n            node = map[(i -= 3) + 2];\n            collapse = \"left\";\n          }\n        if (bias == \"right\" && start == mEnd - mStart)\n          while (i < map.length - 3 && map[i + 3] == map[i + 4] && !map[i + 5].insertLeft) {\n            node = map[(i += 3) + 2];\n            collapse = \"right\";\n          }\n        break;\n      }\n    }\n    return {node: node, start: start, end: end, collapse: collapse, coverStart: mStart, coverEnd: mEnd};\n  }\n\n  function measureCharInner(cm, prepared, ch, bias) {\n    var place = nodeAndOffsetInLineMap(prepared.map, ch, bias);\n    var node = place.node, start = place.start, end = place.end, collapse = place.collapse;\n\n    var rect;\n    if (node.nodeType == 3) { // If it is a text node, use a range to retrieve the coordinates.\n      for (var i = 0; i < 4; i++) { // Retry a maximum of 4 times when nonsense rectangles are returned\n        while (start && isExtendingChar(prepared.line.text.charAt(place.coverStart + start))) --start;\n        while (place.coverStart + end < place.coverEnd && isExtendingChar(prepared.line.text.charAt(place.coverStart + end))) ++end;\n        if (ie && ie_version < 9 && start == 0 && end == place.coverEnd - place.coverStart) {\n          rect = node.parentNode.getBoundingClientRect();\n        } else if (ie && cm.options.lineWrapping) {\n          var rects = range(node, start, end).getClientRects();\n          if (rects.length)\n            rect = rects[bias == \"right\" ? rects.length - 1 : 0];\n          else\n            rect = nullRect;\n        } else {\n          rect = range(node, start, end).getBoundingClientRect() || nullRect;\n        }\n        if (rect.left || rect.right || start == 0) break;\n        end = start;\n        start = start - 1;\n        collapse = \"right\";\n      }\n      if (ie && ie_version < 11) rect = maybeUpdateRectForZooming(cm.display.measure, rect);\n    } else { // If it is a widget, simply get the box for the whole widget.\n      if (start > 0) collapse = bias = \"right\";\n      var rects;\n      if (cm.options.lineWrapping && (rects = node.getClientRects()).length > 1)\n        rect = rects[bias == \"right\" ? rects.length - 1 : 0];\n      else\n        rect = node.getBoundingClientRect();\n    }\n    if (ie && ie_version < 9 && !start && (!rect || !rect.left && !rect.right)) {\n      var rSpan = node.parentNode.getClientRects()[0];\n      if (rSpan)\n        rect = {left: rSpan.left, right: rSpan.left + charWidth(cm.display), top: rSpan.top, bottom: rSpan.bottom};\n      else\n        rect = nullRect;\n    }\n\n    var rtop = rect.top - prepared.rect.top, rbot = rect.bottom - prepared.rect.top;\n    var mid = (rtop + rbot) / 2;\n    var heights = prepared.view.measure.heights;\n    for (var i = 0; i < heights.length - 1; i++)\n      if (mid < heights[i]) break;\n    var top = i ? heights[i - 1] : 0, bot = heights[i];\n    var result = {left: (collapse == \"right\" ? rect.right : rect.left) - prepared.rect.left,\n                  right: (collapse == \"left\" ? rect.left : rect.right) - prepared.rect.left,\n                  top: top, bottom: bot};\n    if (!rect.left && !rect.right) result.bogus = true;\n    if (!cm.options.singleCursorHeightPerLine) { result.rtop = rtop; result.rbottom = rbot; }\n\n    return result;\n  }\n\n  // Work around problem with bounding client rects on ranges being\n  // returned incorrectly when zoomed on IE10 and below.\n  function maybeUpdateRectForZooming(measure, rect) {\n    if (!window.screen || screen.logicalXDPI == null ||\n        screen.logicalXDPI == screen.deviceXDPI || !hasBadZoomedRects(measure))\n      return rect;\n    var scaleX = screen.logicalXDPI / screen.deviceXDPI;\n    var scaleY = screen.logicalYDPI / screen.deviceYDPI;\n    return {left: rect.left * scaleX, right: rect.right * scaleX,\n            top: rect.top * scaleY, bottom: rect.bottom * scaleY};\n  }\n\n  function clearLineMeasurementCacheFor(lineView) {\n    if (lineView.measure) {\n      lineView.measure.cache = {};\n      lineView.measure.heights = null;\n      if (lineView.rest) for (var i = 0; i < lineView.rest.length; i++)\n        lineView.measure.caches[i] = {};\n    }\n  }\n\n  function clearLineMeasurementCache(cm) {\n    cm.display.externalMeasure = null;\n    removeChildren(cm.display.lineMeasure);\n    for (var i = 0; i < cm.display.view.length; i++)\n      clearLineMeasurementCacheFor(cm.display.view[i]);\n  }\n\n  function clearCaches(cm) {\n    clearLineMeasurementCache(cm);\n    cm.display.cachedCharWidth = cm.display.cachedTextHeight = cm.display.cachedPaddingH = null;\n    if (!cm.options.lineWrapping) cm.display.maxLineChanged = true;\n    cm.display.lineNumChars = null;\n  }\n\n  function pageScrollX() { return window.pageXOffset || (document.documentElement || document.body).scrollLeft; }\n  function pageScrollY() { return window.pageYOffset || (document.documentElement || document.body).scrollTop; }\n\n  // Converts a {top, bottom, left, right} box from line-local\n  // coordinates into another coordinate system. Context may be one of\n  // \"line\", \"div\" (display.lineDiv), \"local\"/null (editor), \"window\",\n  // or \"page\".\n  function intoCoordSystem(cm, lineObj, rect, context) {\n    if (lineObj.widgets) for (var i = 0; i < lineObj.widgets.length; ++i) if (lineObj.widgets[i].above) {\n      var size = widgetHeight(lineObj.widgets[i]);\n      rect.top += size; rect.bottom += size;\n    }\n    if (context == \"line\") return rect;\n    if (!context) context = \"local\";\n    var yOff = heightAtLine(lineObj);\n    if (context == \"local\") yOff += paddingTop(cm.display);\n    else yOff -= cm.display.viewOffset;\n    if (context == \"page\" || context == \"window\") {\n      var lOff = cm.display.lineSpace.getBoundingClientRect();\n      yOff += lOff.top + (context == \"window\" ? 0 : pageScrollY());\n      var xOff = lOff.left + (context == \"window\" ? 0 : pageScrollX());\n      rect.left += xOff; rect.right += xOff;\n    }\n    rect.top += yOff; rect.bottom += yOff;\n    return rect;\n  }\n\n  // Coverts a box from \"div\" coords to another coordinate system.\n  // Context may be \"window\", \"page\", \"div\", or \"local\"/null.\n  function fromCoordSystem(cm, coords, context) {\n    if (context == \"div\") return coords;\n    var left = coords.left, top = coords.top;\n    // First move into \"page\" coordinate system\n    if (context == \"page\") {\n      left -= pageScrollX();\n      top -= pageScrollY();\n    } else if (context == \"local\" || !context) {\n      var localBox = cm.display.sizer.getBoundingClientRect();\n      left += localBox.left;\n      top += localBox.top;\n    }\n\n    var lineSpaceBox = cm.display.lineSpace.getBoundingClientRect();\n    return {left: left - lineSpaceBox.left, top: top - lineSpaceBox.top};\n  }\n\n  function charCoords(cm, pos, context, lineObj, bias) {\n    if (!lineObj) lineObj = getLine(cm.doc, pos.line);\n    return intoCoordSystem(cm, lineObj, measureChar(cm, lineObj, pos.ch, bias), context);\n  }\n\n  // Returns a box for a given cursor position, which may have an\n  // 'other' property containing the position of the secondary cursor\n  // on a bidi boundary.\n  function cursorCoords(cm, pos, context, lineObj, preparedMeasure, varHeight) {\n    lineObj = lineObj || getLine(cm.doc, pos.line);\n    if (!preparedMeasure) preparedMeasure = prepareMeasureForLine(cm, lineObj);\n    function get(ch, right) {\n      var m = measureCharPrepared(cm, preparedMeasure, ch, right ? \"right\" : \"left\", varHeight);\n      if (right) m.left = m.right; else m.right = m.left;\n      return intoCoordSystem(cm, lineObj, m, context);\n    }\n    function getBidi(ch, partPos) {\n      var part = order[partPos], right = part.level % 2;\n      if (ch == bidiLeft(part) && partPos && part.level < order[partPos - 1].level) {\n        part = order[--partPos];\n        ch = bidiRight(part) - (part.level % 2 ? 0 : 1);\n        right = true;\n      } else if (ch == bidiRight(part) && partPos < order.length - 1 && part.level < order[partPos + 1].level) {\n        part = order[++partPos];\n        ch = bidiLeft(part) - part.level % 2;\n        right = false;\n      }\n      if (right && ch == part.to && ch > part.from) return get(ch - 1);\n      return get(ch, right);\n    }\n    var order = getOrder(lineObj), ch = pos.ch;\n    if (!order) return get(ch);\n    var partPos = getBidiPartAt(order, ch);\n    var val = getBidi(ch, partPos);\n    if (bidiOther != null) val.other = getBidi(ch, bidiOther);\n    return val;\n  }\n\n  // Used to cheaply estimate the coordinates for a position. Used for\n  // intermediate scroll updates.\n  function estimateCoords(cm, pos) {\n    var left = 0, pos = clipPos(cm.doc, pos);\n    if (!cm.options.lineWrapping) left = charWidth(cm.display) * pos.ch;\n    var lineObj = getLine(cm.doc, pos.line);\n    var top = heightAtLine(lineObj) + paddingTop(cm.display);\n    return {left: left, right: left, top: top, bottom: top + lineObj.height};\n  }\n\n  // Positions returned by coordsChar contain some extra information.\n  // xRel is the relative x position of the input coordinates compared\n  // to the found position (so xRel > 0 means the coordinates are to\n  // the right of the character position, for example). When outside\n  // is true, that means the coordinates lie outside the line's\n  // vertical range.\n  function PosWithInfo(line, ch, outside, xRel) {\n    var pos = Pos(line, ch);\n    pos.xRel = xRel;\n    if (outside) pos.outside = true;\n    return pos;\n  }\n\n  // Compute the character position closest to the given coordinates.\n  // Input must be lineSpace-local (\"div\" coordinate system).\n  function coordsChar(cm, x, y) {\n    var doc = cm.doc;\n    y += cm.display.viewOffset;\n    if (y < 0) return PosWithInfo(doc.first, 0, true, -1);\n    var lineN = lineAtHeight(doc, y), last = doc.first + doc.size - 1;\n    if (lineN > last)\n      return PosWithInfo(doc.first + doc.size - 1, getLine(doc, last).text.length, true, 1);\n    if (x < 0) x = 0;\n\n    var lineObj = getLine(doc, lineN);\n    for (;;) {\n      var found = coordsCharInner(cm, lineObj, lineN, x, y);\n      var merged = collapsedSpanAtEnd(lineObj);\n      var mergedPos = merged && merged.find(0, true);\n      if (merged && (found.ch > mergedPos.from.ch || found.ch == mergedPos.from.ch && found.xRel > 0))\n        lineN = lineNo(lineObj = mergedPos.to.line);\n      else\n        return found;\n    }\n  }\n\n  function coordsCharInner(cm, lineObj, lineNo, x, y) {\n    var innerOff = y - heightAtLine(lineObj);\n    var wrongLine = false, adjust = 2 * cm.display.wrapper.clientWidth;\n    var preparedMeasure = prepareMeasureForLine(cm, lineObj);\n\n    function getX(ch) {\n      var sp = cursorCoords(cm, Pos(lineNo, ch), \"line\", lineObj, preparedMeasure);\n      wrongLine = true;\n      if (innerOff > sp.bottom) return sp.left - adjust;\n      else if (innerOff < sp.top) return sp.left + adjust;\n      else wrongLine = false;\n      return sp.left;\n    }\n\n    var bidi = getOrder(lineObj), dist = lineObj.text.length;\n    var from = lineLeft(lineObj), to = lineRight(lineObj);\n    var fromX = getX(from), fromOutside = wrongLine, toX = getX(to), toOutside = wrongLine;\n\n    if (x > toX) return PosWithInfo(lineNo, to, toOutside, 1);\n    // Do a binary search between these bounds.\n    for (;;) {\n      if (bidi ? to == from || to == moveVisually(lineObj, from, 1) : to - from <= 1) {\n        var ch = x < fromX || x - fromX <= toX - x ? from : to;\n        var outside = ch == from ? fromOutside : toOutside\n        var xDiff = x - (ch == from ? fromX : toX);\n        // This is a kludge to handle the case where the coordinates\n        // are after a line-wrapped line. We should replace it with a\n        // more general handling of cursor positions around line\n        // breaks. (Issue #4078)\n        if (toOutside && !bidi && !/\\s/.test(lineObj.text.charAt(ch)) && xDiff > 0 &&\n            ch < lineObj.text.length && preparedMeasure.view.measure.heights.length > 1) {\n          var charSize = measureCharPrepared(cm, preparedMeasure, ch, \"right\");\n          if (innerOff <= charSize.bottom && innerOff >= charSize.top && Math.abs(x - charSize.right) < xDiff) {\n            outside = false\n            ch++\n            xDiff = x - charSize.right\n          }\n        }\n        while (isExtendingChar(lineObj.text.charAt(ch))) ++ch;\n        var pos = PosWithInfo(lineNo, ch, outside, xDiff < -1 ? -1 : xDiff > 1 ? 1 : 0);\n        return pos;\n      }\n      var step = Math.ceil(dist / 2), middle = from + step;\n      if (bidi) {\n        middle = from;\n        for (var i = 0; i < step; ++i) middle = moveVisually(lineObj, middle, 1);\n      }\n      var middleX = getX(middle);\n      if (middleX > x) {to = middle; toX = middleX; if (toOutside = wrongLine) toX += 1000; dist = step;}\n      else {from = middle; fromX = middleX; fromOutside = wrongLine; dist -= step;}\n    }\n  }\n\n  var measureText;\n  // Compute the default text height.\n  function textHeight(display) {\n    if (display.cachedTextHeight != null) return display.cachedTextHeight;\n    if (measureText == null) {\n      measureText = elt(\"pre\");\n      // Measure a bunch of lines, for browsers that compute\n      // fractional heights.\n      for (var i = 0; i < 49; ++i) {\n        measureText.appendChild(document.createTextNode(\"x\"));\n        measureText.appendChild(elt(\"br\"));\n      }\n      measureText.appendChild(document.createTextNode(\"x\"));\n    }\n    removeChildrenAndAdd(display.measure, measureText);\n    var height = measureText.offsetHeight / 50;\n    if (height > 3) display.cachedTextHeight = height;\n    removeChildren(display.measure);\n    return height || 1;\n  }\n\n  // Compute the default character width.\n  function charWidth(display) {\n    if (display.cachedCharWidth != null) return display.cachedCharWidth;\n    var anchor = elt(\"span\", \"xxxxxxxxxx\");\n    var pre = elt(\"pre\", [anchor]);\n    removeChildrenAndAdd(display.measure, pre);\n    var rect = anchor.getBoundingClientRect(), width = (rect.right - rect.left) / 10;\n    if (width > 2) display.cachedCharWidth = width;\n    return width || 10;\n  }\n\n  // OPERATIONS\n\n  // Operations are used to wrap a series of changes to the editor\n  // state in such a way that each change won't have to update the\n  // cursor and display (which would be awkward, slow, and\n  // error-prone). Instead, display updates are batched and then all\n  // combined and executed at once.\n\n  var operationGroup = null;\n\n  var nextOpId = 0;\n  // Start a new operation.\n  function startOperation(cm) {\n    cm.curOp = {\n      cm: cm,\n      viewChanged: false,      // Flag that indicates that lines might need to be redrawn\n      startHeight: cm.doc.height, // Used to detect need to update scrollbar\n      forceUpdate: false,      // Used to force a redraw\n      updateInput: null,       // Whether to reset the input textarea\n      typing: false,           // Whether this reset should be careful to leave existing text (for compositing)\n      changeObjs: null,        // Accumulated changes, for firing change events\n      cursorActivityHandlers: null, // Set of handlers to fire cursorActivity on\n      cursorActivityCalled: 0, // Tracks which cursorActivity handlers have been called already\n      selectionChanged: false, // Whether the selection needs to be redrawn\n      updateMaxLine: false,    // Set when the widest line needs to be determined anew\n      scrollLeft: null, scrollTop: null, // Intermediate scroll position, not pushed to DOM yet\n      scrollToPos: null,       // Used to scroll to a specific position\n      focus: false,\n      id: ++nextOpId           // Unique ID\n    };\n    if (operationGroup) {\n      operationGroup.ops.push(cm.curOp);\n    } else {\n      cm.curOp.ownsGroup = operationGroup = {\n        ops: [cm.curOp],\n        delayedCallbacks: []\n      };\n    }\n  }\n\n  function fireCallbacksForOps(group) {\n    // Calls delayed callbacks and cursorActivity handlers until no\n    // new ones appear\n    var callbacks = group.delayedCallbacks, i = 0;\n    do {\n      for (; i < callbacks.length; i++)\n        callbacks[i].call(null);\n      for (var j = 0; j < group.ops.length; j++) {\n        var op = group.ops[j];\n        if (op.cursorActivityHandlers)\n          while (op.cursorActivityCalled < op.cursorActivityHandlers.length)\n            op.cursorActivityHandlers[op.cursorActivityCalled++].call(null, op.cm);\n      }\n    } while (i < callbacks.length);\n  }\n\n  // Finish an operation, updating the display and signalling delayed events\n  function endOperation(cm) {\n    var op = cm.curOp, group = op.ownsGroup;\n    if (!group) return;\n\n    try { fireCallbacksForOps(group); }\n    finally {\n      operationGroup = null;\n      for (var i = 0; i < group.ops.length; i++)\n        group.ops[i].cm.curOp = null;\n      endOperations(group);\n    }\n  }\n\n  // The DOM updates done when an operation finishes are batched so\n  // that the minimum number of relayouts are required.\n  function endOperations(group) {\n    var ops = group.ops;\n    for (var i = 0; i < ops.length; i++) // Read DOM\n      endOperation_R1(ops[i]);\n    for (var i = 0; i < ops.length; i++) // Write DOM (maybe)\n      endOperation_W1(ops[i]);\n    for (var i = 0; i < ops.length; i++) // Read DOM\n      endOperation_R2(ops[i]);\n    for (var i = 0; i < ops.length; i++) // Write DOM (maybe)\n      endOperation_W2(ops[i]);\n    for (var i = 0; i < ops.length; i++) // Read DOM\n      endOperation_finish(ops[i]);\n  }\n\n  function endOperation_R1(op) {\n    var cm = op.cm, display = cm.display;\n    maybeClipScrollbars(cm);\n    if (op.updateMaxLine) findMaxLine(cm);\n\n    op.mustUpdate = op.viewChanged || op.forceUpdate || op.scrollTop != null ||\n      op.scrollToPos && (op.scrollToPos.from.line < display.viewFrom ||\n                         op.scrollToPos.to.line >= display.viewTo) ||\n      display.maxLineChanged && cm.options.lineWrapping;\n    op.update = op.mustUpdate &&\n      new DisplayUpdate(cm, op.mustUpdate && {top: op.scrollTop, ensure: op.scrollToPos}, op.forceUpdate);\n  }\n\n  function endOperation_W1(op) {\n    op.updatedDisplay = op.mustUpdate && updateDisplayIfNeeded(op.cm, op.update);\n  }\n\n  function endOperation_R2(op) {\n    var cm = op.cm, display = cm.display;\n    if (op.updatedDisplay) updateHeightsInViewport(cm);\n\n    op.barMeasure = measureForScrollbars(cm);\n\n    // If the max line changed since it was last measured, measure it,\n    // and ensure the document's width matches it.\n    // updateDisplay_W2 will use these properties to do the actual resizing\n    if (display.maxLineChanged && !cm.options.lineWrapping) {\n      op.adjustWidthTo = measureChar(cm, display.maxLine, display.maxLine.text.length).left + 3;\n      cm.display.sizerWidth = op.adjustWidthTo;\n      op.barMeasure.scrollWidth =\n        Math.max(display.scroller.clientWidth, display.sizer.offsetLeft + op.adjustWidthTo + scrollGap(cm) + cm.display.barWidth);\n      op.maxScrollLeft = Math.max(0, display.sizer.offsetLeft + op.adjustWidthTo - displayWidth(cm));\n    }\n\n    if (op.updatedDisplay || op.selectionChanged)\n      op.preparedSelection = display.input.prepareSelection(op.focus);\n  }\n\n  function endOperation_W2(op) {\n    var cm = op.cm;\n\n    if (op.adjustWidthTo != null) {\n      cm.display.sizer.style.minWidth = op.adjustWidthTo + \"px\";\n      if (op.maxScrollLeft < cm.doc.scrollLeft)\n        setScrollLeft(cm, Math.min(cm.display.scroller.scrollLeft, op.maxScrollLeft), true);\n      cm.display.maxLineChanged = false;\n    }\n\n    var takeFocus = op.focus && op.focus == activeElt() && (!document.hasFocus || document.hasFocus())\n    if (op.preparedSelection)\n      cm.display.input.showSelection(op.preparedSelection, takeFocus);\n    if (op.updatedDisplay || op.startHeight != cm.doc.height)\n      updateScrollbars(cm, op.barMeasure);\n    if (op.updatedDisplay)\n      setDocumentHeight(cm, op.barMeasure);\n\n    if (op.selectionChanged) restartBlink(cm);\n\n    if (cm.state.focused && op.updateInput)\n      cm.display.input.reset(op.typing);\n    if (takeFocus) ensureFocus(op.cm);\n  }\n\n  function endOperation_finish(op) {\n    var cm = op.cm, display = cm.display, doc = cm.doc;\n\n    if (op.updatedDisplay) postUpdateDisplay(cm, op.update);\n\n    // Abort mouse wheel delta measurement, when scrolling explicitly\n    if (display.wheelStartX != null && (op.scrollTop != null || op.scrollLeft != null || op.scrollToPos))\n      display.wheelStartX = display.wheelStartY = null;\n\n    // Propagate the scroll position to the actual DOM scroller\n    if (op.scrollTop != null && (display.scroller.scrollTop != op.scrollTop || op.forceScroll)) {\n      doc.scrollTop = Math.max(0, Math.min(display.scroller.scrollHeight - display.scroller.clientHeight, op.scrollTop));\n      display.scrollbars.setScrollTop(doc.scrollTop);\n      display.scroller.scrollTop = doc.scrollTop;\n    }\n    if (op.scrollLeft != null && (display.scroller.scrollLeft != op.scrollLeft || op.forceScroll)) {\n      doc.scrollLeft = Math.max(0, Math.min(display.scroller.scrollWidth - display.scroller.clientWidth, op.scrollLeft));\n      display.scrollbars.setScrollLeft(doc.scrollLeft);\n      display.scroller.scrollLeft = doc.scrollLeft;\n      alignHorizontally(cm);\n    }\n    // If we need to scroll a specific position into view, do so.\n    if (op.scrollToPos) {\n      var coords = scrollPosIntoView(cm, clipPos(doc, op.scrollToPos.from),\n                                     clipPos(doc, op.scrollToPos.to), op.scrollToPos.margin);\n      if (op.scrollToPos.isCursor && cm.state.focused) maybeScrollWindow(cm, coords);\n    }\n\n    // Fire events for markers that are hidden/unidden by editing or\n    // undoing\n    var hidden = op.maybeHiddenMarkers, unhidden = op.maybeUnhiddenMarkers;\n    if (hidden) for (var i = 0; i < hidden.length; ++i)\n      if (!hidden[i].lines.length) signal(hidden[i], \"hide\");\n    if (unhidden) for (var i = 0; i < unhidden.length; ++i)\n      if (unhidden[i].lines.length) signal(unhidden[i], \"unhide\");\n\n    if (display.wrapper.offsetHeight)\n      doc.scrollTop = cm.display.scroller.scrollTop;\n\n    // Fire change events, and delayed event handlers\n    if (op.changeObjs)\n      signal(cm, \"changes\", cm, op.changeObjs);\n    if (op.update)\n      op.update.finish();\n  }\n\n  // Run the given function in an operation\n  function runInOp(cm, f) {\n    if (cm.curOp) return f();\n    startOperation(cm);\n    try { return f(); }\n    finally { endOperation(cm); }\n  }\n  // Wraps a function in an operation. Returns the wrapped function.\n  function operation(cm, f) {\n    return function() {\n      if (cm.curOp) return f.apply(cm, arguments);\n      startOperation(cm);\n      try { return f.apply(cm, arguments); }\n      finally { endOperation(cm); }\n    };\n  }\n  // Used to add methods to editor and doc instances, wrapping them in\n  // operations.\n  function methodOp(f) {\n    return function() {\n      if (this.curOp) return f.apply(this, arguments);\n      startOperation(this);\n      try { return f.apply(this, arguments); }\n      finally { endOperation(this); }\n    };\n  }\n  function docMethodOp(f) {\n    return function() {\n      var cm = this.cm;\n      if (!cm || cm.curOp) return f.apply(this, arguments);\n      startOperation(cm);\n      try { return f.apply(this, arguments); }\n      finally { endOperation(cm); }\n    };\n  }\n\n  // VIEW TRACKING\n\n  // These objects are used to represent the visible (currently drawn)\n  // part of the document. A LineView may correspond to multiple\n  // logical lines, if those are connected by collapsed ranges.\n  function LineView(doc, line, lineN) {\n    // The starting line\n    this.line = line;\n    // Continuing lines, if any\n    this.rest = visualLineContinued(line);\n    // Number of logical lines in this visual line\n    this.size = this.rest ? lineNo(lst(this.rest)) - lineN + 1 : 1;\n    this.node = this.text = null;\n    this.hidden = lineIsHidden(doc, line);\n  }\n\n  // Create a range of LineView objects for the given lines.\n  function buildViewArray(cm, from, to) {\n    var array = [], nextPos;\n    for (var pos = from; pos < to; pos = nextPos) {\n      var view = new LineView(cm.doc, getLine(cm.doc, pos), pos);\n      nextPos = pos + view.size;\n      array.push(view);\n    }\n    return array;\n  }\n\n  // Updates the display.view data structure for a given change to the\n  // document. From and to are in pre-change coordinates. Lendiff is\n  // the amount of lines added or subtracted by the change. This is\n  // used for changes that span multiple lines, or change the way\n  // lines are divided into visual lines. regLineChange (below)\n  // registers single-line changes.\n  function regChange(cm, from, to, lendiff) {\n    if (from == null) from = cm.doc.first;\n    if (to == null) to = cm.doc.first + cm.doc.size;\n    if (!lendiff) lendiff = 0;\n\n    var display = cm.display;\n    if (lendiff && to < display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers > from))\n      display.updateLineNumbers = from;\n\n    cm.curOp.viewChanged = true;\n\n    if (from >= display.viewTo) { // Change after\n      if (sawCollapsedSpans && visualLineNo(cm.doc, from) < display.viewTo)\n        resetView(cm);\n    } else if (to <= display.viewFrom) { // Change before\n      if (sawCollapsedSpans && visualLineEndNo(cm.doc, to + lendiff) > display.viewFrom) {\n        resetView(cm);\n      } else {\n        display.viewFrom += lendiff;\n        display.viewTo += lendiff;\n      }\n    } else if (from <= display.viewFrom && to >= display.viewTo) { // Full overlap\n      resetView(cm);\n    } else if (from <= display.viewFrom) { // Top overlap\n      var cut = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cut) {\n        display.view = display.view.slice(cut.index);\n        display.viewFrom = cut.lineN;\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    } else if (to >= display.viewTo) { // Bottom overlap\n      var cut = viewCuttingPoint(cm, from, from, -1);\n      if (cut) {\n        display.view = display.view.slice(0, cut.index);\n        display.viewTo = cut.lineN;\n      } else {\n        resetView(cm);\n      }\n    } else { // Gap in the middle\n      var cutTop = viewCuttingPoint(cm, from, from, -1);\n      var cutBot = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cutTop && cutBot) {\n        display.view = display.view.slice(0, cutTop.index)\n          .concat(buildViewArray(cm, cutTop.lineN, cutBot.lineN))\n          .concat(display.view.slice(cutBot.index));\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    }\n\n    var ext = display.externalMeasured;\n    if (ext) {\n      if (to < ext.lineN)\n        ext.lineN += lendiff;\n      else if (from < ext.lineN + ext.size)\n        display.externalMeasured = null;\n    }\n  }\n\n  // Register a change to a single line. Type must be one of \"text\",\n  // \"gutter\", \"class\", \"widget\"\n  function regLineChange(cm, line, type) {\n    cm.curOp.viewChanged = true;\n    var display = cm.display, ext = cm.display.externalMeasured;\n    if (ext && line >= ext.lineN && line < ext.lineN + ext.size)\n      display.externalMeasured = null;\n\n    if (line < display.viewFrom || line >= display.viewTo) return;\n    var lineView = display.view[findViewIndex(cm, line)];\n    if (lineView.node == null) return;\n    var arr = lineView.changes || (lineView.changes = []);\n    if (indexOf(arr, type) == -1) arr.push(type);\n  }\n\n  // Clear the view.\n  function resetView(cm) {\n    cm.display.viewFrom = cm.display.viewTo = cm.doc.first;\n    cm.display.view = [];\n    cm.display.viewOffset = 0;\n  }\n\n  // Find the view element corresponding to a given line. Return null\n  // when the line isn't visible.\n  function findViewIndex(cm, n) {\n    if (n >= cm.display.viewTo) return null;\n    n -= cm.display.viewFrom;\n    if (n < 0) return null;\n    var view = cm.display.view;\n    for (var i = 0; i < view.length; i++) {\n      n -= view[i].size;\n      if (n < 0) return i;\n    }\n  }\n\n  function viewCuttingPoint(cm, oldN, newN, dir) {\n    var index = findViewIndex(cm, oldN), diff, view = cm.display.view;\n    if (!sawCollapsedSpans || newN == cm.doc.first + cm.doc.size)\n      return {index: index, lineN: newN};\n    for (var i = 0, n = cm.display.viewFrom; i < index; i++)\n      n += view[i].size;\n    if (n != oldN) {\n      if (dir > 0) {\n        if (index == view.length - 1) return null;\n        diff = (n + view[index].size) - oldN;\n        index++;\n      } else {\n        diff = n - oldN;\n      }\n      oldN += diff; newN += diff;\n    }\n    while (visualLineNo(cm.doc, newN) != newN) {\n      if (index == (dir < 0 ? 0 : view.length - 1)) return null;\n      newN += dir * view[index - (dir < 0 ? 1 : 0)].size;\n      index += dir;\n    }\n    return {index: index, lineN: newN};\n  }\n\n  // Force the view to cover a given range, adding empty view element\n  // or clipping off existing ones as needed.\n  function adjustView(cm, from, to) {\n    var display = cm.display, view = display.view;\n    if (view.length == 0 || from >= display.viewTo || to <= display.viewFrom) {\n      display.view = buildViewArray(cm, from, to);\n      display.viewFrom = from;\n    } else {\n      if (display.viewFrom > from)\n        display.view = buildViewArray(cm, from, display.viewFrom).concat(display.view);\n      else if (display.viewFrom < from)\n        display.view = display.view.slice(findViewIndex(cm, from));\n      display.viewFrom = from;\n      if (display.viewTo < to)\n        display.view = display.view.concat(buildViewArray(cm, display.viewTo, to));\n      else if (display.viewTo > to)\n        display.view = display.view.slice(0, findViewIndex(cm, to));\n    }\n    display.viewTo = to;\n  }\n\n  // Count the number of lines in the view whose DOM representation is\n  // out of date (or nonexistent).\n  function countDirtyView(cm) {\n    var view = cm.display.view, dirty = 0;\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (!lineView.hidden && (!lineView.node || lineView.changes)) ++dirty;\n    }\n    return dirty;\n  }\n\n  // EVENT HANDLERS\n\n  // Attach the necessary event handlers when initializing the editor\n  function registerEventHandlers(cm) {\n    var d = cm.display;\n    on(d.scroller, \"mousedown\", operation(cm, onMouseDown));\n    // Older IE's will not fire a second mousedown for a double click\n    if (ie && ie_version < 11)\n      on(d.scroller, \"dblclick\", operation(cm, function(e) {\n        if (signalDOMEvent(cm, e)) return;\n        var pos = posFromMouse(cm, e);\n        if (!pos || clickInGutter(cm, e) || eventInWidget(cm.display, e)) return;\n        e_preventDefault(e);\n        var word = cm.findWordAt(pos);\n        extendSelection(cm.doc, word.anchor, word.head);\n      }));\n    else\n      on(d.scroller, \"dblclick\", function(e) { signalDOMEvent(cm, e) || e_preventDefault(e); });\n    // Some browsers fire contextmenu *after* opening the menu, at\n    // which point we can't mess with it anymore. Context menu is\n    // handled in onMouseDown for these browsers.\n    if (!captureRightClick) on(d.scroller, \"contextmenu\", function(e) {onContextMenu(cm, e);});\n\n    // Used to suppress mouse event handling when a touch happens\n    var touchFinished, prevTouch = {end: 0};\n    function finishTouch() {\n      if (d.activeTouch) {\n        touchFinished = setTimeout(function() {d.activeTouch = null;}, 1000);\n        prevTouch = d.activeTouch;\n        prevTouch.end = +new Date;\n      }\n    };\n    function isMouseLikeTouchEvent(e) {\n      if (e.touches.length != 1) return false;\n      var touch = e.touches[0];\n      return touch.radiusX <= 1 && touch.radiusY <= 1;\n    }\n    function farAway(touch, other) {\n      if (other.left == null) return true;\n      var dx = other.left - touch.left, dy = other.top - touch.top;\n      return dx * dx + dy * dy > 20 * 20;\n    }\n    on(d.scroller, \"touchstart\", function(e) {\n      if (!signalDOMEvent(cm, e) && !isMouseLikeTouchEvent(e)) {\n        clearTimeout(touchFinished);\n        var now = +new Date;\n        d.activeTouch = {start: now, moved: false,\n                         prev: now - prevTouch.end <= 300 ? prevTouch : null};\n        if (e.touches.length == 1) {\n          d.activeTouch.left = e.touches[0].pageX;\n          d.activeTouch.top = e.touches[0].pageY;\n        }\n      }\n    });\n    on(d.scroller, \"touchmove\", function() {\n      if (d.activeTouch) d.activeTouch.moved = true;\n    });\n    on(d.scroller, \"touchend\", function(e) {\n      var touch = d.activeTouch;\n      if (touch && !eventInWidget(d, e) && touch.left != null &&\n          !touch.moved && new Date - touch.start < 300) {\n        var pos = cm.coordsChar(d.activeTouch, \"page\"), range;\n        if (!touch.prev || farAway(touch, touch.prev)) // Single tap\n          range = new Range(pos, pos);\n        else if (!touch.prev.prev || farAway(touch, touch.prev.prev)) // Double tap\n          range = cm.findWordAt(pos);\n        else // Triple tap\n          range = new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0)));\n        cm.setSelection(range.anchor, range.head);\n        cm.focus();\n        e_preventDefault(e);\n      }\n      finishTouch();\n    });\n    on(d.scroller, \"touchcancel\", finishTouch);\n\n    // Sync scrolling between fake scrollbars and real scrollable\n    // area, ensure viewport is updated when scrolling.\n    on(d.scroller, \"scroll\", function() {\n      if (d.scroller.clientHeight) {\n        setScrollTop(cm, d.scroller.scrollTop);\n        setScrollLeft(cm, d.scroller.scrollLeft, true);\n        signal(cm, \"scroll\", cm);\n      }\n    });\n\n    // Listen to wheel events in order to try and update the viewport on time.\n    on(d.scroller, \"mousewheel\", function(e){onScrollWheel(cm, e);});\n    on(d.scroller, \"DOMMouseScroll\", function(e){onScrollWheel(cm, e);});\n\n    // Prevent wrapper from ever scrolling\n    on(d.wrapper, \"scroll\", function() { d.wrapper.scrollTop = d.wrapper.scrollLeft = 0; });\n\n    d.dragFunctions = {\n      enter: function(e) {if (!signalDOMEvent(cm, e)) e_stop(e);},\n      over: function(e) {if (!signalDOMEvent(cm, e)) { onDragOver(cm, e); e_stop(e); }},\n      start: function(e){onDragStart(cm, e);},\n      drop: operation(cm, onDrop),\n      leave: function(e) {if (!signalDOMEvent(cm, e)) { clearDragCursor(cm); }}\n    };\n\n    var inp = d.input.getField();\n    on(inp, \"keyup\", function(e) { onKeyUp.call(cm, e); });\n    on(inp, \"keydown\", operation(cm, onKeyDown));\n    on(inp, \"keypress\", operation(cm, onKeyPress));\n    on(inp, \"focus\", bind(onFocus, cm));\n    on(inp, \"blur\", bind(onBlur, cm));\n  }\n\n  function dragDropChanged(cm, value, old) {\n    var wasOn = old && old != CodeMirror.Init;\n    if (!value != !wasOn) {\n      var funcs = cm.display.dragFunctions;\n      var toggle = value ? on : off;\n      toggle(cm.display.scroller, \"dragstart\", funcs.start);\n      toggle(cm.display.scroller, \"dragenter\", funcs.enter);\n      toggle(cm.display.scroller, \"dragover\", funcs.over);\n      toggle(cm.display.scroller, \"dragleave\", funcs.leave);\n      toggle(cm.display.scroller, \"drop\", funcs.drop);\n    }\n  }\n\n  // Called when the window resizes\n  function onResize(cm) {\n    var d = cm.display;\n    if (d.lastWrapHeight == d.wrapper.clientHeight && d.lastWrapWidth == d.wrapper.clientWidth)\n      return;\n    // Might be a text scaling operation, clear size caches.\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n    d.scrollbarsClipped = false;\n    cm.setSize();\n  }\n\n  // MOUSE EVENTS\n\n  // Return true when the given mouse event happened in a widget\n  function eventInWidget(display, e) {\n    for (var n = e_target(e); n != display.wrapper; n = n.parentNode) {\n      if (!n || (n.nodeType == 1 && n.getAttribute(\"cm-ignore-events\") == \"true\") ||\n          (n.parentNode == display.sizer && n != display.mover))\n        return true;\n    }\n  }\n\n  // Given a mouse event, find the corresponding position. If liberal\n  // is false, it checks whether a gutter or scrollbar was clicked,\n  // and returns null if it was. forRect is used by rectangular\n  // selections, and tries to estimate a character position even for\n  // coordinates beyond the right of the text.\n  function posFromMouse(cm, e, liberal, forRect) {\n    var display = cm.display;\n    if (!liberal && e_target(e).getAttribute(\"cm-not-content\") == \"true\") return null;\n\n    var x, y, space = display.lineSpace.getBoundingClientRect();\n    // Fails unpredictably on IE[67] when mouse is dragged around quickly.\n    try { x = e.clientX - space.left; y = e.clientY - space.top; }\n    catch (e) { return null; }\n    var coords = coordsChar(cm, x, y), line;\n    if (forRect && coords.xRel == 1 && (line = getLine(cm.doc, coords.line).text).length == coords.ch) {\n      var colDiff = countColumn(line, line.length, cm.options.tabSize) - line.length;\n      coords = Pos(coords.line, Math.max(0, Math.round((x - paddingH(cm.display).left) / charWidth(cm.display)) - colDiff));\n    }\n    return coords;\n  }\n\n  // A mouse down can be a single click, double click, triple click,\n  // start of selection drag, start of text drag, new cursor\n  // (ctrl-click), rectangle drag (alt-drag), or xwin\n  // middle-click-paste. Or it might be a click on something we should\n  // not interfere with, such as a scrollbar or widget.\n  function onMouseDown(e) {\n    var cm = this, display = cm.display;\n    if (signalDOMEvent(cm, e) || display.activeTouch && display.input.supportsTouch()) return;\n    display.shift = e.shiftKey;\n\n    if (eventInWidget(display, e)) {\n      if (!webkit) {\n        // Briefly turn off draggability, to allow widgets to do\n        // normal dragging things.\n        display.scroller.draggable = false;\n        setTimeout(function(){display.scroller.draggable = true;}, 100);\n      }\n      return;\n    }\n    if (clickInGutter(cm, e)) return;\n    var start = posFromMouse(cm, e);\n    window.focus();\n\n    switch (e_button(e)) {\n    case 1:\n      // #3261: make sure, that we're not starting a second selection\n      if (cm.state.selectingText)\n        cm.state.selectingText(e);\n      else if (start)\n        leftButtonDown(cm, e, start);\n      else if (e_target(e) == display.scroller)\n        e_preventDefault(e);\n      break;\n    case 2:\n      if (webkit) cm.state.lastMiddleDown = +new Date;\n      if (start) extendSelection(cm.doc, start);\n      setTimeout(function() {display.input.focus();}, 20);\n      e_preventDefault(e);\n      break;\n    case 3:\n      if (captureRightClick) onContextMenu(cm, e);\n      else delayBlurEvent(cm);\n      break;\n    }\n  }\n\n  var lastClick, lastDoubleClick;\n  function leftButtonDown(cm, e, start) {\n    if (ie) setTimeout(bind(ensureFocus, cm), 0);\n    else cm.curOp.focus = activeElt();\n\n    var now = +new Date, type;\n    if (lastDoubleClick && lastDoubleClick.time > now - 400 && cmp(lastDoubleClick.pos, start) == 0) {\n      type = \"triple\";\n    } else if (lastClick && lastClick.time > now - 400 && cmp(lastClick.pos, start) == 0) {\n      type = \"double\";\n      lastDoubleClick = {time: now, pos: start};\n    } else {\n      type = \"single\";\n      lastClick = {time: now, pos: start};\n    }\n\n    var sel = cm.doc.sel, modifier = mac ? e.metaKey : e.ctrlKey, contained;\n    if (cm.options.dragDrop && dragAndDrop && !cm.isReadOnly() &&\n        type == \"single\" && (contained = sel.contains(start)) > -1 &&\n        (cmp((contained = sel.ranges[contained]).from(), start) < 0 || start.xRel > 0) &&\n        (cmp(contained.to(), start) > 0 || start.xRel < 0))\n      leftButtonStartDrag(cm, e, start, modifier);\n    else\n      leftButtonSelect(cm, e, start, type, modifier);\n  }\n\n  // Start a text drag. When it ends, see if any dragging actually\n  // happen, and treat as a click if it didn't.\n  function leftButtonStartDrag(cm, e, start, modifier) {\n    var display = cm.display, startTime = +new Date;\n    var dragEnd = operation(cm, function(e2) {\n      if (webkit) display.scroller.draggable = false;\n      cm.state.draggingText = false;\n      off(document, \"mouseup\", dragEnd);\n      off(display.scroller, \"drop\", dragEnd);\n      if (Math.abs(e.clientX - e2.clientX) + Math.abs(e.clientY - e2.clientY) < 10) {\n        e_preventDefault(e2);\n        if (!modifier && +new Date - 200 < startTime)\n          extendSelection(cm.doc, start);\n        // Work around unexplainable focus problem in IE9 (#2127) and Chrome (#3081)\n        if (webkit || ie && ie_version == 9)\n          setTimeout(function() {document.body.focus(); display.input.focus();}, 20);\n        else\n          display.input.focus();\n      }\n    });\n    // Let the drag handler handle this.\n    if (webkit) display.scroller.draggable = true;\n    cm.state.draggingText = dragEnd;\n    dragEnd.copy = mac ? e.altKey : e.ctrlKey\n    // IE's approach to draggable\n    if (display.scroller.dragDrop) display.scroller.dragDrop();\n    on(document, \"mouseup\", dragEnd);\n    on(display.scroller, \"drop\", dragEnd);\n  }\n\n  // Normal selection, as opposed to text dragging.\n  function leftButtonSelect(cm, e, start, type, addNew) {\n    var display = cm.display, doc = cm.doc;\n    e_preventDefault(e);\n\n    var ourRange, ourIndex, startSel = doc.sel, ranges = startSel.ranges;\n    if (addNew && !e.shiftKey) {\n      ourIndex = doc.sel.contains(start);\n      if (ourIndex > -1)\n        ourRange = ranges[ourIndex];\n      else\n        ourRange = new Range(start, start);\n    } else {\n      ourRange = doc.sel.primary();\n      ourIndex = doc.sel.primIndex;\n    }\n\n    if (chromeOS ? e.shiftKey && e.metaKey : e.altKey) {\n      type = \"rect\";\n      if (!addNew) ourRange = new Range(start, start);\n      start = posFromMouse(cm, e, true, true);\n      ourIndex = -1;\n    } else if (type == \"double\") {\n      var word = cm.findWordAt(start);\n      if (cm.display.shift || doc.extend)\n        ourRange = extendRange(doc, ourRange, word.anchor, word.head);\n      else\n        ourRange = word;\n    } else if (type == \"triple\") {\n      var line = new Range(Pos(start.line, 0), clipPos(doc, Pos(start.line + 1, 0)));\n      if (cm.display.shift || doc.extend)\n        ourRange = extendRange(doc, ourRange, line.anchor, line.head);\n      else\n        ourRange = line;\n    } else {\n      ourRange = extendRange(doc, ourRange, start);\n    }\n\n    if (!addNew) {\n      ourIndex = 0;\n      setSelection(doc, new Selection([ourRange], 0), sel_mouse);\n      startSel = doc.sel;\n    } else if (ourIndex == -1) {\n      ourIndex = ranges.length;\n      setSelection(doc, normalizeSelection(ranges.concat([ourRange]), ourIndex),\n                   {scroll: false, origin: \"*mouse\"});\n    } else if (ranges.length > 1 && ranges[ourIndex].empty() && type == \"single\" && !e.shiftKey) {\n      setSelection(doc, normalizeSelection(ranges.slice(0, ourIndex).concat(ranges.slice(ourIndex + 1)), 0),\n                   {scroll: false, origin: \"*mouse\"});\n      startSel = doc.sel;\n    } else {\n      replaceOneSelection(doc, ourIndex, ourRange, sel_mouse);\n    }\n\n    var lastPos = start;\n    function extendTo(pos) {\n      if (cmp(lastPos, pos) == 0) return;\n      lastPos = pos;\n\n      if (type == \"rect\") {\n        var ranges = [], tabSize = cm.options.tabSize;\n        var startCol = countColumn(getLine(doc, start.line).text, start.ch, tabSize);\n        var posCol = countColumn(getLine(doc, pos.line).text, pos.ch, tabSize);\n        var left = Math.min(startCol, posCol), right = Math.max(startCol, posCol);\n        for (var line = Math.min(start.line, pos.line), end = Math.min(cm.lastLine(), Math.max(start.line, pos.line));\n             line <= end; line++) {\n          var text = getLine(doc, line).text, leftPos = findColumn(text, left, tabSize);\n          if (left == right)\n            ranges.push(new Range(Pos(line, leftPos), Pos(line, leftPos)));\n          else if (text.length > leftPos)\n            ranges.push(new Range(Pos(line, leftPos), Pos(line, findColumn(text, right, tabSize))));\n        }\n        if (!ranges.length) ranges.push(new Range(start, start));\n        setSelection(doc, normalizeSelection(startSel.ranges.slice(0, ourIndex).concat(ranges), ourIndex),\n                     {origin: \"*mouse\", scroll: false});\n        cm.scrollIntoView(pos);\n      } else {\n        var oldRange = ourRange;\n        var anchor = oldRange.anchor, head = pos;\n        if (type != \"single\") {\n          if (type == \"double\")\n            var range = cm.findWordAt(pos);\n          else\n            var range = new Range(Pos(pos.line, 0), clipPos(doc, Pos(pos.line + 1, 0)));\n          if (cmp(range.anchor, anchor) > 0) {\n            head = range.head;\n            anchor = minPos(oldRange.from(), range.anchor);\n          } else {\n            head = range.anchor;\n            anchor = maxPos(oldRange.to(), range.head);\n          }\n        }\n        var ranges = startSel.ranges.slice(0);\n        ranges[ourIndex] = new Range(clipPos(doc, anchor), head);\n        setSelection(doc, normalizeSelection(ranges, ourIndex), sel_mouse);\n      }\n    }\n\n    var editorSize = display.wrapper.getBoundingClientRect();\n    // Used to ensure timeout re-tries don't fire when another extend\n    // happened in the meantime (clearTimeout isn't reliable -- at\n    // least on Chrome, the timeouts still happen even when cleared,\n    // if the clear happens after their scheduled firing time).\n    var counter = 0;\n\n    function extend(e) {\n      var curCount = ++counter;\n      var cur = posFromMouse(cm, e, true, type == \"rect\");\n      if (!cur) return;\n      if (cmp(cur, lastPos) != 0) {\n        cm.curOp.focus = activeElt();\n        extendTo(cur);\n        var visible = visibleLines(display, doc);\n        if (cur.line >= visible.to || cur.line < visible.from)\n          setTimeout(operation(cm, function(){if (counter == curCount) extend(e);}), 150);\n      } else {\n        var outside = e.clientY < editorSize.top ? -20 : e.clientY > editorSize.bottom ? 20 : 0;\n        if (outside) setTimeout(operation(cm, function() {\n          if (counter != curCount) return;\n          display.scroller.scrollTop += outside;\n          extend(e);\n        }), 50);\n      }\n    }\n\n    function done(e) {\n      cm.state.selectingText = false;\n      counter = Infinity;\n      e_preventDefault(e);\n      display.input.focus();\n      off(document, \"mousemove\", move);\n      off(document, \"mouseup\", up);\n      doc.history.lastSelOrigin = null;\n    }\n\n    var move = operation(cm, function(e) {\n      if (!e_button(e)) done(e);\n      else extend(e);\n    });\n    var up = operation(cm, done);\n    cm.state.selectingText = up;\n    on(document, \"mousemove\", move);\n    on(document, \"mouseup\", up);\n  }\n\n  // Determines whether an event happened in the gutter, and fires the\n  // handlers for the corresponding event.\n  function gutterEvent(cm, e, type, prevent) {\n    try { var mX = e.clientX, mY = e.clientY; }\n    catch(e) { return false; }\n    if (mX >= Math.floor(cm.display.gutters.getBoundingClientRect().right)) return false;\n    if (prevent) e_preventDefault(e);\n\n    var display = cm.display;\n    var lineBox = display.lineDiv.getBoundingClientRect();\n\n    if (mY > lineBox.bottom || !hasHandler(cm, type)) return e_defaultPrevented(e);\n    mY -= lineBox.top - display.viewOffset;\n\n    for (var i = 0; i < cm.options.gutters.length; ++i) {\n      var g = display.gutters.childNodes[i];\n      if (g && g.getBoundingClientRect().right >= mX) {\n        var line = lineAtHeight(cm.doc, mY);\n        var gutter = cm.options.gutters[i];\n        signal(cm, type, cm, line, gutter, e);\n        return e_defaultPrevented(e);\n      }\n    }\n  }\n\n  function clickInGutter(cm, e) {\n    return gutterEvent(cm, e, \"gutterClick\", true);\n  }\n\n  // Kludge to work around strange IE behavior where it'll sometimes\n  // re-fire a series of drag-related events right after the drop (#1551)\n  var lastDrop = 0;\n\n  function onDrop(e) {\n    var cm = this;\n    clearDragCursor(cm);\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e))\n      return;\n    e_preventDefault(e);\n    if (ie) lastDrop = +new Date;\n    var pos = posFromMouse(cm, e, true), files = e.dataTransfer.files;\n    if (!pos || cm.isReadOnly()) return;\n    // Might be a file drop, in which case we simply extract the text\n    // and insert it.\n    if (files && files.length && window.FileReader && window.File) {\n      var n = files.length, text = Array(n), read = 0;\n      var loadFile = function(file, i) {\n        if (cm.options.allowDropFileTypes &&\n            indexOf(cm.options.allowDropFileTypes, file.type) == -1)\n          return;\n\n        var reader = new FileReader;\n        reader.onload = operation(cm, function() {\n          var content = reader.result;\n          if (/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(content)) content = \"\";\n          text[i] = content;\n          if (++read == n) {\n            pos = clipPos(cm.doc, pos);\n            var change = {from: pos, to: pos,\n                          text: cm.doc.splitLines(text.join(cm.doc.lineSeparator())),\n                          origin: \"paste\"};\n            makeChange(cm.doc, change);\n            setSelectionReplaceHistory(cm.doc, simpleSelection(pos, changeEnd(change)));\n          }\n        });\n        reader.readAsText(file);\n      };\n      for (var i = 0; i < n; ++i) loadFile(files[i], i);\n    } else { // Normal drop\n      // Don't do a replace if the drop happened inside of the selected text.\n      if (cm.state.draggingText && cm.doc.sel.contains(pos) > -1) {\n        cm.state.draggingText(e);\n        // Ensure the editor is re-focused\n        setTimeout(function() {cm.display.input.focus();}, 20);\n        return;\n      }\n      try {\n        var text = e.dataTransfer.getData(\"Text\");\n        if (text) {\n          if (cm.state.draggingText && !cm.state.draggingText.copy)\n            var selected = cm.listSelections();\n          setSelectionNoUndo(cm.doc, simpleSelection(pos, pos));\n          if (selected) for (var i = 0; i < selected.length; ++i)\n            replaceRange(cm.doc, \"\", selected[i].anchor, selected[i].head, \"drag\");\n          cm.replaceSelection(text, \"around\", \"paste\");\n          cm.display.input.focus();\n        }\n      }\n      catch(e){}\n    }\n  }\n\n  function onDragStart(cm, e) {\n    if (ie && (!cm.state.draggingText || +new Date - lastDrop < 100)) { e_stop(e); return; }\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) return;\n\n    e.dataTransfer.setData(\"Text\", cm.getSelection());\n    e.dataTransfer.effectAllowed = \"copyMove\"\n\n    // Use dummy image instead of default browsers image.\n    // Recent Safari (~6.0.2) have a tendency to segfault when this happens, so we don't do it there.\n    if (e.dataTransfer.setDragImage && !safari) {\n      var img = elt(\"img\", null, null, \"position: fixed; left: 0; top: 0;\");\n      img.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n      if (presto) {\n        img.width = img.height = 1;\n        cm.display.wrapper.appendChild(img);\n        // Force a relayout, or Opera won't use our image for some obscure reason\n        img._top = img.offsetTop;\n      }\n      e.dataTransfer.setDragImage(img, 0, 0);\n      if (presto) img.parentNode.removeChild(img);\n    }\n  }\n\n  function onDragOver(cm, e) {\n    var pos = posFromMouse(cm, e);\n    if (!pos) return;\n    var frag = document.createDocumentFragment();\n    drawSelectionCursor(cm, pos, frag);\n    if (!cm.display.dragCursor) {\n      cm.display.dragCursor = elt(\"div\", null, \"CodeMirror-cursors CodeMirror-dragcursors\");\n      cm.display.lineSpace.insertBefore(cm.display.dragCursor, cm.display.cursorDiv);\n    }\n    removeChildrenAndAdd(cm.display.dragCursor, frag);\n  }\n\n  function clearDragCursor(cm) {\n    if (cm.display.dragCursor) {\n      cm.display.lineSpace.removeChild(cm.display.dragCursor);\n      cm.display.dragCursor = null;\n    }\n  }\n\n  // SCROLL EVENTS\n\n  // Sync the scrollable area and scrollbars, ensure the viewport\n  // covers the visible area.\n  function setScrollTop(cm, val) {\n    if (Math.abs(cm.doc.scrollTop - val) < 2) return;\n    cm.doc.scrollTop = val;\n    if (!gecko) updateDisplaySimple(cm, {top: val});\n    if (cm.display.scroller.scrollTop != val) cm.display.scroller.scrollTop = val;\n    cm.display.scrollbars.setScrollTop(val);\n    if (gecko) updateDisplaySimple(cm);\n    startWorker(cm, 100);\n  }\n  // Sync scroller and scrollbar, ensure the gutter elements are\n  // aligned.\n  function setScrollLeft(cm, val, isScroller) {\n    if (isScroller ? val == cm.doc.scrollLeft : Math.abs(cm.doc.scrollLeft - val) < 2) return;\n    val = Math.min(val, cm.display.scroller.scrollWidth - cm.display.scroller.clientWidth);\n    cm.doc.scrollLeft = val;\n    alignHorizontally(cm);\n    if (cm.display.scroller.scrollLeft != val) cm.display.scroller.scrollLeft = val;\n    cm.display.scrollbars.setScrollLeft(val);\n  }\n\n  // Since the delta values reported on mouse wheel events are\n  // unstandardized between browsers and even browser versions, and\n  // generally horribly unpredictable, this code starts by measuring\n  // the scroll effect that the first few mouse wheel events have,\n  // and, from that, detects the way it can convert deltas to pixel\n  // offsets afterwards.\n  //\n  // The reason we want to know the amount a wheel event will scroll\n  // is that it gives us a chance to update the display before the\n  // actual scrolling happens, reducing flickering.\n\n  var wheelSamples = 0, wheelPixelsPerUnit = null;\n  // Fill in a browser-detected starting value on browsers where we\n  // know one. These don't have to be accurate -- the result of them\n  // being wrong would just be a slight flicker on the first wheel\n  // scroll (if it is large enough).\n  if (ie) wheelPixelsPerUnit = -.53;\n  else if (gecko) wheelPixelsPerUnit = 15;\n  else if (chrome) wheelPixelsPerUnit = -.7;\n  else if (safari) wheelPixelsPerUnit = -1/3;\n\n  var wheelEventDelta = function(e) {\n    var dx = e.wheelDeltaX, dy = e.wheelDeltaY;\n    if (dx == null && e.detail && e.axis == e.HORIZONTAL_AXIS) dx = e.detail;\n    if (dy == null && e.detail && e.axis == e.VERTICAL_AXIS) dy = e.detail;\n    else if (dy == null) dy = e.wheelDelta;\n    return {x: dx, y: dy};\n  };\n  CodeMirror.wheelEventPixels = function(e) {\n    var delta = wheelEventDelta(e);\n    delta.x *= wheelPixelsPerUnit;\n    delta.y *= wheelPixelsPerUnit;\n    return delta;\n  };\n\n  function onScrollWheel(cm, e) {\n    var delta = wheelEventDelta(e), dx = delta.x, dy = delta.y;\n\n    var display = cm.display, scroll = display.scroller;\n    // Quit if there's nothing to scroll here\n    var canScrollX = scroll.scrollWidth > scroll.clientWidth;\n    var canScrollY = scroll.scrollHeight > scroll.clientHeight;\n    if (!(dx && canScrollX || dy && canScrollY)) return;\n\n    // Webkit browsers on OS X abort momentum scrolls when the target\n    // of the scroll event is removed from the scrollable element.\n    // This hack (see related code in patchDisplay) makes sure the\n    // element is kept around.\n    if (dy && mac && webkit) {\n      outer: for (var cur = e.target, view = display.view; cur != scroll; cur = cur.parentNode) {\n        for (var i = 0; i < view.length; i++) {\n          if (view[i].node == cur) {\n            cm.display.currentWheelTarget = cur;\n            break outer;\n          }\n        }\n      }\n    }\n\n    // On some browsers, horizontal scrolling will cause redraws to\n    // happen before the gutter has been realigned, causing it to\n    // wriggle around in a most unseemly way. When we have an\n    // estimated pixels/delta value, we just handle horizontal\n    // scrolling entirely here. It'll be slightly off from native, but\n    // better than glitching out.\n    if (dx && !gecko && !presto && wheelPixelsPerUnit != null) {\n      if (dy && canScrollY)\n        setScrollTop(cm, Math.max(0, Math.min(scroll.scrollTop + dy * wheelPixelsPerUnit, scroll.scrollHeight - scroll.clientHeight)));\n      setScrollLeft(cm, Math.max(0, Math.min(scroll.scrollLeft + dx * wheelPixelsPerUnit, scroll.scrollWidth - scroll.clientWidth)));\n      // Only prevent default scrolling if vertical scrolling is\n      // actually possible. Otherwise, it causes vertical scroll\n      // jitter on OSX trackpads when deltaX is small and deltaY\n      // is large (issue #3579)\n      if (!dy || (dy && canScrollY))\n        e_preventDefault(e);\n      display.wheelStartX = null; // Abort measurement, if in progress\n      return;\n    }\n\n    // 'Project' the visible viewport to cover the area that is being\n    // scrolled into view (if we know enough to estimate it).\n    if (dy && wheelPixelsPerUnit != null) {\n      var pixels = dy * wheelPixelsPerUnit;\n      var top = cm.doc.scrollTop, bot = top + display.wrapper.clientHeight;\n      if (pixels < 0) top = Math.max(0, top + pixels - 50);\n      else bot = Math.min(cm.doc.height, bot + pixels + 50);\n      updateDisplaySimple(cm, {top: top, bottom: bot});\n    }\n\n    if (wheelSamples < 20) {\n      if (display.wheelStartX == null) {\n        display.wheelStartX = scroll.scrollLeft; display.wheelStartY = scroll.scrollTop;\n        display.wheelDX = dx; display.wheelDY = dy;\n        setTimeout(function() {\n          if (display.wheelStartX == null) return;\n          var movedX = scroll.scrollLeft - display.wheelStartX;\n          var movedY = scroll.scrollTop - display.wheelStartY;\n          var sample = (movedY && display.wheelDY && movedY / display.wheelDY) ||\n            (movedX && display.wheelDX && movedX / display.wheelDX);\n          display.wheelStartX = display.wheelStartY = null;\n          if (!sample) return;\n          wheelPixelsPerUnit = (wheelPixelsPerUnit * wheelSamples + sample) / (wheelSamples + 1);\n          ++wheelSamples;\n        }, 200);\n      } else {\n        display.wheelDX += dx; display.wheelDY += dy;\n      }\n    }\n  }\n\n  // KEY EVENTS\n\n  // Run a handler that was bound to a key.\n  function doHandleBinding(cm, bound, dropShift) {\n    if (typeof bound == \"string\") {\n      bound = commands[bound];\n      if (!bound) return false;\n    }\n    // Ensure previous input has been read, so that the handler sees a\n    // consistent view of the document\n    cm.display.input.ensurePolled();\n    var prevShift = cm.display.shift, done = false;\n    try {\n      if (cm.isReadOnly()) cm.state.suppressEdits = true;\n      if (dropShift) cm.display.shift = false;\n      done = bound(cm) != Pass;\n    } finally {\n      cm.display.shift = prevShift;\n      cm.state.suppressEdits = false;\n    }\n    return done;\n  }\n\n  function lookupKeyForEditor(cm, name, handle) {\n    for (var i = 0; i < cm.state.keyMaps.length; i++) {\n      var result = lookupKey(name, cm.state.keyMaps[i], handle, cm);\n      if (result) return result;\n    }\n    return (cm.options.extraKeys && lookupKey(name, cm.options.extraKeys, handle, cm))\n      || lookupKey(name, cm.options.keyMap, handle, cm);\n  }\n\n  var stopSeq = new Delayed;\n  function dispatchKey(cm, name, e, handle) {\n    var seq = cm.state.keySeq;\n    if (seq) {\n      if (isModifierKey(name)) return \"handled\";\n      stopSeq.set(50, function() {\n        if (cm.state.keySeq == seq) {\n          cm.state.keySeq = null;\n          cm.display.input.reset();\n        }\n      });\n      name = seq + \" \" + name;\n    }\n    var result = lookupKeyForEditor(cm, name, handle);\n\n    if (result == \"multi\")\n      cm.state.keySeq = name;\n    if (result == \"handled\")\n      signalLater(cm, \"keyHandled\", cm, name, e);\n\n    if (result == \"handled\" || result == \"multi\") {\n      e_preventDefault(e);\n      restartBlink(cm);\n    }\n\n    if (seq && !result && /\\'$/.test(name)) {\n      e_preventDefault(e);\n      return true;\n    }\n    return !!result;\n  }\n\n  // Handle a key from the keydown event.\n  function handleKeyBinding(cm, e) {\n    var name = keyName(e, true);\n    if (!name) return false;\n\n    if (e.shiftKey && !cm.state.keySeq) {\n      // First try to resolve full name (including 'Shift-'). Failing\n      // that, see if there is a cursor-motion command (starting with\n      // 'go') bound to the keyname without 'Shift-'.\n      return dispatchKey(cm, \"Shift-\" + name, e, function(b) {return doHandleBinding(cm, b, true);})\n          || dispatchKey(cm, name, e, function(b) {\n               if (typeof b == \"string\" ? /^go[A-Z]/.test(b) : b.motion)\n                 return doHandleBinding(cm, b);\n             });\n    } else {\n      return dispatchKey(cm, name, e, function(b) { return doHandleBinding(cm, b); });\n    }\n  }\n\n  // Handle a key from the keypress event\n  function handleCharBinding(cm, e, ch) {\n    return dispatchKey(cm, \"'\" + ch + \"'\", e,\n                       function(b) { return doHandleBinding(cm, b, true); });\n  }\n\n  var lastStoppedKey = null;\n  function onKeyDown(e) {\n    var cm = this;\n    cm.curOp.focus = activeElt();\n    if (signalDOMEvent(cm, e)) return;\n    // IE does strange things with escape.\n    if (ie && ie_version < 11 && e.keyCode == 27) e.returnValue = false;\n    var code = e.keyCode;\n    cm.display.shift = code == 16 || e.shiftKey;\n    var handled = handleKeyBinding(cm, e);\n    if (presto) {\n      lastStoppedKey = handled ? code : null;\n      // Opera has no cut event... we try to at least catch the key combo\n      if (!handled && code == 88 && !hasCopyEvent && (mac ? e.metaKey : e.ctrlKey))\n        cm.replaceSelection(\"\", null, \"cut\");\n    }\n\n    // Turn mouse into crosshair when Alt is held on Mac.\n    if (code == 18 && !/\\bCodeMirror-crosshair\\b/.test(cm.display.lineDiv.className))\n      showCrossHair(cm);\n  }\n\n  function showCrossHair(cm) {\n    var lineDiv = cm.display.lineDiv;\n    addClass(lineDiv, \"CodeMirror-crosshair\");\n\n    function up(e) {\n      if (e.keyCode == 18 || !e.altKey) {\n        rmClass(lineDiv, \"CodeMirror-crosshair\");\n        off(document, \"keyup\", up);\n        off(document, \"mouseover\", up);\n      }\n    }\n    on(document, \"keyup\", up);\n    on(document, \"mouseover\", up);\n  }\n\n  function onKeyUp(e) {\n    if (e.keyCode == 16) this.doc.sel.shift = false;\n    signalDOMEvent(this, e);\n  }\n\n  function onKeyPress(e) {\n    var cm = this;\n    if (eventInWidget(cm.display, e) || signalDOMEvent(cm, e) || e.ctrlKey && !e.altKey || mac && e.metaKey) return;\n    var keyCode = e.keyCode, charCode = e.charCode;\n    if (presto && keyCode == lastStoppedKey) {lastStoppedKey = null; e_preventDefault(e); return;}\n    if ((presto && (!e.which || e.which < 10)) && handleKeyBinding(cm, e)) return;\n    var ch = String.fromCharCode(charCode == null ? keyCode : charCode);\n    if (handleCharBinding(cm, e, ch)) return;\n    cm.display.input.onKeyPress(e);\n  }\n\n  // FOCUS/BLUR EVENTS\n\n  function delayBlurEvent(cm) {\n    cm.state.delayingBlurEvent = true;\n    setTimeout(function() {\n      if (cm.state.delayingBlurEvent) {\n        cm.state.delayingBlurEvent = false;\n        onBlur(cm);\n      }\n    }, 100);\n  }\n\n  function onFocus(cm) {\n    if (cm.state.delayingBlurEvent) cm.state.delayingBlurEvent = false;\n\n    if (cm.options.readOnly == \"nocursor\") return;\n    if (!cm.state.focused) {\n      signal(cm, \"focus\", cm);\n      cm.state.focused = true;\n      addClass(cm.display.wrapper, \"CodeMirror-focused\");\n      // This test prevents this from firing when a context\n      // menu is closed (since the input reset would kill the\n      // select-all detection hack)\n      if (!cm.curOp && cm.display.selForContextMenu != cm.doc.sel) {\n        cm.display.input.reset();\n        if (webkit) setTimeout(function() { cm.display.input.reset(true); }, 20); // Issue #1730\n      }\n      cm.display.input.receivedFocus();\n    }\n    restartBlink(cm);\n  }\n  function onBlur(cm) {\n    if (cm.state.delayingBlurEvent) return;\n\n    if (cm.state.focused) {\n      signal(cm, \"blur\", cm);\n      cm.state.focused = false;\n      rmClass(cm.display.wrapper, \"CodeMirror-focused\");\n    }\n    clearInterval(cm.display.blinker);\n    setTimeout(function() {if (!cm.state.focused) cm.display.shift = false;}, 150);\n  }\n\n  // CONTEXT MENU HANDLING\n\n  // To make the context menu work, we need to briefly unhide the\n  // textarea (making it as unobtrusive as possible) to let the\n  // right-click take effect on it.\n  function onContextMenu(cm, e) {\n    if (eventInWidget(cm.display, e) || contextMenuInGutter(cm, e)) return;\n    if (signalDOMEvent(cm, e, \"contextmenu\")) return;\n    cm.display.input.onContextMenu(e);\n  }\n\n  function contextMenuInGutter(cm, e) {\n    if (!hasHandler(cm, \"gutterContextMenu\")) return false;\n    return gutterEvent(cm, e, \"gutterContextMenu\", false);\n  }\n\n  // UPDATING\n\n  // Compute the position of the end of a change (its 'to' property\n  // refers to the pre-change end).\n  var changeEnd = CodeMirror.changeEnd = function(change) {\n    if (!change.text) return change.to;\n    return Pos(change.from.line + change.text.length - 1,\n               lst(change.text).length + (change.text.length == 1 ? change.from.ch : 0));\n  };\n\n  // Adjust a position to refer to the post-change position of the\n  // same text, or the end of the change if the change covers it.\n  function adjustForChange(pos, change) {\n    if (cmp(pos, change.from) < 0) return pos;\n    if (cmp(pos, change.to) <= 0) return changeEnd(change);\n\n    var line = pos.line + change.text.length - (change.to.line - change.from.line) - 1, ch = pos.ch;\n    if (pos.line == change.to.line) ch += changeEnd(change).ch - change.to.ch;\n    return Pos(line, ch);\n  }\n\n  function computeSelAfterChange(doc, change) {\n    var out = [];\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      var range = doc.sel.ranges[i];\n      out.push(new Range(adjustForChange(range.anchor, change),\n                         adjustForChange(range.head, change)));\n    }\n    return normalizeSelection(out, doc.sel.primIndex);\n  }\n\n  function offsetPos(pos, old, nw) {\n    if (pos.line == old.line)\n      return Pos(nw.line, pos.ch - old.ch + nw.ch);\n    else\n      return Pos(nw.line + (pos.line - old.line), pos.ch);\n  }\n\n  // Used by replaceSelections to allow moving the selection to the\n  // start or around the replaced test. Hint may be \"start\" or \"around\".\n  function computeReplacedSel(doc, changes, hint) {\n    var out = [];\n    var oldPrev = Pos(doc.first, 0), newPrev = oldPrev;\n    for (var i = 0; i < changes.length; i++) {\n      var change = changes[i];\n      var from = offsetPos(change.from, oldPrev, newPrev);\n      var to = offsetPos(changeEnd(change), oldPrev, newPrev);\n      oldPrev = change.to;\n      newPrev = to;\n      if (hint == \"around\") {\n        var range = doc.sel.ranges[i], inv = cmp(range.head, range.anchor) < 0;\n        out[i] = new Range(inv ? to : from, inv ? from : to);\n      } else {\n        out[i] = new Range(from, from);\n      }\n    }\n    return new Selection(out, doc.sel.primIndex);\n  }\n\n  // Allow \"beforeChange\" event handlers to influence a change\n  function filterChange(doc, change, update) {\n    var obj = {\n      canceled: false,\n      from: change.from,\n      to: change.to,\n      text: change.text,\n      origin: change.origin,\n      cancel: function() { this.canceled = true; }\n    };\n    if (update) obj.update = function(from, to, text, origin) {\n      if (from) this.from = clipPos(doc, from);\n      if (to) this.to = clipPos(doc, to);\n      if (text) this.text = text;\n      if (origin !== undefined) this.origin = origin;\n    };\n    signal(doc, \"beforeChange\", doc, obj);\n    if (doc.cm) signal(doc.cm, \"beforeChange\", doc.cm, obj);\n\n    if (obj.canceled) return null;\n    return {from: obj.from, to: obj.to, text: obj.text, origin: obj.origin};\n  }\n\n  // Apply a change to a document, and add it to the document's\n  // history, and propagating it to all linked documents.\n  function makeChange(doc, change, ignoreReadOnly) {\n    if (doc.cm) {\n      if (!doc.cm.curOp) return operation(doc.cm, makeChange)(doc, change, ignoreReadOnly);\n      if (doc.cm.state.suppressEdits) return;\n    }\n\n    if (hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\")) {\n      change = filterChange(doc, change, true);\n      if (!change) return;\n    }\n\n    // Possibly split or suppress the update based on the presence\n    // of read-only spans in its range.\n    var split = sawReadOnlySpans && !ignoreReadOnly && removeReadOnlyRanges(doc, change.from, change.to);\n    if (split) {\n      for (var i = split.length - 1; i >= 0; --i)\n        makeChangeInner(doc, {from: split[i].from, to: split[i].to, text: i ? [\"\"] : change.text});\n    } else {\n      makeChangeInner(doc, change);\n    }\n  }\n\n  function makeChangeInner(doc, change) {\n    if (change.text.length == 1 && change.text[0] == \"\" && cmp(change.from, change.to) == 0) return;\n    var selAfter = computeSelAfterChange(doc, change);\n    addChangeToHistory(doc, change, selAfter, doc.cm ? doc.cm.curOp.id : NaN);\n\n    makeChangeSingleDoc(doc, change, selAfter, stretchSpansOverChange(doc, change));\n    var rebased = [];\n\n    linkedDocs(doc, function(doc, sharedHist) {\n      if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n        rebaseHist(doc.history, change);\n        rebased.push(doc.history);\n      }\n      makeChangeSingleDoc(doc, change, null, stretchSpansOverChange(doc, change));\n    });\n  }\n\n  // Revert a change stored in a document's history.\n  function makeChangeFromHistory(doc, type, allowSelectionOnly) {\n    if (doc.cm && doc.cm.state.suppressEdits) return;\n\n    var hist = doc.history, event, selAfter = doc.sel;\n    var source = type == \"undo\" ? hist.done : hist.undone, dest = type == \"undo\" ? hist.undone : hist.done;\n\n    // Verify that there is a useable event (so that ctrl-z won't\n    // needlessly clear selection events)\n    for (var i = 0; i < source.length; i++) {\n      event = source[i];\n      if (allowSelectionOnly ? event.ranges && !event.equals(doc.sel) : !event.ranges)\n        break;\n    }\n    if (i == source.length) return;\n    hist.lastOrigin = hist.lastSelOrigin = null;\n\n    for (;;) {\n      event = source.pop();\n      if (event.ranges) {\n        pushSelectionToHistory(event, dest);\n        if (allowSelectionOnly && !event.equals(doc.sel)) {\n          setSelection(doc, event, {clearRedo: false});\n          return;\n        }\n        selAfter = event;\n      }\n      else break;\n    }\n\n    // Build up a reverse change object to add to the opposite history\n    // stack (redo when undoing, and vice versa).\n    var antiChanges = [];\n    pushSelectionToHistory(selAfter, dest);\n    dest.push({changes: antiChanges, generation: hist.generation});\n    hist.generation = event.generation || ++hist.maxGeneration;\n\n    var filter = hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\");\n\n    for (var i = event.changes.length - 1; i >= 0; --i) {\n      var change = event.changes[i];\n      change.origin = type;\n      if (filter && !filterChange(doc, change, false)) {\n        source.length = 0;\n        return;\n      }\n\n      antiChanges.push(historyChangeFromChange(doc, change));\n\n      var after = i ? computeSelAfterChange(doc, change) : lst(source);\n      makeChangeSingleDoc(doc, change, after, mergeOldSpans(doc, change));\n      if (!i && doc.cm) doc.cm.scrollIntoView({from: change.from, to: changeEnd(change)});\n      var rebased = [];\n\n      // Propagate to the linked documents\n      linkedDocs(doc, function(doc, sharedHist) {\n        if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n          rebaseHist(doc.history, change);\n          rebased.push(doc.history);\n        }\n        makeChangeSingleDoc(doc, change, null, mergeOldSpans(doc, change));\n      });\n    }\n  }\n\n  // Sub-views need their line numbers shifted when text is added\n  // above or below them in the parent document.\n  function shiftDoc(doc, distance) {\n    if (distance == 0) return;\n    doc.first += distance;\n    doc.sel = new Selection(map(doc.sel.ranges, function(range) {\n      return new Range(Pos(range.anchor.line + distance, range.anchor.ch),\n                       Pos(range.head.line + distance, range.head.ch));\n    }), doc.sel.primIndex);\n    if (doc.cm) {\n      regChange(doc.cm, doc.first, doc.first - distance, distance);\n      for (var d = doc.cm.display, l = d.viewFrom; l < d.viewTo; l++)\n        regLineChange(doc.cm, l, \"gutter\");\n    }\n  }\n\n  // More lower-level change function, handling only a single document\n  // (not linked ones).\n  function makeChangeSingleDoc(doc, change, selAfter, spans) {\n    if (doc.cm && !doc.cm.curOp)\n      return operation(doc.cm, makeChangeSingleDoc)(doc, change, selAfter, spans);\n\n    if (change.to.line < doc.first) {\n      shiftDoc(doc, change.text.length - 1 - (change.to.line - change.from.line));\n      return;\n    }\n    if (change.from.line > doc.lastLine()) return;\n\n    // Clip the change to the size of this doc\n    if (change.from.line < doc.first) {\n      var shift = change.text.length - 1 - (doc.first - change.from.line);\n      shiftDoc(doc, shift);\n      change = {from: Pos(doc.first, 0), to: Pos(change.to.line + shift, change.to.ch),\n                text: [lst(change.text)], origin: change.origin};\n    }\n    var last = doc.lastLine();\n    if (change.to.line > last) {\n      change = {from: change.from, to: Pos(last, getLine(doc, last).text.length),\n                text: [change.text[0]], origin: change.origin};\n    }\n\n    change.removed = getBetween(doc, change.from, change.to);\n\n    if (!selAfter) selAfter = computeSelAfterChange(doc, change);\n    if (doc.cm) makeChangeSingleDocInEditor(doc.cm, change, spans);\n    else updateDoc(doc, change, spans);\n    setSelectionNoUndo(doc, selAfter, sel_dontScroll);\n  }\n\n  // Handle the interaction of a change to a document with the editor\n  // that this document is part of.\n  function makeChangeSingleDocInEditor(cm, change, spans) {\n    var doc = cm.doc, display = cm.display, from = change.from, to = change.to;\n\n    var recomputeMaxLength = false, checkWidthStart = from.line;\n    if (!cm.options.lineWrapping) {\n      checkWidthStart = lineNo(visualLine(getLine(doc, from.line)));\n      doc.iter(checkWidthStart, to.line + 1, function(line) {\n        if (line == display.maxLine) {\n          recomputeMaxLength = true;\n          return true;\n        }\n      });\n    }\n\n    if (doc.sel.contains(change.from, change.to) > -1)\n      signalCursorActivity(cm);\n\n    updateDoc(doc, change, spans, estimateHeight(cm));\n\n    if (!cm.options.lineWrapping) {\n      doc.iter(checkWidthStart, from.line + change.text.length, function(line) {\n        var len = lineLength(line);\n        if (len > display.maxLineLength) {\n          display.maxLine = line;\n          display.maxLineLength = len;\n          display.maxLineChanged = true;\n          recomputeMaxLength = false;\n        }\n      });\n      if (recomputeMaxLength) cm.curOp.updateMaxLine = true;\n    }\n\n    // Adjust frontier, schedule worker\n    doc.frontier = Math.min(doc.frontier, from.line);\n    startWorker(cm, 400);\n\n    var lendiff = change.text.length - (to.line - from.line) - 1;\n    // Remember that these lines changed, for updating the display\n    if (change.full)\n      regChange(cm);\n    else if (from.line == to.line && change.text.length == 1 && !isWholeLineUpdate(cm.doc, change))\n      regLineChange(cm, from.line, \"text\");\n    else\n      regChange(cm, from.line, to.line + 1, lendiff);\n\n    var changesHandler = hasHandler(cm, \"changes\"), changeHandler = hasHandler(cm, \"change\");\n    if (changeHandler || changesHandler) {\n      var obj = {\n        from: from, to: to,\n        text: change.text,\n        removed: change.removed,\n        origin: change.origin\n      };\n      if (changeHandler) signalLater(cm, \"change\", cm, obj);\n      if (changesHandler) (cm.curOp.changeObjs || (cm.curOp.changeObjs = [])).push(obj);\n    }\n    cm.display.selForContextMenu = null;\n  }\n\n  function replaceRange(doc, code, from, to, origin) {\n    if (!to) to = from;\n    if (cmp(to, from) < 0) { var tmp = to; to = from; from = tmp; }\n    if (typeof code == \"string\") code = doc.splitLines(code);\n    makeChange(doc, {from: from, to: to, text: code, origin: origin});\n  }\n\n  // SCROLLING THINGS INTO VIEW\n\n  // If an editor sits on the top or bottom of the window, partially\n  // scrolled out of view, this ensures that the cursor is visible.\n  function maybeScrollWindow(cm, coords) {\n    if (signalDOMEvent(cm, \"scrollCursorIntoView\")) return;\n\n    var display = cm.display, box = display.sizer.getBoundingClientRect(), doScroll = null;\n    if (coords.top + box.top < 0) doScroll = true;\n    else if (coords.bottom + box.top > (window.innerHeight || document.documentElement.clientHeight)) doScroll = false;\n    if (doScroll != null && !phantom) {\n      var scrollNode = elt(\"div\", \"\\u200b\", null, \"position: absolute; top: \" +\n                           (coords.top - display.viewOffset - paddingTop(cm.display)) + \"px; height: \" +\n                           (coords.bottom - coords.top + scrollGap(cm) + display.barHeight) + \"px; left: \" +\n                           coords.left + \"px; width: 2px;\");\n      cm.display.lineSpace.appendChild(scrollNode);\n      scrollNode.scrollIntoView(doScroll);\n      cm.display.lineSpace.removeChild(scrollNode);\n    }\n  }\n\n  // Scroll a given position into view (immediately), verifying that\n  // it actually became visible (as line heights are accurately\n  // measured, the position of something may 'drift' during drawing).\n  function scrollPosIntoView(cm, pos, end, margin) {\n    if (margin == null) margin = 0;\n    for (var limit = 0; limit < 5; limit++) {\n      var changed = false, coords = cursorCoords(cm, pos);\n      var endCoords = !end || end == pos ? coords : cursorCoords(cm, end);\n      var scrollPos = calculateScrollPos(cm, Math.min(coords.left, endCoords.left),\n                                         Math.min(coords.top, endCoords.top) - margin,\n                                         Math.max(coords.left, endCoords.left),\n                                         Math.max(coords.bottom, endCoords.bottom) + margin);\n      var startTop = cm.doc.scrollTop, startLeft = cm.doc.scrollLeft;\n      if (scrollPos.scrollTop != null) {\n        setScrollTop(cm, scrollPos.scrollTop);\n        if (Math.abs(cm.doc.scrollTop - startTop) > 1) changed = true;\n      }\n      if (scrollPos.scrollLeft != null) {\n        setScrollLeft(cm, scrollPos.scrollLeft);\n        if (Math.abs(cm.doc.scrollLeft - startLeft) > 1) changed = true;\n      }\n      if (!changed) break;\n    }\n    return coords;\n  }\n\n  // Scroll a given set of coordinates into view (immediately).\n  function scrollIntoView(cm, x1, y1, x2, y2) {\n    var scrollPos = calculateScrollPos(cm, x1, y1, x2, y2);\n    if (scrollPos.scrollTop != null) setScrollTop(cm, scrollPos.scrollTop);\n    if (scrollPos.scrollLeft != null) setScrollLeft(cm, scrollPos.scrollLeft);\n  }\n\n  // Calculate a new scroll position needed to scroll the given\n  // rectangle into view. Returns an object with scrollTop and\n  // scrollLeft properties. When these are undefined, the\n  // vertical/horizontal position does not need to be adjusted.\n  function calculateScrollPos(cm, x1, y1, x2, y2) {\n    var display = cm.display, snapMargin = textHeight(cm.display);\n    if (y1 < 0) y1 = 0;\n    var screentop = cm.curOp && cm.curOp.scrollTop != null ? cm.curOp.scrollTop : display.scroller.scrollTop;\n    var screen = displayHeight(cm), result = {};\n    if (y2 - y1 > screen) y2 = y1 + screen;\n    var docBottom = cm.doc.height + paddingVert(display);\n    var atTop = y1 < snapMargin, atBottom = y2 > docBottom - snapMargin;\n    if (y1 < screentop) {\n      result.scrollTop = atTop ? 0 : y1;\n    } else if (y2 > screentop + screen) {\n      var newTop = Math.min(y1, (atBottom ? docBottom : y2) - screen);\n      if (newTop != screentop) result.scrollTop = newTop;\n    }\n\n    var screenleft = cm.curOp && cm.curOp.scrollLeft != null ? cm.curOp.scrollLeft : display.scroller.scrollLeft;\n    var screenw = displayWidth(cm) - (cm.options.fixedGutter ? display.gutters.offsetWidth : 0);\n    var tooWide = x2 - x1 > screenw;\n    if (tooWide) x2 = x1 + screenw;\n    if (x1 < 10)\n      result.scrollLeft = 0;\n    else if (x1 < screenleft)\n      result.scrollLeft = Math.max(0, x1 - (tooWide ? 0 : 10));\n    else if (x2 > screenw + screenleft - 3)\n      result.scrollLeft = x2 + (tooWide ? 0 : 10) - screenw;\n    return result;\n  }\n\n  // Store a relative adjustment to the scroll position in the current\n  // operation (to be applied when the operation finishes).\n  function addToScrollPos(cm, left, top) {\n    if (left != null || top != null) resolveScrollToPos(cm);\n    if (left != null)\n      cm.curOp.scrollLeft = (cm.curOp.scrollLeft == null ? cm.doc.scrollLeft : cm.curOp.scrollLeft) + left;\n    if (top != null)\n      cm.curOp.scrollTop = (cm.curOp.scrollTop == null ? cm.doc.scrollTop : cm.curOp.scrollTop) + top;\n  }\n\n  // Make sure that at the end of the operation the current cursor is\n  // shown.\n  function ensureCursorVisible(cm) {\n    resolveScrollToPos(cm);\n    var cur = cm.getCursor(), from = cur, to = cur;\n    if (!cm.options.lineWrapping) {\n      from = cur.ch ? Pos(cur.line, cur.ch - 1) : cur;\n      to = Pos(cur.line, cur.ch + 1);\n    }\n    cm.curOp.scrollToPos = {from: from, to: to, margin: cm.options.cursorScrollMargin, isCursor: true};\n  }\n\n  // When an operation has its scrollToPos property set, and another\n  // scroll action is applied before the end of the operation, this\n  // 'simulates' scrolling that position into view in a cheap way, so\n  // that the effect of intermediate scroll commands is not ignored.\n  function resolveScrollToPos(cm) {\n    var range = cm.curOp.scrollToPos;\n    if (range) {\n      cm.curOp.scrollToPos = null;\n      var from = estimateCoords(cm, range.from), to = estimateCoords(cm, range.to);\n      var sPos = calculateScrollPos(cm, Math.min(from.left, to.left),\n                                    Math.min(from.top, to.top) - range.margin,\n                                    Math.max(from.right, to.right),\n                                    Math.max(from.bottom, to.bottom) + range.margin);\n      cm.scrollTo(sPos.scrollLeft, sPos.scrollTop);\n    }\n  }\n\n  // API UTILITIES\n\n  // Indent the given line. The how parameter can be \"smart\",\n  // \"add\"/null, \"subtract\", or \"prev\". When aggressive is false\n  // (typically set to true for forced single-line indents), empty\n  // lines are not indented, and places where the mode returns Pass\n  // are left alone.\n  function indentLine(cm, n, how, aggressive) {\n    var doc = cm.doc, state;\n    if (how == null) how = \"add\";\n    if (how == \"smart\") {\n      // Fall back to \"prev\" when the mode doesn't have an indentation\n      // method.\n      if (!doc.mode.indent) how = \"prev\";\n      else state = getStateBefore(cm, n);\n    }\n\n    var tabSize = cm.options.tabSize;\n    var line = getLine(doc, n), curSpace = countColumn(line.text, null, tabSize);\n    if (line.stateAfter) line.stateAfter = null;\n    var curSpaceString = line.text.match(/^\\s*/)[0], indentation;\n    if (!aggressive && !/\\S/.test(line.text)) {\n      indentation = 0;\n      how = \"not\";\n    } else if (how == \"smart\") {\n      indentation = doc.mode.indent(state, line.text.slice(curSpaceString.length), line.text);\n      if (indentation == Pass || indentation > 150) {\n        if (!aggressive) return;\n        how = \"prev\";\n      }\n    }\n    if (how == \"prev\") {\n      if (n > doc.first) indentation = countColumn(getLine(doc, n-1).text, null, tabSize);\n      else indentation = 0;\n    } else if (how == \"add\") {\n      indentation = curSpace + cm.options.indentUnit;\n    } else if (how == \"subtract\") {\n      indentation = curSpace - cm.options.indentUnit;\n    } else if (typeof how == \"number\") {\n      indentation = curSpace + how;\n    }\n    indentation = Math.max(0, indentation);\n\n    var indentString = \"\", pos = 0;\n    if (cm.options.indentWithTabs)\n      for (var i = Math.floor(indentation / tabSize); i; --i) {pos += tabSize; indentString += \"\\t\";}\n    if (pos < indentation) indentString += spaceStr(indentation - pos);\n\n    if (indentString != curSpaceString) {\n      replaceRange(doc, indentString, Pos(n, 0), Pos(n, curSpaceString.length), \"+input\");\n      line.stateAfter = null;\n      return true;\n    } else {\n      // Ensure that, if the cursor was in the whitespace at the start\n      // of the line, it is moved to the end of that space.\n      for (var i = 0; i < doc.sel.ranges.length; i++) {\n        var range = doc.sel.ranges[i];\n        if (range.head.line == n && range.head.ch < curSpaceString.length) {\n          var pos = Pos(n, curSpaceString.length);\n          replaceOneSelection(doc, i, new Range(pos, pos));\n          break;\n        }\n      }\n    }\n  }\n\n  // Utility for applying a change to a line by handle or number,\n  // returning the number and optionally registering the line as\n  // changed.\n  function changeLine(doc, handle, changeType, op) {\n    var no = handle, line = handle;\n    if (typeof handle == \"number\") line = getLine(doc, clipLine(doc, handle));\n    else no = lineNo(handle);\n    if (no == null) return null;\n    if (op(line, no) && doc.cm) regLineChange(doc.cm, no, changeType);\n    return line;\n  }\n\n  // Helper for deleting text near the selection(s), used to implement\n  // backspace, delete, and similar functionality.\n  function deleteNearSelection(cm, compute) {\n    var ranges = cm.doc.sel.ranges, kill = [];\n    // Build up a set of ranges to kill first, merging overlapping\n    // ranges.\n    for (var i = 0; i < ranges.length; i++) {\n      var toKill = compute(ranges[i]);\n      while (kill.length && cmp(toKill.from, lst(kill).to) <= 0) {\n        var replaced = kill.pop();\n        if (cmp(replaced.from, toKill.from) < 0) {\n          toKill.from = replaced.from;\n          break;\n        }\n      }\n      kill.push(toKill);\n    }\n    // Next, remove those actual ranges.\n    runInOp(cm, function() {\n      for (var i = kill.length - 1; i >= 0; i--)\n        replaceRange(cm.doc, \"\", kill[i].from, kill[i].to, \"+delete\");\n      ensureCursorVisible(cm);\n    });\n  }\n\n  // Used for horizontal relative motion. Dir is -1 or 1 (left or\n  // right), unit can be \"char\", \"column\" (like char, but doesn't\n  // cross line boundaries), \"word\" (across next word), or \"group\" (to\n  // the start of next group of word or non-word-non-whitespace\n  // chars). The visually param controls whether, in right-to-left\n  // text, direction 1 means to move towards the next index in the\n  // string, or towards the character to the right of the current\n  // position. The resulting position will have a hitSide=true\n  // property if it reached the end of the document.\n  function findPosH(doc, pos, dir, unit, visually) {\n    var line = pos.line, ch = pos.ch, origDir = dir;\n    var lineObj = getLine(doc, line);\n    function findNextLine() {\n      var l = line + dir;\n      if (l < doc.first || l >= doc.first + doc.size) return false\n      line = l;\n      return lineObj = getLine(doc, l);\n    }\n    function moveOnce(boundToLine) {\n      var next = (visually ? moveVisually : moveLogically)(lineObj, ch, dir, true);\n      if (next == null) {\n        if (!boundToLine && findNextLine()) {\n          if (visually) ch = (dir < 0 ? lineRight : lineLeft)(lineObj);\n          else ch = dir < 0 ? lineObj.text.length : 0;\n        } else return false\n      } else ch = next;\n      return true;\n    }\n\n    if (unit == \"char\") {\n      moveOnce()\n    } else if (unit == \"column\") {\n      moveOnce(true)\n    } else if (unit == \"word\" || unit == \"group\") {\n      var sawType = null, group = unit == \"group\";\n      var helper = doc.cm && doc.cm.getHelper(pos, \"wordChars\");\n      for (var first = true;; first = false) {\n        if (dir < 0 && !moveOnce(!first)) break;\n        var cur = lineObj.text.charAt(ch) || \"\\n\";\n        var type = isWordChar(cur, helper) ? \"w\"\n          : group && cur == \"\\n\" ? \"n\"\n          : !group || /\\s/.test(cur) ? null\n          : \"p\";\n        if (group && !first && !type) type = \"s\";\n        if (sawType && sawType != type) {\n          if (dir < 0) {dir = 1; moveOnce();}\n          break;\n        }\n\n        if (type) sawType = type;\n        if (dir > 0 && !moveOnce(!first)) break;\n      }\n    }\n    var result = skipAtomic(doc, Pos(line, ch), pos, origDir, true);\n    if (!cmp(pos, result)) result.hitSide = true;\n    return result;\n  }\n\n  // For relative vertical movement. Dir may be -1 or 1. Unit can be\n  // \"page\" or \"line\". The resulting position will have a hitSide=true\n  // property if it reached the end of the document.\n  function findPosV(cm, pos, dir, unit) {\n    var doc = cm.doc, x = pos.left, y;\n    if (unit == \"page\") {\n      var pageSize = Math.min(cm.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight);\n      y = pos.top + dir * (pageSize - (dir < 0 ? 1.5 : .5) * textHeight(cm.display));\n    } else if (unit == \"line\") {\n      y = dir > 0 ? pos.bottom + 3 : pos.top - 3;\n    }\n    for (;;) {\n      var target = coordsChar(cm, x, y);\n      if (!target.outside) break;\n      if (dir < 0 ? y <= 0 : y >= doc.height) { target.hitSide = true; break; }\n      y += dir * 5;\n    }\n    return target;\n  }\n\n  // EDITOR METHODS\n\n  // The publicly visible API. Note that methodOp(f) means\n  // 'wrap f in an operation, performed on its `this` parameter'.\n\n  // This is not the complete set of editor methods. Most of the\n  // methods defined on the Doc type are also injected into\n  // CodeMirror.prototype, for backwards compatibility and\n  // convenience.\n\n  CodeMirror.prototype = {\n    constructor: CodeMirror,\n    focus: function(){window.focus(); this.display.input.focus();},\n\n    setOption: function(option, value) {\n      var options = this.options, old = options[option];\n      if (options[option] == value && option != \"mode\") return;\n      options[option] = value;\n      if (optionHandlers.hasOwnProperty(option))\n        operation(this, optionHandlers[option])(this, value, old);\n    },\n\n    getOption: function(option) {return this.options[option];},\n    getDoc: function() {return this.doc;},\n\n    addKeyMap: function(map, bottom) {\n      this.state.keyMaps[bottom ? \"push\" : \"unshift\"](getKeyMap(map));\n    },\n    removeKeyMap: function(map) {\n      var maps = this.state.keyMaps;\n      for (var i = 0; i < maps.length; ++i)\n        if (maps[i] == map || maps[i].name == map) {\n          maps.splice(i, 1);\n          return true;\n        }\n    },\n\n    addOverlay: methodOp(function(spec, options) {\n      var mode = spec.token ? spec : CodeMirror.getMode(this.options, spec);\n      if (mode.startState) throw new Error(\"Overlays may not be stateful.\");\n      this.state.overlays.push({mode: mode, modeSpec: spec, opaque: options && options.opaque});\n      this.state.modeGen++;\n      regChange(this);\n    }),\n    removeOverlay: methodOp(function(spec) {\n      var overlays = this.state.overlays;\n      for (var i = 0; i < overlays.length; ++i) {\n        var cur = overlays[i].modeSpec;\n        if (cur == spec || typeof spec == \"string\" && cur.name == spec) {\n          overlays.splice(i, 1);\n          this.state.modeGen++;\n          regChange(this);\n          return;\n        }\n      }\n    }),\n\n    indentLine: methodOp(function(n, dir, aggressive) {\n      if (typeof dir != \"string\" && typeof dir != \"number\") {\n        if (dir == null) dir = this.options.smartIndent ? \"smart\" : \"prev\";\n        else dir = dir ? \"add\" : \"subtract\";\n      }\n      if (isLine(this.doc, n)) indentLine(this, n, dir, aggressive);\n    }),\n    indentSelection: methodOp(function(how) {\n      var ranges = this.doc.sel.ranges, end = -1;\n      for (var i = 0; i < ranges.length; i++) {\n        var range = ranges[i];\n        if (!range.empty()) {\n          var from = range.from(), to = range.to();\n          var start = Math.max(end, from.line);\n          end = Math.min(this.lastLine(), to.line - (to.ch ? 0 : 1)) + 1;\n          for (var j = start; j < end; ++j)\n            indentLine(this, j, how);\n          var newRanges = this.doc.sel.ranges;\n          if (from.ch == 0 && ranges.length == newRanges.length && newRanges[i].from().ch > 0)\n            replaceOneSelection(this.doc, i, new Range(from, newRanges[i].to()), sel_dontScroll);\n        } else if (range.head.line > end) {\n          indentLine(this, range.head.line, how, true);\n          end = range.head.line;\n          if (i == this.doc.sel.primIndex) ensureCursorVisible(this);\n        }\n      }\n    }),\n\n    // Fetch the parser token for a given character. Useful for hacks\n    // that want to inspect the mode state (say, for completion).\n    getTokenAt: function(pos, precise) {\n      return takeToken(this, pos, precise);\n    },\n\n    getLineTokens: function(line, precise) {\n      return takeToken(this, Pos(line), precise, true);\n    },\n\n    getTokenTypeAt: function(pos) {\n      pos = clipPos(this.doc, pos);\n      var styles = getLineStyles(this, getLine(this.doc, pos.line));\n      var before = 0, after = (styles.length - 1) / 2, ch = pos.ch;\n      var type;\n      if (ch == 0) type = styles[2];\n      else for (;;) {\n        var mid = (before + after) >> 1;\n        if ((mid ? styles[mid * 2 - 1] : 0) >= ch) after = mid;\n        else if (styles[mid * 2 + 1] < ch) before = mid + 1;\n        else { type = styles[mid * 2 + 2]; break; }\n      }\n      var cut = type ? type.indexOf(\"cm-overlay \") : -1;\n      return cut < 0 ? type : cut == 0 ? null : type.slice(0, cut - 1);\n    },\n\n    getModeAt: function(pos) {\n      var mode = this.doc.mode;\n      if (!mode.innerMode) return mode;\n      return CodeMirror.innerMode(mode, this.getTokenAt(pos).state).mode;\n    },\n\n    getHelper: function(pos, type) {\n      return this.getHelpers(pos, type)[0];\n    },\n\n    getHelpers: function(pos, type) {\n      var found = [];\n      if (!helpers.hasOwnProperty(type)) return found;\n      var help = helpers[type], mode = this.getModeAt(pos);\n      if (typeof mode[type] == \"string\") {\n        if (help[mode[type]]) found.push(help[mode[type]]);\n      } else if (mode[type]) {\n        for (var i = 0; i < mode[type].length; i++) {\n          var val = help[mode[type][i]];\n          if (val) found.push(val);\n        }\n      } else if (mode.helperType && help[mode.helperType]) {\n        found.push(help[mode.helperType]);\n      } else if (help[mode.name]) {\n        found.push(help[mode.name]);\n      }\n      for (var i = 0; i < help._global.length; i++) {\n        var cur = help._global[i];\n        if (cur.pred(mode, this) && indexOf(found, cur.val) == -1)\n          found.push(cur.val);\n      }\n      return found;\n    },\n\n    getStateAfter: function(line, precise) {\n      var doc = this.doc;\n      line = clipLine(doc, line == null ? doc.first + doc.size - 1: line);\n      return getStateBefore(this, line + 1, precise);\n    },\n\n    cursorCoords: function(start, mode) {\n      var pos, range = this.doc.sel.primary();\n      if (start == null) pos = range.head;\n      else if (typeof start == \"object\") pos = clipPos(this.doc, start);\n      else pos = start ? range.from() : range.to();\n      return cursorCoords(this, pos, mode || \"page\");\n    },\n\n    charCoords: function(pos, mode) {\n      return charCoords(this, clipPos(this.doc, pos), mode || \"page\");\n    },\n\n    coordsChar: function(coords, mode) {\n      coords = fromCoordSystem(this, coords, mode || \"page\");\n      return coordsChar(this, coords.left, coords.top);\n    },\n\n    lineAtHeight: function(height, mode) {\n      height = fromCoordSystem(this, {top: height, left: 0}, mode || \"page\").top;\n      return lineAtHeight(this.doc, height + this.display.viewOffset);\n    },\n    heightAtLine: function(line, mode) {\n      var end = false, lineObj;\n      if (typeof line == \"number\") {\n        var last = this.doc.first + this.doc.size - 1;\n        if (line < this.doc.first) line = this.doc.first;\n        else if (line > last) { line = last; end = true; }\n        lineObj = getLine(this.doc, line);\n      } else {\n        lineObj = line;\n      }\n      return intoCoordSystem(this, lineObj, {top: 0, left: 0}, mode || \"page\").top +\n        (end ? this.doc.height - heightAtLine(lineObj) : 0);\n    },\n\n    defaultTextHeight: function() { return textHeight(this.display); },\n    defaultCharWidth: function() { return charWidth(this.display); },\n\n    setGutterMarker: methodOp(function(line, gutterID, value) {\n      return changeLine(this.doc, line, \"gutter\", function(line) {\n        var markers = line.gutterMarkers || (line.gutterMarkers = {});\n        markers[gutterID] = value;\n        if (!value && isEmpty(markers)) line.gutterMarkers = null;\n        return true;\n      });\n    }),\n\n    clearGutter: methodOp(function(gutterID) {\n      var cm = this, doc = cm.doc, i = doc.first;\n      doc.iter(function(line) {\n        if (line.gutterMarkers && line.gutterMarkers[gutterID]) {\n          line.gutterMarkers[gutterID] = null;\n          regLineChange(cm, i, \"gutter\");\n          if (isEmpty(line.gutterMarkers)) line.gutterMarkers = null;\n        }\n        ++i;\n      });\n    }),\n\n    lineInfo: function(line) {\n      if (typeof line == \"number\") {\n        if (!isLine(this.doc, line)) return null;\n        var n = line;\n        line = getLine(this.doc, line);\n        if (!line) return null;\n      } else {\n        var n = lineNo(line);\n        if (n == null) return null;\n      }\n      return {line: n, handle: line, text: line.text, gutterMarkers: line.gutterMarkers,\n              textClass: line.textClass, bgClass: line.bgClass, wrapClass: line.wrapClass,\n              widgets: line.widgets};\n    },\n\n    getViewport: function() { return {from: this.display.viewFrom, to: this.display.viewTo};},\n\n    addWidget: function(pos, node, scroll, vert, horiz) {\n      var display = this.display;\n      pos = cursorCoords(this, clipPos(this.doc, pos));\n      var top = pos.bottom, left = pos.left;\n      node.style.position = \"absolute\";\n      node.setAttribute(\"cm-ignore-events\", \"true\");\n      this.display.input.setUneditable(node);\n      display.sizer.appendChild(node);\n      if (vert == \"over\") {\n        top = pos.top;\n      } else if (vert == \"above\" || vert == \"near\") {\n        var vspace = Math.max(display.wrapper.clientHeight, this.doc.height),\n        hspace = Math.max(display.sizer.clientWidth, display.lineSpace.clientWidth);\n        // Default to positioning above (if specified and possible); otherwise default to positioning below\n        if ((vert == 'above' || pos.bottom + node.offsetHeight > vspace) && pos.top > node.offsetHeight)\n          top = pos.top - node.offsetHeight;\n        else if (pos.bottom + node.offsetHeight <= vspace)\n          top = pos.bottom;\n        if (left + node.offsetWidth > hspace)\n          left = hspace - node.offsetWidth;\n      }\n      node.style.top = top + \"px\";\n      node.style.left = node.style.right = \"\";\n      if (horiz == \"right\") {\n        left = display.sizer.clientWidth - node.offsetWidth;\n        node.style.right = \"0px\";\n      } else {\n        if (horiz == \"left\") left = 0;\n        else if (horiz == \"middle\") left = (display.sizer.clientWidth - node.offsetWidth) / 2;\n        node.style.left = left + \"px\";\n      }\n      if (scroll)\n        scrollIntoView(this, left, top, left + node.offsetWidth, top + node.offsetHeight);\n    },\n\n    triggerOnKeyDown: methodOp(onKeyDown),\n    triggerOnKeyPress: methodOp(onKeyPress),\n    triggerOnKeyUp: onKeyUp,\n\n    execCommand: function(cmd) {\n      if (commands.hasOwnProperty(cmd))\n        return commands[cmd].call(null, this);\n    },\n\n    triggerElectric: methodOp(function(text) { triggerElectric(this, text); }),\n\n    findPosH: function(from, amount, unit, visually) {\n      var dir = 1;\n      if (amount < 0) { dir = -1; amount = -amount; }\n      for (var i = 0, cur = clipPos(this.doc, from); i < amount; ++i) {\n        cur = findPosH(this.doc, cur, dir, unit, visually);\n        if (cur.hitSide) break;\n      }\n      return cur;\n    },\n\n    moveH: methodOp(function(dir, unit) {\n      var cm = this;\n      cm.extendSelectionsBy(function(range) {\n        if (cm.display.shift || cm.doc.extend || range.empty())\n          return findPosH(cm.doc, range.head, dir, unit, cm.options.rtlMoveVisually);\n        else\n          return dir < 0 ? range.from() : range.to();\n      }, sel_move);\n    }),\n\n    deleteH: methodOp(function(dir, unit) {\n      var sel = this.doc.sel, doc = this.doc;\n      if (sel.somethingSelected())\n        doc.replaceSelection(\"\", null, \"+delete\");\n      else\n        deleteNearSelection(this, function(range) {\n          var other = findPosH(doc, range.head, dir, unit, false);\n          return dir < 0 ? {from: other, to: range.head} : {from: range.head, to: other};\n        });\n    }),\n\n    findPosV: function(from, amount, unit, goalColumn) {\n      var dir = 1, x = goalColumn;\n      if (amount < 0) { dir = -1; amount = -amount; }\n      for (var i = 0, cur = clipPos(this.doc, from); i < amount; ++i) {\n        var coords = cursorCoords(this, cur, \"div\");\n        if (x == null) x = coords.left;\n        else coords.left = x;\n        cur = findPosV(this, coords, dir, unit);\n        if (cur.hitSide) break;\n      }\n      return cur;\n    },\n\n    moveV: methodOp(function(dir, unit) {\n      var cm = this, doc = this.doc, goals = [];\n      var collapse = !cm.display.shift && !doc.extend && doc.sel.somethingSelected();\n      doc.extendSelectionsBy(function(range) {\n        if (collapse)\n          return dir < 0 ? range.from() : range.to();\n        var headPos = cursorCoords(cm, range.head, \"div\");\n        if (range.goalColumn != null) headPos.left = range.goalColumn;\n        goals.push(headPos.left);\n        var pos = findPosV(cm, headPos, dir, unit);\n        if (unit == \"page\" && range == doc.sel.primary())\n          addToScrollPos(cm, null, charCoords(cm, pos, \"div\").top - headPos.top);\n        return pos;\n      }, sel_move);\n      if (goals.length) for (var i = 0; i < doc.sel.ranges.length; i++)\n        doc.sel.ranges[i].goalColumn = goals[i];\n    }),\n\n    // Find the word at the given position (as returned by coordsChar).\n    findWordAt: function(pos) {\n      var doc = this.doc, line = getLine(doc, pos.line).text;\n      var start = pos.ch, end = pos.ch;\n      if (line) {\n        var helper = this.getHelper(pos, \"wordChars\");\n        if ((pos.xRel < 0 || end == line.length) && start) --start; else ++end;\n        var startChar = line.charAt(start);\n        var check = isWordChar(startChar, helper)\n          ? function(ch) { return isWordChar(ch, helper); }\n          : /\\s/.test(startChar) ? function(ch) {return /\\s/.test(ch);}\n          : function(ch) {return !/\\s/.test(ch) && !isWordChar(ch);};\n        while (start > 0 && check(line.charAt(start - 1))) --start;\n        while (end < line.length && check(line.charAt(end))) ++end;\n      }\n      return new Range(Pos(pos.line, start), Pos(pos.line, end));\n    },\n\n    toggleOverwrite: function(value) {\n      if (value != null && value == this.state.overwrite) return;\n      if (this.state.overwrite = !this.state.overwrite)\n        addClass(this.display.cursorDiv, \"CodeMirror-overwrite\");\n      else\n        rmClass(this.display.cursorDiv, \"CodeMirror-overwrite\");\n\n      signal(this, \"overwriteToggle\", this, this.state.overwrite);\n    },\n    hasFocus: function() { return this.display.input.getField() == activeElt(); },\n    isReadOnly: function() { return !!(this.options.readOnly || this.doc.cantEdit); },\n\n    scrollTo: methodOp(function(x, y) {\n      if (x != null || y != null) resolveScrollToPos(this);\n      if (x != null) this.curOp.scrollLeft = x;\n      if (y != null) this.curOp.scrollTop = y;\n    }),\n    getScrollInfo: function() {\n      var scroller = this.display.scroller;\n      return {left: scroller.scrollLeft, top: scroller.scrollTop,\n              height: scroller.scrollHeight - scrollGap(this) - this.display.barHeight,\n              width: scroller.scrollWidth - scrollGap(this) - this.display.barWidth,\n              clientHeight: displayHeight(this), clientWidth: displayWidth(this)};\n    },\n\n    scrollIntoView: methodOp(function(range, margin) {\n      if (range == null) {\n        range = {from: this.doc.sel.primary().head, to: null};\n        if (margin == null) margin = this.options.cursorScrollMargin;\n      } else if (typeof range == \"number\") {\n        range = {from: Pos(range, 0), to: null};\n      } else if (range.from == null) {\n        range = {from: range, to: null};\n      }\n      if (!range.to) range.to = range.from;\n      range.margin = margin || 0;\n\n      if (range.from.line != null) {\n        resolveScrollToPos(this);\n        this.curOp.scrollToPos = range;\n      } else {\n        var sPos = calculateScrollPos(this, Math.min(range.from.left, range.to.left),\n                                      Math.min(range.from.top, range.to.top) - range.margin,\n                                      Math.max(range.from.right, range.to.right),\n                                      Math.max(range.from.bottom, range.to.bottom) + range.margin);\n        this.scrollTo(sPos.scrollLeft, sPos.scrollTop);\n      }\n    }),\n\n    setSize: methodOp(function(width, height) {\n      var cm = this;\n      function interpret(val) {\n        return typeof val == \"number\" || /^\\d+$/.test(String(val)) ? val + \"px\" : val;\n      }\n      if (width != null) cm.display.wrapper.style.width = interpret(width);\n      if (height != null) cm.display.wrapper.style.height = interpret(height);\n      if (cm.options.lineWrapping) clearLineMeasurementCache(this);\n      var lineNo = cm.display.viewFrom;\n      cm.doc.iter(lineNo, cm.display.viewTo, function(line) {\n        if (line.widgets) for (var i = 0; i < line.widgets.length; i++)\n          if (line.widgets[i].noHScroll) { regLineChange(cm, lineNo, \"widget\"); break; }\n        ++lineNo;\n      });\n      cm.curOp.forceUpdate = true;\n      signal(cm, \"refresh\", this);\n    }),\n\n    operation: function(f){return runInOp(this, f);},\n\n    refresh: methodOp(function() {\n      var oldHeight = this.display.cachedTextHeight;\n      regChange(this);\n      this.curOp.forceUpdate = true;\n      clearCaches(this);\n      this.scrollTo(this.doc.scrollLeft, this.doc.scrollTop);\n      updateGutterSpace(this);\n      if (oldHeight == null || Math.abs(oldHeight - textHeight(this.display)) > .5)\n        estimateLineHeights(this);\n      signal(this, \"refresh\", this);\n    }),\n\n    swapDoc: methodOp(function(doc) {\n      var old = this.doc;\n      old.cm = null;\n      attachDoc(this, doc);\n      clearCaches(this);\n      this.display.input.reset();\n      this.scrollTo(doc.scrollLeft, doc.scrollTop);\n      this.curOp.forceScroll = true;\n      signalLater(this, \"swapDoc\", this, old);\n      return old;\n    }),\n\n    getInputField: function(){return this.display.input.getField();},\n    getWrapperElement: function(){return this.display.wrapper;},\n    getScrollerElement: function(){return this.display.scroller;},\n    getGutterElement: function(){return this.display.gutters;}\n  };\n  eventMixin(CodeMirror);\n\n  // OPTION DEFAULTS\n\n  // The default configuration options.\n  var defaults = CodeMirror.defaults = {};\n  // Functions to run when options are changed.\n  var optionHandlers = CodeMirror.optionHandlers = {};\n\n  function option(name, deflt, handle, notOnInit) {\n    CodeMirror.defaults[name] = deflt;\n    if (handle) optionHandlers[name] =\n      notOnInit ? function(cm, val, old) {if (old != Init) handle(cm, val, old);} : handle;\n  }\n\n  // Passed to option handlers when there is no old value.\n  var Init = CodeMirror.Init = {toString: function(){return \"CodeMirror.Init\";}};\n\n  // These two are, on init, called from the constructor because they\n  // have to be initialized before the editor can start at all.\n  option(\"value\", \"\", function(cm, val) {\n    cm.setValue(val);\n  }, true);\n  option(\"mode\", null, function(cm, val) {\n    cm.doc.modeOption = val;\n    loadMode(cm);\n  }, true);\n\n  option(\"indentUnit\", 2, loadMode, true);\n  option(\"indentWithTabs\", false);\n  option(\"smartIndent\", true);\n  option(\"tabSize\", 4, function(cm) {\n    resetModeState(cm);\n    clearCaches(cm);\n    regChange(cm);\n  }, true);\n  option(\"lineSeparator\", null, function(cm, val) {\n    cm.doc.lineSep = val;\n    if (!val) return;\n    var newBreaks = [], lineNo = cm.doc.first;\n    cm.doc.iter(function(line) {\n      for (var pos = 0;;) {\n        var found = line.text.indexOf(val, pos);\n        if (found == -1) break;\n        pos = found + val.length;\n        newBreaks.push(Pos(lineNo, found));\n      }\n      lineNo++;\n    });\n    for (var i = newBreaks.length - 1; i >= 0; i--)\n      replaceRange(cm.doc, val, newBreaks[i], Pos(newBreaks[i].line, newBreaks[i].ch + val.length))\n  });\n  option(\"specialChars\", /[\\u0000-\\u001f\\u007f\\u00ad\\u200b-\\u200f\\u2028\\u2029\\ufeff]/g, function(cm, val, old) {\n    cm.state.specialChars = new RegExp(val.source + (val.test(\"\\t\") ? \"\" : \"|\\t\"), \"g\");\n    if (old != CodeMirror.Init) cm.refresh();\n  });\n  option(\"specialCharPlaceholder\", defaultSpecialCharPlaceholder, function(cm) {cm.refresh();}, true);\n  option(\"electricChars\", true);\n  option(\"inputStyle\", mobile ? \"contenteditable\" : \"textarea\", function() {\n    throw new Error(\"inputStyle can not (yet) be changed in a running editor\"); // FIXME\n  }, true);\n  option(\"rtlMoveVisually\", !windows);\n  option(\"wholeLineUpdateBefore\", true);\n\n  option(\"theme\", \"default\", function(cm) {\n    themeChanged(cm);\n    guttersChanged(cm);\n  }, true);\n  option(\"keyMap\", \"default\", function(cm, val, old) {\n    var next = getKeyMap(val);\n    var prev = old != CodeMirror.Init && getKeyMap(old);\n    if (prev && prev.detach) prev.detach(cm, next);\n    if (next.attach) next.attach(cm, prev || null);\n  });\n  option(\"extraKeys\", null);\n\n  option(\"lineWrapping\", false, wrappingChanged, true);\n  option(\"gutters\", [], function(cm) {\n    setGuttersForLineNumbers(cm.options);\n    guttersChanged(cm);\n  }, true);\n  option(\"fixedGutter\", true, function(cm, val) {\n    cm.display.gutters.style.left = val ? compensateForHScroll(cm.display) + \"px\" : \"0\";\n    cm.refresh();\n  }, true);\n  option(\"coverGutterNextToScrollbar\", false, function(cm) {updateScrollbars(cm);}, true);\n  option(\"scrollbarStyle\", \"native\", function(cm) {\n    initScrollbars(cm);\n    updateScrollbars(cm);\n    cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);\n    cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft);\n  }, true);\n  option(\"lineNumbers\", false, function(cm) {\n    setGuttersForLineNumbers(cm.options);\n    guttersChanged(cm);\n  }, true);\n  option(\"firstLineNumber\", 1, guttersChanged, true);\n  option(\"lineNumberFormatter\", function(integer) {return integer;}, guttersChanged, true);\n  option(\"showCursorWhenSelecting\", false, updateSelection, true);\n\n  option(\"resetSelectionOnContextMenu\", true);\n  option(\"lineWiseCopyCut\", true);\n\n  option(\"readOnly\", false, function(cm, val) {\n    if (val == \"nocursor\") {\n      onBlur(cm);\n      cm.display.input.blur();\n      cm.display.disabled = true;\n    } else {\n      cm.display.disabled = false;\n    }\n    cm.display.input.readOnlyChanged(val)\n  });\n  option(\"disableInput\", false, function(cm, val) {if (!val) cm.display.input.reset();}, true);\n  option(\"dragDrop\", true, dragDropChanged);\n  option(\"allowDropFileTypes\", null);\n\n  option(\"cursorBlinkRate\", 530);\n  option(\"cursorScrollMargin\", 0);\n  option(\"cursorHeight\", 1, updateSelection, true);\n  option(\"singleCursorHeightPerLine\", true, updateSelection, true);\n  option(\"workTime\", 100);\n  option(\"workDelay\", 100);\n  option(\"flattenSpans\", true, resetModeState, true);\n  option(\"addModeClass\", false, resetModeState, true);\n  option(\"pollInterval\", 100);\n  option(\"undoDepth\", 200, function(cm, val){cm.doc.history.undoDepth = val;});\n  option(\"historyEventDelay\", 1250);\n  option(\"viewportMargin\", 10, function(cm){cm.refresh();}, true);\n  option(\"maxHighlightLength\", 10000, resetModeState, true);\n  option(\"moveInputWithCursor\", true, function(cm, val) {\n    if (!val) cm.display.input.resetPosition();\n  });\n\n  option(\"tabindex\", null, function(cm, val) {\n    cm.display.input.getField().tabIndex = val || \"\";\n  });\n  option(\"autofocus\", null);\n\n  // MODE DEFINITION AND QUERYING\n\n  // Known modes, by name and by MIME\n  var modes = CodeMirror.modes = {}, mimeModes = CodeMirror.mimeModes = {};\n\n  // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n  CodeMirror.defineMode = function(name, mode) {\n    if (!CodeMirror.defaults.mode && name != \"null\") CodeMirror.defaults.mode = name;\n    if (arguments.length > 2)\n      mode.dependencies = Array.prototype.slice.call(arguments, 2);\n    modes[name] = mode;\n  };\n\n  CodeMirror.defineMIME = function(mime, spec) {\n    mimeModes[mime] = spec;\n  };\n\n  // Given a MIME type, a {name, ...options} config object, or a name\n  // string, return a mode config object.\n  CodeMirror.resolveMode = function(spec) {\n    if (typeof spec == \"string\" && mimeModes.hasOwnProperty(spec)) {\n      spec = mimeModes[spec];\n    } else if (spec && typeof spec.name == \"string\" && mimeModes.hasOwnProperty(spec.name)) {\n      var found = mimeModes[spec.name];\n      if (typeof found == \"string\") found = {name: found};\n      spec = createObj(found, spec);\n      spec.name = found.name;\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+xml$/.test(spec)) {\n      return CodeMirror.resolveMode(\"application/xml\");\n    }\n    if (typeof spec == \"string\") return {name: spec};\n    else return spec || {name: \"null\"};\n  };\n\n  // Given a mode spec (anything that resolveMode accepts), find and\n  // initialize an actual mode object.\n  CodeMirror.getMode = function(options, spec) {\n    var spec = CodeMirror.resolveMode(spec);\n    var mfactory = modes[spec.name];\n    if (!mfactory) return CodeMirror.getMode(options, \"text/plain\");\n    var modeObj = mfactory(options, spec);\n    if (modeExtensions.hasOwnProperty(spec.name)) {\n      var exts = modeExtensions[spec.name];\n      for (var prop in exts) {\n        if (!exts.hasOwnProperty(prop)) continue;\n        if (modeObj.hasOwnProperty(prop)) modeObj[\"_\" + prop] = modeObj[prop];\n        modeObj[prop] = exts[prop];\n      }\n    }\n    modeObj.name = spec.name;\n    if (spec.helperType) modeObj.helperType = spec.helperType;\n    if (spec.modeProps) for (var prop in spec.modeProps)\n      modeObj[prop] = spec.modeProps[prop];\n\n    return modeObj;\n  };\n\n  // Minimal default mode.\n  CodeMirror.defineMode(\"null\", function() {\n    return {token: function(stream) {stream.skipToEnd();}};\n  });\n  CodeMirror.defineMIME(\"text/plain\", \"null\");\n\n  // This can be used to attach properties to mode objects from\n  // outside the actual mode definition.\n  var modeExtensions = CodeMirror.modeExtensions = {};\n  CodeMirror.extendMode = function(mode, properties) {\n    var exts = modeExtensions.hasOwnProperty(mode) ? modeExtensions[mode] : (modeExtensions[mode] = {});\n    copyObj(properties, exts);\n  };\n\n  // EXTENSIONS\n\n  CodeMirror.defineExtension = function(name, func) {\n    CodeMirror.prototype[name] = func;\n  };\n  CodeMirror.defineDocExtension = function(name, func) {\n    Doc.prototype[name] = func;\n  };\n  CodeMirror.defineOption = option;\n\n  var initHooks = [];\n  CodeMirror.defineInitHook = function(f) {initHooks.push(f);};\n\n  var helpers = CodeMirror.helpers = {};\n  CodeMirror.registerHelper = function(type, name, value) {\n    if (!helpers.hasOwnProperty(type)) helpers[type] = CodeMirror[type] = {_global: []};\n    helpers[type][name] = value;\n  };\n  CodeMirror.registerGlobalHelper = function(type, name, predicate, value) {\n    CodeMirror.registerHelper(type, name, value);\n    helpers[type]._global.push({pred: predicate, val: value});\n  };\n\n  // MODE STATE HANDLING\n\n  // Utility functions for working with state. Exported because nested\n  // modes need to do this for their inner modes.\n\n  var copyState = CodeMirror.copyState = function(mode, state) {\n    if (state === true) return state;\n    if (mode.copyState) return mode.copyState(state);\n    var nstate = {};\n    for (var n in state) {\n      var val = state[n];\n      if (val instanceof Array) val = val.concat([]);\n      nstate[n] = val;\n    }\n    return nstate;\n  };\n\n  var startState = CodeMirror.startState = function(mode, a1, a2) {\n    return mode.startState ? mode.startState(a1, a2) : true;\n  };\n\n  // Given a mode and a state (for that mode), find the inner mode and\n  // state at the position that the state refers to.\n  CodeMirror.innerMode = function(mode, state) {\n    while (mode.innerMode) {\n      var info = mode.innerMode(state);\n      if (!info || info.mode == mode) break;\n      state = info.state;\n      mode = info.mode;\n    }\n    return info || {mode: mode, state: state};\n  };\n\n  // STANDARD COMMANDS\n\n  // Commands are parameter-less actions that can be performed on an\n  // editor, mostly used for keybindings.\n  var commands = CodeMirror.commands = {\n    selectAll: function(cm) {cm.setSelection(Pos(cm.firstLine(), 0), Pos(cm.lastLine()), sel_dontScroll);},\n    singleSelection: function(cm) {\n      cm.setSelection(cm.getCursor(\"anchor\"), cm.getCursor(\"head\"), sel_dontScroll);\n    },\n    killLine: function(cm) {\n      deleteNearSelection(cm, function(range) {\n        if (range.empty()) {\n          var len = getLine(cm.doc, range.head.line).text.length;\n          if (range.head.ch == len && range.head.line < cm.lastLine())\n            return {from: range.head, to: Pos(range.head.line + 1, 0)};\n          else\n            return {from: range.head, to: Pos(range.head.line, len)};\n        } else {\n          return {from: range.from(), to: range.to()};\n        }\n      });\n    },\n    deleteLine: function(cm) {\n      deleteNearSelection(cm, function(range) {\n        return {from: Pos(range.from().line, 0),\n                to: clipPos(cm.doc, Pos(range.to().line + 1, 0))};\n      });\n    },\n    delLineLeft: function(cm) {\n      deleteNearSelection(cm, function(range) {\n        return {from: Pos(range.from().line, 0), to: range.from()};\n      });\n    },\n    delWrappedLineLeft: function(cm) {\n      deleteNearSelection(cm, function(range) {\n        var top = cm.charCoords(range.head, \"div\").top + 5;\n        var leftPos = cm.coordsChar({left: 0, top: top}, \"div\");\n        return {from: leftPos, to: range.from()};\n      });\n    },\n    delWrappedLineRight: function(cm) {\n      deleteNearSelection(cm, function(range) {\n        var top = cm.charCoords(range.head, \"div\").top + 5;\n        var rightPos = cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\");\n        return {from: range.from(), to: rightPos };\n      });\n    },\n    undo: function(cm) {cm.undo();},\n    redo: function(cm) {cm.redo();},\n    undoSelection: function(cm) {cm.undoSelection();},\n    redoSelection: function(cm) {cm.redoSelection();},\n    goDocStart: function(cm) {cm.extendSelection(Pos(cm.firstLine(), 0));},\n    goDocEnd: function(cm) {cm.extendSelection(Pos(cm.lastLine()));},\n    goLineStart: function(cm) {\n      cm.extendSelectionsBy(function(range) { return lineStart(cm, range.head.line); },\n                            {origin: \"+move\", bias: 1});\n    },\n    goLineStartSmart: function(cm) {\n      cm.extendSelectionsBy(function(range) {\n        return lineStartSmart(cm, range.head);\n      }, {origin: \"+move\", bias: 1});\n    },\n    goLineEnd: function(cm) {\n      cm.extendSelectionsBy(function(range) { return lineEnd(cm, range.head.line); },\n                            {origin: \"+move\", bias: -1});\n    },\n    goLineRight: function(cm) {\n      cm.extendSelectionsBy(function(range) {\n        var top = cm.charCoords(range.head, \"div\").top + 5;\n        return cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\");\n      }, sel_move);\n    },\n    goLineLeft: function(cm) {\n      cm.extendSelectionsBy(function(range) {\n        var top = cm.charCoords(range.head, \"div\").top + 5;\n        return cm.coordsChar({left: 0, top: top}, \"div\");\n      }, sel_move);\n    },\n    goLineLeftSmart: function(cm) {\n      cm.extendSelectionsBy(function(range) {\n        var top = cm.charCoords(range.head, \"div\").top + 5;\n        var pos = cm.coordsChar({left: 0, top: top}, \"div\");\n        if (pos.ch < cm.getLine(pos.line).search(/\\S/)) return lineStartSmart(cm, range.head);\n        return pos;\n      }, sel_move);\n    },\n    goLineUp: function(cm) {cm.moveV(-1, \"line\");},\n    goLineDown: function(cm) {cm.moveV(1, \"line\");},\n    goPageUp: function(cm) {cm.moveV(-1, \"page\");},\n    goPageDown: function(cm) {cm.moveV(1, \"page\");},\n    goCharLeft: function(cm) {cm.moveH(-1, \"char\");},\n    goCharRight: function(cm) {cm.moveH(1, \"char\");},\n    goColumnLeft: function(cm) {cm.moveH(-1, \"column\");},\n    goColumnRight: function(cm) {cm.moveH(1, \"column\");},\n    goWordLeft: function(cm) {cm.moveH(-1, \"word\");},\n    goGroupRight: function(cm) {cm.moveH(1, \"group\");},\n    goGroupLeft: function(cm) {cm.moveH(-1, \"group\");},\n    goWordRight: function(cm) {cm.moveH(1, \"word\");},\n    delCharBefore: function(cm) {cm.deleteH(-1, \"char\");},\n    delCharAfter: function(cm) {cm.deleteH(1, \"char\");},\n    delWordBefore: function(cm) {cm.deleteH(-1, \"word\");},\n    delWordAfter: function(cm) {cm.deleteH(1, \"word\");},\n    delGroupBefore: function(cm) {cm.deleteH(-1, \"group\");},\n    delGroupAfter: function(cm) {cm.deleteH(1, \"group\");},\n    indentAuto: function(cm) {cm.indentSelection(\"smart\");},\n    indentMore: function(cm) {cm.indentSelection(\"add\");},\n    indentLess: function(cm) {cm.indentSelection(\"subtract\");},\n    insertTab: function(cm) {cm.replaceSelection(\"\\t\");},\n    insertSoftTab: function(cm) {\n      var spaces = [], ranges = cm.listSelections(), tabSize = cm.options.tabSize;\n      for (var i = 0; i < ranges.length; i++) {\n        var pos = ranges[i].from();\n        var col = countColumn(cm.getLine(pos.line), pos.ch, tabSize);\n        spaces.push(spaceStr(tabSize - col % tabSize));\n      }\n      cm.replaceSelections(spaces);\n    },\n    defaultTab: function(cm) {\n      if (cm.somethingSelected()) cm.indentSelection(\"add\");\n      else cm.execCommand(\"insertTab\");\n    },\n    transposeChars: function(cm) {\n      runInOp(cm, function() {\n        var ranges = cm.listSelections(), newSel = [];\n        for (var i = 0; i < ranges.length; i++) {\n          var cur = ranges[i].head, line = getLine(cm.doc, cur.line).text;\n          if (line) {\n            if (cur.ch == line.length) cur = new Pos(cur.line, cur.ch - 1);\n            if (cur.ch > 0) {\n              cur = new Pos(cur.line, cur.ch + 1);\n              cm.replaceRange(line.charAt(cur.ch - 1) + line.charAt(cur.ch - 2),\n                              Pos(cur.line, cur.ch - 2), cur, \"+transpose\");\n            } else if (cur.line > cm.doc.first) {\n              var prev = getLine(cm.doc, cur.line - 1).text;\n              if (prev)\n                cm.replaceRange(line.charAt(0) + cm.doc.lineSeparator() +\n                                prev.charAt(prev.length - 1),\n                                Pos(cur.line - 1, prev.length - 1), Pos(cur.line, 1), \"+transpose\");\n            }\n          }\n          newSel.push(new Range(cur, cur));\n        }\n        cm.setSelections(newSel);\n      });\n    },\n    newlineAndIndent: function(cm) {\n      runInOp(cm, function() {\n        var len = cm.listSelections().length;\n        for (var i = 0; i < len; i++) {\n          var range = cm.listSelections()[i];\n          cm.replaceRange(cm.doc.lineSeparator(), range.anchor, range.head, \"+input\");\n          cm.indentLine(range.from().line + 1, null, true);\n        }\n        ensureCursorVisible(cm);\n      });\n    },\n    openLine: function(cm) {cm.replaceSelection(\"\\n\", \"start\")},\n    toggleOverwrite: function(cm) {cm.toggleOverwrite();}\n  };\n\n\n  // STANDARD KEYMAPS\n\n  var keyMap = CodeMirror.keyMap = {};\n\n  keyMap.basic = {\n    \"Left\": \"goCharLeft\", \"Right\": \"goCharRight\", \"Up\": \"goLineUp\", \"Down\": \"goLineDown\",\n    \"End\": \"goLineEnd\", \"Home\": \"goLineStartSmart\", \"PageUp\": \"goPageUp\", \"PageDown\": \"goPageDown\",\n    \"Delete\": \"delCharAfter\", \"Backspace\": \"delCharBefore\", \"Shift-Backspace\": \"delCharBefore\",\n    \"Tab\": \"defaultTab\", \"Shift-Tab\": \"indentAuto\",\n    \"Enter\": \"newlineAndIndent\", \"Insert\": \"toggleOverwrite\",\n    \"Esc\": \"singleSelection\"\n  };\n  // Note that the save and find-related commands aren't defined by\n  // default. User code or addons can define them. Unknown commands\n  // are simply ignored.\n  keyMap.pcDefault = {\n    \"Ctrl-A\": \"selectAll\", \"Ctrl-D\": \"deleteLine\", \"Ctrl-Z\": \"undo\", \"Shift-Ctrl-Z\": \"redo\", \"Ctrl-Y\": \"redo\",\n    \"Ctrl-Home\": \"goDocStart\", \"Ctrl-End\": \"goDocEnd\", \"Ctrl-Up\": \"goLineUp\", \"Ctrl-Down\": \"goLineDown\",\n    \"Ctrl-Left\": \"goGroupLeft\", \"Ctrl-Right\": \"goGroupRight\", \"Alt-Left\": \"goLineStart\", \"Alt-Right\": \"goLineEnd\",\n    \"Ctrl-Backspace\": \"delGroupBefore\", \"Ctrl-Delete\": \"delGroupAfter\", \"Ctrl-S\": \"save\", \"Ctrl-F\": \"find\",\n    \"Ctrl-G\": \"findNext\", \"Shift-Ctrl-G\": \"findPrev\", \"Shift-Ctrl-F\": \"replace\", \"Shift-Ctrl-R\": \"replaceAll\",\n    \"Ctrl-[\": \"indentLess\", \"Ctrl-]\": \"indentMore\",\n    \"Ctrl-U\": \"undoSelection\", \"Shift-Ctrl-U\": \"redoSelection\", \"Alt-U\": \"redoSelection\",\n    fallthrough: \"basic\"\n  };\n  // Very basic readline/emacs-style bindings, which are standard on Mac.\n  keyMap.emacsy = {\n    \"Ctrl-F\": \"goCharRight\", \"Ctrl-B\": \"goCharLeft\", \"Ctrl-P\": \"goLineUp\", \"Ctrl-N\": \"goLineDown\",\n    \"Alt-F\": \"goWordRight\", \"Alt-B\": \"goWordLeft\", \"Ctrl-A\": \"goLineStart\", \"Ctrl-E\": \"goLineEnd\",\n    \"Ctrl-V\": \"goPageDown\", \"Shift-Ctrl-V\": \"goPageUp\", \"Ctrl-D\": \"delCharAfter\", \"Ctrl-H\": \"delCharBefore\",\n    \"Alt-D\": \"delWordAfter\", \"Alt-Backspace\": \"delWordBefore\", \"Ctrl-K\": \"killLine\", \"Ctrl-T\": \"transposeChars\",\n    \"Ctrl-O\": \"openLine\"\n  };\n  keyMap.macDefault = {\n    \"Cmd-A\": \"selectAll\", \"Cmd-D\": \"deleteLine\", \"Cmd-Z\": \"undo\", \"Shift-Cmd-Z\": \"redo\", \"Cmd-Y\": \"redo\",\n    \"Cmd-Home\": \"goDocStart\", \"Cmd-Up\": \"goDocStart\", \"Cmd-End\": \"goDocEnd\", \"Cmd-Down\": \"goDocEnd\", \"Alt-Left\": \"goGroupLeft\",\n    \"Alt-Right\": \"goGroupRight\", \"Cmd-Left\": \"goLineLeft\", \"Cmd-Right\": \"goLineRight\", \"Alt-Backspace\": \"delGroupBefore\",\n    \"Ctrl-Alt-Backspace\": \"delGroupAfter\", \"Alt-Delete\": \"delGroupAfter\", \"Cmd-S\": \"save\", \"Cmd-F\": \"find\",\n    \"Cmd-G\": \"findNext\", \"Shift-Cmd-G\": \"findPrev\", \"Cmd-Alt-F\": \"replace\", \"Shift-Cmd-Alt-F\": \"replaceAll\",\n    \"Cmd-[\": \"indentLess\", \"Cmd-]\": \"indentMore\", \"Cmd-Backspace\": \"delWrappedLineLeft\", \"Cmd-Delete\": \"delWrappedLineRight\",\n    \"Cmd-U\": \"undoSelection\", \"Shift-Cmd-U\": \"redoSelection\", \"Ctrl-Up\": \"goDocStart\", \"Ctrl-Down\": \"goDocEnd\",\n    fallthrough: [\"basic\", \"emacsy\"]\n  };\n  keyMap[\"default\"] = mac ? keyMap.macDefault : keyMap.pcDefault;\n\n  // KEYMAP DISPATCH\n\n  function normalizeKeyName(name) {\n    var parts = name.split(/-(?!$)/), name = parts[parts.length - 1];\n    var alt, ctrl, shift, cmd;\n    for (var i = 0; i < parts.length - 1; i++) {\n      var mod = parts[i];\n      if (/^(cmd|meta|m)$/i.test(mod)) cmd = true;\n      else if (/^a(lt)?$/i.test(mod)) alt = true;\n      else if (/^(c|ctrl|control)$/i.test(mod)) ctrl = true;\n      else if (/^s(hift)$/i.test(mod)) shift = true;\n      else throw new Error(\"Unrecognized modifier name: \" + mod);\n    }\n    if (alt) name = \"Alt-\" + name;\n    if (ctrl) name = \"Ctrl-\" + name;\n    if (cmd) name = \"Cmd-\" + name;\n    if (shift) name = \"Shift-\" + name;\n    return name;\n  }\n\n  // This is a kludge to keep keymaps mostly working as raw objects\n  // (backwards compatibility) while at the same time support features\n  // like normalization and multi-stroke key bindings. It compiles a\n  // new normalized keymap, and then updates the old object to reflect\n  // this.\n  CodeMirror.normalizeKeyMap = function(keymap) {\n    var copy = {};\n    for (var keyname in keymap) if (keymap.hasOwnProperty(keyname)) {\n      var value = keymap[keyname];\n      if (/^(name|fallthrough|(de|at)tach)$/.test(keyname)) continue;\n      if (value == \"...\") { delete keymap[keyname]; continue; }\n\n      var keys = map(keyname.split(\" \"), normalizeKeyName);\n      for (var i = 0; i < keys.length; i++) {\n        var val, name;\n        if (i == keys.length - 1) {\n          name = keys.join(\" \");\n          val = value;\n        } else {\n          name = keys.slice(0, i + 1).join(\" \");\n          val = \"...\";\n        }\n        var prev = copy[name];\n        if (!prev) copy[name] = val;\n        else if (prev != val) throw new Error(\"Inconsistent bindings for \" + name);\n      }\n      delete keymap[keyname];\n    }\n    for (var prop in copy) keymap[prop] = copy[prop];\n    return keymap;\n  };\n\n  var lookupKey = CodeMirror.lookupKey = function(key, map, handle, context) {\n    map = getKeyMap(map);\n    var found = map.call ? map.call(key, context) : map[key];\n    if (found === false) return \"nothing\";\n    if (found === \"...\") return \"multi\";\n    if (found != null && handle(found)) return \"handled\";\n\n    if (map.fallthrough) {\n      if (Object.prototype.toString.call(map.fallthrough) != \"[object Array]\")\n        return lookupKey(key, map.fallthrough, handle, context);\n      for (var i = 0; i < map.fallthrough.length; i++) {\n        var result = lookupKey(key, map.fallthrough[i], handle, context);\n        if (result) return result;\n      }\n    }\n  };\n\n  // Modifier key presses don't count as 'real' key presses for the\n  // purpose of keymap fallthrough.\n  var isModifierKey = CodeMirror.isModifierKey = function(value) {\n    var name = typeof value == \"string\" ? value : keyNames[value.keyCode];\n    return name == \"Ctrl\" || name == \"Alt\" || name == \"Shift\" || name == \"Mod\";\n  };\n\n  // Look up the name of a key as indicated by an event object.\n  var keyName = CodeMirror.keyName = function(event, noShift) {\n    if (presto && event.keyCode == 34 && event[\"char\"]) return false;\n    var base = keyNames[event.keyCode], name = base;\n    if (name == null || event.altGraphKey) return false;\n    if (event.altKey && base != \"Alt\") name = \"Alt-\" + name;\n    if ((flipCtrlCmd ? event.metaKey : event.ctrlKey) && base != \"Ctrl\") name = \"Ctrl-\" + name;\n    if ((flipCtrlCmd ? event.ctrlKey : event.metaKey) && base != \"Cmd\") name = \"Cmd-\" + name;\n    if (!noShift && event.shiftKey && base != \"Shift\") name = \"Shift-\" + name;\n    return name;\n  };\n\n  function getKeyMap(val) {\n    return typeof val == \"string\" ? keyMap[val] : val;\n  }\n\n  // FROMTEXTAREA\n\n  CodeMirror.fromTextArea = function(textarea, options) {\n    options = options ? copyObj(options) : {};\n    options.value = textarea.value;\n    if (!options.tabindex && textarea.tabIndex)\n      options.tabindex = textarea.tabIndex;\n    if (!options.placeholder && textarea.placeholder)\n      options.placeholder = textarea.placeholder;\n    // Set autofocus to true if this textarea is focused, or if it has\n    // autofocus and no other element is focused.\n    if (options.autofocus == null) {\n      var hasFocus = activeElt();\n      options.autofocus = hasFocus == textarea ||\n        textarea.getAttribute(\"autofocus\") != null && hasFocus == document.body;\n    }\n\n    function save() {textarea.value = cm.getValue();}\n    if (textarea.form) {\n      on(textarea.form, \"submit\", save);\n      // Deplorable hack to make the submit method do the right thing.\n      if (!options.leaveSubmitMethodAlone) {\n        var form = textarea.form, realSubmit = form.submit;\n        try {\n          var wrappedSubmit = form.submit = function() {\n            save();\n            form.submit = realSubmit;\n            form.submit();\n            form.submit = wrappedSubmit;\n          };\n        } catch(e) {}\n      }\n    }\n\n    options.finishInit = function(cm) {\n      cm.save = save;\n      cm.getTextArea = function() { return textarea; };\n      cm.toTextArea = function() {\n        cm.toTextArea = isNaN; // Prevent this from being ran twice\n        save();\n        textarea.parentNode.removeChild(cm.getWrapperElement());\n        textarea.style.display = \"\";\n        if (textarea.form) {\n          off(textarea.form, \"submit\", save);\n          if (typeof textarea.form.submit == \"function\")\n            textarea.form.submit = realSubmit;\n        }\n      };\n    };\n\n    textarea.style.display = \"none\";\n    var cm = CodeMirror(function(node) {\n      textarea.parentNode.insertBefore(node, textarea.nextSibling);\n    }, options);\n    return cm;\n  };\n\n  // STRING STREAM\n\n  // Fed to the mode parsers, provides helper functions to make\n  // parsers more succinct.\n\n  var StringStream = CodeMirror.StringStream = function(string, tabSize) {\n    this.pos = this.start = 0;\n    this.string = string;\n    this.tabSize = tabSize || 8;\n    this.lastColumnPos = this.lastColumnValue = 0;\n    this.lineStart = 0;\n  };\n\n  StringStream.prototype = {\n    eol: function() {return this.pos >= this.string.length;},\n    sol: function() {return this.pos == this.lineStart;},\n    peek: function() {return this.string.charAt(this.pos) || undefined;},\n    next: function() {\n      if (this.pos < this.string.length)\n        return this.string.charAt(this.pos++);\n    },\n    eat: function(match) {\n      var ch = this.string.charAt(this.pos);\n      if (typeof match == \"string\") var ok = ch == match;\n      else var ok = ch && (match.test ? match.test(ch) : match(ch));\n      if (ok) {++this.pos; return ch;}\n    },\n    eatWhile: function(match) {\n      var start = this.pos;\n      while (this.eat(match)){}\n      return this.pos > start;\n    },\n    eatSpace: function() {\n      var start = this.pos;\n      while (/[\\s\\u00a0]/.test(this.string.charAt(this.pos))) ++this.pos;\n      return this.pos > start;\n    },\n    skipToEnd: function() {this.pos = this.string.length;},\n    skipTo: function(ch) {\n      var found = this.string.indexOf(ch, this.pos);\n      if (found > -1) {this.pos = found; return true;}\n    },\n    backUp: function(n) {this.pos -= n;},\n    column: function() {\n      if (this.lastColumnPos < this.start) {\n        this.lastColumnValue = countColumn(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue);\n        this.lastColumnPos = this.start;\n      }\n      return this.lastColumnValue - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0);\n    },\n    indentation: function() {\n      return countColumn(this.string, null, this.tabSize) -\n        (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0);\n    },\n    match: function(pattern, consume, caseInsensitive) {\n      if (typeof pattern == \"string\") {\n        var cased = function(str) {return caseInsensitive ? str.toLowerCase() : str;};\n        var substr = this.string.substr(this.pos, pattern.length);\n        if (cased(substr) == cased(pattern)) {\n          if (consume !== false) this.pos += pattern.length;\n          return true;\n        }\n      } else {\n        var match = this.string.slice(this.pos).match(pattern);\n        if (match && match.index > 0) return null;\n        if (match && consume !== false) this.pos += match[0].length;\n        return match;\n      }\n    },\n    current: function(){return this.string.slice(this.start, this.pos);},\n    hideFirstChars: function(n, inner) {\n      this.lineStart += n;\n      try { return inner(); }\n      finally { this.lineStart -= n; }\n    }\n  };\n\n  // TEXTMARKERS\n\n  // Created with markText and setBookmark methods. A TextMarker is a\n  // handle that can be used to clear or find a marked position in the\n  // document. Line objects hold arrays (markedSpans) containing\n  // {from, to, marker} object pointing to such marker objects, and\n  // indicating that such a marker is present on that line. Multiple\n  // lines may point to the same marker when it spans across lines.\n  // The spans will have null for their from/to properties when the\n  // marker continues beyond the start/end of the line. Markers have\n  // links back to the lines they currently touch.\n\n  var nextMarkerId = 0;\n\n  var TextMarker = CodeMirror.TextMarker = function(doc, type) {\n    this.lines = [];\n    this.type = type;\n    this.doc = doc;\n    this.id = ++nextMarkerId;\n  };\n  eventMixin(TextMarker);\n\n  // Clear the marker.\n  TextMarker.prototype.clear = function() {\n    if (this.explicitlyCleared) return;\n    var cm = this.doc.cm, withOp = cm && !cm.curOp;\n    if (withOp) startOperation(cm);\n    if (hasHandler(this, \"clear\")) {\n      var found = this.find();\n      if (found) signalLater(this, \"clear\", found.from, found.to);\n    }\n    var min = null, max = null;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this);\n      if (cm && !this.collapsed) regLineChange(cm, lineNo(line), \"text\");\n      else if (cm) {\n        if (span.to != null) max = lineNo(line);\n        if (span.from != null) min = lineNo(line);\n      }\n      line.markedSpans = removeMarkedSpan(line.markedSpans, span);\n      if (span.from == null && this.collapsed && !lineIsHidden(this.doc, line) && cm)\n        updateLineHeight(line, textHeight(cm.display));\n    }\n    if (cm && this.collapsed && !cm.options.lineWrapping) for (var i = 0; i < this.lines.length; ++i) {\n      var visual = visualLine(this.lines[i]), len = lineLength(visual);\n      if (len > cm.display.maxLineLength) {\n        cm.display.maxLine = visual;\n        cm.display.maxLineLength = len;\n        cm.display.maxLineChanged = true;\n      }\n    }\n\n    if (min != null && cm && this.collapsed) regChange(cm, min, max + 1);\n    this.lines.length = 0;\n    this.explicitlyCleared = true;\n    if (this.atomic && this.doc.cantEdit) {\n      this.doc.cantEdit = false;\n      if (cm) reCheckSelection(cm.doc);\n    }\n    if (cm) signalLater(cm, \"markerCleared\", cm, this);\n    if (withOp) endOperation(cm);\n    if (this.parent) this.parent.clear();\n  };\n\n  // Find the position of the marker in the document. Returns a {from,\n  // to} object by default. Side can be passed to get a specific side\n  // -- 0 (both), -1 (left), or 1 (right). When lineObj is true, the\n  // Pos objects returned contain a line object, rather than a line\n  // number (used to prevent looking up the same line twice).\n  TextMarker.prototype.find = function(side, lineObj) {\n    if (side == null && this.type == \"bookmark\") side = 1;\n    var from, to;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this);\n      if (span.from != null) {\n        from = Pos(lineObj ? line : lineNo(line), span.from);\n        if (side == -1) return from;\n      }\n      if (span.to != null) {\n        to = Pos(lineObj ? line : lineNo(line), span.to);\n        if (side == 1) return to;\n      }\n    }\n    return from && {from: from, to: to};\n  };\n\n  // Signals that the marker's widget changed, and surrounding layout\n  // should be recomputed.\n  TextMarker.prototype.changed = function() {\n    var pos = this.find(-1, true), widget = this, cm = this.doc.cm;\n    if (!pos || !cm) return;\n    runInOp(cm, function() {\n      var line = pos.line, lineN = lineNo(pos.line);\n      var view = findViewForLine(cm, lineN);\n      if (view) {\n        clearLineMeasurementCacheFor(view);\n        cm.curOp.selectionChanged = cm.curOp.forceUpdate = true;\n      }\n      cm.curOp.updateMaxLine = true;\n      if (!lineIsHidden(widget.doc, line) && widget.height != null) {\n        var oldHeight = widget.height;\n        widget.height = null;\n        var dHeight = widgetHeight(widget) - oldHeight;\n        if (dHeight)\n          updateLineHeight(line, line.height + dHeight);\n      }\n    });\n  };\n\n  TextMarker.prototype.attachLine = function(line) {\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp;\n      if (!op.maybeHiddenMarkers || indexOf(op.maybeHiddenMarkers, this) == -1)\n        (op.maybeUnhiddenMarkers || (op.maybeUnhiddenMarkers = [])).push(this);\n    }\n    this.lines.push(line);\n  };\n  TextMarker.prototype.detachLine = function(line) {\n    this.lines.splice(indexOf(this.lines, line), 1);\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp;\n      (op.maybeHiddenMarkers || (op.maybeHiddenMarkers = [])).push(this);\n    }\n  };\n\n  // Collapsed markers have unique ids, in order to be able to order\n  // them, which is needed for uniquely determining an outer marker\n  // when they overlap (they may nest, but not partially overlap).\n  var nextMarkerId = 0;\n\n  // Create a marker, wire it up to the right lines, and\n  function markText(doc, from, to, options, type) {\n    // Shared markers (across linked documents) are handled separately\n    // (markTextShared will call out to this again, once per\n    // document).\n    if (options && options.shared) return markTextShared(doc, from, to, options, type);\n    // Ensure we are in an operation.\n    if (doc.cm && !doc.cm.curOp) return operation(doc.cm, markText)(doc, from, to, options, type);\n\n    var marker = new TextMarker(doc, type), diff = cmp(from, to);\n    if (options) copyObj(options, marker, false);\n    // Don't connect empty markers unless clearWhenEmpty is false\n    if (diff > 0 || diff == 0 && marker.clearWhenEmpty !== false)\n      return marker;\n    if (marker.replacedWith) {\n      // Showing up as a widget implies collapsed (widget replaces text)\n      marker.collapsed = true;\n      marker.widgetNode = elt(\"span\", [marker.replacedWith], \"CodeMirror-widget\");\n      if (!options.handleMouseEvents) marker.widgetNode.setAttribute(\"cm-ignore-events\", \"true\");\n      if (options.insertLeft) marker.widgetNode.insertLeft = true;\n    }\n    if (marker.collapsed) {\n      if (conflictingCollapsedRange(doc, from.line, from, to, marker) ||\n          from.line != to.line && conflictingCollapsedRange(doc, to.line, from, to, marker))\n        throw new Error(\"Inserting collapsed marker partially overlapping an existing one\");\n      sawCollapsedSpans = true;\n    }\n\n    if (marker.addToHistory)\n      addChangeToHistory(doc, {from: from, to: to, origin: \"markText\"}, doc.sel, NaN);\n\n    var curLine = from.line, cm = doc.cm, updateMaxLine;\n    doc.iter(curLine, to.line + 1, function(line) {\n      if (cm && marker.collapsed && !cm.options.lineWrapping && visualLine(line) == cm.display.maxLine)\n        updateMaxLine = true;\n      if (marker.collapsed && curLine != from.line) updateLineHeight(line, 0);\n      addMarkedSpan(line, new MarkedSpan(marker,\n                                         curLine == from.line ? from.ch : null,\n                                         curLine == to.line ? to.ch : null));\n      ++curLine;\n    });\n    // lineIsHidden depends on the presence of the spans, so needs a second pass\n    if (marker.collapsed) doc.iter(from.line, to.line + 1, function(line) {\n      if (lineIsHidden(doc, line)) updateLineHeight(line, 0);\n    });\n\n    if (marker.clearOnEnter) on(marker, \"beforeCursorEnter\", function() { marker.clear(); });\n\n    if (marker.readOnly) {\n      sawReadOnlySpans = true;\n      if (doc.history.done.length || doc.history.undone.length)\n        doc.clearHistory();\n    }\n    if (marker.collapsed) {\n      marker.id = ++nextMarkerId;\n      marker.atomic = true;\n    }\n    if (cm) {\n      // Sync editor state\n      if (updateMaxLine) cm.curOp.updateMaxLine = true;\n      if (marker.collapsed)\n        regChange(cm, from.line, to.line + 1);\n      else if (marker.className || marker.title || marker.startStyle || marker.endStyle || marker.css)\n        for (var i = from.line; i <= to.line; i++) regLineChange(cm, i, \"text\");\n      if (marker.atomic) reCheckSelection(cm.doc);\n      signalLater(cm, \"markerAdded\", cm, marker);\n    }\n    return marker;\n  }\n\n  // SHARED TEXTMARKERS\n\n  // A shared marker spans multiple linked documents. It is\n  // implemented as a meta-marker-object controlling multiple normal\n  // markers.\n  var SharedTextMarker = CodeMirror.SharedTextMarker = function(markers, primary) {\n    this.markers = markers;\n    this.primary = primary;\n    for (var i = 0; i < markers.length; ++i)\n      markers[i].parent = this;\n  };\n  eventMixin(SharedTextMarker);\n\n  SharedTextMarker.prototype.clear = function() {\n    if (this.explicitlyCleared) return;\n    this.explicitlyCleared = true;\n    for (var i = 0; i < this.markers.length; ++i)\n      this.markers[i].clear();\n    signalLater(this, \"clear\");\n  };\n  SharedTextMarker.prototype.find = function(side, lineObj) {\n    return this.primary.find(side, lineObj);\n  };\n\n  function markTextShared(doc, from, to, options, type) {\n    options = copyObj(options);\n    options.shared = false;\n    var markers = [markText(doc, from, to, options, type)], primary = markers[0];\n    var widget = options.widgetNode;\n    linkedDocs(doc, function(doc) {\n      if (widget) options.widgetNode = widget.cloneNode(true);\n      markers.push(markText(doc, clipPos(doc, from), clipPos(doc, to), options, type));\n      for (var i = 0; i < doc.linked.length; ++i)\n        if (doc.linked[i].isParent) return;\n      primary = lst(markers);\n    });\n    return new SharedTextMarker(markers, primary);\n  }\n\n  function findSharedMarkers(doc) {\n    return doc.findMarks(Pos(doc.first, 0), doc.clipPos(Pos(doc.lastLine())),\n                         function(m) { return m.parent; });\n  }\n\n  function copySharedMarkers(doc, markers) {\n    for (var i = 0; i < markers.length; i++) {\n      var marker = markers[i], pos = marker.find();\n      var mFrom = doc.clipPos(pos.from), mTo = doc.clipPos(pos.to);\n      if (cmp(mFrom, mTo)) {\n        var subMark = markText(doc, mFrom, mTo, marker.primary, marker.primary.type);\n        marker.markers.push(subMark);\n        subMark.parent = marker;\n      }\n    }\n  }\n\n  function detachSharedMarkers(markers) {\n    for (var i = 0; i < markers.length; i++) {\n      var marker = markers[i], linked = [marker.primary.doc];;\n      linkedDocs(marker.primary.doc, function(d) { linked.push(d); });\n      for (var j = 0; j < marker.markers.length; j++) {\n        var subMarker = marker.markers[j];\n        if (indexOf(linked, subMarker.doc) == -1) {\n          subMarker.parent = null;\n          marker.markers.splice(j--, 1);\n        }\n      }\n    }\n  }\n\n  // TEXTMARKER SPANS\n\n  function MarkedSpan(marker, from, to) {\n    this.marker = marker;\n    this.from = from; this.to = to;\n  }\n\n  // Search an array of spans for a span matching the given marker.\n  function getMarkedSpanFor(spans, marker) {\n    if (spans) for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.marker == marker) return span;\n    }\n  }\n  // Remove a span from an array, returning undefined if no spans are\n  // left (we don't store arrays for lines without spans).\n  function removeMarkedSpan(spans, span) {\n    for (var r, i = 0; i < spans.length; ++i)\n      if (spans[i] != span) (r || (r = [])).push(spans[i]);\n    return r;\n  }\n  // Add a span to a line.\n  function addMarkedSpan(line, span) {\n    line.markedSpans = line.markedSpans ? line.markedSpans.concat([span]) : [span];\n    span.marker.attachLine(line);\n  }\n\n  // Used for the algorithm that adjusts markers for a change in the\n  // document. These functions cut an array of spans at a given\n  // character position, returning an array of remaining chunks (or\n  // undefined if nothing remains).\n  function markedSpansBefore(old, startCh, isInsert) {\n    if (old) for (var i = 0, nw; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= startCh : span.from < startCh);\n      if (startsBefore || span.from == startCh && marker.type == \"bookmark\" && (!isInsert || !span.marker.insertLeft)) {\n        var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= startCh : span.to > startCh);\n        (nw || (nw = [])).push(new MarkedSpan(marker, span.from, endsAfter ? null : span.to));\n      }\n    }\n    return nw;\n  }\n  function markedSpansAfter(old, endCh, isInsert) {\n    if (old) for (var i = 0, nw; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= endCh : span.to > endCh);\n      if (endsAfter || span.from == endCh && marker.type == \"bookmark\" && (!isInsert || span.marker.insertLeft)) {\n        var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= endCh : span.from < endCh);\n        (nw || (nw = [])).push(new MarkedSpan(marker, startsBefore ? null : span.from - endCh,\n                                              span.to == null ? null : span.to - endCh));\n      }\n    }\n    return nw;\n  }\n\n  // Given a change object, compute the new set of marker spans that\n  // cover the line in which the change took place. Removes spans\n  // entirely within the change, reconnects spans belonging to the\n  // same marker that appear on both sides of the change, and cuts off\n  // spans partially within the change. Returns an array of span\n  // arrays with one element for each line in (after) the change.\n  function stretchSpansOverChange(doc, change) {\n    if (change.full) return null;\n    var oldFirst = isLine(doc, change.from.line) && getLine(doc, change.from.line).markedSpans;\n    var oldLast = isLine(doc, change.to.line) && getLine(doc, change.to.line).markedSpans;\n    if (!oldFirst && !oldLast) return null;\n\n    var startCh = change.from.ch, endCh = change.to.ch, isInsert = cmp(change.from, change.to) == 0;\n    // Get the spans that 'stick out' on both sides\n    var first = markedSpansBefore(oldFirst, startCh, isInsert);\n    var last = markedSpansAfter(oldLast, endCh, isInsert);\n\n    // Next, merge those two ends\n    var sameLine = change.text.length == 1, offset = lst(change.text).length + (sameLine ? startCh : 0);\n    if (first) {\n      // Fix up .to properties of first\n      for (var i = 0; i < first.length; ++i) {\n        var span = first[i];\n        if (span.to == null) {\n          var found = getMarkedSpanFor(last, span.marker);\n          if (!found) span.to = startCh;\n          else if (sameLine) span.to = found.to == null ? null : found.to + offset;\n        }\n      }\n    }\n    if (last) {\n      // Fix up .from in last (or move them into first in case of sameLine)\n      for (var i = 0; i < last.length; ++i) {\n        var span = last[i];\n        if (span.to != null) span.to += offset;\n        if (span.from == null) {\n          var found = getMarkedSpanFor(first, span.marker);\n          if (!found) {\n            span.from = offset;\n            if (sameLine) (first || (first = [])).push(span);\n          }\n        } else {\n          span.from += offset;\n          if (sameLine) (first || (first = [])).push(span);\n        }\n      }\n    }\n    // Make sure we didn't create any zero-length spans\n    if (first) first = clearEmptySpans(first);\n    if (last && last != first) last = clearEmptySpans(last);\n\n    var newMarkers = [first];\n    if (!sameLine) {\n      // Fill gap with whole-line-spans\n      var gap = change.text.length - 2, gapMarkers;\n      if (gap > 0 && first)\n        for (var i = 0; i < first.length; ++i)\n          if (first[i].to == null)\n            (gapMarkers || (gapMarkers = [])).push(new MarkedSpan(first[i].marker, null, null));\n      for (var i = 0; i < gap; ++i)\n        newMarkers.push(gapMarkers);\n      newMarkers.push(last);\n    }\n    return newMarkers;\n  }\n\n  // Remove spans that are empty and don't have a clearWhenEmpty\n  // option of false.\n  function clearEmptySpans(spans) {\n    for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.from != null && span.from == span.to && span.marker.clearWhenEmpty !== false)\n        spans.splice(i--, 1);\n    }\n    if (!spans.length) return null;\n    return spans;\n  }\n\n  // Used for un/re-doing changes from the history. Combines the\n  // result of computing the existing spans with the set of spans that\n  // existed in the history (so that deleting around a span and then\n  // undoing brings back the span).\n  function mergeOldSpans(doc, change) {\n    var old = getOldSpans(doc, change);\n    var stretched = stretchSpansOverChange(doc, change);\n    if (!old) return stretched;\n    if (!stretched) return old;\n\n    for (var i = 0; i < old.length; ++i) {\n      var oldCur = old[i], stretchCur = stretched[i];\n      if (oldCur && stretchCur) {\n        spans: for (var j = 0; j < stretchCur.length; ++j) {\n          var span = stretchCur[j];\n          for (var k = 0; k < oldCur.length; ++k)\n            if (oldCur[k].marker == span.marker) continue spans;\n          oldCur.push(span);\n        }\n      } else if (stretchCur) {\n        old[i] = stretchCur;\n      }\n    }\n    return old;\n  }\n\n  // Used to 'clip' out readOnly ranges when making a change.\n  function removeReadOnlyRanges(doc, from, to) {\n    var markers = null;\n    doc.iter(from.line, to.line + 1, function(line) {\n      if (line.markedSpans) for (var i = 0; i < line.markedSpans.length; ++i) {\n        var mark = line.markedSpans[i].marker;\n        if (mark.readOnly && (!markers || indexOf(markers, mark) == -1))\n          (markers || (markers = [])).push(mark);\n      }\n    });\n    if (!markers) return null;\n    var parts = [{from: from, to: to}];\n    for (var i = 0; i < markers.length; ++i) {\n      var mk = markers[i], m = mk.find(0);\n      for (var j = 0; j < parts.length; ++j) {\n        var p = parts[j];\n        if (cmp(p.to, m.from) < 0 || cmp(p.from, m.to) > 0) continue;\n        var newParts = [j, 1], dfrom = cmp(p.from, m.from), dto = cmp(p.to, m.to);\n        if (dfrom < 0 || !mk.inclusiveLeft && !dfrom)\n          newParts.push({from: p.from, to: m.from});\n        if (dto > 0 || !mk.inclusiveRight && !dto)\n          newParts.push({from: m.to, to: p.to});\n        parts.splice.apply(parts, newParts);\n        j += newParts.length - 1;\n      }\n    }\n    return parts;\n  }\n\n  // Connect or disconnect spans from a line.\n  function detachMarkedSpans(line) {\n    var spans = line.markedSpans;\n    if (!spans) return;\n    for (var i = 0; i < spans.length; ++i)\n      spans[i].marker.detachLine(line);\n    line.markedSpans = null;\n  }\n  function attachMarkedSpans(line, spans) {\n    if (!spans) return;\n    for (var i = 0; i < spans.length; ++i)\n      spans[i].marker.attachLine(line);\n    line.markedSpans = spans;\n  }\n\n  // Helpers used when computing which overlapping collapsed span\n  // counts as the larger one.\n  function extraLeft(marker) { return marker.inclusiveLeft ? -1 : 0; }\n  function extraRight(marker) { return marker.inclusiveRight ? 1 : 0; }\n\n  // Returns a number indicating which of two overlapping collapsed\n  // spans is larger (and thus includes the other). Falls back to\n  // comparing ids when the spans cover exactly the same range.\n  function compareCollapsedMarkers(a, b) {\n    var lenDiff = a.lines.length - b.lines.length;\n    if (lenDiff != 0) return lenDiff;\n    var aPos = a.find(), bPos = b.find();\n    var fromCmp = cmp(aPos.from, bPos.from) || extraLeft(a) - extraLeft(b);\n    if (fromCmp) return -fromCmp;\n    var toCmp = cmp(aPos.to, bPos.to) || extraRight(a) - extraRight(b);\n    if (toCmp) return toCmp;\n    return b.id - a.id;\n  }\n\n  // Find out whether a line ends or starts in a collapsed span. If\n  // so, return the marker for that span.\n  function collapsedSpanAtSide(line, start) {\n    var sps = sawCollapsedSpans && line.markedSpans, found;\n    if (sps) for (var sp, i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (sp.marker.collapsed && (start ? sp.from : sp.to) == null &&\n          (!found || compareCollapsedMarkers(found, sp.marker) < 0))\n        found = sp.marker;\n    }\n    return found;\n  }\n  function collapsedSpanAtStart(line) { return collapsedSpanAtSide(line, true); }\n  function collapsedSpanAtEnd(line) { return collapsedSpanAtSide(line, false); }\n\n  // Test whether there exists a collapsed span that partially\n  // overlaps (covers the start or end, but not both) of a new span.\n  // Such overlap is not allowed.\n  function conflictingCollapsedRange(doc, lineNo, from, to, marker) {\n    var line = getLine(doc, lineNo);\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) for (var i = 0; i < sps.length; ++i) {\n      var sp = sps[i];\n      if (!sp.marker.collapsed) continue;\n      var found = sp.marker.find(0);\n      var fromCmp = cmp(found.from, from) || extraLeft(sp.marker) - extraLeft(marker);\n      var toCmp = cmp(found.to, to) || extraRight(sp.marker) - extraRight(marker);\n      if (fromCmp >= 0 && toCmp <= 0 || fromCmp <= 0 && toCmp >= 0) continue;\n      if (fromCmp <= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.to, from) >= 0 : cmp(found.to, from) > 0) ||\n          fromCmp >= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.from, to) <= 0 : cmp(found.from, to) < 0))\n        return true;\n    }\n  }\n\n  // A visual line is a line as drawn on the screen. Folding, for\n  // example, can cause multiple logical lines to appear on the same\n  // visual line. This finds the start of the visual line that the\n  // given line is part of (usually that is the line itself).\n  function visualLine(line) {\n    var merged;\n    while (merged = collapsedSpanAtStart(line))\n      line = merged.find(-1, true).line;\n    return line;\n  }\n\n  // Returns an array of logical lines that continue the visual line\n  // started by the argument, or undefined if there are no such lines.\n  function visualLineContinued(line) {\n    var merged, lines;\n    while (merged = collapsedSpanAtEnd(line)) {\n      line = merged.find(1, true).line;\n      (lines || (lines = [])).push(line);\n    }\n    return lines;\n  }\n\n  // Get the line number of the start of the visual line that the\n  // given line number is part of.\n  function visualLineNo(doc, lineN) {\n    var line = getLine(doc, lineN), vis = visualLine(line);\n    if (line == vis) return lineN;\n    return lineNo(vis);\n  }\n  // Get the line number of the start of the next visual line after\n  // the given line.\n  function visualLineEndNo(doc, lineN) {\n    if (lineN > doc.lastLine()) return lineN;\n    var line = getLine(doc, lineN), merged;\n    if (!lineIsHidden(doc, line)) return lineN;\n    while (merged = collapsedSpanAtEnd(line))\n      line = merged.find(1, true).line;\n    return lineNo(line) + 1;\n  }\n\n  // Compute whether a line is hidden. Lines count as hidden when they\n  // are part of a visual line that starts with another line, or when\n  // they are entirely covered by collapsed, non-widget span.\n  function lineIsHidden(doc, line) {\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) for (var sp, i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (!sp.marker.collapsed) continue;\n      if (sp.from == null) return true;\n      if (sp.marker.widgetNode) continue;\n      if (sp.from == 0 && sp.marker.inclusiveLeft && lineIsHiddenInner(doc, line, sp))\n        return true;\n    }\n  }\n  function lineIsHiddenInner(doc, line, span) {\n    if (span.to == null) {\n      var end = span.marker.find(1, true);\n      return lineIsHiddenInner(doc, end.line, getMarkedSpanFor(end.line.markedSpans, span.marker));\n    }\n    if (span.marker.inclusiveRight && span.to == line.text.length)\n      return true;\n    for (var sp, i = 0; i < line.markedSpans.length; ++i) {\n      sp = line.markedSpans[i];\n      if (sp.marker.collapsed && !sp.marker.widgetNode && sp.from == span.to &&\n          (sp.to == null || sp.to != span.from) &&\n          (sp.marker.inclusiveLeft || span.marker.inclusiveRight) &&\n          lineIsHiddenInner(doc, line, sp)) return true;\n    }\n  }\n\n  // LINE WIDGETS\n\n  // Line widgets are block elements displayed above or below a line.\n\n  var LineWidget = CodeMirror.LineWidget = function(doc, node, options) {\n    if (options) for (var opt in options) if (options.hasOwnProperty(opt))\n      this[opt] = options[opt];\n    this.doc = doc;\n    this.node = node;\n  };\n  eventMixin(LineWidget);\n\n  function adjustScrollWhenAboveVisible(cm, line, diff) {\n    if (heightAtLine(line) < ((cm.curOp && cm.curOp.scrollTop) || cm.doc.scrollTop))\n      addToScrollPos(cm, null, diff);\n  }\n\n  LineWidget.prototype.clear = function() {\n    var cm = this.doc.cm, ws = this.line.widgets, line = this.line, no = lineNo(line);\n    if (no == null || !ws) return;\n    for (var i = 0; i < ws.length; ++i) if (ws[i] == this) ws.splice(i--, 1);\n    if (!ws.length) line.widgets = null;\n    var height = widgetHeight(this);\n    updateLineHeight(line, Math.max(0, line.height - height));\n    if (cm) runInOp(cm, function() {\n      adjustScrollWhenAboveVisible(cm, line, -height);\n      regLineChange(cm, no, \"widget\");\n    });\n  };\n  LineWidget.prototype.changed = function() {\n    var oldH = this.height, cm = this.doc.cm, line = this.line;\n    this.height = null;\n    var diff = widgetHeight(this) - oldH;\n    if (!diff) return;\n    updateLineHeight(line, line.height + diff);\n    if (cm) runInOp(cm, function() {\n      cm.curOp.forceUpdate = true;\n      adjustScrollWhenAboveVisible(cm, line, diff);\n    });\n  };\n\n  function widgetHeight(widget) {\n    if (widget.height != null) return widget.height;\n    var cm = widget.doc.cm;\n    if (!cm) return 0;\n    if (!contains(document.body, widget.node)) {\n      var parentStyle = \"position: relative;\";\n      if (widget.coverGutter)\n        parentStyle += \"margin-left: -\" + cm.display.gutters.offsetWidth + \"px;\";\n      if (widget.noHScroll)\n        parentStyle += \"width: \" + cm.display.wrapper.clientWidth + \"px;\";\n      removeChildrenAndAdd(cm.display.measure, elt(\"div\", [widget.node], null, parentStyle));\n    }\n    return widget.height = widget.node.parentNode.offsetHeight;\n  }\n\n  function addLineWidget(doc, handle, node, options) {\n    var widget = new LineWidget(doc, node, options);\n    var cm = doc.cm;\n    if (cm && widget.noHScroll) cm.display.alignWidgets = true;\n    changeLine(doc, handle, \"widget\", function(line) {\n      var widgets = line.widgets || (line.widgets = []);\n      if (widget.insertAt == null) widgets.push(widget);\n      else widgets.splice(Math.min(widgets.length - 1, Math.max(0, widget.insertAt)), 0, widget);\n      widget.line = line;\n      if (cm && !lineIsHidden(doc, line)) {\n        var aboveVisible = heightAtLine(line) < doc.scrollTop;\n        updateLineHeight(line, line.height + widgetHeight(widget));\n        if (aboveVisible) addToScrollPos(cm, null, widget.height);\n        cm.curOp.forceUpdate = true;\n      }\n      return true;\n    });\n    return widget;\n  }\n\n  // LINE DATA STRUCTURE\n\n  // Line objects. These hold state related to a line, including\n  // highlighting info (the styles array).\n  var Line = CodeMirror.Line = function(text, markedSpans, estimateHeight) {\n    this.text = text;\n    attachMarkedSpans(this, markedSpans);\n    this.height = estimateHeight ? estimateHeight(this) : 1;\n  };\n  eventMixin(Line);\n  Line.prototype.lineNo = function() { return lineNo(this); };\n\n  // Change the content (text, markers) of a line. Automatically\n  // invalidates cached information and tries to re-estimate the\n  // line's height.\n  function updateLine(line, text, markedSpans, estimateHeight) {\n    line.text = text;\n    if (line.stateAfter) line.stateAfter = null;\n    if (line.styles) line.styles = null;\n    if (line.order != null) line.order = null;\n    detachMarkedSpans(line);\n    attachMarkedSpans(line, markedSpans);\n    var estHeight = estimateHeight ? estimateHeight(line) : 1;\n    if (estHeight != line.height) updateLineHeight(line, estHeight);\n  }\n\n  // Detach a line from the document tree and its markers.\n  function cleanUpLine(line) {\n    line.parent = null;\n    detachMarkedSpans(line);\n  }\n\n  function extractLineClasses(type, output) {\n    if (type) for (;;) {\n      var lineClass = type.match(/(?:^|\\s+)line-(background-)?(\\S+)/);\n      if (!lineClass) break;\n      type = type.slice(0, lineClass.index) + type.slice(lineClass.index + lineClass[0].length);\n      var prop = lineClass[1] ? \"bgClass\" : \"textClass\";\n      if (output[prop] == null)\n        output[prop] = lineClass[2];\n      else if (!(new RegExp(\"(?:^|\\s)\" + lineClass[2] + \"(?:$|\\s)\")).test(output[prop]))\n        output[prop] += \" \" + lineClass[2];\n    }\n    return type;\n  }\n\n  function callBlankLine(mode, state) {\n    if (mode.blankLine) return mode.blankLine(state);\n    if (!mode.innerMode) return;\n    var inner = CodeMirror.innerMode(mode, state);\n    if (inner.mode.blankLine) return inner.mode.blankLine(inner.state);\n  }\n\n  function readToken(mode, stream, state, inner) {\n    for (var i = 0; i < 10; i++) {\n      if (inner) inner[0] = CodeMirror.innerMode(mode, state).mode;\n      var style = mode.token(stream, state);\n      if (stream.pos > stream.start) return style;\n    }\n    throw new Error(\"Mode \" + mode.name + \" failed to advance stream.\");\n  }\n\n  // Utility for getTokenAt and getLineTokens\n  function takeToken(cm, pos, precise, asArray) {\n    function getObj(copy) {\n      return {start: stream.start, end: stream.pos,\n              string: stream.current(),\n              type: style || null,\n              state: copy ? copyState(doc.mode, state) : state};\n    }\n\n    var doc = cm.doc, mode = doc.mode, style;\n    pos = clipPos(doc, pos);\n    var line = getLine(doc, pos.line), state = getStateBefore(cm, pos.line, precise);\n    var stream = new StringStream(line.text, cm.options.tabSize), tokens;\n    if (asArray) tokens = [];\n    while ((asArray || stream.pos < pos.ch) && !stream.eol()) {\n      stream.start = stream.pos;\n      style = readToken(mode, stream, state);\n      if (asArray) tokens.push(getObj(true));\n    }\n    return asArray ? tokens : getObj();\n  }\n\n  // Run the given mode's parser over a line, calling f for each token.\n  function runMode(cm, text, mode, state, f, lineClasses, forceToEnd) {\n    var flattenSpans = mode.flattenSpans;\n    if (flattenSpans == null) flattenSpans = cm.options.flattenSpans;\n    var curStart = 0, curStyle = null;\n    var stream = new StringStream(text, cm.options.tabSize), style;\n    var inner = cm.options.addModeClass && [null];\n    if (text == \"\") extractLineClasses(callBlankLine(mode, state), lineClasses);\n    while (!stream.eol()) {\n      if (stream.pos > cm.options.maxHighlightLength) {\n        flattenSpans = false;\n        if (forceToEnd) processLine(cm, text, state, stream.pos);\n        stream.pos = text.length;\n        style = null;\n      } else {\n        style = extractLineClasses(readToken(mode, stream, state, inner), lineClasses);\n      }\n      if (inner) {\n        var mName = inner[0].name;\n        if (mName) style = \"m-\" + (style ? mName + \" \" + style : mName);\n      }\n      if (!flattenSpans || curStyle != style) {\n        while (curStart < stream.start) {\n          curStart = Math.min(stream.start, curStart + 50000);\n          f(curStart, curStyle);\n        }\n        curStyle = style;\n      }\n      stream.start = stream.pos;\n    }\n    while (curStart < stream.pos) {\n      // Webkit seems to refuse to render text nodes longer than 57444 characters\n      var pos = Math.min(stream.pos, curStart + 50000);\n      f(pos, curStyle);\n      curStart = pos;\n    }\n  }\n\n  // Compute a style array (an array starting with a mode generation\n  // -- for invalidation -- followed by pairs of end positions and\n  // style strings), which is used to highlight the tokens on the\n  // line.\n  function highlightLine(cm, line, state, forceToEnd) {\n    // A styles array always starts with a number identifying the\n    // mode/overlays that it is based on (for easy invalidation).\n    var st = [cm.state.modeGen], lineClasses = {};\n    // Compute the base array of styles\n    runMode(cm, line.text, cm.doc.mode, state, function(end, style) {\n      st.push(end, style);\n    }, lineClasses, forceToEnd);\n\n    // Run overlays, adjust style array.\n    for (var o = 0; o < cm.state.overlays.length; ++o) {\n      var overlay = cm.state.overlays[o], i = 1, at = 0;\n      runMode(cm, line.text, overlay.mode, true, function(end, style) {\n        var start = i;\n        // Ensure there's a token end at the current position, and that i points at it\n        while (at < end) {\n          var i_end = st[i];\n          if (i_end > end)\n            st.splice(i, 1, end, st[i+1], i_end);\n          i += 2;\n          at = Math.min(end, i_end);\n        }\n        if (!style) return;\n        if (overlay.opaque) {\n          st.splice(start, i - start, end, \"cm-overlay \" + style);\n          i = start + 2;\n        } else {\n          for (; start < i; start += 2) {\n            var cur = st[start+1];\n            st[start+1] = (cur ? cur + \" \" : \"\") + \"cm-overlay \" + style;\n          }\n        }\n      }, lineClasses);\n    }\n\n    return {styles: st, classes: lineClasses.bgClass || lineClasses.textClass ? lineClasses : null};\n  }\n\n  function getLineStyles(cm, line, updateFrontier) {\n    if (!line.styles || line.styles[0] != cm.state.modeGen) {\n      var state = getStateBefore(cm, lineNo(line));\n      var result = highlightLine(cm, line, line.text.length > cm.options.maxHighlightLength ? copyState(cm.doc.mode, state) : state);\n      line.stateAfter = state;\n      line.styles = result.styles;\n      if (result.classes) line.styleClasses = result.classes;\n      else if (line.styleClasses) line.styleClasses = null;\n      if (updateFrontier === cm.doc.frontier) cm.doc.frontier++;\n    }\n    return line.styles;\n  }\n\n  // Lightweight form of highlight -- proceed over this line and\n  // update state, but don't save a style array. Used for lines that\n  // aren't currently visible.\n  function processLine(cm, text, state, startAt) {\n    var mode = cm.doc.mode;\n    var stream = new StringStream(text, cm.options.tabSize);\n    stream.start = stream.pos = startAt || 0;\n    if (text == \"\") callBlankLine(mode, state);\n    while (!stream.eol()) {\n      readToken(mode, stream, state);\n      stream.start = stream.pos;\n    }\n  }\n\n  // Convert a style as returned by a mode (either null, or a string\n  // containing one or more styles) to a CSS style. This is cached,\n  // and also looks for line-wide styles.\n  var styleToClassCache = {}, styleToClassCacheWithMode = {};\n  function interpretTokenStyle(style, options) {\n    if (!style || /^\\s*$/.test(style)) return null;\n    var cache = options.addModeClass ? styleToClassCacheWithMode : styleToClassCache;\n    return cache[style] ||\n      (cache[style] = style.replace(/\\S+/g, \"cm-$&\"));\n  }\n\n  // Render the DOM representation of the text of a line. Also builds\n  // up a 'line map', which points at the DOM nodes that represent\n  // specific stretches of text, and is used by the measuring code.\n  // The returned object contains the DOM node, this map, and\n  // information about line-wide styles that were set by the mode.\n  function buildLineContent(cm, lineView) {\n    // The padding-right forces the element to have a 'border', which\n    // is needed on Webkit to be able to get line-level bounding\n    // rectangles for it (in measureChar).\n    var content = elt(\"span\", null, null, webkit ? \"padding-right: .1px\" : null);\n    var builder = {pre: elt(\"pre\", [content], \"CodeMirror-line\"), content: content,\n                   col: 0, pos: 0, cm: cm,\n                   splitSpaces: (ie || webkit) && cm.getOption(\"lineWrapping\")};\n    lineView.measure = {};\n\n    // Iterate over the logical lines that make up this visual line.\n    for (var i = 0; i <= (lineView.rest ? lineView.rest.length : 0); i++) {\n      var line = i ? lineView.rest[i - 1] : lineView.line, order;\n      builder.pos = 0;\n      builder.addToken = buildToken;\n      // Optionally wire in some hacks into the token-rendering\n      // algorithm, to deal with browser quirks.\n      if (hasBadBidiRects(cm.display.measure) && (order = getOrder(line)))\n        builder.addToken = buildTokenBadBidi(builder.addToken, order);\n      builder.map = [];\n      var allowFrontierUpdate = lineView != cm.display.externalMeasured && lineNo(line);\n      insertLineContent(line, builder, getLineStyles(cm, line, allowFrontierUpdate));\n      if (line.styleClasses) {\n        if (line.styleClasses.bgClass)\n          builder.bgClass = joinClasses(line.styleClasses.bgClass, builder.bgClass || \"\");\n        if (line.styleClasses.textClass)\n          builder.textClass = joinClasses(line.styleClasses.textClass, builder.textClass || \"\");\n      }\n\n      // Ensure at least a single node is present, for measuring.\n      if (builder.map.length == 0)\n        builder.map.push(0, 0, builder.content.appendChild(zeroWidthElement(cm.display.measure)));\n\n      // Store the map and a cache object for the current logical line\n      if (i == 0) {\n        lineView.measure.map = builder.map;\n        lineView.measure.cache = {};\n      } else {\n        (lineView.measure.maps || (lineView.measure.maps = [])).push(builder.map);\n        (lineView.measure.caches || (lineView.measure.caches = [])).push({});\n      }\n    }\n\n    // See issue #2901\n    if (webkit) {\n      var last = builder.content.lastChild\n      if (/\\bcm-tab\\b/.test(last.className) || (last.querySelector && last.querySelector(\".cm-tab\")))\n        builder.content.className = \"cm-tab-wrap-hack\";\n    }\n\n    signal(cm, \"renderLine\", cm, lineView.line, builder.pre);\n    if (builder.pre.className)\n      builder.textClass = joinClasses(builder.pre.className, builder.textClass || \"\");\n\n    return builder;\n  }\n\n  function defaultSpecialCharPlaceholder(ch) {\n    var token = elt(\"span\", \"\\u2022\", \"cm-invalidchar\");\n    token.title = \"\\\\u\" + ch.charCodeAt(0).toString(16);\n    token.setAttribute(\"aria-label\", token.title);\n    return token;\n  }\n\n  // Build up the DOM representation for a single token, and add it to\n  // the line map. Takes care to render special characters separately.\n  function buildToken(builder, text, style, startStyle, endStyle, title, css) {\n    if (!text) return;\n    var displayText = builder.splitSpaces ? text.replace(/ {3,}/g, splitSpaces) : text;\n    var special = builder.cm.state.specialChars, mustWrap = false;\n    if (!special.test(text)) {\n      builder.col += text.length;\n      var content = document.createTextNode(displayText);\n      builder.map.push(builder.pos, builder.pos + text.length, content);\n      if (ie && ie_version < 9) mustWrap = true;\n      builder.pos += text.length;\n    } else {\n      var content = document.createDocumentFragment(), pos = 0;\n      while (true) {\n        special.lastIndex = pos;\n        var m = special.exec(text);\n        var skipped = m ? m.index - pos : text.length - pos;\n        if (skipped) {\n          var txt = document.createTextNode(displayText.slice(pos, pos + skipped));\n          if (ie && ie_version < 9) content.appendChild(elt(\"span\", [txt]));\n          else content.appendChild(txt);\n          builder.map.push(builder.pos, builder.pos + skipped, txt);\n          builder.col += skipped;\n          builder.pos += skipped;\n        }\n        if (!m) break;\n        pos += skipped + 1;\n        if (m[0] == \"\\t\") {\n          var tabSize = builder.cm.options.tabSize, tabWidth = tabSize - builder.col % tabSize;\n          var txt = content.appendChild(elt(\"span\", spaceStr(tabWidth), \"cm-tab\"));\n          txt.setAttribute(\"role\", \"presentation\");\n          txt.setAttribute(\"cm-text\", \"\\t\");\n          builder.col += tabWidth;\n        } else if (m[0] == \"\\r\" || m[0] == \"\\n\") {\n          var txt = content.appendChild(elt(\"span\", m[0] == \"\\r\" ? \"\\u240d\" : \"\\u2424\", \"cm-invalidchar\"));\n          txt.setAttribute(\"cm-text\", m[0]);\n          builder.col += 1;\n        } else {\n          var txt = builder.cm.options.specialCharPlaceholder(m[0]);\n          txt.setAttribute(\"cm-text\", m[0]);\n          if (ie && ie_version < 9) content.appendChild(elt(\"span\", [txt]));\n          else content.appendChild(txt);\n          builder.col += 1;\n        }\n        builder.map.push(builder.pos, builder.pos + 1, txt);\n        builder.pos++;\n      }\n    }\n    if (style || startStyle || endStyle || mustWrap || css) {\n      var fullStyle = style || \"\";\n      if (startStyle) fullStyle += startStyle;\n      if (endStyle) fullStyle += endStyle;\n      var token = elt(\"span\", [content], fullStyle, css);\n      if (title) token.title = title;\n      return builder.content.appendChild(token);\n    }\n    builder.content.appendChild(content);\n  }\n\n  function splitSpaces(old) {\n    var out = \" \";\n    for (var i = 0; i < old.length - 2; ++i) out += i % 2 ? \" \" : \"\\u00a0\";\n    out += \" \";\n    return out;\n  }\n\n  // Work around nonsense dimensions being reported for stretches of\n  // right-to-left text.\n  function buildTokenBadBidi(inner, order) {\n    return function(builder, text, style, startStyle, endStyle, title, css) {\n      style = style ? style + \" cm-force-border\" : \"cm-force-border\";\n      var start = builder.pos, end = start + text.length;\n      for (;;) {\n        // Find the part that overlaps with the start of this text\n        for (var i = 0; i < order.length; i++) {\n          var part = order[i];\n          if (part.to > start && part.from <= start) break;\n        }\n        if (part.to >= end) return inner(builder, text, style, startStyle, endStyle, title, css);\n        inner(builder, text.slice(0, part.to - start), style, startStyle, null, title, css);\n        startStyle = null;\n        text = text.slice(part.to - start);\n        start = part.to;\n      }\n    };\n  }\n\n  function buildCollapsedSpan(builder, size, marker, ignoreWidget) {\n    var widget = !ignoreWidget && marker.widgetNode;\n    if (widget) builder.map.push(builder.pos, builder.pos + size, widget);\n    if (!ignoreWidget && builder.cm.display.input.needsContentAttribute) {\n      if (!widget)\n        widget = builder.content.appendChild(document.createElement(\"span\"));\n      widget.setAttribute(\"cm-marker\", marker.id);\n    }\n    if (widget) {\n      builder.cm.display.input.setUneditable(widget);\n      builder.content.appendChild(widget);\n    }\n    builder.pos += size;\n  }\n\n  // Outputs a number of spans to make up a line, taking highlighting\n  // and marked text into account.\n  function insertLineContent(line, builder, styles) {\n    var spans = line.markedSpans, allText = line.text, at = 0;\n    if (!spans) {\n      for (var i = 1; i < styles.length; i+=2)\n        builder.addToken(builder, allText.slice(at, at = styles[i]), interpretTokenStyle(styles[i+1], builder.cm.options));\n      return;\n    }\n\n    var len = allText.length, pos = 0, i = 1, text = \"\", style, css;\n    var nextChange = 0, spanStyle, spanEndStyle, spanStartStyle, title, collapsed;\n    for (;;) {\n      if (nextChange == pos) { // Update current marker set\n        spanStyle = spanEndStyle = spanStartStyle = title = css = \"\";\n        collapsed = null; nextChange = Infinity;\n        var foundBookmarks = [], endStyles\n        for (var j = 0; j < spans.length; ++j) {\n          var sp = spans[j], m = sp.marker;\n          if (m.type == \"bookmark\" && sp.from == pos && m.widgetNode) {\n            foundBookmarks.push(m);\n          } else if (sp.from <= pos && (sp.to == null || sp.to > pos || m.collapsed && sp.to == pos && sp.from == pos)) {\n            if (sp.to != null && sp.to != pos && nextChange > sp.to) {\n              nextChange = sp.to;\n              spanEndStyle = \"\";\n            }\n            if (m.className) spanStyle += \" \" + m.className;\n            if (m.css) css = (css ? css + \";\" : \"\") + m.css;\n            if (m.startStyle && sp.from == pos) spanStartStyle += \" \" + m.startStyle;\n            if (m.endStyle && sp.to == nextChange) (endStyles || (endStyles = [])).push(m.endStyle, sp.to)\n            if (m.title && !title) title = m.title;\n            if (m.collapsed && (!collapsed || compareCollapsedMarkers(collapsed.marker, m) < 0))\n              collapsed = sp;\n          } else if (sp.from > pos && nextChange > sp.from) {\n            nextChange = sp.from;\n          }\n        }\n        if (endStyles) for (var j = 0; j < endStyles.length; j += 2)\n          if (endStyles[j + 1] == nextChange) spanEndStyle += \" \" + endStyles[j]\n\n        if (!collapsed || collapsed.from == pos) for (var j = 0; j < foundBookmarks.length; ++j)\n          buildCollapsedSpan(builder, 0, foundBookmarks[j]);\n        if (collapsed && (collapsed.from || 0) == pos) {\n          buildCollapsedSpan(builder, (collapsed.to == null ? len + 1 : collapsed.to) - pos,\n                             collapsed.marker, collapsed.from == null);\n          if (collapsed.to == null) return;\n          if (collapsed.to == pos) collapsed = false;\n        }\n      }\n      if (pos >= len) break;\n\n      var upto = Math.min(len, nextChange);\n      while (true) {\n        if (text) {\n          var end = pos + text.length;\n          if (!collapsed) {\n            var tokenText = end > upto ? text.slice(0, upto - pos) : text;\n            builder.addToken(builder, tokenText, style ? style + spanStyle : spanStyle,\n                             spanStartStyle, pos + tokenText.length == nextChange ? spanEndStyle : \"\", title, css);\n          }\n          if (end >= upto) {text = text.slice(upto - pos); pos = upto; break;}\n          pos = end;\n          spanStartStyle = \"\";\n        }\n        text = allText.slice(at, at = styles[i++]);\n        style = interpretTokenStyle(styles[i++], builder.cm.options);\n      }\n    }\n  }\n\n  // DOCUMENT DATA STRUCTURE\n\n  // By default, updates that start and end at the beginning of a line\n  // are treated specially, in order to make the association of line\n  // widgets and marker elements with the text behave more intuitive.\n  function isWholeLineUpdate(doc, change) {\n    return change.from.ch == 0 && change.to.ch == 0 && lst(change.text) == \"\" &&\n      (!doc.cm || doc.cm.options.wholeLineUpdateBefore);\n  }\n\n  // Perform a change on the document data structure.\n  function updateDoc(doc, change, markedSpans, estimateHeight) {\n    function spansFor(n) {return markedSpans ? markedSpans[n] : null;}\n    function update(line, text, spans) {\n      updateLine(line, text, spans, estimateHeight);\n      signalLater(line, \"change\", line, change);\n    }\n    function linesFor(start, end) {\n      for (var i = start, result = []; i < end; ++i)\n        result.push(new Line(text[i], spansFor(i), estimateHeight));\n      return result;\n    }\n\n    var from = change.from, to = change.to, text = change.text;\n    var firstLine = getLine(doc, from.line), lastLine = getLine(doc, to.line);\n    var lastText = lst(text), lastSpans = spansFor(text.length - 1), nlines = to.line - from.line;\n\n    // Adjust the line structure\n    if (change.full) {\n      doc.insert(0, linesFor(0, text.length));\n      doc.remove(text.length, doc.size - text.length);\n    } else if (isWholeLineUpdate(doc, change)) {\n      // This is a whole-line replace. Treated specially to make\n      // sure line objects move the way they are supposed to.\n      var added = linesFor(0, text.length - 1);\n      update(lastLine, lastLine.text, lastSpans);\n      if (nlines) doc.remove(from.line, nlines);\n      if (added.length) doc.insert(from.line, added);\n    } else if (firstLine == lastLine) {\n      if (text.length == 1) {\n        update(firstLine, firstLine.text.slice(0, from.ch) + lastText + firstLine.text.slice(to.ch), lastSpans);\n      } else {\n        var added = linesFor(1, text.length - 1);\n        added.push(new Line(lastText + firstLine.text.slice(to.ch), lastSpans, estimateHeight));\n        update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n        doc.insert(from.line + 1, added);\n      }\n    } else if (text.length == 1) {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0] + lastLine.text.slice(to.ch), spansFor(0));\n      doc.remove(from.line + 1, nlines);\n    } else {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n      update(lastLine, lastText + lastLine.text.slice(to.ch), lastSpans);\n      var added = linesFor(1, text.length - 1);\n      if (nlines > 1) doc.remove(from.line + 1, nlines - 1);\n      doc.insert(from.line + 1, added);\n    }\n\n    signalLater(doc, \"change\", doc, change);\n  }\n\n  // The document is represented as a BTree consisting of leaves, with\n  // chunk of lines in them, and branches, with up to ten leaves or\n  // other branch nodes below them. The top node is always a branch\n  // node, and is the document object itself (meaning it has\n  // additional methods and properties).\n  //\n  // All nodes have parent links. The tree is used both to go from\n  // line numbers to line objects, and to go from objects to numbers.\n  // It also indexes by height, and is used to convert between height\n  // and line object, and to find the total height of the document.\n  //\n  // See also http://marijnhaverbeke.nl/blog/codemirror-line-tree.html\n\n  function LeafChunk(lines) {\n    this.lines = lines;\n    this.parent = null;\n    for (var i = 0, height = 0; i < lines.length; ++i) {\n      lines[i].parent = this;\n      height += lines[i].height;\n    }\n    this.height = height;\n  }\n\n  LeafChunk.prototype = {\n    chunkSize: function() { return this.lines.length; },\n    // Remove the n lines at offset 'at'.\n    removeInner: function(at, n) {\n      for (var i = at, e = at + n; i < e; ++i) {\n        var line = this.lines[i];\n        this.height -= line.height;\n        cleanUpLine(line);\n        signalLater(line, \"delete\");\n      }\n      this.lines.splice(at, n);\n    },\n    // Helper used to collapse a small branch into a single leaf.\n    collapse: function(lines) {\n      lines.push.apply(lines, this.lines);\n    },\n    // Insert the given array of lines at offset 'at', count them as\n    // having the given height.\n    insertInner: function(at, lines, height) {\n      this.height += height;\n      this.lines = this.lines.slice(0, at).concat(lines).concat(this.lines.slice(at));\n      for (var i = 0; i < lines.length; ++i) lines[i].parent = this;\n    },\n    // Used to iterate over a part of the tree.\n    iterN: function(at, n, op) {\n      for (var e = at + n; at < e; ++at)\n        if (op(this.lines[at])) return true;\n    }\n  };\n\n  function BranchChunk(children) {\n    this.children = children;\n    var size = 0, height = 0;\n    for (var i = 0; i < children.length; ++i) {\n      var ch = children[i];\n      size += ch.chunkSize(); height += ch.height;\n      ch.parent = this;\n    }\n    this.size = size;\n    this.height = height;\n    this.parent = null;\n  }\n\n  BranchChunk.prototype = {\n    chunkSize: function() { return this.size; },\n    removeInner: function(at, n) {\n      this.size -= n;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var rm = Math.min(n, sz - at), oldHeight = child.height;\n          child.removeInner(at, rm);\n          this.height -= oldHeight - child.height;\n          if (sz == rm) { this.children.splice(i--, 1); child.parent = null; }\n          if ((n -= rm) == 0) break;\n          at = 0;\n        } else at -= sz;\n      }\n      // If the result is smaller than 25 lines, ensure that it is a\n      // single leaf node.\n      if (this.size - n < 25 &&\n          (this.children.length > 1 || !(this.children[0] instanceof LeafChunk))) {\n        var lines = [];\n        this.collapse(lines);\n        this.children = [new LeafChunk(lines)];\n        this.children[0].parent = this;\n      }\n    },\n    collapse: function(lines) {\n      for (var i = 0; i < this.children.length; ++i) this.children[i].collapse(lines);\n    },\n    insertInner: function(at, lines, height) {\n      this.size += lines.length;\n      this.height += height;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at <= sz) {\n          child.insertInner(at, lines, height);\n          if (child.lines && child.lines.length > 50) {\n            // To avoid memory thrashing when child.lines is huge (e.g. first view of a large file), it's never spliced.\n            // Instead, small slices are taken. They're taken in order because sequential memory accesses are fastest.\n            var remaining = child.lines.length % 25 + 25\n            for (var pos = remaining; pos < child.lines.length;) {\n              var leaf = new LeafChunk(child.lines.slice(pos, pos += 25));\n              child.height -= leaf.height;\n              this.children.splice(++i, 0, leaf);\n              leaf.parent = this;\n            }\n            child.lines = child.lines.slice(0, remaining);\n            this.maybeSpill();\n          }\n          break;\n        }\n        at -= sz;\n      }\n    },\n    // When a node has grown, check whether it should be split.\n    maybeSpill: function() {\n      if (this.children.length <= 10) return;\n      var me = this;\n      do {\n        var spilled = me.children.splice(me.children.length - 5, 5);\n        var sibling = new BranchChunk(spilled);\n        if (!me.parent) { // Become the parent node\n          var copy = new BranchChunk(me.children);\n          copy.parent = me;\n          me.children = [copy, sibling];\n          me = copy;\n       } else {\n          me.size -= sibling.size;\n          me.height -= sibling.height;\n          var myIndex = indexOf(me.parent.children, me);\n          me.parent.children.splice(myIndex + 1, 0, sibling);\n        }\n        sibling.parent = me.parent;\n      } while (me.children.length > 10);\n      me.parent.maybeSpill();\n    },\n    iterN: function(at, n, op) {\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var used = Math.min(n, sz - at);\n          if (child.iterN(at, used, op)) return true;\n          if ((n -= used) == 0) break;\n          at = 0;\n        } else at -= sz;\n      }\n    }\n  };\n\n  var nextDocId = 0;\n  var Doc = CodeMirror.Doc = function(text, mode, firstLine, lineSep) {\n    if (!(this instanceof Doc)) return new Doc(text, mode, firstLine, lineSep);\n    if (firstLine == null) firstLine = 0;\n\n    BranchChunk.call(this, [new LeafChunk([new Line(\"\", null)])]);\n    this.first = firstLine;\n    this.scrollTop = this.scrollLeft = 0;\n    this.cantEdit = false;\n    this.cleanGeneration = 1;\n    this.frontier = firstLine;\n    var start = Pos(firstLine, 0);\n    this.sel = simpleSelection(start);\n    this.history = new History(null);\n    this.id = ++nextDocId;\n    this.modeOption = mode;\n    this.lineSep = lineSep;\n    this.extend = false;\n\n    if (typeof text == \"string\") text = this.splitLines(text);\n    updateDoc(this, {from: start, to: start, text: text});\n    setSelection(this, simpleSelection(start), sel_dontScroll);\n  };\n\n  Doc.prototype = createObj(BranchChunk.prototype, {\n    constructor: Doc,\n    // Iterate over the document. Supports two forms -- with only one\n    // argument, it calls that for each line in the document. With\n    // three, it iterates over the range given by the first two (with\n    // the second being non-inclusive).\n    iter: function(from, to, op) {\n      if (op) this.iterN(from - this.first, to - from, op);\n      else this.iterN(this.first, this.first + this.size, from);\n    },\n\n    // Non-public interface for adding and removing lines.\n    insert: function(at, lines) {\n      var height = 0;\n      for (var i = 0; i < lines.length; ++i) height += lines[i].height;\n      this.insertInner(at - this.first, lines, height);\n    },\n    remove: function(at, n) { this.removeInner(at - this.first, n); },\n\n    // From here, the methods are part of the public interface. Most\n    // are also available from CodeMirror (editor) instances.\n\n    getValue: function(lineSep) {\n      var lines = getLines(this, this.first, this.first + this.size);\n      if (lineSep === false) return lines;\n      return lines.join(lineSep || this.lineSeparator());\n    },\n    setValue: docMethodOp(function(code) {\n      var top = Pos(this.first, 0), last = this.first + this.size - 1;\n      makeChange(this, {from: top, to: Pos(last, getLine(this, last).text.length),\n                        text: this.splitLines(code), origin: \"setValue\", full: true}, true);\n      setSelection(this, simpleSelection(top));\n    }),\n    replaceRange: function(code, from, to, origin) {\n      from = clipPos(this, from);\n      to = to ? clipPos(this, to) : from;\n      replaceRange(this, code, from, to, origin);\n    },\n    getRange: function(from, to, lineSep) {\n      var lines = getBetween(this, clipPos(this, from), clipPos(this, to));\n      if (lineSep === false) return lines;\n      return lines.join(lineSep || this.lineSeparator());\n    },\n\n    getLine: function(line) {var l = this.getLineHandle(line); return l && l.text;},\n\n    getLineHandle: function(line) {if (isLine(this, line)) return getLine(this, line);},\n    getLineNumber: function(line) {return lineNo(line);},\n\n    getLineHandleVisualStart: function(line) {\n      if (typeof line == \"number\") line = getLine(this, line);\n      return visualLine(line);\n    },\n\n    lineCount: function() {return this.size;},\n    firstLine: function() {return this.first;},\n    lastLine: function() {return this.first + this.size - 1;},\n\n    clipPos: function(pos) {return clipPos(this, pos);},\n\n    getCursor: function(start) {\n      var range = this.sel.primary(), pos;\n      if (start == null || start == \"head\") pos = range.head;\n      else if (start == \"anchor\") pos = range.anchor;\n      else if (start == \"end\" || start == \"to\" || start === false) pos = range.to();\n      else pos = range.from();\n      return pos;\n    },\n    listSelections: function() { return this.sel.ranges; },\n    somethingSelected: function() {return this.sel.somethingSelected();},\n\n    setCursor: docMethodOp(function(line, ch, options) {\n      setSimpleSelection(this, clipPos(this, typeof line == \"number\" ? Pos(line, ch || 0) : line), null, options);\n    }),\n    setSelection: docMethodOp(function(anchor, head, options) {\n      setSimpleSelection(this, clipPos(this, anchor), clipPos(this, head || anchor), options);\n    }),\n    extendSelection: docMethodOp(function(head, other, options) {\n      extendSelection(this, clipPos(this, head), other && clipPos(this, other), options);\n    }),\n    extendSelections: docMethodOp(function(heads, options) {\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    extendSelectionsBy: docMethodOp(function(f, options) {\n      var heads = map(this.sel.ranges, f);\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    setSelections: docMethodOp(function(ranges, primary, options) {\n      if (!ranges.length) return;\n      for (var i = 0, out = []; i < ranges.length; i++)\n        out[i] = new Range(clipPos(this, ranges[i].anchor),\n                           clipPos(this, ranges[i].head));\n      if (primary == null) primary = Math.min(ranges.length - 1, this.sel.primIndex);\n      setSelection(this, normalizeSelection(out, primary), options);\n    }),\n    addSelection: docMethodOp(function(anchor, head, options) {\n      var ranges = this.sel.ranges.slice(0);\n      ranges.push(new Range(clipPos(this, anchor), clipPos(this, head || anchor)));\n      setSelection(this, normalizeSelection(ranges, ranges.length - 1), options);\n    }),\n\n    getSelection: function(lineSep) {\n      var ranges = this.sel.ranges, lines;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n        lines = lines ? lines.concat(sel) : sel;\n      }\n      if (lineSep === false) return lines;\n      else return lines.join(lineSep || this.lineSeparator());\n    },\n    getSelections: function(lineSep) {\n      var parts = [], ranges = this.sel.ranges;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n        if (lineSep !== false) sel = sel.join(lineSep || this.lineSeparator());\n        parts[i] = sel;\n      }\n      return parts;\n    },\n    replaceSelection: function(code, collapse, origin) {\n      var dup = [];\n      for (var i = 0; i < this.sel.ranges.length; i++)\n        dup[i] = code;\n      this.replaceSelections(dup, collapse, origin || \"+input\");\n    },\n    replaceSelections: docMethodOp(function(code, collapse, origin) {\n      var changes = [], sel = this.sel;\n      for (var i = 0; i < sel.ranges.length; i++) {\n        var range = sel.ranges[i];\n        changes[i] = {from: range.from(), to: range.to(), text: this.splitLines(code[i]), origin: origin};\n      }\n      var newSel = collapse && collapse != \"end\" && computeReplacedSel(this, changes, collapse);\n      for (var i = changes.length - 1; i >= 0; i--)\n        makeChange(this, changes[i]);\n      if (newSel) setSelectionReplaceHistory(this, newSel);\n      else if (this.cm) ensureCursorVisible(this.cm);\n    }),\n    undo: docMethodOp(function() {makeChangeFromHistory(this, \"undo\");}),\n    redo: docMethodOp(function() {makeChangeFromHistory(this, \"redo\");}),\n    undoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"undo\", true);}),\n    redoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"redo\", true);}),\n\n    setExtending: function(val) {this.extend = val;},\n    getExtending: function() {return this.extend;},\n\n    historySize: function() {\n      var hist = this.history, done = 0, undone = 0;\n      for (var i = 0; i < hist.done.length; i++) if (!hist.done[i].ranges) ++done;\n      for (var i = 0; i < hist.undone.length; i++) if (!hist.undone[i].ranges) ++undone;\n      return {undo: done, redo: undone};\n    },\n    clearHistory: function() {this.history = new History(this.history.maxGeneration);},\n\n    markClean: function() {\n      this.cleanGeneration = this.changeGeneration(true);\n    },\n    changeGeneration: function(forceSplit) {\n      if (forceSplit)\n        this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null;\n      return this.history.generation;\n    },\n    isClean: function (gen) {\n      return this.history.generation == (gen || this.cleanGeneration);\n    },\n\n    getHistory: function() {\n      return {done: copyHistoryArray(this.history.done),\n              undone: copyHistoryArray(this.history.undone)};\n    },\n    setHistory: function(histData) {\n      var hist = this.history = new History(this.history.maxGeneration);\n      hist.done = copyHistoryArray(histData.done.slice(0), null, true);\n      hist.undone = copyHistoryArray(histData.undone.slice(0), null, true);\n    },\n\n    addLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function(line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        if (!line[prop]) line[prop] = cls;\n        else if (classTest(cls).test(line[prop])) return false;\n        else line[prop] += \" \" + cls;\n        return true;\n      });\n    }),\n    removeLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function(line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        var cur = line[prop];\n        if (!cur) return false;\n        else if (cls == null) line[prop] = null;\n        else {\n          var found = cur.match(classTest(cls));\n          if (!found) return false;\n          var end = found.index + found[0].length;\n          line[prop] = cur.slice(0, found.index) + (!found.index || end == cur.length ? \"\" : \" \") + cur.slice(end) || null;\n        }\n        return true;\n      });\n    }),\n\n    addLineWidget: docMethodOp(function(handle, node, options) {\n      return addLineWidget(this, handle, node, options);\n    }),\n    removeLineWidget: function(widget) { widget.clear(); },\n\n    markText: function(from, to, options) {\n      return markText(this, clipPos(this, from), clipPos(this, to), options, options && options.type || \"range\");\n    },\n    setBookmark: function(pos, options) {\n      var realOpts = {replacedWith: options && (options.nodeType == null ? options.widget : options),\n                      insertLeft: options && options.insertLeft,\n                      clearWhenEmpty: false, shared: options && options.shared,\n                      handleMouseEvents: options && options.handleMouseEvents};\n      pos = clipPos(this, pos);\n      return markText(this, pos, pos, realOpts, \"bookmark\");\n    },\n    findMarksAt: function(pos) {\n      pos = clipPos(this, pos);\n      var markers = [], spans = getLine(this, pos.line).markedSpans;\n      if (spans) for (var i = 0; i < spans.length; ++i) {\n        var span = spans[i];\n        if ((span.from == null || span.from <= pos.ch) &&\n            (span.to == null || span.to >= pos.ch))\n          markers.push(span.marker.parent || span.marker);\n      }\n      return markers;\n    },\n    findMarks: function(from, to, filter) {\n      from = clipPos(this, from); to = clipPos(this, to);\n      var found = [], lineNo = from.line;\n      this.iter(from.line, to.line + 1, function(line) {\n        var spans = line.markedSpans;\n        if (spans) for (var i = 0; i < spans.length; i++) {\n          var span = spans[i];\n          if (!(span.to != null && lineNo == from.line && from.ch >= span.to ||\n                span.from == null && lineNo != from.line ||\n                span.from != null && lineNo == to.line && span.from >= to.ch) &&\n              (!filter || filter(span.marker)))\n            found.push(span.marker.parent || span.marker);\n        }\n        ++lineNo;\n      });\n      return found;\n    },\n    getAllMarks: function() {\n      var markers = [];\n      this.iter(function(line) {\n        var sps = line.markedSpans;\n        if (sps) for (var i = 0; i < sps.length; ++i)\n          if (sps[i].from != null) markers.push(sps[i].marker);\n      });\n      return markers;\n    },\n\n    posFromIndex: function(off) {\n      var ch, lineNo = this.first, sepSize = this.lineSeparator().length;\n      this.iter(function(line) {\n        var sz = line.text.length + sepSize;\n        if (sz > off) { ch = off; return true; }\n        off -= sz;\n        ++lineNo;\n      });\n      return clipPos(this, Pos(lineNo, ch));\n    },\n    indexFromPos: function (coords) {\n      coords = clipPos(this, coords);\n      var index = coords.ch;\n      if (coords.line < this.first || coords.ch < 0) return 0;\n      var sepSize = this.lineSeparator().length;\n      this.iter(this.first, coords.line, function (line) {\n        index += line.text.length + sepSize;\n      });\n      return index;\n    },\n\n    copy: function(copyHistory) {\n      var doc = new Doc(getLines(this, this.first, this.first + this.size),\n                        this.modeOption, this.first, this.lineSep);\n      doc.scrollTop = this.scrollTop; doc.scrollLeft = this.scrollLeft;\n      doc.sel = this.sel;\n      doc.extend = false;\n      if (copyHistory) {\n        doc.history.undoDepth = this.history.undoDepth;\n        doc.setHistory(this.getHistory());\n      }\n      return doc;\n    },\n\n    linkedDoc: function(options) {\n      if (!options) options = {};\n      var from = this.first, to = this.first + this.size;\n      if (options.from != null && options.from > from) from = options.from;\n      if (options.to != null && options.to < to) to = options.to;\n      var copy = new Doc(getLines(this, from, to), options.mode || this.modeOption, from, this.lineSep);\n      if (options.sharedHist) copy.history = this.history;\n      (this.linked || (this.linked = [])).push({doc: copy, sharedHist: options.sharedHist});\n      copy.linked = [{doc: this, isParent: true, sharedHist: options.sharedHist}];\n      copySharedMarkers(copy, findSharedMarkers(this));\n      return copy;\n    },\n    unlinkDoc: function(other) {\n      if (other instanceof CodeMirror) other = other.doc;\n      if (this.linked) for (var i = 0; i < this.linked.length; ++i) {\n        var link = this.linked[i];\n        if (link.doc != other) continue;\n        this.linked.splice(i, 1);\n        other.unlinkDoc(this);\n        detachSharedMarkers(findSharedMarkers(this));\n        break;\n      }\n      // If the histories were shared, split them again\n      if (other.history == this.history) {\n        var splitIds = [other.id];\n        linkedDocs(other, function(doc) {splitIds.push(doc.id);}, true);\n        other.history = new History(null);\n        other.history.done = copyHistoryArray(this.history.done, splitIds);\n        other.history.undone = copyHistoryArray(this.history.undone, splitIds);\n      }\n    },\n    iterLinkedDocs: function(f) {linkedDocs(this, f);},\n\n    getMode: function() {return this.mode;},\n    getEditor: function() {return this.cm;},\n\n    splitLines: function(str) {\n      if (this.lineSep) return str.split(this.lineSep);\n      return splitLinesAuto(str);\n    },\n    lineSeparator: function() { return this.lineSep || \"\\n\"; }\n  });\n\n  // Public alias.\n  Doc.prototype.eachLine = Doc.prototype.iter;\n\n  // Set up methods on CodeMirror's prototype to redirect to the editor's document.\n  var dontDelegate = \"iter insert remove copy getEditor constructor\".split(\" \");\n  for (var prop in Doc.prototype) if (Doc.prototype.hasOwnProperty(prop) && indexOf(dontDelegate, prop) < 0)\n    CodeMirror.prototype[prop] = (function(method) {\n      return function() {return method.apply(this.doc, arguments);};\n    })(Doc.prototype[prop]);\n\n  eventMixin(Doc);\n\n  // Call f for all linked documents.\n  function linkedDocs(doc, f, sharedHistOnly) {\n    function propagate(doc, skip, sharedHist) {\n      if (doc.linked) for (var i = 0; i < doc.linked.length; ++i) {\n        var rel = doc.linked[i];\n        if (rel.doc == skip) continue;\n        var shared = sharedHist && rel.sharedHist;\n        if (sharedHistOnly && !shared) continue;\n        f(rel.doc, shared);\n        propagate(rel.doc, doc, shared);\n      }\n    }\n    propagate(doc, null, true);\n  }\n\n  // Attach a document to an editor.\n  function attachDoc(cm, doc) {\n    if (doc.cm) throw new Error(\"This document is already in use.\");\n    cm.doc = doc;\n    doc.cm = cm;\n    estimateLineHeights(cm);\n    loadMode(cm);\n    if (!cm.options.lineWrapping) findMaxLine(cm);\n    cm.options.mode = doc.modeOption;\n    regChange(cm);\n  }\n\n  // LINE UTILITIES\n\n  // Find the line object corresponding to the given line number.\n  function getLine(doc, n) {\n    n -= doc.first;\n    if (n < 0 || n >= doc.size) throw new Error(\"There is no line \" + (n + doc.first) + \" in the document.\");\n    for (var chunk = doc; !chunk.lines;) {\n      for (var i = 0;; ++i) {\n        var child = chunk.children[i], sz = child.chunkSize();\n        if (n < sz) { chunk = child; break; }\n        n -= sz;\n      }\n    }\n    return chunk.lines[n];\n  }\n\n  // Get the part of a document between two positions, as an array of\n  // strings.\n  function getBetween(doc, start, end) {\n    var out = [], n = start.line;\n    doc.iter(start.line, end.line + 1, function(line) {\n      var text = line.text;\n      if (n == end.line) text = text.slice(0, end.ch);\n      if (n == start.line) text = text.slice(start.ch);\n      out.push(text);\n      ++n;\n    });\n    return out;\n  }\n  // Get the lines between from and to, as array of strings.\n  function getLines(doc, from, to) {\n    var out = [];\n    doc.iter(from, to, function(line) { out.push(line.text); });\n    return out;\n  }\n\n  // Update the height of a line, propagating the height change\n  // upwards to parent nodes.\n  function updateLineHeight(line, height) {\n    var diff = height - line.height;\n    if (diff) for (var n = line; n; n = n.parent) n.height += diff;\n  }\n\n  // Given a line object, find its line number by walking up through\n  // its parent links.\n  function lineNo(line) {\n    if (line.parent == null) return null;\n    var cur = line.parent, no = indexOf(cur.lines, line);\n    for (var chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {\n      for (var i = 0;; ++i) {\n        if (chunk.children[i] == cur) break;\n        no += chunk.children[i].chunkSize();\n      }\n    }\n    return no + cur.first;\n  }\n\n  // Find the line at the given vertical position, using the height\n  // information in the document tree.\n  function lineAtHeight(chunk, h) {\n    var n = chunk.first;\n    outer: do {\n      for (var i = 0; i < chunk.children.length; ++i) {\n        var child = chunk.children[i], ch = child.height;\n        if (h < ch) { chunk = child; continue outer; }\n        h -= ch;\n        n += child.chunkSize();\n      }\n      return n;\n    } while (!chunk.lines);\n    for (var i = 0; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i], lh = line.height;\n      if (h < lh) break;\n      h -= lh;\n    }\n    return n + i;\n  }\n\n\n  // Find the height above the given line.\n  function heightAtLine(lineObj) {\n    lineObj = visualLine(lineObj);\n\n    var h = 0, chunk = lineObj.parent;\n    for (var i = 0; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i];\n      if (line == lineObj) break;\n      else h += line.height;\n    }\n    for (var p = chunk.parent; p; chunk = p, p = chunk.parent) {\n      for (var i = 0; i < p.children.length; ++i) {\n        var cur = p.children[i];\n        if (cur == chunk) break;\n        else h += cur.height;\n      }\n    }\n    return h;\n  }\n\n  // Get the bidi ordering for the given line (and cache it). Returns\n  // false for lines that are fully left-to-right, and an array of\n  // BidiSpan objects otherwise.\n  function getOrder(line) {\n    var order = line.order;\n    if (order == null) order = line.order = bidiOrdering(line.text);\n    return order;\n  }\n\n  // HISTORY\n\n  function History(startGen) {\n    // Arrays of change events and selections. Doing something adds an\n    // event to done and clears undo. Undoing moves events from done\n    // to undone, redoing moves them in the other direction.\n    this.done = []; this.undone = [];\n    this.undoDepth = Infinity;\n    // Used to track when changes can be merged into a single undo\n    // event\n    this.lastModTime = this.lastSelTime = 0;\n    this.lastOp = this.lastSelOp = null;\n    this.lastOrigin = this.lastSelOrigin = null;\n    // Used by the isClean() method\n    this.generation = this.maxGeneration = startGen || 1;\n  }\n\n  // Create a history change event from an updateDoc-style change\n  // object.\n  function historyChangeFromChange(doc, change) {\n    var histChange = {from: copyPos(change.from), to: changeEnd(change), text: getBetween(doc, change.from, change.to)};\n    attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1);\n    linkedDocs(doc, function(doc) {attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1);}, true);\n    return histChange;\n  }\n\n  // Pop all selection events off the end of a history array. Stop at\n  // a change event.\n  function clearSelectionEvents(array) {\n    while (array.length) {\n      var last = lst(array);\n      if (last.ranges) array.pop();\n      else break;\n    }\n  }\n\n  // Find the top change event in the history. Pop off selection\n  // events that are in the way.\n  function lastChangeEvent(hist, force) {\n    if (force) {\n      clearSelectionEvents(hist.done);\n      return lst(hist.done);\n    } else if (hist.done.length && !lst(hist.done).ranges) {\n      return lst(hist.done);\n    } else if (hist.done.length > 1 && !hist.done[hist.done.length - 2].ranges) {\n      hist.done.pop();\n      return lst(hist.done);\n    }\n  }\n\n  // Register a change in the history. Merges changes that are within\n  // a single operation, ore are close together with an origin that\n  // allows merging (starting with \"+\") into a single event.\n  function addChangeToHistory(doc, change, selAfter, opId) {\n    var hist = doc.history;\n    hist.undone.length = 0;\n    var time = +new Date, cur;\n\n    if ((hist.lastOp == opId ||\n         hist.lastOrigin == change.origin && change.origin &&\n         ((change.origin.charAt(0) == \"+\" && doc.cm && hist.lastModTime > time - doc.cm.options.historyEventDelay) ||\n          change.origin.charAt(0) == \"*\")) &&\n        (cur = lastChangeEvent(hist, hist.lastOp == opId))) {\n      // Merge this change into the last event\n      var last = lst(cur.changes);\n      if (cmp(change.from, change.to) == 0 && cmp(change.from, last.to) == 0) {\n        // Optimized case for simple insertion -- don't want to add\n        // new changesets for every character typed\n        last.to = changeEnd(change);\n      } else {\n        // Add new sub-event\n        cur.changes.push(historyChangeFromChange(doc, change));\n      }\n    } else {\n      // Can not be merged, start a new event.\n      var before = lst(hist.done);\n      if (!before || !before.ranges)\n        pushSelectionToHistory(doc.sel, hist.done);\n      cur = {changes: [historyChangeFromChange(doc, change)],\n             generation: hist.generation};\n      hist.done.push(cur);\n      while (hist.done.length > hist.undoDepth) {\n        hist.done.shift();\n        if (!hist.done[0].ranges) hist.done.shift();\n      }\n    }\n    hist.done.push(selAfter);\n    hist.generation = ++hist.maxGeneration;\n    hist.lastModTime = hist.lastSelTime = time;\n    hist.lastOp = hist.lastSelOp = opId;\n    hist.lastOrigin = hist.lastSelOrigin = change.origin;\n\n    if (!last) signal(doc, \"historyAdded\");\n  }\n\n  function selectionEventCanBeMerged(doc, origin, prev, sel) {\n    var ch = origin.charAt(0);\n    return ch == \"*\" ||\n      ch == \"+\" &&\n      prev.ranges.length == sel.ranges.length &&\n      prev.somethingSelected() == sel.somethingSelected() &&\n      new Date - doc.history.lastSelTime <= (doc.cm ? doc.cm.options.historyEventDelay : 500);\n  }\n\n  // Called whenever the selection changes, sets the new selection as\n  // the pending selection in the history, and pushes the old pending\n  // selection into the 'done' array when it was significantly\n  // different (in number of selected ranges, emptiness, or time).\n  function addSelectionToHistory(doc, sel, opId, options) {\n    var hist = doc.history, origin = options && options.origin;\n\n    // A new event is started when the previous origin does not match\n    // the current, or the origins don't allow matching. Origins\n    // starting with * are always merged, those starting with + are\n    // merged when similar and close together in time.\n    if (opId == hist.lastSelOp ||\n        (origin && hist.lastSelOrigin == origin &&\n         (hist.lastModTime == hist.lastSelTime && hist.lastOrigin == origin ||\n          selectionEventCanBeMerged(doc, origin, lst(hist.done), sel))))\n      hist.done[hist.done.length - 1] = sel;\n    else\n      pushSelectionToHistory(sel, hist.done);\n\n    hist.lastSelTime = +new Date;\n    hist.lastSelOrigin = origin;\n    hist.lastSelOp = opId;\n    if (options && options.clearRedo !== false)\n      clearSelectionEvents(hist.undone);\n  }\n\n  function pushSelectionToHistory(sel, dest) {\n    var top = lst(dest);\n    if (!(top && top.ranges && top.equals(sel)))\n      dest.push(sel);\n  }\n\n  // Used to store marked span information in the history.\n  function attachLocalSpans(doc, change, from, to) {\n    var existing = change[\"spans_\" + doc.id], n = 0;\n    doc.iter(Math.max(doc.first, from), Math.min(doc.first + doc.size, to), function(line) {\n      if (line.markedSpans)\n        (existing || (existing = change[\"spans_\" + doc.id] = {}))[n] = line.markedSpans;\n      ++n;\n    });\n  }\n\n  // When un/re-doing restores text containing marked spans, those\n  // that have been explicitly cleared should not be restored.\n  function removeClearedSpans(spans) {\n    if (!spans) return null;\n    for (var i = 0, out; i < spans.length; ++i) {\n      if (spans[i].marker.explicitlyCleared) { if (!out) out = spans.slice(0, i); }\n      else if (out) out.push(spans[i]);\n    }\n    return !out ? spans : out.length ? out : null;\n  }\n\n  // Retrieve and filter the old marked spans stored in a change event.\n  function getOldSpans(doc, change) {\n    var found = change[\"spans_\" + doc.id];\n    if (!found) return null;\n    for (var i = 0, nw = []; i < change.text.length; ++i)\n      nw.push(removeClearedSpans(found[i]));\n    return nw;\n  }\n\n  // Used both to provide a JSON-safe object in .getHistory, and, when\n  // detaching a document, to split the history in two\n  function copyHistoryArray(events, newGroup, instantiateSel) {\n    for (var i = 0, copy = []; i < events.length; ++i) {\n      var event = events[i];\n      if (event.ranges) {\n        copy.push(instantiateSel ? Selection.prototype.deepCopy.call(event) : event);\n        continue;\n      }\n      var changes = event.changes, newChanges = [];\n      copy.push({changes: newChanges});\n      for (var j = 0; j < changes.length; ++j) {\n        var change = changes[j], m;\n        newChanges.push({from: change.from, to: change.to, text: change.text});\n        if (newGroup) for (var prop in change) if (m = prop.match(/^spans_(\\d+)$/)) {\n          if (indexOf(newGroup, Number(m[1])) > -1) {\n            lst(newChanges)[prop] = change[prop];\n            delete change[prop];\n          }\n        }\n      }\n    }\n    return copy;\n  }\n\n  // Rebasing/resetting history to deal with externally-sourced changes\n\n  function rebaseHistSelSingle(pos, from, to, diff) {\n    if (to < pos.line) {\n      pos.line += diff;\n    } else if (from < pos.line) {\n      pos.line = from;\n      pos.ch = 0;\n    }\n  }\n\n  // Tries to rebase an array of history events given a change in the\n  // document. If the change touches the same lines as the event, the\n  // event, and everything 'behind' it, is discarded. If the change is\n  // before the event, the event's positions are updated. Uses a\n  // copy-on-write scheme for the positions, to avoid having to\n  // reallocate them all on every rebase, but also avoid problems with\n  // shared position objects being unsafely updated.\n  function rebaseHistArray(array, from, to, diff) {\n    for (var i = 0; i < array.length; ++i) {\n      var sub = array[i], ok = true;\n      if (sub.ranges) {\n        if (!sub.copied) { sub = array[i] = sub.deepCopy(); sub.copied = true; }\n        for (var j = 0; j < sub.ranges.length; j++) {\n          rebaseHistSelSingle(sub.ranges[j].anchor, from, to, diff);\n          rebaseHistSelSingle(sub.ranges[j].head, from, to, diff);\n        }\n        continue;\n      }\n      for (var j = 0; j < sub.changes.length; ++j) {\n        var cur = sub.changes[j];\n        if (to < cur.from.line) {\n          cur.from = Pos(cur.from.line + diff, cur.from.ch);\n          cur.to = Pos(cur.to.line + diff, cur.to.ch);\n        } else if (from <= cur.to.line) {\n          ok = false;\n          break;\n        }\n      }\n      if (!ok) {\n        array.splice(0, i + 1);\n        i = 0;\n      }\n    }\n  }\n\n  function rebaseHist(hist, change) {\n    var from = change.from.line, to = change.to.line, diff = change.text.length - (to - from) - 1;\n    rebaseHistArray(hist.done, from, to, diff);\n    rebaseHistArray(hist.undone, from, to, diff);\n  }\n\n  // EVENT UTILITIES\n\n  // Due to the fact that we still support jurassic IE versions, some\n  // compatibility wrappers are needed.\n\n  var e_preventDefault = CodeMirror.e_preventDefault = function(e) {\n    if (e.preventDefault) e.preventDefault();\n    else e.returnValue = false;\n  };\n  var e_stopPropagation = CodeMirror.e_stopPropagation = function(e) {\n    if (e.stopPropagation) e.stopPropagation();\n    else e.cancelBubble = true;\n  };\n  function e_defaultPrevented(e) {\n    return e.defaultPrevented != null ? e.defaultPrevented : e.returnValue == false;\n  }\n  var e_stop = CodeMirror.e_stop = function(e) {e_preventDefault(e); e_stopPropagation(e);};\n\n  function e_target(e) {return e.target || e.srcElement;}\n  function e_button(e) {\n    var b = e.which;\n    if (b == null) {\n      if (e.button & 1) b = 1;\n      else if (e.button & 2) b = 3;\n      else if (e.button & 4) b = 2;\n    }\n    if (mac && e.ctrlKey && b == 1) b = 3;\n    return b;\n  }\n\n  // EVENT HANDLING\n\n  // Lightweight event framework. on/off also work on DOM nodes,\n  // registering native DOM handlers.\n\n  var on = CodeMirror.on = function(emitter, type, f) {\n    if (emitter.addEventListener)\n      emitter.addEventListener(type, f, false);\n    else if (emitter.attachEvent)\n      emitter.attachEvent(\"on\" + type, f);\n    else {\n      var map = emitter._handlers || (emitter._handlers = {});\n      var arr = map[type] || (map[type] = []);\n      arr.push(f);\n    }\n  };\n\n  var noHandlers = []\n  function getHandlers(emitter, type, copy) {\n    var arr = emitter._handlers && emitter._handlers[type]\n    if (copy) return arr && arr.length > 0 ? arr.slice() : noHandlers\n    else return arr || noHandlers\n  }\n\n  var off = CodeMirror.off = function(emitter, type, f) {\n    if (emitter.removeEventListener)\n      emitter.removeEventListener(type, f, false);\n    else if (emitter.detachEvent)\n      emitter.detachEvent(\"on\" + type, f);\n    else {\n      var handlers = getHandlers(emitter, type, false)\n      for (var i = 0; i < handlers.length; ++i)\n        if (handlers[i] == f) { handlers.splice(i, 1); break; }\n    }\n  };\n\n  var signal = CodeMirror.signal = function(emitter, type /*, values...*/) {\n    var handlers = getHandlers(emitter, type, true)\n    if (!handlers.length) return;\n    var args = Array.prototype.slice.call(arguments, 2);\n    for (var i = 0; i < handlers.length; ++i) handlers[i].apply(null, args);\n  };\n\n  var orphanDelayedCallbacks = null;\n\n  // Often, we want to signal events at a point where we are in the\n  // middle of some work, but don't want the handler to start calling\n  // other methods on the editor, which might be in an inconsistent\n  // state or simply not expect any other events to happen.\n  // signalLater looks whether there are any handlers, and schedules\n  // them to be executed when the last operation ends, or, if no\n  // operation is active, when a timeout fires.\n  function signalLater(emitter, type /*, values...*/) {\n    var arr = getHandlers(emitter, type, false)\n    if (!arr.length) return;\n    var args = Array.prototype.slice.call(arguments, 2), list;\n    if (operationGroup) {\n      list = operationGroup.delayedCallbacks;\n    } else if (orphanDelayedCallbacks) {\n      list = orphanDelayedCallbacks;\n    } else {\n      list = orphanDelayedCallbacks = [];\n      setTimeout(fireOrphanDelayed, 0);\n    }\n    function bnd(f) {return function(){f.apply(null, args);};};\n    for (var i = 0; i < arr.length; ++i)\n      list.push(bnd(arr[i]));\n  }\n\n  function fireOrphanDelayed() {\n    var delayed = orphanDelayedCallbacks;\n    orphanDelayedCallbacks = null;\n    for (var i = 0; i < delayed.length; ++i) delayed[i]();\n  }\n\n  // The DOM events that CodeMirror handles can be overridden by\n  // registering a (non-DOM) handler on the editor for the event name,\n  // and preventDefault-ing the event in that handler.\n  function signalDOMEvent(cm, e, override) {\n    if (typeof e == \"string\")\n      e = {type: e, preventDefault: function() { this.defaultPrevented = true; }};\n    signal(cm, override || e.type, cm, e);\n    return e_defaultPrevented(e) || e.codemirrorIgnore;\n  }\n\n  function signalCursorActivity(cm) {\n    var arr = cm._handlers && cm._handlers.cursorActivity;\n    if (!arr) return;\n    var set = cm.curOp.cursorActivityHandlers || (cm.curOp.cursorActivityHandlers = []);\n    for (var i = 0; i < arr.length; ++i) if (indexOf(set, arr[i]) == -1)\n      set.push(arr[i]);\n  }\n\n  function hasHandler(emitter, type) {\n    return getHandlers(emitter, type).length > 0\n  }\n\n  // Add on and off methods to a constructor's prototype, to make\n  // registering events on such objects more convenient.\n  function eventMixin(ctor) {\n    ctor.prototype.on = function(type, f) {on(this, type, f);};\n    ctor.prototype.off = function(type, f) {off(this, type, f);};\n  }\n\n  // MISC UTILITIES\n\n  // Number of pixels added to scroller and sizer to hide scrollbar\n  var scrollerGap = 30;\n\n  // Returned or thrown by various protocols to signal 'I'm not\n  // handling this'.\n  var Pass = CodeMirror.Pass = {toString: function(){return \"CodeMirror.Pass\";}};\n\n  // Reused option objects for setSelection & friends\n  var sel_dontScroll = {scroll: false}, sel_mouse = {origin: \"*mouse\"}, sel_move = {origin: \"+move\"};\n\n  function Delayed() {this.id = null;}\n  Delayed.prototype.set = function(ms, f) {\n    clearTimeout(this.id);\n    this.id = setTimeout(f, ms);\n  };\n\n  // Counts the column offset in a string, taking tabs into account.\n  // Used mostly to find indentation.\n  var countColumn = CodeMirror.countColumn = function(string, end, tabSize, startIndex, startValue) {\n    if (end == null) {\n      end = string.search(/[^\\s\\u00a0]/);\n      if (end == -1) end = string.length;\n    }\n    for (var i = startIndex || 0, n = startValue || 0;;) {\n      var nextTab = string.indexOf(\"\\t\", i);\n      if (nextTab < 0 || nextTab >= end)\n        return n + (end - i);\n      n += nextTab - i;\n      n += tabSize - (n % tabSize);\n      i = nextTab + 1;\n    }\n  };\n\n  // The inverse of countColumn -- find the offset that corresponds to\n  // a particular column.\n  var findColumn = CodeMirror.findColumn = function(string, goal, tabSize) {\n    for (var pos = 0, col = 0;;) {\n      var nextTab = string.indexOf(\"\\t\", pos);\n      if (nextTab == -1) nextTab = string.length;\n      var skipped = nextTab - pos;\n      if (nextTab == string.length || col + skipped >= goal)\n        return pos + Math.min(skipped, goal - col);\n      col += nextTab - pos;\n      col += tabSize - (col % tabSize);\n      pos = nextTab + 1;\n      if (col >= goal) return pos;\n    }\n  }\n\n  var spaceStrs = [\"\"];\n  function spaceStr(n) {\n    while (spaceStrs.length <= n)\n      spaceStrs.push(lst(spaceStrs) + \" \");\n    return spaceStrs[n];\n  }\n\n  function lst(arr) { return arr[arr.length-1]; }\n\n  var selectInput = function(node) { node.select(); };\n  if (ios) // Mobile Safari apparently has a bug where select() is broken.\n    selectInput = function(node) { node.selectionStart = 0; node.selectionEnd = node.value.length; };\n  else if (ie) // Suppress mysterious IE10 errors\n    selectInput = function(node) { try { node.select(); } catch(_e) {} };\n\n  function indexOf(array, elt) {\n    for (var i = 0; i < array.length; ++i)\n      if (array[i] == elt) return i;\n    return -1;\n  }\n  function map(array, f) {\n    var out = [];\n    for (var i = 0; i < array.length; i++) out[i] = f(array[i], i);\n    return out;\n  }\n\n  function nothing() {}\n\n  function createObj(base, props) {\n    var inst;\n    if (Object.create) {\n      inst = Object.create(base);\n    } else {\n      nothing.prototype = base;\n      inst = new nothing();\n    }\n    if (props) copyObj(props, inst);\n    return inst;\n  };\n\n  function copyObj(obj, target, overwrite) {\n    if (!target) target = {};\n    for (var prop in obj)\n      if (obj.hasOwnProperty(prop) && (overwrite !== false || !target.hasOwnProperty(prop)))\n        target[prop] = obj[prop];\n    return target;\n  }\n\n  function bind(f) {\n    var args = Array.prototype.slice.call(arguments, 1);\n    return function(){return f.apply(null, args);};\n  }\n\n  var nonASCIISingleCaseWordChar = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;\n  var isWordCharBasic = CodeMirror.isWordChar = function(ch) {\n    return /\\w/.test(ch) || ch > \"\\x80\" &&\n      (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch));\n  };\n  function isWordChar(ch, helper) {\n    if (!helper) return isWordCharBasic(ch);\n    if (helper.source.indexOf(\"\\\\w\") > -1 && isWordCharBasic(ch)) return true;\n    return helper.test(ch);\n  }\n\n  function isEmpty(obj) {\n    for (var n in obj) if (obj.hasOwnProperty(n) && obj[n]) return false;\n    return true;\n  }\n\n  // Extending unicode characters. A series of a non-extending char +\n  // any number of extending chars is treated as a single unit as far\n  // as editing and measuring is concerned. This is not fully correct,\n  // since some scripts/fonts/browsers also treat other configurations\n  // of code points as a group.\n  var extendingChars = /[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;\n  function isExtendingChar(ch) { return ch.charCodeAt(0) >= 768 && extendingChars.test(ch); }\n\n  // DOM UTILITIES\n\n  function elt(tag, content, className, style) {\n    var e = document.createElement(tag);\n    if (className) e.className = className;\n    if (style) e.style.cssText = style;\n    if (typeof content == \"string\") e.appendChild(document.createTextNode(content));\n    else if (content) for (var i = 0; i < content.length; ++i) e.appendChild(content[i]);\n    return e;\n  }\n\n  var range;\n  if (document.createRange) range = function(node, start, end, endNode) {\n    var r = document.createRange();\n    r.setEnd(endNode || node, end);\n    r.setStart(node, start);\n    return r;\n  };\n  else range = function(node, start, end) {\n    var r = document.body.createTextRange();\n    try { r.moveToElementText(node.parentNode); }\n    catch(e) { return r; }\n    r.collapse(true);\n    r.moveEnd(\"character\", end);\n    r.moveStart(\"character\", start);\n    return r;\n  };\n\n  function removeChildren(e) {\n    for (var count = e.childNodes.length; count > 0; --count)\n      e.removeChild(e.firstChild);\n    return e;\n  }\n\n  function removeChildrenAndAdd(parent, e) {\n    return removeChildren(parent).appendChild(e);\n  }\n\n  var contains = CodeMirror.contains = function(parent, child) {\n    if (child.nodeType == 3) // Android browser always returns false when child is a textnode\n      child = child.parentNode;\n    if (parent.contains)\n      return parent.contains(child);\n    do {\n      if (child.nodeType == 11) child = child.host;\n      if (child == parent) return true;\n    } while (child = child.parentNode);\n  };\n\n  function activeElt() {\n    var activeElement = document.activeElement;\n    while (activeElement && activeElement.root && activeElement.root.activeElement)\n      activeElement = activeElement.root.activeElement;\n    return activeElement;\n  }\n  // Older versions of IE throws unspecified error when touching\n  // document.activeElement in some cases (during loading, in iframe)\n  if (ie && ie_version < 11) activeElt = function() {\n    try { return document.activeElement; }\n    catch(e) { return document.body; }\n  };\n\n  function classTest(cls) { return new RegExp(\"(^|\\\\s)\" + cls + \"(?:$|\\\\s)\\\\s*\"); }\n  var rmClass = CodeMirror.rmClass = function(node, cls) {\n    var current = node.className;\n    var match = classTest(cls).exec(current);\n    if (match) {\n      var after = current.slice(match.index + match[0].length);\n      node.className = current.slice(0, match.index) + (after ? match[1] + after : \"\");\n    }\n  };\n  var addClass = CodeMirror.addClass = function(node, cls) {\n    var current = node.className;\n    if (!classTest(cls).test(current)) node.className += (current ? \" \" : \"\") + cls;\n  };\n  function joinClasses(a, b) {\n    var as = a.split(\" \");\n    for (var i = 0; i < as.length; i++)\n      if (as[i] && !classTest(as[i]).test(b)) b += \" \" + as[i];\n    return b;\n  }\n\n  // WINDOW-WIDE EVENTS\n\n  // These must be handled carefully, because naively registering a\n  // handler for each editor will cause the editors to never be\n  // garbage collected.\n\n  function forEachCodeMirror(f) {\n    if (!document.body.getElementsByClassName) return;\n    var byClass = document.body.getElementsByClassName(\"CodeMirror\");\n    for (var i = 0; i < byClass.length; i++) {\n      var cm = byClass[i].CodeMirror;\n      if (cm) f(cm);\n    }\n  }\n\n  var globalsRegistered = false;\n  function ensureGlobalHandlers() {\n    if (globalsRegistered) return;\n    registerGlobalHandlers();\n    globalsRegistered = true;\n  }\n  function registerGlobalHandlers() {\n    // When the window resizes, we need to refresh active editors.\n    var resizeTimer;\n    on(window, \"resize\", function() {\n      if (resizeTimer == null) resizeTimer = setTimeout(function() {\n        resizeTimer = null;\n        forEachCodeMirror(onResize);\n      }, 100);\n    });\n    // When the window loses focus, we want to show the editor as blurred\n    on(window, \"blur\", function() {\n      forEachCodeMirror(onBlur);\n    });\n  }\n\n  // FEATURE DETECTION\n\n  // Detect drag-and-drop\n  var dragAndDrop = function() {\n    // There is *some* kind of drag-and-drop support in IE6-8, but I\n    // couldn't get it to work yet.\n    if (ie && ie_version < 9) return false;\n    var div = elt('div');\n    return \"draggable\" in div || \"dragDrop\" in div;\n  }();\n\n  var zwspSupported;\n  function zeroWidthElement(measure) {\n    if (zwspSupported == null) {\n      var test = elt(\"span\", \"\\u200b\");\n      removeChildrenAndAdd(measure, elt(\"span\", [test, document.createTextNode(\"x\")]));\n      if (measure.firstChild.offsetHeight != 0)\n        zwspSupported = test.offsetWidth <= 1 && test.offsetHeight > 2 && !(ie && ie_version < 8);\n    }\n    var node = zwspSupported ? elt(\"span\", \"\\u200b\") :\n      elt(\"span\", \"\\u00a0\", null, \"display: inline-block; width: 1px; margin-right: -1px\");\n    node.setAttribute(\"cm-text\", \"\");\n    return node;\n  }\n\n  // Feature-detect IE's crummy client rect reporting for bidi text\n  var badBidiRects;\n  function hasBadBidiRects(measure) {\n    if (badBidiRects != null) return badBidiRects;\n    var txt = removeChildrenAndAdd(measure, document.createTextNode(\"A\\u062eA\"));\n    var r0 = range(txt, 0, 1).getBoundingClientRect();\n    if (!r0 || r0.left == r0.right) return false; // Safari returns null in some cases (#2780)\n    var r1 = range(txt, 1, 2).getBoundingClientRect();\n    return badBidiRects = (r1.right - r0.right < 3);\n  }\n\n  // See if \"\".split is the broken IE version, if so, provide an\n  // alternative way to split lines.\n  var splitLinesAuto = CodeMirror.splitLines = \"\\n\\nb\".split(/\\n/).length != 3 ? function(string) {\n    var pos = 0, result = [], l = string.length;\n    while (pos <= l) {\n      var nl = string.indexOf(\"\\n\", pos);\n      if (nl == -1) nl = string.length;\n      var line = string.slice(pos, string.charAt(nl - 1) == \"\\r\" ? nl - 1 : nl);\n      var rt = line.indexOf(\"\\r\");\n      if (rt != -1) {\n        result.push(line.slice(0, rt));\n        pos += rt + 1;\n      } else {\n        result.push(line);\n        pos = nl + 1;\n      }\n    }\n    return result;\n  } : function(string){return string.split(/\\r\\n?|\\n/);};\n\n  var hasSelection = window.getSelection ? function(te) {\n    try { return te.selectionStart != te.selectionEnd; }\n    catch(e) { return false; }\n  } : function(te) {\n    try {var range = te.ownerDocument.selection.createRange();}\n    catch(e) {}\n    if (!range || range.parentElement() != te) return false;\n    return range.compareEndPoints(\"StartToEnd\", range) != 0;\n  };\n\n  var hasCopyEvent = (function() {\n    var e = elt(\"div\");\n    if (\"oncopy\" in e) return true;\n    e.setAttribute(\"oncopy\", \"return;\");\n    return typeof e.oncopy == \"function\";\n  })();\n\n  var badZoomedRects = null;\n  function hasBadZoomedRects(measure) {\n    if (badZoomedRects != null) return badZoomedRects;\n    var node = removeChildrenAndAdd(measure, elt(\"span\", \"x\"));\n    var normal = node.getBoundingClientRect();\n    var fromRange = range(node, 0, 1).getBoundingClientRect();\n    return badZoomedRects = Math.abs(normal.left - fromRange.left) > 1;\n  }\n\n  // KEY NAMES\n\n  var keyNames = CodeMirror.keyNames = {\n    3: \"Enter\", 8: \"Backspace\", 9: \"Tab\", 13: \"Enter\", 16: \"Shift\", 17: \"Ctrl\", 18: \"Alt\",\n    19: \"Pause\", 20: \"CapsLock\", 27: \"Esc\", 32: \"Space\", 33: \"PageUp\", 34: \"PageDown\", 35: \"End\",\n    36: \"Home\", 37: \"Left\", 38: \"Up\", 39: \"Right\", 40: \"Down\", 44: \"PrintScrn\", 45: \"Insert\",\n    46: \"Delete\", 59: \";\", 61: \"=\", 91: \"Mod\", 92: \"Mod\", 93: \"Mod\",\n    106: \"*\", 107: \"=\", 109: \"-\", 110: \".\", 111: \"/\", 127: \"Delete\",\n    173: \"-\", 186: \";\", 187: \"=\", 188: \",\", 189: \"-\", 190: \".\", 191: \"/\", 192: \"`\", 219: \"[\", 220: \"\\\\\",\n    221: \"]\", 222: \"'\", 63232: \"Up\", 63233: \"Down\", 63234: \"Left\", 63235: \"Right\", 63272: \"Delete\",\n    63273: \"Home\", 63275: \"End\", 63276: \"PageUp\", 63277: \"PageDown\", 63302: \"Insert\"\n  };\n  (function() {\n    // Number keys\n    for (var i = 0; i < 10; i++) keyNames[i + 48] = keyNames[i + 96] = String(i);\n    // Alphabetic keys\n    for (var i = 65; i <= 90; i++) keyNames[i] = String.fromCharCode(i);\n    // Function keys\n    for (var i = 1; i <= 12; i++) keyNames[i + 111] = keyNames[i + 63235] = \"F\" + i;\n  })();\n\n  // BIDI HELPERS\n\n  function iterateBidiSections(order, from, to, f) {\n    if (!order) return f(from, to, \"ltr\");\n    var found = false;\n    for (var i = 0; i < order.length; ++i) {\n      var part = order[i];\n      if (part.from < to && part.to > from || from == to && part.to == from) {\n        f(Math.max(part.from, from), Math.min(part.to, to), part.level == 1 ? \"rtl\" : \"ltr\");\n        found = true;\n      }\n    }\n    if (!found) f(from, to, \"ltr\");\n  }\n\n  function bidiLeft(part) { return part.level % 2 ? part.to : part.from; }\n  function bidiRight(part) { return part.level % 2 ? part.from : part.to; }\n\n  function lineLeft(line) { var order = getOrder(line); return order ? bidiLeft(order[0]) : 0; }\n  function lineRight(line) {\n    var order = getOrder(line);\n    if (!order) return line.text.length;\n    return bidiRight(lst(order));\n  }\n\n  function lineStart(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLine(line);\n    if (visual != line) lineN = lineNo(visual);\n    var order = getOrder(visual);\n    var ch = !order ? 0 : order[0].level % 2 ? lineRight(visual) : lineLeft(visual);\n    return Pos(lineN, ch);\n  }\n  function lineEnd(cm, lineN) {\n    var merged, line = getLine(cm.doc, lineN);\n    while (merged = collapsedSpanAtEnd(line)) {\n      line = merged.find(1, true).line;\n      lineN = null;\n    }\n    var order = getOrder(line);\n    var ch = !order ? line.text.length : order[0].level % 2 ? lineLeft(line) : lineRight(line);\n    return Pos(lineN == null ? lineNo(line) : lineN, ch);\n  }\n  function lineStartSmart(cm, pos) {\n    var start = lineStart(cm, pos.line);\n    var line = getLine(cm.doc, start.line);\n    var order = getOrder(line);\n    if (!order || order[0].level == 0) {\n      var firstNonWS = Math.max(0, line.text.search(/\\S/));\n      var inWS = pos.line == start.line && pos.ch <= firstNonWS && pos.ch;\n      return Pos(start.line, inWS ? 0 : firstNonWS);\n    }\n    return start;\n  }\n\n  function compareBidiLevel(order, a, b) {\n    var linedir = order[0].level;\n    if (a == linedir) return true;\n    if (b == linedir) return false;\n    return a < b;\n  }\n  var bidiOther;\n  function getBidiPartAt(order, pos) {\n    bidiOther = null;\n    for (var i = 0, found; i < order.length; ++i) {\n      var cur = order[i];\n      if (cur.from < pos && cur.to > pos) return i;\n      if ((cur.from == pos || cur.to == pos)) {\n        if (found == null) {\n          found = i;\n        } else if (compareBidiLevel(order, cur.level, order[found].level)) {\n          if (cur.from != cur.to) bidiOther = found;\n          return i;\n        } else {\n          if (cur.from != cur.to) bidiOther = i;\n          return found;\n        }\n      }\n    }\n    return found;\n  }\n\n  function moveInLine(line, pos, dir, byUnit) {\n    if (!byUnit) return pos + dir;\n    do pos += dir;\n    while (pos > 0 && isExtendingChar(line.text.charAt(pos)));\n    return pos;\n  }\n\n  // This is needed in order to move 'visually' through bi-directional\n  // text -- i.e., pressing left should make the cursor go left, even\n  // when in RTL text. The tricky part is the 'jumps', where RTL and\n  // LTR text touch each other. This often requires the cursor offset\n  // to move more than one unit, in order to visually move one unit.\n  function moveVisually(line, start, dir, byUnit) {\n    var bidi = getOrder(line);\n    if (!bidi) return moveLogically(line, start, dir, byUnit);\n    var pos = getBidiPartAt(bidi, start), part = bidi[pos];\n    var target = moveInLine(line, start, part.level % 2 ? -dir : dir, byUnit);\n\n    for (;;) {\n      if (target > part.from && target < part.to) return target;\n      if (target == part.from || target == part.to) {\n        if (getBidiPartAt(bidi, target) == pos) return target;\n        part = bidi[pos += dir];\n        return (dir > 0) == part.level % 2 ? part.to : part.from;\n      } else {\n        part = bidi[pos += dir];\n        if (!part) return null;\n        if ((dir > 0) == part.level % 2)\n          target = moveInLine(line, part.to, -1, byUnit);\n        else\n          target = moveInLine(line, part.from, 1, byUnit);\n      }\n    }\n  }\n\n  function moveLogically(line, start, dir, byUnit) {\n    var target = start + dir;\n    if (byUnit) while (target > 0 && isExtendingChar(line.text.charAt(target))) target += dir;\n    return target < 0 || target > line.text.length ? null : target;\n  }\n\n  // Bidirectional ordering algorithm\n  // See http://unicode.org/reports/tr9/tr9-13.html for the algorithm\n  // that this (partially) implements.\n\n  // One-char codes used for character types:\n  // L (L):   Left-to-Right\n  // R (R):   Right-to-Left\n  // r (AL):  Right-to-Left Arabic\n  // 1 (EN):  European Number\n  // + (ES):  European Number Separator\n  // % (ET):  European Number Terminator\n  // n (AN):  Arabic Number\n  // , (CS):  Common Number Separator\n  // m (NSM): Non-Spacing Mark\n  // b (BN):  Boundary Neutral\n  // s (B):   Paragraph Separator\n  // t (S):   Segment Separator\n  // w (WS):  Whitespace\n  // N (ON):  Other Neutrals\n\n  // Returns null if characters are ordered as they appear\n  // (left-to-right), or an array of sections ({from, to, level}\n  // objects) in the order in which they occur visually.\n  var bidiOrdering = (function() {\n    // Character types for codepoints 0 to 0xff\n    var lowTypes = \"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\";\n    // Character types for codepoints 0x600 to 0x6ff\n    var arabicTypes = \"rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm\";\n    function charType(code) {\n      if (code <= 0xf7) return lowTypes.charAt(code);\n      else if (0x590 <= code && code <= 0x5f4) return \"R\";\n      else if (0x600 <= code && code <= 0x6ed) return arabicTypes.charAt(code - 0x600);\n      else if (0x6ee <= code && code <= 0x8ac) return \"r\";\n      else if (0x2000 <= code && code <= 0x200b) return \"w\";\n      else if (code == 0x200c) return \"b\";\n      else return \"L\";\n    }\n\n    var bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/;\n    var isNeutral = /[stwN]/, isStrong = /[LRr]/, countsAsLeft = /[Lb1n]/, countsAsNum = /[1n]/;\n    // Browsers seem to always treat the boundaries of block elements as being L.\n    var outerType = \"L\";\n\n    function BidiSpan(level, from, to) {\n      this.level = level;\n      this.from = from; this.to = to;\n    }\n\n    return function(str) {\n      if (!bidiRE.test(str)) return false;\n      var len = str.length, types = [];\n      for (var i = 0, type; i < len; ++i)\n        types.push(type = charType(str.charCodeAt(i)));\n\n      // W1. Examine each non-spacing mark (NSM) in the level run, and\n      // change the type of the NSM to the type of the previous\n      // character. If the NSM is at the start of the level run, it will\n      // get the type of sor.\n      for (var i = 0, prev = outerType; i < len; ++i) {\n        var type = types[i];\n        if (type == \"m\") types[i] = prev;\n        else prev = type;\n      }\n\n      // W2. Search backwards from each instance of a European number\n      // until the first strong type (R, L, AL, or sor) is found. If an\n      // AL is found, change the type of the European number to Arabic\n      // number.\n      // W3. Change all ALs to R.\n      for (var i = 0, cur = outerType; i < len; ++i) {\n        var type = types[i];\n        if (type == \"1\" && cur == \"r\") types[i] = \"n\";\n        else if (isStrong.test(type)) { cur = type; if (type == \"r\") types[i] = \"R\"; }\n      }\n\n      // W4. A single European separator between two European numbers\n      // changes to a European number. A single common separator between\n      // two numbers of the same type changes to that type.\n      for (var i = 1, prev = types[0]; i < len - 1; ++i) {\n        var type = types[i];\n        if (type == \"+\" && prev == \"1\" && types[i+1] == \"1\") types[i] = \"1\";\n        else if (type == \",\" && prev == types[i+1] &&\n                 (prev == \"1\" || prev == \"n\")) types[i] = prev;\n        prev = type;\n      }\n\n      // W5. A sequence of European terminators adjacent to European\n      // numbers changes to all European numbers.\n      // W6. Otherwise, separators and terminators change to Other\n      // Neutral.\n      for (var i = 0; i < len; ++i) {\n        var type = types[i];\n        if (type == \",\") types[i] = \"N\";\n        else if (type == \"%\") {\n          for (var end = i + 1; end < len && types[end] == \"%\"; ++end) {}\n          var replace = (i && types[i-1] == \"!\") || (end < len && types[end] == \"1\") ? \"1\" : \"N\";\n          for (var j = i; j < end; ++j) types[j] = replace;\n          i = end - 1;\n        }\n      }\n\n      // W7. Search backwards from each instance of a European number\n      // until the first strong type (R, L, or sor) is found. If an L is\n      // found, then change the type of the European number to L.\n      for (var i = 0, cur = outerType; i < len; ++i) {\n        var type = types[i];\n        if (cur == \"L\" && type == \"1\") types[i] = \"L\";\n        else if (isStrong.test(type)) cur = type;\n      }\n\n      // N1. A sequence of neutrals takes the direction of the\n      // surrounding strong text if the text on both sides has the same\n      // direction. European and Arabic numbers act as if they were R in\n      // terms of their influence on neutrals. Start-of-level-run (sor)\n      // and end-of-level-run (eor) are used at level run boundaries.\n      // N2. Any remaining neutrals take the embedding direction.\n      for (var i = 0; i < len; ++i) {\n        if (isNeutral.test(types[i])) {\n          for (var end = i + 1; end < len && isNeutral.test(types[end]); ++end) {}\n          var before = (i ? types[i-1] : outerType) == \"L\";\n          var after = (end < len ? types[end] : outerType) == \"L\";\n          var replace = before || after ? \"L\" : \"R\";\n          for (var j = i; j < end; ++j) types[j] = replace;\n          i = end - 1;\n        }\n      }\n\n      // Here we depart from the documented algorithm, in order to avoid\n      // building up an actual levels array. Since there are only three\n      // levels (0, 1, 2) in an implementation that doesn't take\n      // explicit embedding into account, we can build up the order on\n      // the fly, without following the level-based algorithm.\n      var order = [], m;\n      for (var i = 0; i < len;) {\n        if (countsAsLeft.test(types[i])) {\n          var start = i;\n          for (++i; i < len && countsAsLeft.test(types[i]); ++i) {}\n          order.push(new BidiSpan(0, start, i));\n        } else {\n          var pos = i, at = order.length;\n          for (++i; i < len && types[i] != \"L\"; ++i) {}\n          for (var j = pos; j < i;) {\n            if (countsAsNum.test(types[j])) {\n              if (pos < j) order.splice(at, 0, new BidiSpan(1, pos, j));\n              var nstart = j;\n              for (++j; j < i && countsAsNum.test(types[j]); ++j) {}\n              order.splice(at, 0, new BidiSpan(2, nstart, j));\n              pos = j;\n            } else ++j;\n          }\n          if (pos < i) order.splice(at, 0, new BidiSpan(1, pos, i));\n        }\n      }\n      if (order[0].level == 1 && (m = str.match(/^\\s+/))) {\n        order[0].from = m[0].length;\n        order.unshift(new BidiSpan(0, 0, m[0].length));\n      }\n      if (lst(order).level == 1 && (m = str.match(/\\s+$/))) {\n        lst(order).to -= m[0].length;\n        order.push(new BidiSpan(0, len - m[0].length, len));\n      }\n      if (order[0].level == 2)\n        order.unshift(new BidiSpan(1, order[0].to, order[0].to));\n      if (order[0].level != lst(order).level)\n        order.push(new BidiSpan(order[0].level, len, len));\n\n      return order;\n    };\n  })();\n\n  // THE END\n\n  CodeMirror.version = \"5.16.0\";\n\n  return CodeMirror;\n});\n\n},{}],8:[function(require,module,exports){\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nfunction Context(indented, column, type, info, align, prev) {\n  this.indented = indented;\n  this.column = column;\n  this.type = type;\n  this.info = info;\n  this.align = align;\n  this.prev = prev;\n}\nfunction pushContext(state, col, type, info) {\n  var indent = state.indented;\n  if (state.context && state.context.type != \"statement\" && type != \"statement\")\n    indent = state.context.indented;\n  return state.context = new Context(indent, col, type, info, null, state.context);\n}\nfunction popContext(state) {\n  var t = state.context.type;\n  if (t == \")\" || t == \"]\" || t == \"}\")\n    state.indented = state.context.indented;\n  return state.context = state.context.prev;\n}\n\nfunction typeBefore(stream, state, pos) {\n  if (state.prevToken == \"variable\" || state.prevToken == \"variable-3\") return true;\n  if (/\\S(?:[^- ]>|[*\\]])\\s*$|\\*$/.test(stream.string.slice(0, pos))) return true;\n  if (state.typeAtEndOfLine && stream.column() == stream.indentation()) return true;\n}\n\nfunction isTopScope(context) {\n  for (;;) {\n    if (!context || context.type == \"top\") return true;\n    if (context.type == \"}\" && context.prev.info != \"namespace\") return false;\n    context = context.prev;\n  }\n}\n\nCodeMirror.defineMode(\"clike\", function(config, parserConfig) {\n  var indentUnit = config.indentUnit,\n      statementIndentUnit = parserConfig.statementIndentUnit || indentUnit,\n      dontAlignCalls = parserConfig.dontAlignCalls,\n      keywords = parserConfig.keywords || {},\n      types = parserConfig.types || {},\n      builtin = parserConfig.builtin || {},\n      blockKeywords = parserConfig.blockKeywords || {},\n      defKeywords = parserConfig.defKeywords || {},\n      atoms = parserConfig.atoms || {},\n      hooks = parserConfig.hooks || {},\n      multiLineStrings = parserConfig.multiLineStrings,\n      indentStatements = parserConfig.indentStatements !== false,\n      indentSwitch = parserConfig.indentSwitch !== false,\n      namespaceSeparator = parserConfig.namespaceSeparator,\n      isPunctuationChar = parserConfig.isPunctuationChar || /[\\[\\]{}\\(\\),;\\:\\.]/,\n      numberStart = parserConfig.numberStart || /[\\d\\.]/,\n      number = parserConfig.number || /^(?:0x[a-f\\d]+|0b[01]+|(?:\\d+\\.?\\d*|\\.\\d+)(?:e[-+]?\\d+)?)(u|ll?|l|f)?/i,\n      isOperatorChar = parserConfig.isOperatorChar || /[+\\-*&%=<>!?|\\/]/,\n      endStatement = parserConfig.endStatement || /^[;:,]$/;\n\n  var curPunc, isDefKeyword;\n\n  function tokenBase(stream, state) {\n    var ch = stream.next();\n    if (hooks[ch]) {\n      var result = hooks[ch](stream, state);\n      if (result !== false) return result;\n    }\n    if (ch == '\"' || ch == \"'\") {\n      state.tokenize = tokenString(ch);\n      return state.tokenize(stream, state);\n    }\n    if (isPunctuationChar.test(ch)) {\n      curPunc = ch;\n      return null;\n    }\n    if (numberStart.test(ch)) {\n      stream.backUp(1)\n      if (stream.match(number)) return \"number\"\n      stream.next()\n    }\n    if (ch == \"/\") {\n      if (stream.eat(\"*\")) {\n        state.tokenize = tokenComment;\n        return tokenComment(stream, state);\n      }\n      if (stream.eat(\"/\")) {\n        stream.skipToEnd();\n        return \"comment\";\n      }\n    }\n    if (isOperatorChar.test(ch)) {\n      while (!stream.match(/^\\/[\\/*]/, false) && stream.eat(isOperatorChar)) {}\n      return \"operator\";\n    }\n    stream.eatWhile(/[\\w\\$_\\xa1-\\uffff]/);\n    if (namespaceSeparator) while (stream.match(namespaceSeparator))\n      stream.eatWhile(/[\\w\\$_\\xa1-\\uffff]/);\n\n    var cur = stream.current();\n    if (contains(keywords, cur)) {\n      if (contains(blockKeywords, cur)) curPunc = \"newstatement\";\n      if (contains(defKeywords, cur)) isDefKeyword = true;\n      return \"keyword\";\n    }\n    if (contains(types, cur)) return \"variable-3\";\n    if (contains(builtin, cur)) {\n      if (contains(blockKeywords, cur)) curPunc = \"newstatement\";\n      return \"builtin\";\n    }\n    if (contains(atoms, cur)) return \"atom\";\n    return \"variable\";\n  }\n\n  function tokenString(quote) {\n    return function(stream, state) {\n      var escaped = false, next, end = false;\n      while ((next = stream.next()) != null) {\n        if (next == quote && !escaped) {end = true; break;}\n        escaped = !escaped && next == \"\\\\\";\n      }\n      if (end || !(escaped || multiLineStrings))\n        state.tokenize = null;\n      return \"string\";\n    };\n  }\n\n  function tokenComment(stream, state) {\n    var maybeEnd = false, ch;\n    while (ch = stream.next()) {\n      if (ch == \"/\" && maybeEnd) {\n        state.tokenize = null;\n        break;\n      }\n      maybeEnd = (ch == \"*\");\n    }\n    return \"comment\";\n  }\n\n  function maybeEOL(stream, state) {\n    if (parserConfig.typeFirstDefinitions && stream.eol() && isTopScope(state.context))\n      state.typeAtEndOfLine = typeBefore(stream, state, stream.pos)\n  }\n\n  // Interface\n\n  return {\n    startState: function(basecolumn) {\n      return {\n        tokenize: null,\n        context: new Context((basecolumn || 0) - indentUnit, 0, \"top\", null, false),\n        indented: 0,\n        startOfLine: true,\n        prevToken: null\n      };\n    },\n\n    token: function(stream, state) {\n      var ctx = state.context;\n      if (stream.sol()) {\n        if (ctx.align == null) ctx.align = false;\n        state.indented = stream.indentation();\n        state.startOfLine = true;\n      }\n      if (stream.eatSpace()) { maybeEOL(stream, state); return null; }\n      curPunc = isDefKeyword = null;\n      var style = (state.tokenize || tokenBase)(stream, state);\n      if (style == \"comment\" || style == \"meta\") return style;\n      if (ctx.align == null) ctx.align = true;\n\n      if (endStatement.test(curPunc)) while (state.context.type == \"statement\") popContext(state);\n      else if (curPunc == \"{\") pushContext(state, stream.column(), \"}\");\n      else if (curPunc == \"[\") pushContext(state, stream.column(), \"]\");\n      else if (curPunc == \"(\") pushContext(state, stream.column(), \")\");\n      else if (curPunc == \"}\") {\n        while (ctx.type == \"statement\") ctx = popContext(state);\n        if (ctx.type == \"}\") ctx = popContext(state);\n        while (ctx.type == \"statement\") ctx = popContext(state);\n      }\n      else if (curPunc == ctx.type) popContext(state);\n      else if (indentStatements &&\n               (((ctx.type == \"}\" || ctx.type == \"top\") && curPunc != \";\") ||\n                (ctx.type == \"statement\" && curPunc == \"newstatement\"))) {\n        pushContext(state, stream.column(), \"statement\", stream.current());\n      }\n\n      if (style == \"variable\" &&\n          ((state.prevToken == \"def\" ||\n            (parserConfig.typeFirstDefinitions && typeBefore(stream, state, stream.start) &&\n             isTopScope(state.context) && stream.match(/^\\s*\\(/, false)))))\n        style = \"def\";\n\n      if (hooks.token) {\n        var result = hooks.token(stream, state, style);\n        if (result !== undefined) style = result;\n      }\n\n      if (style == \"def\" && parserConfig.styleDefs === false) style = \"variable\";\n\n      state.startOfLine = false;\n      state.prevToken = isDefKeyword ? \"def\" : style || curPunc;\n      maybeEOL(stream, state);\n      return style;\n    },\n\n    indent: function(state, textAfter) {\n      if (state.tokenize != tokenBase && state.tokenize != null || state.typeAtEndOfLine) return CodeMirror.Pass;\n      var ctx = state.context, firstChar = textAfter && textAfter.charAt(0);\n      if (ctx.type == \"statement\" && firstChar == \"}\") ctx = ctx.prev;\n      if (parserConfig.dontIndentStatements)\n        while (ctx.type == \"statement\" && parserConfig.dontIndentStatements.test(ctx.info))\n          ctx = ctx.prev\n      if (hooks.indent) {\n        var hook = hooks.indent(state, ctx, textAfter);\n        if (typeof hook == \"number\") return hook\n      }\n      var closing = firstChar == ctx.type;\n      var switchBlock = ctx.prev && ctx.prev.info == \"switch\";\n      if (parserConfig.allmanIndentation && /[{(]/.test(firstChar)) {\n        while (ctx.type != \"top\" && ctx.type != \"}\") ctx = ctx.prev\n        return ctx.indented\n      }\n      if (ctx.type == \"statement\")\n        return ctx.indented + (firstChar == \"{\" ? 0 : statementIndentUnit);\n      if (ctx.align && (!dontAlignCalls || ctx.type != \")\"))\n        return ctx.column + (closing ? 0 : 1);\n      if (ctx.type == \")\" && !closing)\n        return ctx.indented + statementIndentUnit;\n\n      return ctx.indented + (closing ? 0 : indentUnit) +\n        (!closing && switchBlock && !/^(?:case|default)\\b/.test(textAfter) ? indentUnit : 0);\n    },\n\n    electricInput: indentSwitch ? /^\\s*(?:case .*?:|default:|\\{\\}?|\\})$/ : /^\\s*[{}]$/,\n    blockCommentStart: \"/*\",\n    blockCommentEnd: \"*/\",\n    lineComment: \"//\",\n    fold: \"brace\"\n  };\n});\n\n  function words(str) {\n    var obj = {}, words = str.split(\" \");\n    for (var i = 0; i < words.length; ++i) obj[words[i]] = true;\n    return obj;\n  }\n  function contains(words, word) {\n    if (typeof words === \"function\") {\n      return words(word);\n    } else {\n      return words.propertyIsEnumerable(word);\n    }\n  }\n  var cKeywords = \"auto if break case register continue return default do sizeof \" +\n    \"static else struct switch extern typedef union for goto while enum const volatile\";\n  var cTypes = \"int long char short double float unsigned signed void size_t ptrdiff_t\";\n\n  function cppHook(stream, state) {\n    if (!state.startOfLine) return false\n    for (var ch, next = null; ch = stream.peek();) {\n      if (ch == \"\\\\\" && stream.match(/^.$/)) {\n        next = cppHook\n        break\n      } else if (ch == \"/\" && stream.match(/^\\/[\\/\\*]/, false)) {\n        break\n      }\n      stream.next()\n    }\n    state.tokenize = next\n    return \"meta\"\n  }\n\n  function pointerHook(_stream, state) {\n    if (state.prevToken == \"variable-3\") return \"variable-3\";\n    return false;\n  }\n\n  function cpp14Literal(stream) {\n    stream.eatWhile(/[\\w\\.']/);\n    return \"number\";\n  }\n\n  function cpp11StringHook(stream, state) {\n    stream.backUp(1);\n    // Raw strings.\n    if (stream.match(/(R|u8R|uR|UR|LR)/)) {\n      var match = stream.match(/\"([^\\s\\\\()]{0,16})\\(/);\n      if (!match) {\n        return false;\n      }\n      state.cpp11RawStringDelim = match[1];\n      state.tokenize = tokenRawString;\n      return tokenRawString(stream, state);\n    }\n    // Unicode strings/chars.\n    if (stream.match(/(u8|u|U|L)/)) {\n      if (stream.match(/[\"']/, /* eat */ false)) {\n        return \"string\";\n      }\n      return false;\n    }\n    // Ignore this hook.\n    stream.next();\n    return false;\n  }\n\n  function cppLooksLikeConstructor(word) {\n    var lastTwo = /(\\w+)::(\\w+)$/.exec(word);\n    return lastTwo && lastTwo[1] == lastTwo[2];\n  }\n\n  // C#-style strings where \"\" escapes a quote.\n  function tokenAtString(stream, state) {\n    var next;\n    while ((next = stream.next()) != null) {\n      if (next == '\"' && !stream.eat('\"')) {\n        state.tokenize = null;\n        break;\n      }\n    }\n    return \"string\";\n  }\n\n  // C++11 raw string literal is <prefix>\"<delim>( anything )<delim>\", where\n  // <delim> can be a string up to 16 characters long.\n  function tokenRawString(stream, state) {\n    // Escape characters that have special regex meanings.\n    var delim = state.cpp11RawStringDelim.replace(/[^\\w\\s]/g, '\\\\$&');\n    var match = stream.match(new RegExp(\".*?\\\\)\" + delim + '\"'));\n    if (match)\n      state.tokenize = null;\n    else\n      stream.skipToEnd();\n    return \"string\";\n  }\n\n  function def(mimes, mode) {\n    if (typeof mimes == \"string\") mimes = [mimes];\n    var words = [];\n    function add(obj) {\n      if (obj) for (var prop in obj) if (obj.hasOwnProperty(prop))\n        words.push(prop);\n    }\n    add(mode.keywords);\n    add(mode.types);\n    add(mode.builtin);\n    add(mode.atoms);\n    if (words.length) {\n      mode.helperType = mimes[0];\n      CodeMirror.registerHelper(\"hintWords\", mimes[0], words);\n    }\n\n    for (var i = 0; i < mimes.length; ++i)\n      CodeMirror.defineMIME(mimes[i], mode);\n  }\n\n  def([\"text/x-csrc\", \"text/x-c\", \"text/x-chdr\"], {\n    name: \"clike\",\n    keywords: words(cKeywords),\n    types: words(cTypes + \" bool _Complex _Bool float_t double_t intptr_t intmax_t \" +\n                 \"int8_t int16_t int32_t int64_t uintptr_t uintmax_t uint8_t uint16_t \" +\n                 \"uint32_t uint64_t\"),\n    blockKeywords: words(\"case do else for if switch while struct\"),\n    defKeywords: words(\"struct\"),\n    typeFirstDefinitions: true,\n    atoms: words(\"null true false\"),\n    hooks: {\"#\": cppHook, \"*\": pointerHook},\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  def([\"text/x-c++src\", \"text/x-c++hdr\"], {\n    name: \"clike\",\n    keywords: words(cKeywords + \" asm dynamic_cast namespace reinterpret_cast try explicit new \" +\n                    \"static_cast typeid catch operator template typename class friend private \" +\n                    \"this using const_cast inline public throw virtual delete mutable protected \" +\n                    \"alignas alignof constexpr decltype nullptr noexcept thread_local final \" +\n                    \"static_assert override\"),\n    types: words(cTypes + \" bool wchar_t\"),\n    blockKeywords: words(\"catch class do else finally for if struct switch try while\"),\n    defKeywords: words(\"class namespace struct enum union\"),\n    typeFirstDefinitions: true,\n    atoms: words(\"true false null\"),\n    dontIndentStatements: /^template$/,\n    hooks: {\n      \"#\": cppHook,\n      \"*\": pointerHook,\n      \"u\": cpp11StringHook,\n      \"U\": cpp11StringHook,\n      \"L\": cpp11StringHook,\n      \"R\": cpp11StringHook,\n      \"0\": cpp14Literal,\n      \"1\": cpp14Literal,\n      \"2\": cpp14Literal,\n      \"3\": cpp14Literal,\n      \"4\": cpp14Literal,\n      \"5\": cpp14Literal,\n      \"6\": cpp14Literal,\n      \"7\": cpp14Literal,\n      \"8\": cpp14Literal,\n      \"9\": cpp14Literal,\n      token: function(stream, state, style) {\n        if (style == \"variable\" && stream.peek() == \"(\" &&\n            (state.prevToken == \";\" || state.prevToken == null ||\n             state.prevToken == \"}\") &&\n            cppLooksLikeConstructor(stream.current()))\n          return \"def\";\n      }\n    },\n    namespaceSeparator: \"::\",\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  def(\"text/x-java\", {\n    name: \"clike\",\n    keywords: words(\"abstract assert break case catch class const continue default \" +\n                    \"do else enum extends final finally float for goto if implements import \" +\n                    \"instanceof interface native new package private protected public \" +\n                    \"return static strictfp super switch synchronized this throw throws transient \" +\n                    \"try volatile while\"),\n    types: words(\"byte short int long float double boolean char void Boolean Byte Character Double Float \" +\n                 \"Integer Long Number Object Short String StringBuffer StringBuilder Void\"),\n    blockKeywords: words(\"catch class do else finally for if switch try while\"),\n    defKeywords: words(\"class interface package enum\"),\n    typeFirstDefinitions: true,\n    atoms: words(\"true false null\"),\n    endStatement: /^[;:]$/,\n    number: /^(?:0x[a-f\\d_]+|0b[01_]+|(?:[\\d_]+\\.?\\d*|\\.\\d+)(?:e[-+]?[\\d_]+)?)(u|ll?|l|f)?/i,\n    hooks: {\n      \"@\": function(stream) {\n        stream.eatWhile(/[\\w\\$_]/);\n        return \"meta\";\n      }\n    },\n    modeProps: {fold: [\"brace\", \"import\"]}\n  });\n\n  def(\"text/x-csharp\", {\n    name: \"clike\",\n    keywords: words(\"abstract as async await base break case catch checked class const continue\" +\n                    \" default delegate do else enum event explicit extern finally fixed for\" +\n                    \" foreach goto if implicit in interface internal is lock namespace new\" +\n                    \" operator out override params private protected public readonly ref return sealed\" +\n                    \" sizeof stackalloc static struct switch this throw try typeof unchecked\" +\n                    \" unsafe using virtual void volatile while add alias ascending descending dynamic from get\" +\n                    \" global group into join let orderby partial remove select set value var yield\"),\n    types: words(\"Action Boolean Byte Char DateTime DateTimeOffset Decimal Double Func\" +\n                 \" Guid Int16 Int32 Int64 Object SByte Single String Task TimeSpan UInt16 UInt32\" +\n                 \" UInt64 bool byte char decimal double short int long object\"  +\n                 \" sbyte float string ushort uint ulong\"),\n    blockKeywords: words(\"catch class do else finally for foreach if struct switch try while\"),\n    defKeywords: words(\"class interface namespace struct var\"),\n    typeFirstDefinitions: true,\n    atoms: words(\"true false null\"),\n    hooks: {\n      \"@\": function(stream, state) {\n        if (stream.eat('\"')) {\n          state.tokenize = tokenAtString;\n          return tokenAtString(stream, state);\n        }\n        stream.eatWhile(/[\\w\\$_]/);\n        return \"meta\";\n      }\n    }\n  });\n\n  function tokenTripleString(stream, state) {\n    var escaped = false;\n    while (!stream.eol()) {\n      if (!escaped && stream.match('\"\"\"')) {\n        state.tokenize = null;\n        break;\n      }\n      escaped = stream.next() == \"\\\\\" && !escaped;\n    }\n    return \"string\";\n  }\n\n  def(\"text/x-scala\", {\n    name: \"clike\",\n    keywords: words(\n\n      /* scala */\n      \"abstract case catch class def do else extends final finally for forSome if \" +\n      \"implicit import lazy match new null object override package private protected return \" +\n      \"sealed super this throw trait try type val var while with yield _ : = => <- <: \" +\n      \"<% >: # @ \" +\n\n      /* package scala */\n      \"assert assume require print println printf readLine readBoolean readByte readShort \" +\n      \"readChar readInt readLong readFloat readDouble \" +\n\n      \":: #:: \"\n    ),\n    types: words(\n      \"AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either \" +\n      \"Enumeration Equiv Error Exception Fractional Function IndexedSeq Int Integral Iterable \" +\n      \"Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering \" +\n      \"Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder \" +\n      \"StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector \" +\n\n      /* package java.lang */\n      \"Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable \" +\n      \"Compiler Double Exception Float Integer Long Math Number Object Package Pair Process \" +\n      \"Runtime Runnable SecurityManager Short StackTraceElement StrictMath String \" +\n      \"StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void\"\n    ),\n    multiLineStrings: true,\n    blockKeywords: words(\"catch class do else finally for forSome if match switch try while\"),\n    defKeywords: words(\"class def object package trait type val var\"),\n    atoms: words(\"true false null\"),\n    indentStatements: false,\n    indentSwitch: false,\n    hooks: {\n      \"@\": function(stream) {\n        stream.eatWhile(/[\\w\\$_]/);\n        return \"meta\";\n      },\n      '\"': function(stream, state) {\n        if (!stream.match('\"\"')) return false;\n        state.tokenize = tokenTripleString;\n        return state.tokenize(stream, state);\n      },\n      \"'\": function(stream) {\n        stream.eatWhile(/[\\w\\$_\\xa1-\\uffff]/);\n        return \"atom\";\n      },\n      \"=\": function(stream, state) {\n        var cx = state.context\n        if (cx.type == \"}\" && cx.align && stream.eat(\">\")) {\n          state.context = new Context(cx.indented, cx.column, cx.type, cx.info, null, cx.prev)\n          return \"operator\"\n        } else {\n          return false\n        }\n      }\n    },\n    modeProps: {closeBrackets: {triples: '\"'}}\n  });\n\n  function tokenKotlinString(tripleString){\n    return function (stream, state) {\n      var escaped = false, next, end = false;\n      while (!stream.eol()) {\n        if (!tripleString && !escaped && stream.match('\"') ) {end = true; break;}\n        if (tripleString && stream.match('\"\"\"')) {end = true; break;}\n        next = stream.next();\n        if(!escaped && next == \"$\" && stream.match('{'))\n          stream.skipTo(\"}\");\n        escaped = !escaped && next == \"\\\\\" && !tripleString;\n      }\n      if (end || !tripleString)\n        state.tokenize = null;\n      return \"string\";\n    }\n  }\n\n  def(\"text/x-kotlin\", {\n    name: \"clike\",\n    keywords: words(\n      /*keywords*/\n      \"package as typealias class interface this super val \" +\n      \"var fun for is in This throw return \" +\n      \"break continue object if else while do try when !in !is as? \" +\n\n      /*soft keywords*/\n      \"file import where by get set abstract enum open inner override private public internal \" +\n      \"protected catch finally out final vararg reified dynamic companion constructor init \" +\n      \"sealed field property receiver param sparam lateinit data inline noinline tailrec \" +\n      \"external annotation crossinline const operator infix\"\n    ),\n    types: words(\n      /* package java.lang */\n      \"Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable \" +\n      \"Compiler Double Exception Float Integer Long Math Number Object Package Pair Process \" +\n      \"Runtime Runnable SecurityManager Short StackTraceElement StrictMath String \" +\n      \"StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void\"\n    ),\n    intendSwitch: false,\n    indentStatements: false,\n    multiLineStrings: true,\n    blockKeywords: words(\"catch class do else finally for if where try while enum\"),\n    defKeywords: words(\"class val var object package interface fun\"),\n    atoms: words(\"true false null this\"),\n    hooks: {\n      '\"': function(stream, state) {\n        state.tokenize = tokenKotlinString(stream.match('\"\"'));\n        return state.tokenize(stream, state);\n      }\n    },\n    modeProps: {closeBrackets: {triples: '\"'}}\n  });\n\n  def([\"x-shader/x-vertex\", \"x-shader/x-fragment\"], {\n    name: \"clike\",\n    keywords: words(\"sampler1D sampler2D sampler3D samplerCube \" +\n                    \"sampler1DShadow sampler2DShadow \" +\n                    \"const attribute uniform varying \" +\n                    \"break continue discard return \" +\n                    \"for while do if else struct \" +\n                    \"in out inout\"),\n    types: words(\"float int bool void \" +\n                 \"vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 \" +\n                 \"mat2 mat3 mat4\"),\n    blockKeywords: words(\"for while do if else struct\"),\n    builtin: words(\"radians degrees sin cos tan asin acos atan \" +\n                    \"pow exp log exp2 sqrt inversesqrt \" +\n                    \"abs sign floor ceil fract mod min max clamp mix step smoothstep \" +\n                    \"length distance dot cross normalize ftransform faceforward \" +\n                    \"reflect refract matrixCompMult \" +\n                    \"lessThan lessThanEqual greaterThan greaterThanEqual \" +\n                    \"equal notEqual any all not \" +\n                    \"texture1D texture1DProj texture1DLod texture1DProjLod \" +\n                    \"texture2D texture2DProj texture2DLod texture2DProjLod \" +\n                    \"texture3D texture3DProj texture3DLod texture3DProjLod \" +\n                    \"textureCube textureCubeLod \" +\n                    \"shadow1D shadow2D shadow1DProj shadow2DProj \" +\n                    \"shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod \" +\n                    \"dFdx dFdy fwidth \" +\n                    \"noise1 noise2 noise3 noise4\"),\n    atoms: words(\"true false \" +\n                \"gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex \" +\n                \"gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 \" +\n                \"gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 \" +\n                \"gl_FogCoord gl_PointCoord \" +\n                \"gl_Position gl_PointSize gl_ClipVertex \" +\n                \"gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor \" +\n                \"gl_TexCoord gl_FogFragCoord \" +\n                \"gl_FragCoord gl_FrontFacing \" +\n                \"gl_FragData gl_FragDepth \" +\n                \"gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix \" +\n                \"gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse \" +\n                \"gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse \" +\n                \"gl_TexureMatrixTranspose gl_ModelViewMatrixInverseTranspose \" +\n                \"gl_ProjectionMatrixInverseTranspose \" +\n                \"gl_ModelViewProjectionMatrixInverseTranspose \" +\n                \"gl_TextureMatrixInverseTranspose \" +\n                \"gl_NormalScale gl_DepthRange gl_ClipPlane \" +\n                \"gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel \" +\n                \"gl_FrontLightModelProduct gl_BackLightModelProduct \" +\n                \"gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ \" +\n                \"gl_FogParameters \" +\n                \"gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords \" +\n                \"gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats \" +\n                \"gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits \" +\n                \"gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits \" +\n                \"gl_MaxDrawBuffers\"),\n    indentSwitch: false,\n    hooks: {\"#\": cppHook},\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  def(\"text/x-nesc\", {\n    name: \"clike\",\n    keywords: words(cKeywords + \"as atomic async call command component components configuration event generic \" +\n                    \"implementation includes interface module new norace nx_struct nx_union post provides \" +\n                    \"signal task uses abstract extends\"),\n    types: words(cTypes),\n    blockKeywords: words(\"case do else for if switch while struct\"),\n    atoms: words(\"null true false\"),\n    hooks: {\"#\": cppHook},\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  def(\"text/x-objectivec\", {\n    name: \"clike\",\n    keywords: words(cKeywords + \"inline restrict _Bool _Complex _Imaginary BOOL Class bycopy byref id IMP in \" +\n                    \"inout nil oneway out Protocol SEL self super atomic nonatomic retain copy readwrite readonly\"),\n    types: words(cTypes),\n    atoms: words(\"YES NO NULL NILL ON OFF true false\"),\n    hooks: {\n      \"@\": function(stream) {\n        stream.eatWhile(/[\\w\\$]/);\n        return \"keyword\";\n      },\n      \"#\": cppHook,\n      indent: function(_state, ctx, textAfter) {\n        if (ctx.type == \"statement\" && /^@\\w/.test(textAfter)) return ctx.indented\n      }\n    },\n    modeProps: {fold: \"brace\"}\n  });\n\n  def(\"text/x-squirrel\", {\n    name: \"clike\",\n    keywords: words(\"base break clone continue const default delete enum extends function in class\" +\n                    \" foreach local resume return this throw typeof yield constructor instanceof static\"),\n    types: words(cTypes),\n    blockKeywords: words(\"case catch class else for foreach if switch try while\"),\n    defKeywords: words(\"function local class\"),\n    typeFirstDefinitions: true,\n    atoms: words(\"true false null\"),\n    hooks: {\"#\": cppHook},\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  // Ceylon Strings need to deal with interpolation\n  var stringTokenizer = null;\n  function tokenCeylonString(type) {\n    return function(stream, state) {\n      var escaped = false, next, end = false;\n      while (!stream.eol()) {\n        if (!escaped && stream.match('\"') &&\n              (type == \"single\" || stream.match('\"\"'))) {\n          end = true;\n          break;\n        }\n        if (!escaped && stream.match('``')) {\n          stringTokenizer = tokenCeylonString(type);\n          end = true;\n          break;\n        }\n        next = stream.next();\n        escaped = type == \"single\" && !escaped && next == \"\\\\\";\n      }\n      if (end)\n          state.tokenize = null;\n      return \"string\";\n    }\n  }\n\n  def(\"text/x-ceylon\", {\n    name: \"clike\",\n    keywords: words(\"abstracts alias assembly assert assign break case catch class continue dynamic else\" +\n                    \" exists extends finally for function given if import in interface is let module new\" +\n                    \" nonempty object of out outer package return satisfies super switch then this throw\" +\n                    \" try value void while\"),\n    types: function(word) {\n        // In Ceylon all identifiers that start with an uppercase are types\n        var first = word.charAt(0);\n        return (first === first.toUpperCase() && first !== first.toLowerCase());\n    },\n    blockKeywords: words(\"case catch class dynamic else finally for function if interface module new object switch try while\"),\n    defKeywords: words(\"class dynamic function interface module object package value\"),\n    builtin: words(\"abstract actual aliased annotation by default deprecated doc final formal late license\" +\n                   \" native optional sealed see serializable shared suppressWarnings tagged throws variable\"),\n    isPunctuationChar: /[\\[\\]{}\\(\\),;\\:\\.`]/,\n    isOperatorChar: /[+\\-*&%=<>!?|^~:\\/]/,\n    numberStart: /[\\d#$]/,\n    number: /^(?:#[\\da-fA-F_]+|\\$[01_]+|[\\d_]+[kMGTPmunpf]?|[\\d_]+\\.[\\d_]+(?:[eE][-+]?\\d+|[kMGTPmunpf]|)|)/i,\n    multiLineStrings: true,\n    typeFirstDefinitions: true,\n    atoms: words(\"true false null larger smaller equal empty finished\"),\n    indentSwitch: false,\n    styleDefs: false,\n    hooks: {\n      \"@\": function(stream) {\n        stream.eatWhile(/[\\w\\$_]/);\n        return \"meta\";\n      },\n      '\"': function(stream, state) {\n          state.tokenize = tokenCeylonString(stream.match('\"\"') ? \"triple\" : \"single\");\n          return state.tokenize(stream, state);\n        },\n      '`': function(stream, state) {\n          if (!stringTokenizer || !stream.match('`')) return false;\n          state.tokenize = stringTokenizer;\n          stringTokenizer = null;\n          return state.tokenize(stream, state);\n        },\n      \"'\": function(stream) {\n        stream.eatWhile(/[\\w\\$_\\xa1-\\uffff]/);\n        return \"atom\";\n      },\n      token: function(_stream, state, style) {\n          if ((style == \"variable\" || style == \"variable-3\") &&\n              state.prevToken == \".\") {\n            return \"variable-2\";\n          }\n        }\n    },\n    modeProps: {\n        fold: [\"brace\", \"import\"],\n        closeBrackets: {triples: '\"'}\n    }\n  });\n\n});\n\n},{\"../../lib/codemirror\":7}],9:[function(require,module,exports){\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"css\", function(config, parserConfig) {\n  var inline = parserConfig.inline\n  if (!parserConfig.propertyKeywords) parserConfig = CodeMirror.resolveMode(\"text/css\");\n\n  var indentUnit = config.indentUnit,\n      tokenHooks = parserConfig.tokenHooks,\n      documentTypes = parserConfig.documentTypes || {},\n      mediaTypes = parserConfig.mediaTypes || {},\n      mediaFeatures = parserConfig.mediaFeatures || {},\n      mediaValueKeywords = parserConfig.mediaValueKeywords || {},\n      propertyKeywords = parserConfig.propertyKeywords || {},\n      nonStandardPropertyKeywords = parserConfig.nonStandardPropertyKeywords || {},\n      fontProperties = parserConfig.fontProperties || {},\n      counterDescriptors = parserConfig.counterDescriptors || {},\n      colorKeywords = parserConfig.colorKeywords || {},\n      valueKeywords = parserConfig.valueKeywords || {},\n      allowNested = parserConfig.allowNested,\n      supportsAtComponent = parserConfig.supportsAtComponent === true;\n\n  var type, override;\n  function ret(style, tp) { type = tp; return style; }\n\n  // Tokenizers\n\n  function tokenBase(stream, state) {\n    var ch = stream.next();\n    if (tokenHooks[ch]) {\n      var result = tokenHooks[ch](stream, state);\n      if (result !== false) return result;\n    }\n    if (ch == \"@\") {\n      stream.eatWhile(/[\\w\\\\\\-]/);\n      return ret(\"def\", stream.current());\n    } else if (ch == \"=\" || (ch == \"~\" || ch == \"|\") && stream.eat(\"=\")) {\n      return ret(null, \"compare\");\n    } else if (ch == \"\\\"\" || ch == \"'\") {\n      state.tokenize = tokenString(ch);\n      return state.tokenize(stream, state);\n    } else if (ch == \"#\") {\n      stream.eatWhile(/[\\w\\\\\\-]/);\n      return ret(\"atom\", \"hash\");\n    } else if (ch == \"!\") {\n      stream.match(/^\\s*\\w*/);\n      return ret(\"keyword\", \"important\");\n    } else if (/\\d/.test(ch) || ch == \".\" && stream.eat(/\\d/)) {\n      stream.eatWhile(/[\\w.%]/);\n      return ret(\"number\", \"unit\");\n    } else if (ch === \"-\") {\n      if (/[\\d.]/.test(stream.peek())) {\n        stream.eatWhile(/[\\w.%]/);\n        return ret(\"number\", \"unit\");\n      } else if (stream.match(/^-[\\w\\\\\\-]+/)) {\n        stream.eatWhile(/[\\w\\\\\\-]/);\n        if (stream.match(/^\\s*:/, false))\n          return ret(\"variable-2\", \"variable-definition\");\n        return ret(\"variable-2\", \"variable\");\n      } else if (stream.match(/^\\w+-/)) {\n        return ret(\"meta\", \"meta\");\n      }\n    } else if (/[,+>*\\/]/.test(ch)) {\n      return ret(null, \"select-op\");\n    } else if (ch == \".\" && stream.match(/^-?[_a-z][_a-z0-9-]*/i)) {\n      return ret(\"qualifier\", \"qualifier\");\n    } else if (/[:;{}\\[\\]\\(\\)]/.test(ch)) {\n      return ret(null, ch);\n    } else if ((ch == \"u\" && stream.match(/rl(-prefix)?\\(/)) ||\n               (ch == \"d\" && stream.match(\"omain(\")) ||\n               (ch == \"r\" && stream.match(\"egexp(\"))) {\n      stream.backUp(1);\n      state.tokenize = tokenParenthesized;\n      return ret(\"property\", \"word\");\n    } else if (/[\\w\\\\\\-]/.test(ch)) {\n      stream.eatWhile(/[\\w\\\\\\-]/);\n      return ret(\"property\", \"word\");\n    } else {\n      return ret(null, null);\n    }\n  }\n\n  function tokenString(quote) {\n    return function(stream, state) {\n      var escaped = false, ch;\n      while ((ch = stream.next()) != null) {\n        if (ch == quote && !escaped) {\n          if (quote == \")\") stream.backUp(1);\n          break;\n        }\n        escaped = !escaped && ch == \"\\\\\";\n      }\n      if (ch == quote || !escaped && quote != \")\") state.tokenize = null;\n      return ret(\"string\", \"string\");\n    };\n  }\n\n  function tokenParenthesized(stream, state) {\n    stream.next(); // Must be '('\n    if (!stream.match(/\\s*[\\\"\\')]/, false))\n      state.tokenize = tokenString(\")\");\n    else\n      state.tokenize = null;\n    return ret(null, \"(\");\n  }\n\n  // Context management\n\n  function Context(type, indent, prev) {\n    this.type = type;\n    this.indent = indent;\n    this.prev = prev;\n  }\n\n  function pushContext(state, stream, type, indent) {\n    state.context = new Context(type, stream.indentation() + (indent === false ? 0 : indentUnit), state.context);\n    return type;\n  }\n\n  function popContext(state) {\n    if (state.context.prev)\n      state.context = state.context.prev;\n    return state.context.type;\n  }\n\n  function pass(type, stream, state) {\n    return states[state.context.type](type, stream, state);\n  }\n  function popAndPass(type, stream, state, n) {\n    for (var i = n || 1; i > 0; i--)\n      state.context = state.context.prev;\n    return pass(type, stream, state);\n  }\n\n  // Parser\n\n  function wordAsValue(stream) {\n    var word = stream.current().toLowerCase();\n    if (valueKeywords.hasOwnProperty(word))\n      override = \"atom\";\n    else if (colorKeywords.hasOwnProperty(word))\n      override = \"keyword\";\n    else\n      override = \"variable\";\n  }\n\n  var states = {};\n\n  states.top = function(type, stream, state) {\n    if (type == \"{\") {\n      return pushContext(state, stream, \"block\");\n    } else if (type == \"}\" && state.context.prev) {\n      return popContext(state);\n    } else if (supportsAtComponent && /@component/.test(type)) {\n      return pushContext(state, stream, \"atComponentBlock\");\n    } else if (/^@(-moz-)?document$/.test(type)) {\n      return pushContext(state, stream, \"documentTypes\");\n    } else if (/^@(media|supports|(-moz-)?document|import)$/.test(type)) {\n      return pushContext(state, stream, \"atBlock\");\n    } else if (/^@(font-face|counter-style)/.test(type)) {\n      state.stateArg = type;\n      return \"restricted_atBlock_before\";\n    } else if (/^@(-(moz|ms|o|webkit)-)?keyframes$/.test(type)) {\n      return \"keyframes\";\n    } else if (type && type.charAt(0) == \"@\") {\n      return pushContext(state, stream, \"at\");\n    } else if (type == \"hash\") {\n      override = \"builtin\";\n    } else if (type == \"word\") {\n      override = \"tag\";\n    } else if (type == \"variable-definition\") {\n      return \"maybeprop\";\n    } else if (type == \"interpolation\") {\n      return pushContext(state, stream, \"interpolation\");\n    } else if (type == \":\") {\n      return \"pseudo\";\n    } else if (allowNested && type == \"(\") {\n      return pushContext(state, stream, \"parens\");\n    }\n    return state.context.type;\n  };\n\n  states.block = function(type, stream, state) {\n    if (type == \"word\") {\n      var word = stream.current().toLowerCase();\n      if (propertyKeywords.hasOwnProperty(word)) {\n        override = \"property\";\n        return \"maybeprop\";\n      } else if (nonStandardPropertyKeywords.hasOwnProperty(word)) {\n        override = \"string-2\";\n        return \"maybeprop\";\n      } else if (allowNested) {\n        override = stream.match(/^\\s*:(?:\\s|$)/, false) ? \"property\" : \"tag\";\n        return \"block\";\n      } else {\n        override += \" error\";\n        return \"maybeprop\";\n      }\n    } else if (type == \"meta\") {\n      return \"block\";\n    } else if (!allowNested && (type == \"hash\" || type == \"qualifier\")) {\n      override = \"error\";\n      return \"block\";\n    } else {\n      return states.top(type, stream, state);\n    }\n  };\n\n  states.maybeprop = function(type, stream, state) {\n    if (type == \":\") return pushContext(state, stream, \"prop\");\n    return pass(type, stream, state);\n  };\n\n  states.prop = function(type, stream, state) {\n    if (type == \";\") return popContext(state);\n    if (type == \"{\" && allowNested) return pushContext(state, stream, \"propBlock\");\n    if (type == \"}\" || type == \"{\") return popAndPass(type, stream, state);\n    if (type == \"(\") return pushContext(state, stream, \"parens\");\n\n    if (type == \"hash\" && !/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(stream.current())) {\n      override += \" error\";\n    } else if (type == \"word\") {\n      wordAsValue(stream);\n    } else if (type == \"interpolation\") {\n      return pushContext(state, stream, \"interpolation\");\n    }\n    return \"prop\";\n  };\n\n  states.propBlock = function(type, _stream, state) {\n    if (type == \"}\") return popContext(state);\n    if (type == \"word\") { override = \"property\"; return \"maybeprop\"; }\n    return state.context.type;\n  };\n\n  states.parens = function(type, stream, state) {\n    if (type == \"{\" || type == \"}\") return popAndPass(type, stream, state);\n    if (type == \")\") return popContext(state);\n    if (type == \"(\") return pushContext(state, stream, \"parens\");\n    if (type == \"interpolation\") return pushContext(state, stream, \"interpolation\");\n    if (type == \"word\") wordAsValue(stream);\n    return \"parens\";\n  };\n\n  states.pseudo = function(type, stream, state) {\n    if (type == \"word\") {\n      override = \"variable-3\";\n      return state.context.type;\n    }\n    return pass(type, stream, state);\n  };\n\n  states.documentTypes = function(type, stream, state) {\n    if (type == \"word\" && documentTypes.hasOwnProperty(stream.current())) {\n      override = \"tag\";\n      return state.context.type;\n    } else {\n      return states.atBlock(type, stream, state);\n    }\n  };\n\n  states.atBlock = function(type, stream, state) {\n    if (type == \"(\") return pushContext(state, stream, \"atBlock_parens\");\n    if (type == \"}\" || type == \";\") return popAndPass(type, stream, state);\n    if (type == \"{\") return popContext(state) && pushContext(state, stream, allowNested ? \"block\" : \"top\");\n\n    if (type == \"interpolation\") return pushContext(state, stream, \"interpolation\");\n\n    if (type == \"word\") {\n      var word = stream.current().toLowerCase();\n      if (word == \"only\" || word == \"not\" || word == \"and\" || word == \"or\")\n        override = \"keyword\";\n      else if (mediaTypes.hasOwnProperty(word))\n        override = \"attribute\";\n      else if (mediaFeatures.hasOwnProperty(word))\n        override = \"property\";\n      else if (mediaValueKeywords.hasOwnProperty(word))\n        override = \"keyword\";\n      else if (propertyKeywords.hasOwnProperty(word))\n        override = \"property\";\n      else if (nonStandardPropertyKeywords.hasOwnProperty(word))\n        override = \"string-2\";\n      else if (valueKeywords.hasOwnProperty(word))\n        override = \"atom\";\n      else if (colorKeywords.hasOwnProperty(word))\n        override = \"keyword\";\n      else\n        override = \"error\";\n    }\n    return state.context.type;\n  };\n\n  states.atComponentBlock = function(type, stream, state) {\n    if (type == \"}\")\n      return popAndPass(type, stream, state);\n    if (type == \"{\")\n      return popContext(state) && pushContext(state, stream, allowNested ? \"block\" : \"top\", false);\n    if (type == \"word\")\n      override = \"error\";\n    return state.context.type;\n  };\n\n  states.atBlock_parens = function(type, stream, state) {\n    if (type == \")\") return popContext(state);\n    if (type == \"{\" || type == \"}\") return popAndPass(type, stream, state, 2);\n    return states.atBlock(type, stream, state);\n  };\n\n  states.restricted_atBlock_before = function(type, stream, state) {\n    if (type == \"{\")\n      return pushContext(state, stream, \"restricted_atBlock\");\n    if (type == \"word\" && state.stateArg == \"@counter-style\") {\n      override = \"variable\";\n      return \"restricted_atBlock_before\";\n    }\n    return pass(type, stream, state);\n  };\n\n  states.restricted_atBlock = function(type, stream, state) {\n    if (type == \"}\") {\n      state.stateArg = null;\n      return popContext(state);\n    }\n    if (type == \"word\") {\n      if ((state.stateArg == \"@font-face\" && !fontProperties.hasOwnProperty(stream.current().toLowerCase())) ||\n          (state.stateArg == \"@counter-style\" && !counterDescriptors.hasOwnProperty(stream.current().toLowerCase())))\n        override = \"error\";\n      else\n        override = \"property\";\n      return \"maybeprop\";\n    }\n    return \"restricted_atBlock\";\n  };\n\n  states.keyframes = function(type, stream, state) {\n    if (type == \"word\") { override = \"variable\"; return \"keyframes\"; }\n    if (type == \"{\") return pushContext(state, stream, \"top\");\n    return pass(type, stream, state);\n  };\n\n  states.at = function(type, stream, state) {\n    if (type == \";\") return popContext(state);\n    if (type == \"{\" || type == \"}\") return popAndPass(type, stream, state);\n    if (type == \"word\") override = \"tag\";\n    else if (type == \"hash\") override = \"builtin\";\n    return \"at\";\n  };\n\n  states.interpolation = function(type, stream, state) {\n    if (type == \"}\") return popContext(state);\n    if (type == \"{\" || type == \";\") return popAndPass(type, stream, state);\n    if (type == \"word\") override = \"variable\";\n    else if (type != \"variable\" && type != \"(\" && type != \")\") override = \"error\";\n    return \"interpolation\";\n  };\n\n  return {\n    startState: function(base) {\n      return {tokenize: null,\n              state: inline ? \"block\" : \"top\",\n              stateArg: null,\n              context: new Context(inline ? \"block\" : \"top\", base || 0, null)};\n    },\n\n    token: function(stream, state) {\n      if (!state.tokenize && stream.eatSpace()) return null;\n      var style = (state.tokenize || tokenBase)(stream, state);\n      if (style && typeof style == \"object\") {\n        type = style[1];\n        style = style[0];\n      }\n      override = style;\n      state.state = states[state.state](type, stream, state);\n      return override;\n    },\n\n    indent: function(state, textAfter) {\n      var cx = state.context, ch = textAfter && textAfter.charAt(0);\n      var indent = cx.indent;\n      if (cx.type == \"prop\" && (ch == \"}\" || ch == \")\")) cx = cx.prev;\n      if (cx.prev) {\n        if (ch == \"}\" && (cx.type == \"block\" || cx.type == \"top\" ||\n                          cx.type == \"interpolation\" || cx.type == \"restricted_atBlock\")) {\n          // Resume indentation from parent context.\n          cx = cx.prev;\n          indent = cx.indent;\n        } else if (ch == \")\" && (cx.type == \"parens\" || cx.type == \"atBlock_parens\") ||\n            ch == \"{\" && (cx.type == \"at\" || cx.type == \"atBlock\")) {\n          // Dedent relative to current context.\n          indent = Math.max(0, cx.indent - indentUnit);\n          cx = cx.prev;\n        }\n      }\n      return indent;\n    },\n\n    electricChars: \"}\",\n    blockCommentStart: \"/*\",\n    blockCommentEnd: \"*/\",\n    fold: \"brace\"\n  };\n});\n\n  function keySet(array) {\n    var keys = {};\n    for (var i = 0; i < array.length; ++i) {\n      keys[array[i]] = true;\n    }\n    return keys;\n  }\n\n  var documentTypes_ = [\n    \"domain\", \"regexp\", \"url\", \"url-prefix\"\n  ], documentTypes = keySet(documentTypes_);\n\n  var mediaTypes_ = [\n    \"all\", \"aural\", \"braille\", \"handheld\", \"print\", \"projection\", \"screen\",\n    \"tty\", \"tv\", \"embossed\"\n  ], mediaTypes = keySet(mediaTypes_);\n\n  var mediaFeatures_ = [\n    \"width\", \"min-width\", \"max-width\", \"height\", \"min-height\", \"max-height\",\n    \"device-width\", \"min-device-width\", \"max-device-width\", \"device-height\",\n    \"min-device-height\", \"max-device-height\", \"aspect-ratio\",\n    \"min-aspect-ratio\", \"max-aspect-ratio\", \"device-aspect-ratio\",\n    \"min-device-aspect-ratio\", \"max-device-aspect-ratio\", \"color\", \"min-color\",\n    \"max-color\", \"color-index\", \"min-color-index\", \"max-color-index\",\n    \"monochrome\", \"min-monochrome\", \"max-monochrome\", \"resolution\",\n    \"min-resolution\", \"max-resolution\", \"scan\", \"grid\", \"orientation\",\n    \"device-pixel-ratio\", \"min-device-pixel-ratio\", \"max-device-pixel-ratio\",\n    \"pointer\", \"any-pointer\", \"hover\", \"any-hover\"\n  ], mediaFeatures = keySet(mediaFeatures_);\n\n  var mediaValueKeywords_ = [\n    \"landscape\", \"portrait\", \"none\", \"coarse\", \"fine\", \"on-demand\", \"hover\",\n    \"interlace\", \"progressive\"\n  ], mediaValueKeywords = keySet(mediaValueKeywords_);\n\n  var propertyKeywords_ = [\n    \"align-content\", \"align-items\", \"align-self\", \"alignment-adjust\",\n    \"alignment-baseline\", \"anchor-point\", \"animation\", \"animation-delay\",\n    \"animation-direction\", \"animation-duration\", \"animation-fill-mode\",\n    \"animation-iteration-count\", \"animation-name\", \"animation-play-state\",\n    \"animation-timing-function\", \"appearance\", \"azimuth\", \"backface-visibility\",\n    \"background\", \"background-attachment\", \"background-blend-mode\", \"background-clip\",\n    \"background-color\", \"background-image\", \"background-origin\", \"background-position\",\n    \"background-repeat\", \"background-size\", \"baseline-shift\", \"binding\",\n    \"bleed\", \"bookmark-label\", \"bookmark-level\", \"bookmark-state\",\n    \"bookmark-target\", \"border\", \"border-bottom\", \"border-bottom-color\",\n    \"border-bottom-left-radius\", \"border-bottom-right-radius\",\n    \"border-bottom-style\", \"border-bottom-width\", \"border-collapse\",\n    \"border-color\", \"border-image\", \"border-image-outset\",\n    \"border-image-repeat\", \"border-image-slice\", \"border-image-source\",\n    \"border-image-width\", \"border-left\", \"border-left-color\",\n    \"border-left-style\", \"border-left-width\", \"border-radius\", \"border-right\",\n    \"border-right-color\", \"border-right-style\", \"border-right-width\",\n    \"border-spacing\", \"border-style\", \"border-top\", \"border-top-color\",\n    \"border-top-left-radius\", \"border-top-right-radius\", \"border-top-style\",\n    \"border-top-width\", \"border-width\", \"bottom\", \"box-decoration-break\",\n    \"box-shadow\", \"box-sizing\", \"break-after\", \"break-before\", \"break-inside\",\n    \"caption-side\", \"clear\", \"clip\", \"color\", \"color-profile\", \"column-count\",\n    \"column-fill\", \"column-gap\", \"column-rule\", \"column-rule-color\",\n    \"column-rule-style\", \"column-rule-width\", \"column-span\", \"column-width\",\n    \"columns\", \"content\", \"counter-increment\", \"counter-reset\", \"crop\", \"cue\",\n    \"cue-after\", \"cue-before\", \"cursor\", \"direction\", \"display\",\n    \"dominant-baseline\", \"drop-initial-after-adjust\",\n    \"drop-initial-after-align\", \"drop-initial-before-adjust\",\n    \"drop-initial-before-align\", \"drop-initial-size\", \"drop-initial-value\",\n    \"elevation\", \"empty-cells\", \"fit\", \"fit-position\", \"flex\", \"flex-basis\",\n    \"flex-direction\", \"flex-flow\", \"flex-grow\", \"flex-shrink\", \"flex-wrap\",\n    \"float\", \"float-offset\", \"flow-from\", \"flow-into\", \"font\", \"font-feature-settings\",\n    \"font-family\", \"font-kerning\", \"font-language-override\", \"font-size\", \"font-size-adjust\",\n    \"font-stretch\", \"font-style\", \"font-synthesis\", \"font-variant\",\n    \"font-variant-alternates\", \"font-variant-caps\", \"font-variant-east-asian\",\n    \"font-variant-ligatures\", \"font-variant-numeric\", \"font-variant-position\",\n    \"font-weight\", \"grid\", \"grid-area\", \"grid-auto-columns\", \"grid-auto-flow\",\n    \"grid-auto-rows\", \"grid-column\", \"grid-column-end\", \"grid-column-gap\",\n    \"grid-column-start\", \"grid-gap\", \"grid-row\", \"grid-row-end\", \"grid-row-gap\",\n    \"grid-row-start\", \"grid-template\", \"grid-template-areas\", \"grid-template-columns\",\n    \"grid-template-rows\", \"hanging-punctuation\", \"height\", \"hyphens\",\n    \"icon\", \"image-orientation\", \"image-rendering\", \"image-resolution\",\n    \"inline-box-align\", \"justify-content\", \"left\", \"letter-spacing\",\n    \"line-break\", \"line-height\", \"line-stacking\", \"line-stacking-ruby\",\n    \"line-stacking-shift\", \"line-stacking-strategy\", \"list-style\",\n    \"list-style-image\", \"list-style-position\", \"list-style-type\", \"margin\",\n    \"margin-bottom\", \"margin-left\", \"margin-right\", \"margin-top\",\n    \"marker-offset\", \"marks\", \"marquee-direction\", \"marquee-loop\",\n    \"marquee-play-count\", \"marquee-speed\", \"marquee-style\", \"max-height\",\n    \"max-width\", \"min-height\", \"min-width\", \"move-to\", \"nav-down\", \"nav-index\",\n    \"nav-left\", \"nav-right\", \"nav-up\", \"object-fit\", \"object-position\",\n    \"opacity\", \"order\", \"orphans\", \"outline\",\n    \"outline-color\", \"outline-offset\", \"outline-style\", \"outline-width\",\n    \"overflow\", \"overflow-style\", \"overflow-wrap\", \"overflow-x\", \"overflow-y\",\n    \"padding\", \"padding-bottom\", \"padding-left\", \"padding-right\", \"padding-top\",\n    \"page\", \"page-break-after\", \"page-break-before\", \"page-break-inside\",\n    \"page-policy\", \"pause\", \"pause-after\", \"pause-before\", \"perspective\",\n    \"perspective-origin\", \"pitch\", \"pitch-range\", \"play-during\", \"position\",\n    \"presentation-level\", \"punctuation-trim\", \"quotes\", \"region-break-after\",\n    \"region-break-before\", \"region-break-inside\", \"region-fragment\",\n    \"rendering-intent\", \"resize\", \"rest\", \"rest-after\", \"rest-before\", \"richness\",\n    \"right\", \"rotation\", \"rotation-point\", \"ruby-align\", \"ruby-overhang\",\n    \"ruby-position\", \"ruby-span\", \"shape-image-threshold\", \"shape-inside\", \"shape-margin\",\n    \"shape-outside\", \"size\", \"speak\", \"speak-as\", \"speak-header\",\n    \"speak-numeral\", \"speak-punctuation\", \"speech-rate\", \"stress\", \"string-set\",\n    \"tab-size\", \"table-layout\", \"target\", \"target-name\", \"target-new\",\n    \"target-position\", \"text-align\", \"text-align-last\", \"text-decoration\",\n    \"text-decoration-color\", \"text-decoration-line\", \"text-decoration-skip\",\n    \"text-decoration-style\", \"text-emphasis\", \"text-emphasis-color\",\n    \"text-emphasis-position\", \"text-emphasis-style\", \"text-height\",\n    \"text-indent\", \"text-justify\", \"text-outline\", \"text-overflow\", \"text-shadow\",\n    \"text-size-adjust\", \"text-space-collapse\", \"text-transform\", \"text-underline-position\",\n    \"text-wrap\", \"top\", \"transform\", \"transform-origin\", \"transform-style\",\n    \"transition\", \"transition-delay\", \"transition-duration\",\n    \"transition-property\", \"transition-timing-function\", \"unicode-bidi\",\n    \"vertical-align\", \"visibility\", \"voice-balance\", \"voice-duration\",\n    \"voice-family\", \"voice-pitch\", \"voice-range\", \"voice-rate\", \"voice-stress\",\n    \"voice-volume\", \"volume\", \"white-space\", \"widows\", \"width\", \"word-break\",\n    \"word-spacing\", \"word-wrap\", \"z-index\",\n    // SVG-specific\n    \"clip-path\", \"clip-rule\", \"mask\", \"enable-background\", \"filter\", \"flood-color\",\n    \"flood-opacity\", \"lighting-color\", \"stop-color\", \"stop-opacity\", \"pointer-events\",\n    \"color-interpolation\", \"color-interpolation-filters\",\n    \"color-rendering\", \"fill\", \"fill-opacity\", \"fill-rule\", \"image-rendering\",\n    \"marker\", \"marker-end\", \"marker-mid\", \"marker-start\", \"shape-rendering\", \"stroke\",\n    \"stroke-dasharray\", \"stroke-dashoffset\", \"stroke-linecap\", \"stroke-linejoin\",\n    \"stroke-miterlimit\", \"stroke-opacity\", \"stroke-width\", \"text-rendering\",\n    \"baseline-shift\", \"dominant-baseline\", \"glyph-orientation-horizontal\",\n    \"glyph-orientation-vertical\", \"text-anchor\", \"writing-mode\"\n  ], propertyKeywords = keySet(propertyKeywords_);\n\n  var nonStandardPropertyKeywords_ = [\n    \"scrollbar-arrow-color\", \"scrollbar-base-color\", \"scrollbar-dark-shadow-color\",\n    \"scrollbar-face-color\", \"scrollbar-highlight-color\", \"scrollbar-shadow-color\",\n    \"scrollbar-3d-light-color\", \"scrollbar-track-color\", \"shape-inside\",\n    \"searchfield-cancel-button\", \"searchfield-decoration\", \"searchfield-results-button\",\n    \"searchfield-results-decoration\", \"zoom\"\n  ], nonStandardPropertyKeywords = keySet(nonStandardPropertyKeywords_);\n\n  var fontProperties_ = [\n    \"font-family\", \"src\", \"unicode-range\", \"font-variant\", \"font-feature-settings\",\n    \"font-stretch\", \"font-weight\", \"font-style\"\n  ], fontProperties = keySet(fontProperties_);\n\n  var counterDescriptors_ = [\n    \"additive-symbols\", \"fallback\", \"negative\", \"pad\", \"prefix\", \"range\",\n    \"speak-as\", \"suffix\", \"symbols\", \"system\"\n  ], counterDescriptors = keySet(counterDescriptors_);\n\n  var colorKeywords_ = [\n    \"aliceblue\", \"antiquewhite\", \"aqua\", \"aquamarine\", \"azure\", \"beige\",\n    \"bisque\", \"black\", \"blanchedalmond\", \"blue\", \"blueviolet\", \"brown\",\n    \"burlywood\", \"cadetblue\", \"chartreuse\", \"chocolate\", \"coral\", \"cornflowerblue\",\n    \"cornsilk\", \"crimson\", \"cyan\", \"darkblue\", \"darkcyan\", \"darkgoldenrod\",\n    \"darkgray\", \"darkgreen\", \"darkkhaki\", \"darkmagenta\", \"darkolivegreen\",\n    \"darkorange\", \"darkorchid\", \"darkred\", \"darksalmon\", \"darkseagreen\",\n    \"darkslateblue\", \"darkslategray\", \"darkturquoise\", \"darkviolet\",\n    \"deeppink\", \"deepskyblue\", \"dimgray\", \"dodgerblue\", \"firebrick\",\n    \"floralwhite\", \"forestgreen\", \"fuchsia\", \"gainsboro\", \"ghostwhite\",\n    \"gold\", \"goldenrod\", \"gray\", \"grey\", \"green\", \"greenyellow\", \"honeydew\",\n    \"hotpink\", \"indianred\", \"indigo\", \"ivory\", \"khaki\", \"lavender\",\n    \"lavenderblush\", \"lawngreen\", \"lemonchiffon\", \"lightblue\", \"lightcoral\",\n    \"lightcyan\", \"lightgoldenrodyellow\", \"lightgray\", \"lightgreen\", \"lightpink\",\n    \"lightsalmon\", \"lightseagreen\", \"lightskyblue\", \"lightslategray\",\n    \"lightsteelblue\", \"lightyellow\", \"lime\", \"limegreen\", \"linen\", \"magenta\",\n    \"maroon\", \"mediumaquamarine\", \"mediumblue\", \"mediumorchid\", \"mediumpurple\",\n    \"mediumseagreen\", \"mediumslateblue\", \"mediumspringgreen\", \"mediumturquoise\",\n    \"mediumvioletred\", \"midnightblue\", \"mintcream\", \"mistyrose\", \"moccasin\",\n    \"navajowhite\", \"navy\", \"oldlace\", \"olive\", \"olivedrab\", \"orange\", \"orangered\",\n    \"orchid\", \"palegoldenrod\", \"palegreen\", \"paleturquoise\", \"palevioletred\",\n    \"papayawhip\", \"peachpuff\", \"peru\", \"pink\", \"plum\", \"powderblue\",\n    \"purple\", \"rebeccapurple\", \"red\", \"rosybrown\", \"royalblue\", \"saddlebrown\",\n    \"salmon\", \"sandybrown\", \"seagreen\", \"seashell\", \"sienna\", \"silver\", \"skyblue\",\n    \"slateblue\", \"slategray\", \"snow\", \"springgreen\", \"steelblue\", \"tan\",\n    \"teal\", \"thistle\", \"tomato\", \"turquoise\", \"violet\", \"wheat\", \"white\",\n    \"whitesmoke\", \"yellow\", \"yellowgreen\"\n  ], colorKeywords = keySet(colorKeywords_);\n\n  var valueKeywords_ = [\n    \"above\", \"absolute\", \"activeborder\", \"additive\", \"activecaption\", \"afar\",\n    \"after-white-space\", \"ahead\", \"alias\", \"all\", \"all-scroll\", \"alphabetic\", \"alternate\",\n    \"always\", \"amharic\", \"amharic-abegede\", \"antialiased\", \"appworkspace\",\n    \"arabic-indic\", \"armenian\", \"asterisks\", \"attr\", \"auto\", \"avoid\", \"avoid-column\", \"avoid-page\",\n    \"avoid-region\", \"background\", \"backwards\", \"baseline\", \"below\", \"bidi-override\", \"binary\",\n    \"bengali\", \"blink\", \"block\", \"block-axis\", \"bold\", \"bolder\", \"border\", \"border-box\",\n    \"both\", \"bottom\", \"break\", \"break-all\", \"break-word\", \"bullets\", \"button\", \"button-bevel\",\n    \"buttonface\", \"buttonhighlight\", \"buttonshadow\", \"buttontext\", \"calc\", \"cambodian\",\n    \"capitalize\", \"caps-lock-indicator\", \"caption\", \"captiontext\", \"caret\",\n    \"cell\", \"center\", \"checkbox\", \"circle\", \"cjk-decimal\", \"cjk-earthly-branch\",\n    \"cjk-heavenly-stem\", \"cjk-ideographic\", \"clear\", \"clip\", \"close-quote\",\n    \"col-resize\", \"collapse\", \"color\", \"color-burn\", \"color-dodge\", \"column\", \"column-reverse\",\n    \"compact\", \"condensed\", \"contain\", \"content\",\n    \"content-box\", \"context-menu\", \"continuous\", \"copy\", \"counter\", \"counters\", \"cover\", \"crop\",\n    \"cross\", \"crosshair\", \"currentcolor\", \"cursive\", \"cyclic\", \"darken\", \"dashed\", \"decimal\",\n    \"decimal-leading-zero\", \"default\", \"default-button\", \"dense\", \"destination-atop\",\n    \"destination-in\", \"destination-out\", \"destination-over\", \"devanagari\", \"difference\",\n    \"disc\", \"discard\", \"disclosure-closed\", \"disclosure-open\", \"document\",\n    \"dot-dash\", \"dot-dot-dash\",\n    \"dotted\", \"double\", \"down\", \"e-resize\", \"ease\", \"ease-in\", \"ease-in-out\", \"ease-out\",\n    \"element\", \"ellipse\", \"ellipsis\", \"embed\", \"end\", \"ethiopic\", \"ethiopic-abegede\",\n    \"ethiopic-abegede-am-et\", \"ethiopic-abegede-gez\", \"ethiopic-abegede-ti-er\",\n    \"ethiopic-abegede-ti-et\", \"ethiopic-halehame-aa-er\",\n    \"ethiopic-halehame-aa-et\", \"ethiopic-halehame-am-et\",\n    \"ethiopic-halehame-gez\", \"ethiopic-halehame-om-et\",\n    \"ethiopic-halehame-sid-et\", \"ethiopic-halehame-so-et\",\n    \"ethiopic-halehame-ti-er\", \"ethiopic-halehame-ti-et\", \"ethiopic-halehame-tig\",\n    \"ethiopic-numeric\", \"ew-resize\", \"exclusion\", \"expanded\", \"extends\", \"extra-condensed\",\n    \"extra-expanded\", \"fantasy\", \"fast\", \"fill\", \"fixed\", \"flat\", \"flex\", \"flex-end\", \"flex-start\", \"footnotes\",\n    \"forwards\", \"from\", \"geometricPrecision\", \"georgian\", \"graytext\", \"grid\", \"groove\",\n    \"gujarati\", \"gurmukhi\", \"hand\", \"hangul\", \"hangul-consonant\", \"hard-light\", \"hebrew\",\n    \"help\", \"hidden\", \"hide\", \"higher\", \"highlight\", \"highlighttext\",\n    \"hiragana\", \"hiragana-iroha\", \"horizontal\", \"hsl\", \"hsla\", \"hue\", \"icon\", \"ignore\",\n    \"inactiveborder\", \"inactivecaption\", \"inactivecaptiontext\", \"infinite\",\n    \"infobackground\", \"infotext\", \"inherit\", \"initial\", \"inline\", \"inline-axis\",\n    \"inline-block\", \"inline-flex\", \"inline-grid\", \"inline-table\", \"inset\", \"inside\", \"intrinsic\", \"invert\",\n    \"italic\", \"japanese-formal\", \"japanese-informal\", \"justify\", \"kannada\",\n    \"katakana\", \"katakana-iroha\", \"keep-all\", \"khmer\",\n    \"korean-hangul-formal\", \"korean-hanja-formal\", \"korean-hanja-informal\",\n    \"landscape\", \"lao\", \"large\", \"larger\", \"left\", \"level\", \"lighter\", \"lighten\",\n    \"line-through\", \"linear\", \"linear-gradient\", \"lines\", \"list-item\", \"listbox\", \"listitem\",\n    \"local\", \"logical\", \"loud\", \"lower\", \"lower-alpha\", \"lower-armenian\",\n    \"lower-greek\", \"lower-hexadecimal\", \"lower-latin\", \"lower-norwegian\",\n    \"lower-roman\", \"lowercase\", \"ltr\", \"luminosity\", \"malayalam\", \"match\", \"matrix\", \"matrix3d\",\n    \"media-controls-background\", \"media-current-time-display\",\n    \"media-fullscreen-button\", \"media-mute-button\", \"media-play-button\",\n    \"media-return-to-realtime-button\", \"media-rewind-button\",\n    \"media-seek-back-button\", \"media-seek-forward-button\", \"media-slider\",\n    \"media-sliderthumb\", \"media-time-remaining-display\", \"media-volume-slider\",\n    \"media-volume-slider-container\", \"media-volume-sliderthumb\", \"medium\",\n    \"menu\", \"menulist\", \"menulist-button\", \"menulist-text\",\n    \"menulist-textfield\", \"menutext\", \"message-box\", \"middle\", \"min-intrinsic\",\n    \"mix\", \"mongolian\", \"monospace\", \"move\", \"multiple\", \"multiply\", \"myanmar\", \"n-resize\",\n    \"narrower\", \"ne-resize\", \"nesw-resize\", \"no-close-quote\", \"no-drop\",\n    \"no-open-quote\", \"no-repeat\", \"none\", \"normal\", \"not-allowed\", \"nowrap\",\n    \"ns-resize\", \"numbers\", \"numeric\", \"nw-resize\", \"nwse-resize\", \"oblique\", \"octal\", \"open-quote\",\n    \"optimizeLegibility\", \"optimizeSpeed\", \"oriya\", \"oromo\", \"outset\",\n    \"outside\", \"outside-shape\", \"overlay\", \"overline\", \"padding\", \"padding-box\",\n    \"painted\", \"page\", \"paused\", \"persian\", \"perspective\", \"plus-darker\", \"plus-lighter\",\n    \"pointer\", \"polygon\", \"portrait\", \"pre\", \"pre-line\", \"pre-wrap\", \"preserve-3d\",\n    \"progress\", \"push-button\", \"radial-gradient\", \"radio\", \"read-only\",\n    \"read-write\", \"read-write-plaintext-only\", \"rectangle\", \"region\",\n    \"relative\", \"repeat\", \"repeating-linear-gradient\",\n    \"repeating-radial-gradient\", \"repeat-x\", \"repeat-y\", \"reset\", \"reverse\",\n    \"rgb\", \"rgba\", \"ridge\", \"right\", \"rotate\", \"rotate3d\", \"rotateX\", \"rotateY\",\n    \"rotateZ\", \"round\", \"row\", \"row-resize\", \"row-reverse\", \"rtl\", \"run-in\", \"running\",\n    \"s-resize\", \"sans-serif\", \"saturation\", \"scale\", \"scale3d\", \"scaleX\", \"scaleY\", \"scaleZ\", \"screen\",\n    \"scroll\", \"scrollbar\", \"se-resize\", \"searchfield\",\n    \"searchfield-cancel-button\", \"searchfield-decoration\",\n    \"searchfield-results-button\", \"searchfield-results-decoration\",\n    \"semi-condensed\", \"semi-expanded\", \"separate\", \"serif\", \"show\", \"sidama\",\n    \"simp-chinese-formal\", \"simp-chinese-informal\", \"single\",\n    \"skew\", \"skewX\", \"skewY\", \"skip-white-space\", \"slide\", \"slider-horizontal\",\n    \"slider-vertical\", \"sliderthumb-horizontal\", \"sliderthumb-vertical\", \"slow\",\n    \"small\", \"small-caps\", \"small-caption\", \"smaller\", \"soft-light\", \"solid\", \"somali\",\n    \"source-atop\", \"source-in\", \"source-out\", \"source-over\", \"space\", \"space-around\", \"space-between\", \"spell-out\", \"square\",\n    \"square-button\", \"start\", \"static\", \"status-bar\", \"stretch\", \"stroke\", \"sub\",\n    \"subpixel-antialiased\", \"super\", \"sw-resize\", \"symbolic\", \"symbols\", \"table\",\n    \"table-caption\", \"table-cell\", \"table-column\", \"table-column-group\",\n    \"table-footer-group\", \"table-header-group\", \"table-row\", \"table-row-group\",\n    \"tamil\",\n    \"telugu\", \"text\", \"text-bottom\", \"text-top\", \"textarea\", \"textfield\", \"thai\",\n    \"thick\", \"thin\", \"threeddarkshadow\", \"threedface\", \"threedhighlight\",\n    \"threedlightshadow\", \"threedshadow\", \"tibetan\", \"tigre\", \"tigrinya-er\",\n    \"tigrinya-er-abegede\", \"tigrinya-et\", \"tigrinya-et-abegede\", \"to\", \"top\",\n    \"trad-chinese-formal\", \"trad-chinese-informal\",\n    \"translate\", \"translate3d\", \"translateX\", \"translateY\", \"translateZ\",\n    \"transparent\", \"ultra-condensed\", \"ultra-expanded\", \"underline\", \"up\",\n    \"upper-alpha\", \"upper-armenian\", \"upper-greek\", \"upper-hexadecimal\",\n    \"upper-latin\", \"upper-norwegian\", \"upper-roman\", \"uppercase\", \"urdu\", \"url\",\n    \"var\", \"vertical\", \"vertical-text\", \"visible\", \"visibleFill\", \"visiblePainted\",\n    \"visibleStroke\", \"visual\", \"w-resize\", \"wait\", \"wave\", \"wider\",\n    \"window\", \"windowframe\", \"windowtext\", \"words\", \"wrap\", \"wrap-reverse\", \"x-large\", \"x-small\", \"xor\",\n    \"xx-large\", \"xx-small\"\n  ], valueKeywords = keySet(valueKeywords_);\n\n  var allWords = documentTypes_.concat(mediaTypes_).concat(mediaFeatures_).concat(mediaValueKeywords_)\n    .concat(propertyKeywords_).concat(nonStandardPropertyKeywords_).concat(colorKeywords_)\n    .concat(valueKeywords_);\n  CodeMirror.registerHelper(\"hintWords\", \"css\", allWords);\n\n  function tokenCComment(stream, state) {\n    var maybeEnd = false, ch;\n    while ((ch = stream.next()) != null) {\n      if (maybeEnd && ch == \"/\") {\n        state.tokenize = null;\n        break;\n      }\n      maybeEnd = (ch == \"*\");\n    }\n    return [\"comment\", \"comment\"];\n  }\n\n  CodeMirror.defineMIME(\"text/css\", {\n    documentTypes: documentTypes,\n    mediaTypes: mediaTypes,\n    mediaFeatures: mediaFeatures,\n    mediaValueKeywords: mediaValueKeywords,\n    propertyKeywords: propertyKeywords,\n    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n    fontProperties: fontProperties,\n    counterDescriptors: counterDescriptors,\n    colorKeywords: colorKeywords,\n    valueKeywords: valueKeywords,\n    tokenHooks: {\n      \"/\": function(stream, state) {\n        if (!stream.eat(\"*\")) return false;\n        state.tokenize = tokenCComment;\n        return tokenCComment(stream, state);\n      }\n    },\n    name: \"css\"\n  });\n\n  CodeMirror.defineMIME(\"text/x-scss\", {\n    mediaTypes: mediaTypes,\n    mediaFeatures: mediaFeatures,\n    mediaValueKeywords: mediaValueKeywords,\n    propertyKeywords: propertyKeywords,\n    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n    colorKeywords: colorKeywords,\n    valueKeywords: valueKeywords,\n    fontProperties: fontProperties,\n    allowNested: true,\n    tokenHooks: {\n      \"/\": function(stream, state) {\n        if (stream.eat(\"/\")) {\n          stream.skipToEnd();\n          return [\"comment\", \"comment\"];\n        } else if (stream.eat(\"*\")) {\n          state.tokenize = tokenCComment;\n          return tokenCComment(stream, state);\n        } else {\n          return [\"operator\", \"operator\"];\n        }\n      },\n      \":\": function(stream) {\n        if (stream.match(/\\s*\\{/))\n          return [null, \"{\"];\n        return false;\n      },\n      \"$\": function(stream) {\n        stream.match(/^[\\w-]+/);\n        if (stream.match(/^\\s*:/, false))\n          return [\"variable-2\", \"variable-definition\"];\n        return [\"variable-2\", \"variable\"];\n      },\n      \"#\": function(stream) {\n        if (!stream.eat(\"{\")) return false;\n        return [null, \"interpolation\"];\n      }\n    },\n    name: \"css\",\n    helperType: \"scss\"\n  });\n\n  CodeMirror.defineMIME(\"text/x-less\", {\n    mediaTypes: mediaTypes,\n    mediaFeatures: mediaFeatures,\n    mediaValueKeywords: mediaValueKeywords,\n    propertyKeywords: propertyKeywords,\n    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n    colorKeywords: colorKeywords,\n    valueKeywords: valueKeywords,\n    fontProperties: fontProperties,\n    allowNested: true,\n    tokenHooks: {\n      \"/\": function(stream, state) {\n        if (stream.eat(\"/\")) {\n          stream.skipToEnd();\n          return [\"comment\", \"comment\"];\n        } else if (stream.eat(\"*\")) {\n          state.tokenize = tokenCComment;\n          return tokenCComment(stream, state);\n        } else {\n          return [\"operator\", \"operator\"];\n        }\n      },\n      \"@\": function(stream) {\n        if (stream.eat(\"{\")) return [null, \"interpolation\"];\n        if (stream.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\\b/, false)) return false;\n        stream.eatWhile(/[\\w\\\\\\-]/);\n        if (stream.match(/^\\s*:/, false))\n          return [\"variable-2\", \"variable-definition\"];\n        return [\"variable-2\", \"variable\"];\n      },\n      \"&\": function() {\n        return [\"atom\", \"atom\"];\n      }\n    },\n    name: \"css\",\n    helperType: \"less\"\n  });\n\n  CodeMirror.defineMIME(\"text/x-gss\", {\n    documentTypes: documentTypes,\n    mediaTypes: mediaTypes,\n    mediaFeatures: mediaFeatures,\n    propertyKeywords: propertyKeywords,\n    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n    fontProperties: fontProperties,\n    counterDescriptors: counterDescriptors,\n    colorKeywords: colorKeywords,\n    valueKeywords: valueKeywords,\n    supportsAtComponent: true,\n    tokenHooks: {\n      \"/\": function(stream, state) {\n        if (!stream.eat(\"*\")) return false;\n        state.tokenize = tokenCComment;\n        return tokenCComment(stream, state);\n      }\n    },\n    name: \"css\",\n    helperType: \"gss\"\n  });\n\n});\n\n},{\"../../lib/codemirror\":7}],10:[function(require,module,exports){\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"../xml/xml\"), require(\"../javascript/javascript\"), require(\"../css/css\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"../xml/xml\", \"../javascript/javascript\", \"../css/css\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var defaultTags = {\n    script: [\n      [\"lang\", /(javascript|babel)/i, \"javascript\"],\n      [\"type\", /^(?:text|application)\\/(?:x-)?(?:java|ecma)script$|^$/i, \"javascript\"],\n      [\"type\", /./, \"text/plain\"],\n      [null, null, \"javascript\"]\n    ],\n    style:  [\n      [\"lang\", /^css$/i, \"css\"],\n      [\"type\", /^(text\\/)?(x-)?(stylesheet|css)$/i, \"css\"],\n      [\"type\", /./, \"text/plain\"],\n      [null, null, \"css\"]\n    ]\n  };\n\n  function maybeBackup(stream, pat, style) {\n    var cur = stream.current(), close = cur.search(pat);\n    if (close > -1) {\n      stream.backUp(cur.length - close);\n    } else if (cur.match(/<\\/?$/)) {\n      stream.backUp(cur.length);\n      if (!stream.match(pat, false)) stream.match(cur);\n    }\n    return style;\n  }\n\n  var attrRegexpCache = {};\n  function getAttrRegexp(attr) {\n    var regexp = attrRegexpCache[attr];\n    if (regexp) return regexp;\n    return attrRegexpCache[attr] = new RegExp(\"\\\\s+\" + attr + \"\\\\s*=\\\\s*('|\\\")?([^'\\\"]+)('|\\\")?\\\\s*\");\n  }\n\n  function getAttrValue(text, attr) {\n    var match = text.match(getAttrRegexp(attr))\n    return match ? match[2] : \"\"\n  }\n\n  function getTagRegexp(tagName, anchored) {\n    return new RegExp((anchored ? \"^\" : \"\") + \"<\\/\\s*\" + tagName + \"\\s*>\", \"i\");\n  }\n\n  function addTags(from, to) {\n    for (var tag in from) {\n      var dest = to[tag] || (to[tag] = []);\n      var source = from[tag];\n      for (var i = source.length - 1; i >= 0; i--)\n        dest.unshift(source[i])\n    }\n  }\n\n  function findMatchingMode(tagInfo, tagText) {\n    for (var i = 0; i < tagInfo.length; i++) {\n      var spec = tagInfo[i];\n      if (!spec[0] || spec[1].test(getAttrValue(tagText, spec[0]))) return spec[2];\n    }\n  }\n\n  CodeMirror.defineMode(\"htmlmixed\", function (config, parserConfig) {\n    var htmlMode = CodeMirror.getMode(config, {\n      name: \"xml\",\n      htmlMode: true,\n      multilineTagIndentFactor: parserConfig.multilineTagIndentFactor,\n      multilineTagIndentPastTag: parserConfig.multilineTagIndentPastTag\n    });\n\n    var tags = {};\n    var configTags = parserConfig && parserConfig.tags, configScript = parserConfig && parserConfig.scriptTypes;\n    addTags(defaultTags, tags);\n    if (configTags) addTags(configTags, tags);\n    if (configScript) for (var i = configScript.length - 1; i >= 0; i--)\n      tags.script.unshift([\"type\", configScript[i].matches, configScript[i].mode])\n\n    function html(stream, state) {\n      var style = htmlMode.token(stream, state.htmlState), tag = /\\btag\\b/.test(style), tagName\n      if (tag && !/[<>\\s\\/]/.test(stream.current()) &&\n          (tagName = state.htmlState.tagName && state.htmlState.tagName.toLowerCase()) &&\n          tags.hasOwnProperty(tagName)) {\n        state.inTag = tagName + \" \"\n      } else if (state.inTag && tag && />$/.test(stream.current())) {\n        var inTag = /^([\\S]+) (.*)/.exec(state.inTag)\n        state.inTag = null\n        var modeSpec = stream.current() == \">\" && findMatchingMode(tags[inTag[1]], inTag[2])\n        var mode = CodeMirror.getMode(config, modeSpec)\n        var endTagA = getTagRegexp(inTag[1], true), endTag = getTagRegexp(inTag[1], false);\n        state.token = function (stream, state) {\n          if (stream.match(endTagA, false)) {\n            state.token = html;\n            state.localState = state.localMode = null;\n            return null;\n          }\n          return maybeBackup(stream, endTag, state.localMode.token(stream, state.localState));\n        };\n        state.localMode = mode;\n        state.localState = CodeMirror.startState(mode, htmlMode.indent(state.htmlState, \"\"));\n      } else if (state.inTag) {\n        state.inTag += stream.current()\n        if (stream.eol()) state.inTag += \" \"\n      }\n      return style;\n    };\n\n    return {\n      startState: function () {\n        var state = CodeMirror.startState(htmlMode);\n        return {token: html, inTag: null, localMode: null, localState: null, htmlState: state};\n      },\n\n      copyState: function (state) {\n        var local;\n        if (state.localState) {\n          local = CodeMirror.copyState(state.localMode, state.localState);\n        }\n        return {token: state.token, inTag: state.inTag,\n                localMode: state.localMode, localState: local,\n                htmlState: CodeMirror.copyState(htmlMode, state.htmlState)};\n      },\n\n      token: function (stream, state) {\n        return state.token(stream, state);\n      },\n\n      indent: function (state, textAfter) {\n        if (!state.localMode || /^\\s*<\\//.test(textAfter))\n          return htmlMode.indent(state.htmlState, textAfter);\n        else if (state.localMode.indent)\n          return state.localMode.indent(state.localState, textAfter);\n        else\n          return CodeMirror.Pass;\n      },\n\n      innerMode: function (state) {\n        return {state: state.localState || state.htmlState, mode: state.localMode || htmlMode};\n      }\n    };\n  }, \"xml\", \"javascript\", \"css\");\n\n  CodeMirror.defineMIME(\"text/html\", \"htmlmixed\");\n});\n\n},{\"../../lib/codemirror\":7,\"../css/css\":9,\"../javascript/javascript\":11,\"../xml/xml\":14}],11:[function(require,module,exports){\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n// TODO actually recognize syntax of TypeScript constructs\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nfunction expressionAllowed(stream, state, backUp) {\n  return /^(?:operator|sof|keyword c|case|new|[\\[{}\\(,;:]|=>)$/.test(state.lastType) ||\n    (state.lastType == \"quasi\" && /\\{\\s*$/.test(stream.string.slice(0, stream.pos - (backUp || 0))))\n}\n\nCodeMirror.defineMode(\"javascript\", function(config, parserConfig) {\n  var indentUnit = config.indentUnit;\n  var statementIndent = parserConfig.statementIndent;\n  var jsonldMode = parserConfig.jsonld;\n  var jsonMode = parserConfig.json || jsonldMode;\n  var isTS = parserConfig.typescript;\n  var wordRE = parserConfig.wordCharacters || /[\\w$\\xa1-\\uffff]/;\n\n  // Tokenizer\n\n  var keywords = function(){\n    function kw(type) {return {type: type, style: \"keyword\"};}\n    var A = kw(\"keyword a\"), B = kw(\"keyword b\"), C = kw(\"keyword c\");\n    var operator = kw(\"operator\"), atom = {type: \"atom\", style: \"atom\"};\n\n    var jsKeywords = {\n      \"if\": kw(\"if\"), \"while\": A, \"with\": A, \"else\": B, \"do\": B, \"try\": B, \"finally\": B,\n      \"return\": C, \"break\": C, \"continue\": C, \"new\": kw(\"new\"), \"delete\": C, \"throw\": C, \"debugger\": C,\n      \"var\": kw(\"var\"), \"const\": kw(\"var\"), \"let\": kw(\"var\"),\n      \"function\": kw(\"function\"), \"catch\": kw(\"catch\"),\n      \"for\": kw(\"for\"), \"switch\": kw(\"switch\"), \"case\": kw(\"case\"), \"default\": kw(\"default\"),\n      \"in\": operator, \"typeof\": operator, \"instanceof\": operator,\n      \"true\": atom, \"false\": atom, \"null\": atom, \"undefined\": atom, \"NaN\": atom, \"Infinity\": atom,\n      \"this\": kw(\"this\"), \"class\": kw(\"class\"), \"super\": kw(\"atom\"),\n      \"yield\": C, \"export\": kw(\"export\"), \"import\": kw(\"import\"), \"extends\": C,\n      \"await\": C, \"async\": kw(\"async\")\n    };\n\n    // Extend the 'normal' keywords with the TypeScript language extensions\n    if (isTS) {\n      var type = {type: \"variable\", style: \"variable-3\"};\n      var tsKeywords = {\n        // object-like things\n        \"interface\": kw(\"class\"),\n        \"implements\": C,\n        \"namespace\": C,\n        \"module\": kw(\"module\"),\n        \"enum\": kw(\"module\"),\n\n        // scope modifiers\n        \"public\": kw(\"modifier\"),\n        \"private\": kw(\"modifier\"),\n        \"protected\": kw(\"modifier\"),\n        \"abstract\": kw(\"modifier\"),\n\n        // operators\n        \"as\": operator,\n\n        // types\n        \"string\": type, \"number\": type, \"boolean\": type, \"any\": type\n      };\n\n      for (var attr in tsKeywords) {\n        jsKeywords[attr] = tsKeywords[attr];\n      }\n    }\n\n    return jsKeywords;\n  }();\n\n  var isOperatorChar = /[+\\-*&%=<>!?|~^]/;\n  var isJsonldKeyword = /^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)\"/;\n\n  function readRegexp(stream) {\n    var escaped = false, next, inSet = false;\n    while ((next = stream.next()) != null) {\n      if (!escaped) {\n        if (next == \"/\" && !inSet) return;\n        if (next == \"[\") inSet = true;\n        else if (inSet && next == \"]\") inSet = false;\n      }\n      escaped = !escaped && next == \"\\\\\";\n    }\n  }\n\n  // Used as scratch variables to communicate multiple values without\n  // consing up tons of objects.\n  var type, content;\n  function ret(tp, style, cont) {\n    type = tp; content = cont;\n    return style;\n  }\n  function tokenBase(stream, state) {\n    var ch = stream.next();\n    if (ch == '\"' || ch == \"'\") {\n      state.tokenize = tokenString(ch);\n      return state.tokenize(stream, state);\n    } else if (ch == \".\" && stream.match(/^\\d+(?:[eE][+\\-]?\\d+)?/)) {\n      return ret(\"number\", \"number\");\n    } else if (ch == \".\" && stream.match(\"..\")) {\n      return ret(\"spread\", \"meta\");\n    } else if (/[\\[\\]{}\\(\\),;\\:\\.]/.test(ch)) {\n      return ret(ch);\n    } else if (ch == \"=\" && stream.eat(\">\")) {\n      return ret(\"=>\", \"operator\");\n    } else if (ch == \"0\" && stream.eat(/x/i)) {\n      stream.eatWhile(/[\\da-f]/i);\n      return ret(\"number\", \"number\");\n    } else if (ch == \"0\" && stream.eat(/o/i)) {\n      stream.eatWhile(/[0-7]/i);\n      return ret(\"number\", \"number\");\n    } else if (ch == \"0\" && stream.eat(/b/i)) {\n      stream.eatWhile(/[01]/i);\n      return ret(\"number\", \"number\");\n    } else if (/\\d/.test(ch)) {\n      stream.match(/^\\d*(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/);\n      return ret(\"number\", \"number\");\n    } else if (ch == \"/\") {\n      if (stream.eat(\"*\")) {\n        state.tokenize = tokenComment;\n        return tokenComment(stream, state);\n      } else if (stream.eat(\"/\")) {\n        stream.skipToEnd();\n        return ret(\"comment\", \"comment\");\n      } else if (expressionAllowed(stream, state, 1)) {\n        readRegexp(stream);\n        stream.match(/^\\b(([gimyu])(?![gimyu]*\\2))+\\b/);\n        return ret(\"regexp\", \"string-2\");\n      } else {\n        stream.eatWhile(isOperatorChar);\n        return ret(\"operator\", \"operator\", stream.current());\n      }\n    } else if (ch == \"`\") {\n      state.tokenize = tokenQuasi;\n      return tokenQuasi(stream, state);\n    } else if (ch == \"#\") {\n      stream.skipToEnd();\n      return ret(\"error\", \"error\");\n    } else if (isOperatorChar.test(ch)) {\n      stream.eatWhile(isOperatorChar);\n      return ret(\"operator\", \"operator\", stream.current());\n    } else if (wordRE.test(ch)) {\n      stream.eatWhile(wordRE);\n      var word = stream.current(), known = keywords.propertyIsEnumerable(word) && keywords[word];\n      return (known && state.lastType != \".\") ? ret(known.type, known.style, word) :\n                     ret(\"variable\", \"variable\", word);\n    }\n  }\n\n  function tokenString(quote) {\n    return function(stream, state) {\n      var escaped = false, next;\n      if (jsonldMode && stream.peek() == \"@\" && stream.match(isJsonldKeyword)){\n        state.tokenize = tokenBase;\n        return ret(\"jsonld-keyword\", \"meta\");\n      }\n      while ((next = stream.next()) != null) {\n        if (next == quote && !escaped) break;\n        escaped = !escaped && next == \"\\\\\";\n      }\n      if (!escaped) state.tokenize = tokenBase;\n      return ret(\"string\", \"string\");\n    };\n  }\n\n  function tokenComment(stream, state) {\n    var maybeEnd = false, ch;\n    while (ch = stream.next()) {\n      if (ch == \"/\" && maybeEnd) {\n        state.tokenize = tokenBase;\n        break;\n      }\n      maybeEnd = (ch == \"*\");\n    }\n    return ret(\"comment\", \"comment\");\n  }\n\n  function tokenQuasi(stream, state) {\n    var escaped = false, next;\n    while ((next = stream.next()) != null) {\n      if (!escaped && (next == \"`\" || next == \"$\" && stream.eat(\"{\"))) {\n        state.tokenize = tokenBase;\n        break;\n      }\n      escaped = !escaped && next == \"\\\\\";\n    }\n    return ret(\"quasi\", \"string-2\", stream.current());\n  }\n\n  var brackets = \"([{}])\";\n  // This is a crude lookahead trick to try and notice that we're\n  // parsing the argument patterns for a fat-arrow function before we\n  // actually hit the arrow token. It only works if the arrow is on\n  // the same line as the arguments and there's no strange noise\n  // (comments) in between. Fallback is to only notice when we hit the\n  // arrow, and not declare the arguments as locals for the arrow\n  // body.\n  function findFatArrow(stream, state) {\n    if (state.fatArrowAt) state.fatArrowAt = null;\n    var arrow = stream.string.indexOf(\"=>\", stream.start);\n    if (arrow < 0) return;\n\n    var depth = 0, sawSomething = false;\n    for (var pos = arrow - 1; pos >= 0; --pos) {\n      var ch = stream.string.charAt(pos);\n      var bracket = brackets.indexOf(ch);\n      if (bracket >= 0 && bracket < 3) {\n        if (!depth) { ++pos; break; }\n        if (--depth == 0) break;\n      } else if (bracket >= 3 && bracket < 6) {\n        ++depth;\n      } else if (wordRE.test(ch)) {\n        sawSomething = true;\n      } else if (/[\"'\\/]/.test(ch)) {\n        return;\n      } else if (sawSomething && !depth) {\n        ++pos;\n        break;\n      }\n    }\n    if (sawSomething && !depth) state.fatArrowAt = pos;\n  }\n\n  // Parser\n\n  var atomicTypes = {\"atom\": true, \"number\": true, \"variable\": true, \"string\": true, \"regexp\": true, \"this\": true, \"jsonld-keyword\": true};\n\n  function JSLexical(indented, column, type, align, prev, info) {\n    this.indented = indented;\n    this.column = column;\n    this.type = type;\n    this.prev = prev;\n    this.info = info;\n    if (align != null) this.align = align;\n  }\n\n  function inScope(state, varname) {\n    for (var v = state.localVars; v; v = v.next)\n      if (v.name == varname) return true;\n    for (var cx = state.context; cx; cx = cx.prev) {\n      for (var v = cx.vars; v; v = v.next)\n        if (v.name == varname) return true;\n    }\n  }\n\n  function parseJS(state, style, type, content, stream) {\n    var cc = state.cc;\n    // Communicate our context to the combinators.\n    // (Less wasteful than consing up a hundred closures on every call.)\n    cx.state = state; cx.stream = stream; cx.marked = null, cx.cc = cc; cx.style = style;\n\n    if (!state.lexical.hasOwnProperty(\"align\"))\n      state.lexical.align = true;\n\n    while(true) {\n      var combinator = cc.length ? cc.pop() : jsonMode ? expression : statement;\n      if (combinator(type, content)) {\n        while(cc.length && cc[cc.length - 1].lex)\n          cc.pop()();\n        if (cx.marked) return cx.marked;\n        if (type == \"variable\" && inScope(state, content)) return \"variable-2\";\n        return style;\n      }\n    }\n  }\n\n  // Combinator utils\n\n  var cx = {state: null, column: null, marked: null, cc: null};\n  function pass() {\n    for (var i = arguments.length - 1; i >= 0; i--) cx.cc.push(arguments[i]);\n  }\n  function cont() {\n    pass.apply(null, arguments);\n    return true;\n  }\n  function register(varname) {\n    function inList(list) {\n      for (var v = list; v; v = v.next)\n        if (v.name == varname) return true;\n      return false;\n    }\n    var state = cx.state;\n    cx.marked = \"def\";\n    if (state.context) {\n      if (inList(state.localVars)) return;\n      state.localVars = {name: varname, next: state.localVars};\n    } else {\n      if (inList(state.globalVars)) return;\n      if (parserConfig.globalVars)\n        state.globalVars = {name: varname, next: state.globalVars};\n    }\n  }\n\n  // Combinators\n\n  var defaultVars = {name: \"this\", next: {name: \"arguments\"}};\n  function pushcontext() {\n    cx.state.context = {prev: cx.state.context, vars: cx.state.localVars};\n    cx.state.localVars = defaultVars;\n  }\n  function popcontext() {\n    cx.state.localVars = cx.state.context.vars;\n    cx.state.context = cx.state.context.prev;\n  }\n  function pushlex(type, info) {\n    var result = function() {\n      var state = cx.state, indent = state.indented;\n      if (state.lexical.type == \"stat\") indent = state.lexical.indented;\n      else for (var outer = state.lexical; outer && outer.type == \")\" && outer.align; outer = outer.prev)\n        indent = outer.indented;\n      state.lexical = new JSLexical(indent, cx.stream.column(), type, null, state.lexical, info);\n    };\n    result.lex = true;\n    return result;\n  }\n  function poplex() {\n    var state = cx.state;\n    if (state.lexical.prev) {\n      if (state.lexical.type == \")\")\n        state.indented = state.lexical.indented;\n      state.lexical = state.lexical.prev;\n    }\n  }\n  poplex.lex = true;\n\n  function expect(wanted) {\n    function exp(type) {\n      if (type == wanted) return cont();\n      else if (wanted == \";\") return pass();\n      else return cont(exp);\n    };\n    return exp;\n  }\n\n  function statement(type, value) {\n    if (type == \"var\") return cont(pushlex(\"vardef\", value.length), vardef, expect(\";\"), poplex);\n    if (type == \"keyword a\") return cont(pushlex(\"form\"), expression, statement, poplex);\n    if (type == \"keyword b\") return cont(pushlex(\"form\"), statement, poplex);\n    if (type == \"{\") return cont(pushlex(\"}\"), block, poplex);\n    if (type == \";\") return cont();\n    if (type == \"if\") {\n      if (cx.state.lexical.info == \"else\" && cx.state.cc[cx.state.cc.length - 1] == poplex)\n        cx.state.cc.pop()();\n      return cont(pushlex(\"form\"), expression, statement, poplex, maybeelse);\n    }\n    if (type == \"function\") return cont(functiondef);\n    if (type == \"for\") return cont(pushlex(\"form\"), forspec, statement, poplex);\n    if (type == \"variable\") return cont(pushlex(\"stat\"), maybelabel);\n    if (type == \"switch\") return cont(pushlex(\"form\"), expression, pushlex(\"}\", \"switch\"), expect(\"{\"),\n                                      block, poplex, poplex);\n    if (type == \"case\") return cont(expression, expect(\":\"));\n    if (type == \"default\") return cont(expect(\":\"));\n    if (type == \"catch\") return cont(pushlex(\"form\"), pushcontext, expect(\"(\"), funarg, expect(\")\"),\n                                     statement, poplex, popcontext);\n    if (type == \"class\") return cont(pushlex(\"form\"), className, poplex);\n    if (type == \"export\") return cont(pushlex(\"stat\"), afterExport, poplex);\n    if (type == \"import\") return cont(pushlex(\"stat\"), afterImport, poplex);\n    if (type == \"module\") return cont(pushlex(\"form\"), pattern, pushlex(\"}\"), expect(\"{\"), block, poplex, poplex)\n    if (type == \"async\") return cont(statement)\n    return pass(pushlex(\"stat\"), expression, expect(\";\"), poplex);\n  }\n  function expression(type) {\n    return expressionInner(type, false);\n  }\n  function expressionNoComma(type) {\n    return expressionInner(type, true);\n  }\n  function expressionInner(type, noComma) {\n    if (cx.state.fatArrowAt == cx.stream.start) {\n      var body = noComma ? arrowBodyNoComma : arrowBody;\n      if (type == \"(\") return cont(pushcontext, pushlex(\")\"), commasep(pattern, \")\"), poplex, expect(\"=>\"), body, popcontext);\n      else if (type == \"variable\") return pass(pushcontext, pattern, expect(\"=>\"), body, popcontext);\n    }\n\n    var maybeop = noComma ? maybeoperatorNoComma : maybeoperatorComma;\n    if (atomicTypes.hasOwnProperty(type)) return cont(maybeop);\n    if (type == \"function\") return cont(functiondef, maybeop);\n    if (type == \"keyword c\") return cont(noComma ? maybeexpressionNoComma : maybeexpression);\n    if (type == \"(\") return cont(pushlex(\")\"), maybeexpression, comprehension, expect(\")\"), poplex, maybeop);\n    if (type == \"operator\" || type == \"spread\") return cont(noComma ? expressionNoComma : expression);\n    if (type == \"[\") return cont(pushlex(\"]\"), arrayLiteral, poplex, maybeop);\n    if (type == \"{\") return contCommasep(objprop, \"}\", null, maybeop);\n    if (type == \"quasi\") return pass(quasi, maybeop);\n    if (type == \"new\") return cont(maybeTarget(noComma));\n    return cont();\n  }\n  function maybeexpression(type) {\n    if (type.match(/[;\\}\\)\\],]/)) return pass();\n    return pass(expression);\n  }\n  function maybeexpressionNoComma(type) {\n    if (type.match(/[;\\}\\)\\],]/)) return pass();\n    return pass(expressionNoComma);\n  }\n\n  function maybeoperatorComma(type, value) {\n    if (type == \",\") return cont(expression);\n    return maybeoperatorNoComma(type, value, false);\n  }\n  function maybeoperatorNoComma(type, value, noComma) {\n    var me = noComma == false ? maybeoperatorComma : maybeoperatorNoComma;\n    var expr = noComma == false ? expression : expressionNoComma;\n    if (type == \"=>\") return cont(pushcontext, noComma ? arrowBodyNoComma : arrowBody, popcontext);\n    if (type == \"operator\") {\n      if (/\\+\\+|--/.test(value)) return cont(me);\n      if (value == \"?\") return cont(expression, expect(\":\"), expr);\n      return cont(expr);\n    }\n    if (type == \"quasi\") { return pass(quasi, me); }\n    if (type == \";\") return;\n    if (type == \"(\") return contCommasep(expressionNoComma, \")\", \"call\", me);\n    if (type == \".\") return cont(property, me);\n    if (type == \"[\") return cont(pushlex(\"]\"), maybeexpression, expect(\"]\"), poplex, me);\n  }\n  function quasi(type, value) {\n    if (type != \"quasi\") return pass();\n    if (value.slice(value.length - 2) != \"${\") return cont(quasi);\n    return cont(expression, continueQuasi);\n  }\n  function continueQuasi(type) {\n    if (type == \"}\") {\n      cx.marked = \"string-2\";\n      cx.state.tokenize = tokenQuasi;\n      return cont(quasi);\n    }\n  }\n  function arrowBody(type) {\n    findFatArrow(cx.stream, cx.state);\n    return pass(type == \"{\" ? statement : expression);\n  }\n  function arrowBodyNoComma(type) {\n    findFatArrow(cx.stream, cx.state);\n    return pass(type == \"{\" ? statement : expressionNoComma);\n  }\n  function maybeTarget(noComma) {\n    return function(type) {\n      if (type == \".\") return cont(noComma ? targetNoComma : target);\n      else return pass(noComma ? expressionNoComma : expression);\n    };\n  }\n  function target(_, value) {\n    if (value == \"target\") { cx.marked = \"keyword\"; return cont(maybeoperatorComma); }\n  }\n  function targetNoComma(_, value) {\n    if (value == \"target\") { cx.marked = \"keyword\"; return cont(maybeoperatorNoComma); }\n  }\n  function maybelabel(type) {\n    if (type == \":\") return cont(poplex, statement);\n    return pass(maybeoperatorComma, expect(\";\"), poplex);\n  }\n  function property(type) {\n    if (type == \"variable\") {cx.marked = \"property\"; return cont();}\n  }\n  function objprop(type, value) {\n    if (type == \"variable\" || cx.style == \"keyword\") {\n      cx.marked = \"property\";\n      if (value == \"get\" || value == \"set\") return cont(getterSetter);\n      return cont(afterprop);\n    } else if (type == \"number\" || type == \"string\") {\n      cx.marked = jsonldMode ? \"property\" : (cx.style + \" property\");\n      return cont(afterprop);\n    } else if (type == \"jsonld-keyword\") {\n      return cont(afterprop);\n    } else if (type == \"modifier\") {\n      return cont(objprop)\n    } else if (type == \"[\") {\n      return cont(expression, expect(\"]\"), afterprop);\n    } else if (type == \"spread\") {\n      return cont(expression);\n    }\n  }\n  function getterSetter(type) {\n    if (type != \"variable\") return pass(afterprop);\n    cx.marked = \"property\";\n    return cont(functiondef);\n  }\n  function afterprop(type) {\n    if (type == \":\") return cont(expressionNoComma);\n    if (type == \"(\") return pass(functiondef);\n  }\n  function commasep(what, end) {\n    function proceed(type, value) {\n      if (type == \",\") {\n        var lex = cx.state.lexical;\n        if (lex.info == \"call\") lex.pos = (lex.pos || 0) + 1;\n        return cont(what, proceed);\n      }\n      if (type == end || value == end) return cont();\n      return cont(expect(end));\n    }\n    return function(type, value) {\n      if (type == end || value == end) return cont();\n      return pass(what, proceed);\n    };\n  }\n  function contCommasep(what, end, info) {\n    for (var i = 3; i < arguments.length; i++)\n      cx.cc.push(arguments[i]);\n    return cont(pushlex(end, info), commasep(what, end), poplex);\n  }\n  function block(type) {\n    if (type == \"}\") return cont();\n    return pass(statement, block);\n  }\n  function maybetype(type) {\n    if (isTS && type == \":\") return cont(typeexpr);\n  }\n  function maybedefault(_, value) {\n    if (value == \"=\") return cont(expressionNoComma);\n  }\n  function typeexpr(type) {\n    if (type == \"variable\") {cx.marked = \"variable-3\"; return cont(afterType);}\n  }\n  function afterType(type, value) {\n    if (value == \"<\") return cont(commasep(typeexpr, \">\"), afterType)\n    if (type == \"[\") return cont(expect(\"]\"), afterType)\n  }\n  function vardef() {\n    return pass(pattern, maybetype, maybeAssign, vardefCont);\n  }\n  function pattern(type, value) {\n    if (type == \"modifier\") return cont(pattern)\n    if (type == \"variable\") { register(value); return cont(); }\n    if (type == \"spread\") return cont(pattern);\n    if (type == \"[\") return contCommasep(pattern, \"]\");\n    if (type == \"{\") return contCommasep(proppattern, \"}\");\n  }\n  function proppattern(type, value) {\n    if (type == \"variable\" && !cx.stream.match(/^\\s*:/, false)) {\n      register(value);\n      return cont(maybeAssign);\n    }\n    if (type == \"variable\") cx.marked = \"property\";\n    if (type == \"spread\") return cont(pattern);\n    if (type == \"}\") return pass();\n    return cont(expect(\":\"), pattern, maybeAssign);\n  }\n  function maybeAssign(_type, value) {\n    if (value == \"=\") return cont(expressionNoComma);\n  }\n  function vardefCont(type) {\n    if (type == \",\") return cont(vardef);\n  }\n  function maybeelse(type, value) {\n    if (type == \"keyword b\" && value == \"else\") return cont(pushlex(\"form\", \"else\"), statement, poplex);\n  }\n  function forspec(type) {\n    if (type == \"(\") return cont(pushlex(\")\"), forspec1, expect(\")\"), poplex);\n  }\n  function forspec1(type) {\n    if (type == \"var\") return cont(vardef, expect(\";\"), forspec2);\n    if (type == \";\") return cont(forspec2);\n    if (type == \"variable\") return cont(formaybeinof);\n    return pass(expression, expect(\";\"), forspec2);\n  }\n  function formaybeinof(_type, value) {\n    if (value == \"in\" || value == \"of\") { cx.marked = \"keyword\"; return cont(expression); }\n    return cont(maybeoperatorComma, forspec2);\n  }\n  function forspec2(type, value) {\n    if (type == \";\") return cont(forspec3);\n    if (value == \"in\" || value == \"of\") { cx.marked = \"keyword\"; return cont(expression); }\n    return pass(expression, expect(\";\"), forspec3);\n  }\n  function forspec3(type) {\n    if (type != \")\") cont(expression);\n  }\n  function functiondef(type, value) {\n    if (value == \"*\") {cx.marked = \"keyword\"; return cont(functiondef);}\n    if (type == \"variable\") {register(value); return cont(functiondef);}\n    if (type == \"(\") return cont(pushcontext, pushlex(\")\"), commasep(funarg, \")\"), poplex, maybetype, statement, popcontext);\n  }\n  function funarg(type) {\n    if (type == \"spread\") return cont(funarg);\n    return pass(pattern, maybetype, maybedefault);\n  }\n  function className(type, value) {\n    if (type == \"variable\") {register(value); return cont(classNameAfter);}\n  }\n  function classNameAfter(type, value) {\n    if (value == \"extends\") return cont(expression, classNameAfter);\n    if (type == \"{\") return cont(pushlex(\"}\"), classBody, poplex);\n  }\n  function classBody(type, value) {\n    if (type == \"variable\" || cx.style == \"keyword\") {\n      if (value == \"static\") {\n        cx.marked = \"keyword\";\n        return cont(classBody);\n      }\n      cx.marked = \"property\";\n      if (value == \"get\" || value == \"set\") return cont(classGetterSetter, functiondef, classBody);\n      return cont(functiondef, classBody);\n    }\n    if (value == \"*\") {\n      cx.marked = \"keyword\";\n      return cont(classBody);\n    }\n    if (type == \";\") return cont(classBody);\n    if (type == \"}\") return cont();\n  }\n  function classGetterSetter(type) {\n    if (type != \"variable\") return pass();\n    cx.marked = \"property\";\n    return cont();\n  }\n  function afterExport(_type, value) {\n    if (value == \"*\") { cx.marked = \"keyword\"; return cont(maybeFrom, expect(\";\")); }\n    if (value == \"default\") { cx.marked = \"keyword\"; return cont(expression, expect(\";\")); }\n    return pass(statement);\n  }\n  function afterImport(type) {\n    if (type == \"string\") return cont();\n    return pass(importSpec, maybeFrom);\n  }\n  function importSpec(type, value) {\n    if (type == \"{\") return contCommasep(importSpec, \"}\");\n    if (type == \"variable\") register(value);\n    if (value == \"*\") cx.marked = \"keyword\";\n    return cont(maybeAs);\n  }\n  function maybeAs(_type, value) {\n    if (value == \"as\") { cx.marked = \"keyword\"; return cont(importSpec); }\n  }\n  function maybeFrom(_type, value) {\n    if (value == \"from\") { cx.marked = \"keyword\"; return cont(expression); }\n  }\n  function arrayLiteral(type) {\n    if (type == \"]\") return cont();\n    return pass(expressionNoComma, maybeArrayComprehension);\n  }\n  function maybeArrayComprehension(type) {\n    if (type == \"for\") return pass(comprehension, expect(\"]\"));\n    if (type == \",\") return cont(commasep(maybeexpressionNoComma, \"]\"));\n    return pass(commasep(expressionNoComma, \"]\"));\n  }\n  function comprehension(type) {\n    if (type == \"for\") return cont(forspec, comprehension);\n    if (type == \"if\") return cont(expression, comprehension);\n  }\n\n  function isContinuedStatement(state, textAfter) {\n    return state.lastType == \"operator\" || state.lastType == \",\" ||\n      isOperatorChar.test(textAfter.charAt(0)) ||\n      /[,.]/.test(textAfter.charAt(0));\n  }\n\n  // Interface\n\n  return {\n    startState: function(basecolumn) {\n      var state = {\n        tokenize: tokenBase,\n        lastType: \"sof\",\n        cc: [],\n        lexical: new JSLexical((basecolumn || 0) - indentUnit, 0, \"block\", false),\n        localVars: parserConfig.localVars,\n        context: parserConfig.localVars && {vars: parserConfig.localVars},\n        indented: basecolumn || 0\n      };\n      if (parserConfig.globalVars && typeof parserConfig.globalVars == \"object\")\n        state.globalVars = parserConfig.globalVars;\n      return state;\n    },\n\n    token: function(stream, state) {\n      if (stream.sol()) {\n        if (!state.lexical.hasOwnProperty(\"align\"))\n          state.lexical.align = false;\n        state.indented = stream.indentation();\n        findFatArrow(stream, state);\n      }\n      if (state.tokenize != tokenComment && stream.eatSpace()) return null;\n      var style = state.tokenize(stream, state);\n      if (type == \"comment\") return style;\n      state.lastType = type == \"operator\" && (content == \"++\" || content == \"--\") ? \"incdec\" : type;\n      return parseJS(state, style, type, content, stream);\n    },\n\n    indent: function(state, textAfter) {\n      if (state.tokenize == tokenComment) return CodeMirror.Pass;\n      if (state.tokenize != tokenBase) return 0;\n      var firstChar = textAfter && textAfter.charAt(0), lexical = state.lexical;\n      // Kludge to prevent 'maybelse' from blocking lexical scope pops\n      if (!/^\\s*else\\b/.test(textAfter)) for (var i = state.cc.length - 1; i >= 0; --i) {\n        var c = state.cc[i];\n        if (c == poplex) lexical = lexical.prev;\n        else if (c != maybeelse) break;\n      }\n      if (lexical.type == \"stat\" && firstChar == \"}\") lexical = lexical.prev;\n      if (statementIndent && lexical.type == \")\" && lexical.prev.type == \"stat\")\n        lexical = lexical.prev;\n      var type = lexical.type, closing = firstChar == type;\n\n      if (type == \"vardef\") return lexical.indented + (state.lastType == \"operator\" || state.lastType == \",\" ? lexical.info + 1 : 0);\n      else if (type == \"form\" && firstChar == \"{\") return lexical.indented;\n      else if (type == \"form\") return lexical.indented + indentUnit;\n      else if (type == \"stat\")\n        return lexical.indented + (isContinuedStatement(state, textAfter) ? statementIndent || indentUnit : 0);\n      else if (lexical.info == \"switch\" && !closing && parserConfig.doubleIndentSwitch != false)\n        return lexical.indented + (/^(?:case|default)\\b/.test(textAfter) ? indentUnit : 2 * indentUnit);\n      else if (lexical.align) return lexical.column + (closing ? 0 : 1);\n      else return lexical.indented + (closing ? 0 : indentUnit);\n    },\n\n    electricInput: /^\\s*(?:case .*?:|default:|\\{|\\})$/,\n    blockCommentStart: jsonMode ? null : \"/*\",\n    blockCommentEnd: jsonMode ? null : \"*/\",\n    lineComment: jsonMode ? null : \"//\",\n    fold: \"brace\",\n    closeBrackets: \"()[]{}''\\\"\\\"``\",\n\n    helperType: jsonMode ? \"json\" : \"javascript\",\n    jsonldMode: jsonldMode,\n    jsonMode: jsonMode,\n\n    expressionAllowed: expressionAllowed,\n    skipExpression: function(state) {\n      var top = state.cc[state.cc.length - 1]\n      if (top == expression || top == expressionNoComma) state.cc.pop()\n    }\n  };\n});\n\nCodeMirror.registerHelper(\"wordChars\", \"javascript\", /[\\w$]/);\n\nCodeMirror.defineMIME(\"text/javascript\", \"javascript\");\nCodeMirror.defineMIME(\"text/ecmascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/javascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/x-javascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/ecmascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/json\", {name: \"javascript\", json: true});\nCodeMirror.defineMIME(\"application/x-json\", {name: \"javascript\", json: true});\nCodeMirror.defineMIME(\"application/ld+json\", {name: \"javascript\", jsonld: true});\nCodeMirror.defineMIME(\"text/typescript\", { name: \"javascript\", typescript: true });\nCodeMirror.defineMIME(\"application/typescript\", { name: \"javascript\", typescript: true });\n\n});\n\n},{\"../../lib/codemirror\":7}],12:[function(require,module,exports){\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.modeInfo = [\n    {name: \"APL\", mime: \"text/apl\", mode: \"apl\", ext: [\"dyalog\", \"apl\"]},\n    {name: \"PGP\", mimes: [\"application/pgp\", \"application/pgp-keys\", \"application/pgp-signature\"], mode: \"asciiarmor\", ext: [\"pgp\"]},\n    {name: \"ASN.1\", mime: \"text/x-ttcn-asn\", mode: \"asn.1\", ext: [\"asn\", \"asn1\"]},\n    {name: \"Asterisk\", mime: \"text/x-asterisk\", mode: \"asterisk\", file: /^extensions\\.conf$/i},\n    {name: \"Brainfuck\", mime: \"text/x-brainfuck\", mode: \"brainfuck\", ext: [\"b\", \"bf\"]},\n    {name: \"C\", mime: \"text/x-csrc\", mode: \"clike\", ext: [\"c\", \"h\"]},\n    {name: \"C++\", mime: \"text/x-c++src\", mode: \"clike\", ext: [\"cpp\", \"c++\", \"cc\", \"cxx\", \"hpp\", \"h++\", \"hh\", \"hxx\"], alias: [\"cpp\"]},\n    {name: \"Cobol\", mime: \"text/x-cobol\", mode: \"cobol\", ext: [\"cob\", \"cpy\"]},\n    {name: \"C#\", mime: \"text/x-csharp\", mode: \"clike\", ext: [\"cs\"], alias: [\"csharp\"]},\n    {name: \"Clojure\", mime: \"text/x-clojure\", mode: \"clojure\", ext: [\"clj\", \"cljc\", \"cljx\"]},\n    {name: \"ClojureScript\", mime: \"text/x-clojurescript\", mode: \"clojure\", ext: [\"cljs\"]},\n    {name: \"Closure Stylesheets (GSS)\", mime: \"text/x-gss\", mode: \"css\", ext: [\"gss\"]},\n    {name: \"CMake\", mime: \"text/x-cmake\", mode: \"cmake\", ext: [\"cmake\", \"cmake.in\"], file: /^CMakeLists.txt$/},\n    {name: \"CoffeeScript\", mime: \"text/x-coffeescript\", mode: \"coffeescript\", ext: [\"coffee\"], alias: [\"coffee\", \"coffee-script\"]},\n    {name: \"Common Lisp\", mime: \"text/x-common-lisp\", mode: \"commonlisp\", ext: [\"cl\", \"lisp\", \"el\"], alias: [\"lisp\"]},\n    {name: \"Cypher\", mime: \"application/x-cypher-query\", mode: \"cypher\", ext: [\"cyp\", \"cypher\"]},\n    {name: \"Cython\", mime: \"text/x-cython\", mode: \"python\", ext: [\"pyx\", \"pxd\", \"pxi\"]},\n    {name: \"Crystal\", mime: \"text/x-crystal\", mode: \"crystal\", ext: [\"cr\"]},\n    {name: \"CSS\", mime: \"text/css\", mode: \"css\", ext: [\"css\"]},\n    {name: \"CQL\", mime: \"text/x-cassandra\", mode: \"sql\", ext: [\"cql\"]},\n    {name: \"D\", mime: \"text/x-d\", mode: \"d\", ext: [\"d\"]},\n    {name: \"Dart\", mimes: [\"application/dart\", \"text/x-dart\"], mode: \"dart\", ext: [\"dart\"]},\n    {name: \"diff\", mime: \"text/x-diff\", mode: \"diff\", ext: [\"diff\", \"patch\"]},\n    {name: \"Django\", mime: \"text/x-django\", mode: \"django\"},\n    {name: \"Dockerfile\", mime: \"text/x-dockerfile\", mode: \"dockerfile\", file: /^Dockerfile$/},\n    {name: \"DTD\", mime: \"application/xml-dtd\", mode: \"dtd\", ext: [\"dtd\"]},\n    {name: \"Dylan\", mime: \"text/x-dylan\", mode: \"dylan\", ext: [\"dylan\", \"dyl\", \"intr\"]},\n    {name: \"EBNF\", mime: \"text/x-ebnf\", mode: \"ebnf\"},\n    {name: \"ECL\", mime: \"text/x-ecl\", mode: \"ecl\", ext: [\"ecl\"]},\n    {name: \"edn\", mime: \"application/edn\", mode: \"clojure\", ext: [\"edn\"]},\n    {name: \"Eiffel\", mime: \"text/x-eiffel\", mode: \"eiffel\", ext: [\"e\"]},\n    {name: \"Elm\", mime: \"text/x-elm\", mode: \"elm\", ext: [\"elm\"]},\n    {name: \"Embedded Javascript\", mime: \"application/x-ejs\", mode: \"htmlembedded\", ext: [\"ejs\"]},\n    {name: \"Embedded Ruby\", mime: \"application/x-erb\", mode: \"htmlembedded\", ext: [\"erb\"]},\n    {name: \"Erlang\", mime: \"text/x-erlang\", mode: \"erlang\", ext: [\"erl\"]},\n    {name: \"Factor\", mime: \"text/x-factor\", mode: \"factor\", ext: [\"factor\"]},\n    {name: \"FCL\", mime: \"text/x-fcl\", mode: \"fcl\"},\n    {name: \"Forth\", mime: \"text/x-forth\", mode: \"forth\", ext: [\"forth\", \"fth\", \"4th\"]},\n    {name: \"Fortran\", mime: \"text/x-fortran\", mode: \"fortran\", ext: [\"f\", \"for\", \"f77\", \"f90\"]},\n    {name: \"F#\", mime: \"text/x-fsharp\", mode: \"mllike\", ext: [\"fs\"], alias: [\"fsharp\"]},\n    {name: \"Gas\", mime: \"text/x-gas\", mode: \"gas\", ext: [\"s\"]},\n    {name: \"Gherkin\", mime: \"text/x-feature\", mode: \"gherkin\", ext: [\"feature\"]},\n    {name: \"GitHub Flavored Markdown\", mime: \"text/x-gfm\", mode: \"gfm\", file: /^(readme|contributing|history).md$/i},\n    {name: \"Go\", mime: \"text/x-go\", mode: \"go\", ext: [\"go\"]},\n    {name: \"Groovy\", mime: \"text/x-groovy\", mode: \"groovy\", ext: [\"groovy\", \"gradle\"]},\n    {name: \"HAML\", mime: \"text/x-haml\", mode: \"haml\", ext: [\"haml\"]},\n    {name: \"Haskell\", mime: \"text/x-haskell\", mode: \"haskell\", ext: [\"hs\"]},\n    {name: \"Haskell (Literate)\", mime: \"text/x-literate-haskell\", mode: \"haskell-literate\", ext: [\"lhs\"]},\n    {name: \"Haxe\", mime: \"text/x-haxe\", mode: \"haxe\", ext: [\"hx\"]},\n    {name: \"HXML\", mime: \"text/x-hxml\", mode: \"haxe\", ext: [\"hxml\"]},\n    {name: \"ASP.NET\", mime: \"application/x-aspx\", mode: \"htmlembedded\", ext: [\"aspx\"], alias: [\"asp\", \"aspx\"]},\n    {name: \"HTML\", mime: \"text/html\", mode: \"htmlmixed\", ext: [\"html\", \"htm\"], alias: [\"xhtml\"]},\n    {name: \"HTTP\", mime: \"message/http\", mode: \"http\"},\n    {name: \"IDL\", mime: \"text/x-idl\", mode: \"idl\", ext: [\"pro\"]},\n    {name: \"Jade\", mime: \"text/x-jade\", mode: \"jade\", ext: [\"jade\"]},\n    {name: \"Java\", mime: \"text/x-java\", mode: \"clike\", ext: [\"java\"]},\n    {name: \"Java Server Pages\", mime: \"application/x-jsp\", mode: \"htmlembedded\", ext: [\"jsp\"], alias: [\"jsp\"]},\n    {name: \"JavaScript\", mimes: [\"text/javascript\", \"text/ecmascript\", \"application/javascript\", \"application/x-javascript\", \"application/ecmascript\"],\n     mode: \"javascript\", ext: [\"js\"], alias: [\"ecmascript\", \"js\", \"node\"]},\n    {name: \"JSON\", mimes: [\"application/json\", \"application/x-json\"], mode: \"javascript\", ext: [\"json\", \"map\"], alias: [\"json5\"]},\n    {name: \"JSON-LD\", mime: \"application/ld+json\", mode: \"javascript\", ext: [\"jsonld\"], alias: [\"jsonld\"]},\n    {name: \"JSX\", mime: \"text/jsx\", mode: \"jsx\", ext: [\"jsx\"]},\n    {name: \"Jinja2\", mime: \"null\", mode: \"jinja2\"},\n    {name: \"Julia\", mime: \"text/x-julia\", mode: \"julia\", ext: [\"jl\"]},\n    {name: \"Kotlin\", mime: \"text/x-kotlin\", mode: \"clike\", ext: [\"kt\"]},\n    {name: \"LESS\", mime: \"text/x-less\", mode: \"css\", ext: [\"less\"]},\n    {name: \"LiveScript\", mime: \"text/x-livescript\", mode: \"livescript\", ext: [\"ls\"], alias: [\"ls\"]},\n    {name: \"Lua\", mime: \"text/x-lua\", mode: \"lua\", ext: [\"lua\"]},\n    {name: \"Markdown\", mime: \"text/x-markdown\", mode: \"markdown\", ext: [\"markdown\", \"md\", \"mkd\"]},\n    {name: \"mIRC\", mime: \"text/mirc\", mode: \"mirc\"},\n    {name: \"MariaDB SQL\", mime: \"text/x-mariadb\", mode: \"sql\"},\n    {name: \"Mathematica\", mime: \"text/x-mathematica\", mode: \"mathematica\", ext: [\"m\", \"nb\"]},\n    {name: \"Modelica\", mime: \"text/x-modelica\", mode: \"modelica\", ext: [\"mo\"]},\n    {name: \"MUMPS\", mime: \"text/x-mumps\", mode: \"mumps\", ext: [\"mps\"]},\n    {name: \"MS SQL\", mime: \"text/x-mssql\", mode: \"sql\"},\n    {name: \"mbox\", mime: \"application/mbox\", mode: \"mbox\", ext: [\"mbox\"]},\n    {name: \"MySQL\", mime: \"text/x-mysql\", mode: \"sql\"},\n    {name: \"Nginx\", mime: \"text/x-nginx-conf\", mode: \"nginx\", file: /nginx.*\\.conf$/i},\n    {name: \"NSIS\", mime: \"text/x-nsis\", mode: \"nsis\", ext: [\"nsh\", \"nsi\"]},\n    {name: \"NTriples\", mime: \"text/n-triples\", mode: \"ntriples\", ext: [\"nt\"]},\n    {name: \"Objective C\", mime: \"text/x-objectivec\", mode: \"clike\", ext: [\"m\", \"mm\"], alias: [\"objective-c\", \"objc\"]},\n    {name: \"OCaml\", mime: \"text/x-ocaml\", mode: \"mllike\", ext: [\"ml\", \"mli\", \"mll\", \"mly\"]},\n    {name: \"Octave\", mime: \"text/x-octave\", mode: \"octave\", ext: [\"m\"]},\n    {name: \"Oz\", mime: \"text/x-oz\", mode: \"oz\", ext: [\"oz\"]},\n    {name: \"Pascal\", mime: \"text/x-pascal\", mode: \"pascal\", ext: [\"p\", \"pas\"]},\n    {name: \"PEG.js\", mime: \"null\", mode: \"pegjs\", ext: [\"jsonld\"]},\n    {name: \"Perl\", mime: \"text/x-perl\", mode: \"perl\", ext: [\"pl\", \"pm\"]},\n    {name: \"PHP\", mime: \"application/x-httpd-php\", mode: \"php\", ext: [\"php\", \"php3\", \"php4\", \"php5\", \"phtml\"]},\n    {name: \"Pig\", mime: \"text/x-pig\", mode: \"pig\", ext: [\"pig\"]},\n    {name: \"Plain Text\", mime: \"text/plain\", mode: \"null\", ext: [\"txt\", \"text\", \"conf\", \"def\", \"list\", \"log\"]},\n    {name: \"PLSQL\", mime: \"text/x-plsql\", mode: \"sql\", ext: [\"pls\"]},\n    {name: \"PowerShell\", mime: \"application/x-powershell\", mode: \"powershell\", ext: [\"ps1\", \"psd1\", \"psm1\"]},\n    {name: \"Properties files\", mime: \"text/x-properties\", mode: \"properties\", ext: [\"properties\", \"ini\", \"in\"], alias: [\"ini\", \"properties\"]},\n    {name: \"ProtoBuf\", mime: \"text/x-protobuf\", mode: \"protobuf\", ext: [\"proto\"]},\n    {name: \"Python\", mime: \"text/x-python\", mode: \"python\", ext: [\"BUILD\", \"bzl\", \"py\", \"pyw\"], file: /^(BUCK|BUILD)$/},\n    {name: \"Puppet\", mime: \"text/x-puppet\", mode: \"puppet\", ext: [\"pp\"]},\n    {name: \"Q\", mime: \"text/x-q\", mode: \"q\", ext: [\"q\"]},\n    {name: \"R\", mime: \"text/x-rsrc\", mode: \"r\", ext: [\"r\"], alias: [\"rscript\"]},\n    {name: \"reStructuredText\", mime: \"text/x-rst\", mode: \"rst\", ext: [\"rst\"], alias: [\"rst\"]},\n    {name: \"RPM Changes\", mime: \"text/x-rpm-changes\", mode: \"rpm\"},\n    {name: \"RPM Spec\", mime: \"text/x-rpm-spec\", mode: \"rpm\", ext: [\"spec\"]},\n    {name: \"Ruby\", mime: \"text/x-ruby\", mode: \"ruby\", ext: [\"rb\"], alias: [\"jruby\", \"macruby\", \"rake\", \"rb\", \"rbx\"]},\n    {name: \"Rust\", mime: \"text/x-rustsrc\", mode: \"rust\", ext: [\"rs\"]},\n    {name: \"SAS\", mime: \"text/x-sas\", mode: \"sas\", ext: [\"sas\"]},\n    {name: \"Sass\", mime: \"text/x-sass\", mode: \"sass\", ext: [\"sass\"]},\n    {name: \"Scala\", mime: \"text/x-scala\", mode: \"clike\", ext: [\"scala\"]},\n    {name: \"Scheme\", mime: \"text/x-scheme\", mode: \"scheme\", ext: [\"scm\", \"ss\"]},\n    {name: \"SCSS\", mime: \"text/x-scss\", mode: \"css\", ext: [\"scss\"]},\n    {name: \"Shell\", mime: \"text/x-sh\", mode: \"shell\", ext: [\"sh\", \"ksh\", \"bash\"], alias: [\"bash\", \"sh\", \"zsh\"], file: /^PKGBUILD$/},\n    {name: \"Sieve\", mime: \"application/sieve\", mode: \"sieve\", ext: [\"siv\", \"sieve\"]},\n    {name: \"Slim\", mimes: [\"text/x-slim\", \"application/x-slim\"], mode: \"slim\", ext: [\"slim\"]},\n    {name: \"Smalltalk\", mime: \"text/x-stsrc\", mode: \"smalltalk\", ext: [\"st\"]},\n    {name: \"Smarty\", mime: \"text/x-smarty\", mode: \"smarty\", ext: [\"tpl\"]},\n    {name: \"Solr\", mime: \"text/x-solr\", mode: \"solr\"},\n    {name: \"Soy\", mime: \"text/x-soy\", mode: \"soy\", ext: [\"soy\"], alias: [\"closure template\"]},\n    {name: \"SPARQL\", mime: \"application/sparql-query\", mode: \"sparql\", ext: [\"rq\", \"sparql\"], alias: [\"sparul\"]},\n    {name: \"Spreadsheet\", mime: \"text/x-spreadsheet\", mode: \"spreadsheet\", alias: [\"excel\", \"formula\"]},\n    {name: \"SQL\", mime: \"text/x-sql\", mode: \"sql\", ext: [\"sql\"]},\n    {name: \"Squirrel\", mime: \"text/x-squirrel\", mode: \"clike\", ext: [\"nut\"]},\n    {name: \"Swift\", mime: \"text/x-swift\", mode: \"swift\", ext: [\"swift\"]},\n    {name: \"sTeX\", mime: \"text/x-stex\", mode: \"stex\"},\n    {name: \"LaTeX\", mime: \"text/x-latex\", mode: \"stex\", ext: [\"text\", \"ltx\"], alias: [\"tex\"]},\n    {name: \"SystemVerilog\", mime: \"text/x-systemverilog\", mode: \"verilog\", ext: [\"v\"]},\n    {name: \"Tcl\", mime: \"text/x-tcl\", mode: \"tcl\", ext: [\"tcl\"]},\n    {name: \"Textile\", mime: \"text/x-textile\", mode: \"textile\", ext: [\"textile\"]},\n    {name: \"TiddlyWiki \", mime: \"text/x-tiddlywiki\", mode: \"tiddlywiki\"},\n    {name: \"Tiki wiki\", mime: \"text/tiki\", mode: \"tiki\"},\n    {name: \"TOML\", mime: \"text/x-toml\", mode: \"toml\", ext: [\"toml\"]},\n    {name: \"Tornado\", mime: \"text/x-tornado\", mode: \"tornado\"},\n    {name: \"troff\", mime: \"text/troff\", mode: \"troff\", ext: [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\"]},\n    {name: \"TTCN\", mime: \"text/x-ttcn\", mode: \"ttcn\", ext: [\"ttcn\", \"ttcn3\", \"ttcnpp\"]},\n    {name: \"TTCN_CFG\", mime: \"text/x-ttcn-cfg\", mode: \"ttcn-cfg\", ext: [\"cfg\"]},\n    {name: \"Turtle\", mime: \"text/turtle\", mode: \"turtle\", ext: [\"ttl\"]},\n    {name: \"TypeScript\", mime: \"application/typescript\", mode: \"javascript\", ext: [\"ts\"], alias: [\"ts\"]},\n    {name: \"Twig\", mime: \"text/x-twig\", mode: \"twig\"},\n    {name: \"Web IDL\", mime: \"text/x-webidl\", mode: \"webidl\", ext: [\"webidl\"]},\n    {name: \"VB.NET\", mime: \"text/x-vb\", mode: \"vb\", ext: [\"vb\"]},\n    {name: \"VBScript\", mime: \"text/vbscript\", mode: \"vbscript\", ext: [\"vbs\"]},\n    {name: \"Velocity\", mime: \"text/velocity\", mode: \"velocity\", ext: [\"vtl\"]},\n    {name: \"Verilog\", mime: \"text/x-verilog\", mode: \"verilog\", ext: [\"v\"]},\n    {name: \"VHDL\", mime: \"text/x-vhdl\", mode: \"vhdl\", ext: [\"vhd\", \"vhdl\"]},\n    {name: \"XML\", mimes: [\"application/xml\", \"text/xml\"], mode: \"xml\", ext: [\"xml\", \"xsl\", \"xsd\"], alias: [\"rss\", \"wsdl\", \"xsd\"]},\n    {name: \"XQuery\", mime: \"application/xquery\", mode: \"xquery\", ext: [\"xy\", \"xquery\"]},\n    {name: \"Yacas\", mime: \"text/x-yacas\", mode: \"yacas\", ext: [\"ys\"]},\n    {name: \"YAML\", mime: \"text/x-yaml\", mode: \"yaml\", ext: [\"yaml\", \"yml\"], alias: [\"yml\"]},\n    {name: \"Z80\", mime: \"text/x-z80\", mode: \"z80\", ext: [\"z80\"]},\n    {name: \"mscgen\", mime: \"text/x-mscgen\", mode: \"mscgen\", ext: [\"mscgen\", \"mscin\", \"msc\"]},\n    {name: \"xu\", mime: \"text/x-xu\", mode: \"mscgen\", ext: [\"xu\"]},\n    {name: \"msgenny\", mime: \"text/x-msgenny\", mode: \"mscgen\", ext: [\"msgenny\"]}\n  ];\n  // Ensure all modes have a mime property for backwards compatibility\n  for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n    var info = CodeMirror.modeInfo[i];\n    if (info.mimes) info.mime = info.mimes[0];\n  }\n\n  CodeMirror.findModeByMIME = function(mime) {\n    mime = mime.toLowerCase();\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.mime == mime) return info;\n      if (info.mimes) for (var j = 0; j < info.mimes.length; j++)\n        if (info.mimes[j] == mime) return info;\n    }\n  };\n\n  CodeMirror.findModeByExtension = function(ext) {\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.ext) for (var j = 0; j < info.ext.length; j++)\n        if (info.ext[j] == ext) return info;\n    }\n  };\n\n  CodeMirror.findModeByFileName = function(filename) {\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.file && info.file.test(filename)) return info;\n    }\n    var dot = filename.lastIndexOf(\".\");\n    var ext = dot > -1 && filename.substring(dot + 1, filename.length);\n    if (ext) return CodeMirror.findModeByExtension(ext);\n  };\n\n  CodeMirror.findModeByName = function(name) {\n    name = name.toLowerCase();\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.name.toLowerCase() == name) return info;\n      if (info.alias) for (var j = 0; j < info.alias.length; j++)\n        if (info.alias[j].toLowerCase() == name) return info;\n    }\n  };\n});\n\n},{\"../lib/codemirror\":7}],13:[function(require,module,exports){\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"../htmlmixed/htmlmixed\"), require(\"../clike/clike\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"../htmlmixed/htmlmixed\", \"../clike/clike\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  function keywords(str) {\n    var obj = {}, words = str.split(\" \");\n    for (var i = 0; i < words.length; ++i) obj[words[i]] = true;\n    return obj;\n  }\n\n  // Helper for phpString\n  function matchSequence(list, end, escapes) {\n    if (list.length == 0) return phpString(end);\n    return function (stream, state) {\n      var patterns = list[0];\n      for (var i = 0; i < patterns.length; i++) if (stream.match(patterns[i][0])) {\n        state.tokenize = matchSequence(list.slice(1), end);\n        return patterns[i][1];\n      }\n      state.tokenize = phpString(end, escapes);\n      return \"string\";\n    };\n  }\n  function phpString(closing, escapes) {\n    return function(stream, state) { return phpString_(stream, state, closing, escapes); };\n  }\n  function phpString_(stream, state, closing, escapes) {\n    // \"Complex\" syntax\n    if (escapes !== false && stream.match(\"${\", false) || stream.match(\"{$\", false)) {\n      state.tokenize = null;\n      return \"string\";\n    }\n\n    // Simple syntax\n    if (escapes !== false && stream.match(/^\\$[a-zA-Z_][a-zA-Z0-9_]*/)) {\n      // After the variable name there may appear array or object operator.\n      if (stream.match(\"[\", false)) {\n        // Match array operator\n        state.tokenize = matchSequence([\n          [[\"[\", null]],\n          [[/\\d[\\w\\.]*/, \"number\"],\n           [/\\$[a-zA-Z_][a-zA-Z0-9_]*/, \"variable-2\"],\n           [/[\\w\\$]+/, \"variable\"]],\n          [[\"]\", null]]\n        ], closing, escapes);\n      }\n      if (stream.match(/\\-\\>\\w/, false)) {\n        // Match object operator\n        state.tokenize = matchSequence([\n          [[\"->\", null]],\n          [[/[\\w]+/, \"variable\"]]\n        ], closing, escapes);\n      }\n      return \"variable-2\";\n    }\n\n    var escaped = false;\n    // Normal string\n    while (!stream.eol() &&\n           (escaped || escapes === false ||\n            (!stream.match(\"{$\", false) &&\n             !stream.match(/^(\\$[a-zA-Z_][a-zA-Z0-9_]*|\\$\\{)/, false)))) {\n      if (!escaped && stream.match(closing)) {\n        state.tokenize = null;\n        state.tokStack.pop(); state.tokStack.pop();\n        break;\n      }\n      escaped = stream.next() == \"\\\\\" && !escaped;\n    }\n    return \"string\";\n  }\n\n  var phpKeywords = \"abstract and array as break case catch class clone const continue declare default \" +\n    \"do else elseif enddeclare endfor endforeach endif endswitch endwhile extends final \" +\n    \"for foreach function global goto if implements interface instanceof namespace \" +\n    \"new or private protected public static switch throw trait try use var while xor \" +\n    \"die echo empty exit eval include include_once isset list require require_once return \" +\n    \"print unset __halt_compiler self static parent yield insteadof finally\";\n  var phpAtoms = \"true false null TRUE FALSE NULL __CLASS__ __DIR__ __FILE__ __LINE__ __METHOD__ __FUNCTION__ __NAMESPACE__ __TRAIT__\";\n  var phpBuiltin = \"func_num_args func_get_arg func_get_args strlen strcmp strncmp strcasecmp strncasecmp each error_reporting define defined trigger_error user_error set_error_handler restore_error_handler get_declared_classes get_loaded_extensions extension_loaded get_extension_funcs debug_backtrace constant bin2hex hex2bin sleep usleep time mktime gmmktime strftime gmstrftime strtotime date gmdate getdate localtime checkdate flush wordwrap htmlspecialchars htmlentities html_entity_decode md5 md5_file crc32 getimagesize image_type_to_mime_type phpinfo phpversion phpcredits strnatcmp strnatcasecmp substr_count strspn strcspn strtok strtoupper strtolower strpos strrpos strrev hebrev hebrevc nl2br basename dirname pathinfo stripslashes stripcslashes strstr stristr strrchr str_shuffle str_word_count strcoll substr substr_replace quotemeta ucfirst ucwords strtr addslashes addcslashes rtrim str_replace str_repeat count_chars chunk_split trim ltrim strip_tags similar_text explode implode setlocale localeconv parse_str str_pad chop strchr sprintf printf vprintf vsprintf sscanf fscanf parse_url urlencode urldecode rawurlencode rawurldecode readlink linkinfo link unlink exec system escapeshellcmd escapeshellarg passthru shell_exec proc_open proc_close rand srand getrandmax mt_rand mt_srand mt_getrandmax base64_decode base64_encode abs ceil floor round is_finite is_nan is_infinite bindec hexdec octdec decbin decoct dechex base_convert number_format fmod ip2long long2ip getenv putenv getopt microtime gettimeofday getrusage uniqid quoted_printable_decode set_time_limit get_cfg_var magic_quotes_runtime set_magic_quotes_runtime get_magic_quotes_gpc get_magic_quotes_runtime import_request_variables error_log serialize unserialize memory_get_usage var_dump var_export debug_zval_dump print_r highlight_file show_source highlight_string ini_get ini_get_all ini_set ini_alter ini_restore get_include_path set_include_path restore_include_path setcookie header headers_sent connection_aborted connection_status ignore_user_abort parse_ini_file is_uploaded_file move_uploaded_file intval floatval doubleval strval gettype settype is_null is_resource is_bool is_long is_float is_int is_integer is_double is_real is_numeric is_string is_array is_object is_scalar ereg ereg_replace eregi eregi_replace split spliti join sql_regcase dl pclose popen readfile rewind rmdir umask fclose feof fgetc fgets fgetss fread fopen fpassthru ftruncate fstat fseek ftell fflush fwrite fputs mkdir rename copy tempnam tmpfile file file_get_contents file_put_contents stream_select stream_context_create stream_context_set_params stream_context_set_option stream_context_get_options stream_filter_prepend stream_filter_append fgetcsv flock get_meta_tags stream_set_write_buffer set_file_buffer set_socket_blocking stream_set_blocking socket_set_blocking stream_get_meta_data stream_register_wrapper stream_wrapper_register stream_set_timeout socket_set_timeout socket_get_status realpath fnmatch fsockopen pfsockopen pack unpack get_browser crypt opendir closedir chdir getcwd rewinddir readdir dir glob fileatime filectime filegroup fileinode filemtime fileowner fileperms filesize filetype file_exists is_writable is_writeable is_readable is_executable is_file is_dir is_link stat lstat chown touch clearstatcache mail ob_start ob_flush ob_clean ob_end_flush ob_end_clean ob_get_flush ob_get_clean ob_get_length ob_get_level ob_get_status ob_get_contents ob_implicit_flush ob_list_handlers ksort krsort natsort natcasesort asort arsort sort rsort usort uasort uksort shuffle array_walk count end prev next reset current key min max in_array array_search extract compact array_fill range array_multisort array_push array_pop array_shift array_unshift array_splice array_slice array_merge array_merge_recursive array_keys array_values array_count_values array_reverse array_reduce array_pad array_flip array_change_key_case array_rand array_unique array_intersect array_intersect_assoc array_diff array_diff_assoc array_sum array_filter array_map array_chunk array_key_exists array_intersect_key array_combine array_column pos sizeof key_exists assert assert_options version_compare ftok str_rot13 aggregate session_name session_module_name session_save_path session_id session_regenerate_id session_decode session_register session_unregister session_is_registered session_encode session_start session_destroy session_unset session_set_save_handler session_cache_limiter session_cache_expire session_set_cookie_params session_get_cookie_params session_write_close preg_match preg_match_all preg_replace preg_replace_callback preg_split preg_quote preg_grep overload ctype_alnum ctype_alpha ctype_cntrl ctype_digit ctype_lower ctype_graph ctype_print ctype_punct ctype_space ctype_upper ctype_xdigit virtual apache_request_headers apache_note apache_lookup_uri apache_child_terminate apache_setenv apache_response_headers apache_get_version getallheaders mysql_connect mysql_pconnect mysql_close mysql_select_db mysql_create_db mysql_drop_db mysql_query mysql_unbuffered_query mysql_db_query mysql_list_dbs mysql_list_tables mysql_list_fields mysql_list_processes mysql_error mysql_errno mysql_affected_rows mysql_insert_id mysql_result mysql_num_rows mysql_num_fields mysql_fetch_row mysql_fetch_array mysql_fetch_assoc mysql_fetch_object mysql_data_seek mysql_fetch_lengths mysql_fetch_field mysql_field_seek mysql_free_result mysql_field_name mysql_field_table mysql_field_len mysql_field_type mysql_field_flags mysql_escape_string mysql_real_escape_string mysql_stat mysql_thread_id mysql_client_encoding mysql_get_client_info mysql_get_host_info mysql_get_proto_info mysql_get_server_info mysql_info mysql mysql_fieldname mysql_fieldtable mysql_fieldlen mysql_fieldtype mysql_fieldflags mysql_selectdb mysql_createdb mysql_dropdb mysql_freeresult mysql_numfields mysql_numrows mysql_listdbs mysql_listtables mysql_listfields mysql_db_name mysql_dbname mysql_tablename mysql_table_name pg_connect pg_pconnect pg_close pg_connection_status pg_connection_busy pg_connection_reset pg_host pg_dbname pg_port pg_tty pg_options pg_ping pg_query pg_send_query pg_cancel_query pg_fetch_result pg_fetch_row pg_fetch_assoc pg_fetch_array pg_fetch_object pg_fetch_all pg_affected_rows pg_get_result pg_result_seek pg_result_status pg_free_result pg_last_oid pg_num_rows pg_num_fields pg_field_name pg_field_num pg_field_size pg_field_type pg_field_prtlen pg_field_is_null pg_get_notify pg_get_pid pg_result_error pg_last_error pg_last_notice pg_put_line pg_end_copy pg_copy_to pg_copy_from pg_trace pg_untrace pg_lo_create pg_lo_unlink pg_lo_open pg_lo_close pg_lo_read pg_lo_write pg_lo_read_all pg_lo_import pg_lo_export pg_lo_seek pg_lo_tell pg_escape_string pg_escape_bytea pg_unescape_bytea pg_client_encoding pg_set_client_encoding pg_meta_data pg_convert pg_insert pg_update pg_delete pg_select pg_exec pg_getlastoid pg_cmdtuples pg_errormessage pg_numrows pg_numfields pg_fieldname pg_fieldsize pg_fieldtype pg_fieldnum pg_fieldprtlen pg_fieldisnull pg_freeresult pg_result pg_loreadall pg_locreate pg_lounlink pg_loopen pg_loclose pg_loread pg_lowrite pg_loimport pg_loexport http_response_code get_declared_traits getimagesizefromstring socket_import_stream stream_set_chunk_size trait_exists header_register_callback class_uses session_status session_register_shutdown echo print global static exit array empty eval isset unset die include require include_once require_once json_decode json_encode json_last_error json_last_error_msg curl_close curl_copy_handle curl_errno curl_error curl_escape curl_exec curl_file_create curl_getinfo curl_init curl_multi_add_handle curl_multi_close curl_multi_exec curl_multi_getcontent curl_multi_info_read curl_multi_init curl_multi_remove_handle curl_multi_select curl_multi_setopt curl_multi_strerror curl_pause curl_reset curl_setopt_array curl_setopt curl_share_close curl_share_init curl_share_setopt curl_strerror curl_unescape curl_version mysqli_affected_rows mysqli_autocommit mysqli_change_user mysqli_character_set_name mysqli_close mysqli_commit mysqli_connect_errno mysqli_connect_error mysqli_connect mysqli_data_seek mysqli_debug mysqli_dump_debug_info mysqli_errno mysqli_error_list mysqli_error mysqli_fetch_all mysqli_fetch_array mysqli_fetch_assoc mysqli_fetch_field_direct mysqli_fetch_field mysqli_fetch_fields mysqli_fetch_lengths mysqli_fetch_object mysqli_fetch_row mysqli_field_count mysqli_field_seek mysqli_field_tell mysqli_free_result mysqli_get_charset mysqli_get_client_info mysqli_get_client_stats mysqli_get_client_version mysqli_get_connection_stats mysqli_get_host_info mysqli_get_proto_info mysqli_get_server_info mysqli_get_server_version mysqli_info mysqli_init mysqli_insert_id mysqli_kill mysqli_more_results mysqli_multi_query mysqli_next_result mysqli_num_fields mysqli_num_rows mysqli_options mysqli_ping mysqli_prepare mysqli_query mysqli_real_connect mysqli_real_escape_string mysqli_real_query mysqli_reap_async_query mysqli_refresh mysqli_rollback mysqli_select_db mysqli_set_charset mysqli_set_local_infile_default mysqli_set_local_infile_handler mysqli_sqlstate mysqli_ssl_set mysqli_stat mysqli_stmt_init mysqli_store_result mysqli_thread_id mysqli_thread_safe mysqli_use_result mysqli_warning_count\";\n  CodeMirror.registerHelper(\"hintWords\", \"php\", [phpKeywords, phpAtoms, phpBuiltin].join(\" \").split(\" \"));\n  CodeMirror.registerHelper(\"wordChars\", \"php\", /[\\w$]/);\n\n  var phpConfig = {\n    name: \"clike\",\n    helperType: \"php\",\n    keywords: keywords(phpKeywords),\n    blockKeywords: keywords(\"catch do else elseif for foreach if switch try while finally\"),\n    defKeywords: keywords(\"class function interface namespace trait\"),\n    atoms: keywords(phpAtoms),\n    builtin: keywords(phpBuiltin),\n    multiLineStrings: true,\n    hooks: {\n      \"$\": function(stream) {\n        stream.eatWhile(/[\\w\\$_]/);\n        return \"variable-2\";\n      },\n      \"<\": function(stream, state) {\n        var before;\n        if (before = stream.match(/<<\\s*/)) {\n          var quoted = stream.eat(/['\"]/);\n          stream.eatWhile(/[\\w\\.]/);\n          var delim = stream.current().slice(before[0].length + (quoted ? 2 : 1));\n          if (quoted) stream.eat(quoted);\n          if (delim) {\n            (state.tokStack || (state.tokStack = [])).push(delim, 0);\n            state.tokenize = phpString(delim, quoted != \"'\");\n            return \"string\";\n          }\n        }\n        return false;\n      },\n      \"#\": function(stream) {\n        while (!stream.eol() && !stream.match(\"?>\", false)) stream.next();\n        return \"comment\";\n      },\n      \"/\": function(stream) {\n        if (stream.eat(\"/\")) {\n          while (!stream.eol() && !stream.match(\"?>\", false)) stream.next();\n          return \"comment\";\n        }\n        return false;\n      },\n      '\"': function(_stream, state) {\n        (state.tokStack || (state.tokStack = [])).push('\"', 0);\n        state.tokenize = phpString('\"');\n        return \"string\";\n      },\n      \"{\": function(_stream, state) {\n        if (state.tokStack && state.tokStack.length)\n          state.tokStack[state.tokStack.length - 1]++;\n        return false;\n      },\n      \"}\": function(_stream, state) {\n        if (state.tokStack && state.tokStack.length > 0 &&\n            !--state.tokStack[state.tokStack.length - 1]) {\n          state.tokenize = phpString(state.tokStack[state.tokStack.length - 2]);\n        }\n        return false;\n      }\n    }\n  };\n\n  CodeMirror.defineMode(\"php\", function(config, parserConfig) {\n    var htmlMode = CodeMirror.getMode(config, \"text/html\");\n    var phpMode = CodeMirror.getMode(config, phpConfig);\n\n    function dispatch(stream, state) {\n      var isPHP = state.curMode == phpMode;\n      if (stream.sol() && state.pending && state.pending != '\"' && state.pending != \"'\") state.pending = null;\n      if (!isPHP) {\n        if (stream.match(/^<\\?\\w*/)) {\n          state.curMode = phpMode;\n          if (!state.php) state.php = CodeMirror.startState(phpMode, htmlMode.indent(state.html, \"\"))\n          state.curState = state.php;\n          return \"meta\";\n        }\n        if (state.pending == '\"' || state.pending == \"'\") {\n          while (!stream.eol() && stream.next() != state.pending) {}\n          var style = \"string\";\n        } else if (state.pending && stream.pos < state.pending.end) {\n          stream.pos = state.pending.end;\n          var style = state.pending.style;\n        } else {\n          var style = htmlMode.token(stream, state.curState);\n        }\n        if (state.pending) state.pending = null;\n        var cur = stream.current(), openPHP = cur.search(/<\\?/), m;\n        if (openPHP != -1) {\n          if (style == \"string\" && (m = cur.match(/[\\'\\\"]$/)) && !/\\?>/.test(cur)) state.pending = m[0];\n          else state.pending = {end: stream.pos, style: style};\n          stream.backUp(cur.length - openPHP);\n        }\n        return style;\n      } else if (isPHP && state.php.tokenize == null && stream.match(\"?>\")) {\n        state.curMode = htmlMode;\n        state.curState = state.html;\n        if (!state.php.context.prev) state.php = null;\n        return \"meta\";\n      } else {\n        return phpMode.token(stream, state.curState);\n      }\n    }\n\n    return {\n      startState: function() {\n        var html = CodeMirror.startState(htmlMode)\n        var php = parserConfig.startOpen ? CodeMirror.startState(phpMode) : null\n        return {html: html,\n                php: php,\n                curMode: parserConfig.startOpen ? phpMode : htmlMode,\n                curState: parserConfig.startOpen ? php : html,\n                pending: null};\n      },\n\n      copyState: function(state) {\n        var html = state.html, htmlNew = CodeMirror.copyState(htmlMode, html),\n            php = state.php, phpNew = php && CodeMirror.copyState(phpMode, php), cur;\n        if (state.curMode == htmlMode) cur = htmlNew;\n        else cur = phpNew;\n        return {html: htmlNew, php: phpNew, curMode: state.curMode, curState: cur,\n                pending: state.pending};\n      },\n\n      token: dispatch,\n\n      indent: function(state, textAfter) {\n        if ((state.curMode != phpMode && /^\\s*<\\//.test(textAfter)) ||\n            (state.curMode == phpMode && /^\\?>/.test(textAfter)))\n          return htmlMode.indent(state.html, textAfter);\n        return state.curMode.indent(state.curState, textAfter);\n      },\n\n      blockCommentStart: \"/*\",\n      blockCommentEnd: \"*/\",\n      lineComment: \"//\",\n\n      innerMode: function(state) { return {state: state.curState, mode: state.curMode}; }\n    };\n  }, \"htmlmixed\", \"clike\");\n\n  CodeMirror.defineMIME(\"application/x-httpd-php\", \"php\");\n  CodeMirror.defineMIME(\"application/x-httpd-php-open\", {name: \"php\", startOpen: true});\n  CodeMirror.defineMIME(\"text/x-php\", phpConfig);\n});\n\n},{\"../../lib/codemirror\":7,\"../clike/clike\":8,\"../htmlmixed/htmlmixed\":10}],14:[function(require,module,exports){\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nvar htmlConfig = {\n  autoSelfClosers: {'area': true, 'base': true, 'br': true, 'col': true, 'command': true,\n                    'embed': true, 'frame': true, 'hr': true, 'img': true, 'input': true,\n                    'keygen': true, 'link': true, 'meta': true, 'param': true, 'source': true,\n                    'track': true, 'wbr': true, 'menuitem': true},\n  implicitlyClosed: {'dd': true, 'li': true, 'optgroup': true, 'option': true, 'p': true,\n                     'rp': true, 'rt': true, 'tbody': true, 'td': true, 'tfoot': true,\n                     'th': true, 'tr': true},\n  contextGrabbers: {\n    'dd': {'dd': true, 'dt': true},\n    'dt': {'dd': true, 'dt': true},\n    'li': {'li': true},\n    'option': {'option': true, 'optgroup': true},\n    'optgroup': {'optgroup': true},\n    'p': {'address': true, 'article': true, 'aside': true, 'blockquote': true, 'dir': true,\n          'div': true, 'dl': true, 'fieldset': true, 'footer': true, 'form': true,\n          'h1': true, 'h2': true, 'h3': true, 'h4': true, 'h5': true, 'h6': true,\n          'header': true, 'hgroup': true, 'hr': true, 'menu': true, 'nav': true, 'ol': true,\n          'p': true, 'pre': true, 'section': true, 'table': true, 'ul': true},\n    'rp': {'rp': true, 'rt': true},\n    'rt': {'rp': true, 'rt': true},\n    'tbody': {'tbody': true, 'tfoot': true},\n    'td': {'td': true, 'th': true},\n    'tfoot': {'tbody': true},\n    'th': {'td': true, 'th': true},\n    'thead': {'tbody': true, 'tfoot': true},\n    'tr': {'tr': true}\n  },\n  doNotIndent: {\"pre\": true},\n  allowUnquoted: true,\n  allowMissing: true,\n  caseFold: true\n}\n\nvar xmlConfig = {\n  autoSelfClosers: {},\n  implicitlyClosed: {},\n  contextGrabbers: {},\n  doNotIndent: {},\n  allowUnquoted: false,\n  allowMissing: false,\n  caseFold: false\n}\n\nCodeMirror.defineMode(\"xml\", function(editorConf, config_) {\n  var indentUnit = editorConf.indentUnit\n  var config = {}\n  var defaults = config_.htmlMode ? htmlConfig : xmlConfig\n  for (var prop in defaults) config[prop] = defaults[prop]\n  for (var prop in config_) config[prop] = config_[prop]\n\n  // Return variables for tokenizers\n  var type, setStyle;\n\n  function inText(stream, state) {\n    function chain(parser) {\n      state.tokenize = parser;\n      return parser(stream, state);\n    }\n\n    var ch = stream.next();\n    if (ch == \"<\") {\n      if (stream.eat(\"!\")) {\n        if (stream.eat(\"[\")) {\n          if (stream.match(\"CDATA[\")) return chain(inBlock(\"atom\", \"]]>\"));\n          else return null;\n        } else if (stream.match(\"--\")) {\n          return chain(inBlock(\"comment\", \"-->\"));\n        } else if (stream.match(\"DOCTYPE\", true, true)) {\n          stream.eatWhile(/[\\w\\._\\-]/);\n          return chain(doctype(1));\n        } else {\n          return null;\n        }\n      } else if (stream.eat(\"?\")) {\n        stream.eatWhile(/[\\w\\._\\-]/);\n        state.tokenize = inBlock(\"meta\", \"?>\");\n        return \"meta\";\n      } else {\n        type = stream.eat(\"/\") ? \"closeTag\" : \"openTag\";\n        state.tokenize = inTag;\n        return \"tag bracket\";\n      }\n    } else if (ch == \"&\") {\n      var ok;\n      if (stream.eat(\"#\")) {\n        if (stream.eat(\"x\")) {\n          ok = stream.eatWhile(/[a-fA-F\\d]/) && stream.eat(\";\");\n        } else {\n          ok = stream.eatWhile(/[\\d]/) && stream.eat(\";\");\n        }\n      } else {\n        ok = stream.eatWhile(/[\\w\\.\\-:]/) && stream.eat(\";\");\n      }\n      return ok ? \"atom\" : \"error\";\n    } else {\n      stream.eatWhile(/[^&<]/);\n      return null;\n    }\n  }\n  inText.isInText = true;\n\n  function inTag(stream, state) {\n    var ch = stream.next();\n    if (ch == \">\" || (ch == \"/\" && stream.eat(\">\"))) {\n      state.tokenize = inText;\n      type = ch == \">\" ? \"endTag\" : \"selfcloseTag\";\n      return \"tag bracket\";\n    } else if (ch == \"=\") {\n      type = \"equals\";\n      return null;\n    } else if (ch == \"<\") {\n      state.tokenize = inText;\n      state.state = baseState;\n      state.tagName = state.tagStart = null;\n      var next = state.tokenize(stream, state);\n      return next ? next + \" tag error\" : \"tag error\";\n    } else if (/[\\'\\\"]/.test(ch)) {\n      state.tokenize = inAttribute(ch);\n      state.stringStartCol = stream.column();\n      return state.tokenize(stream, state);\n    } else {\n      stream.match(/^[^\\s\\u00a0=<>\\\"\\']*[^\\s\\u00a0=<>\\\"\\'\\/]/);\n      return \"word\";\n    }\n  }\n\n  function inAttribute(quote) {\n    var closure = function(stream, state) {\n      while (!stream.eol()) {\n        if (stream.next() == quote) {\n          state.tokenize = inTag;\n          break;\n        }\n      }\n      return \"string\";\n    };\n    closure.isInAttribute = true;\n    return closure;\n  }\n\n  function inBlock(style, terminator) {\n    return function(stream, state) {\n      while (!stream.eol()) {\n        if (stream.match(terminator)) {\n          state.tokenize = inText;\n          break;\n        }\n        stream.next();\n      }\n      return style;\n    };\n  }\n  function doctype(depth) {\n    return function(stream, state) {\n      var ch;\n      while ((ch = stream.next()) != null) {\n        if (ch == \"<\") {\n          state.tokenize = doctype(depth + 1);\n          return state.tokenize(stream, state);\n        } else if (ch == \">\") {\n          if (depth == 1) {\n            state.tokenize = inText;\n            break;\n          } else {\n            state.tokenize = doctype(depth - 1);\n            return state.tokenize(stream, state);\n          }\n        }\n      }\n      return \"meta\";\n    };\n  }\n\n  function Context(state, tagName, startOfLine) {\n    this.prev = state.context;\n    this.tagName = tagName;\n    this.indent = state.indented;\n    this.startOfLine = startOfLine;\n    if (config.doNotIndent.hasOwnProperty(tagName) || (state.context && state.context.noIndent))\n      this.noIndent = true;\n  }\n  function popContext(state) {\n    if (state.context) state.context = state.context.prev;\n  }\n  function maybePopContext(state, nextTagName) {\n    var parentTagName;\n    while (true) {\n      if (!state.context) {\n        return;\n      }\n      parentTagName = state.context.tagName;\n      if (!config.contextGrabbers.hasOwnProperty(parentTagName) ||\n          !config.contextGrabbers[parentTagName].hasOwnProperty(nextTagName)) {\n        return;\n      }\n      popContext(state);\n    }\n  }\n\n  function baseState(type, stream, state) {\n    if (type == \"openTag\") {\n      state.tagStart = stream.column();\n      return tagNameState;\n    } else if (type == \"closeTag\") {\n      return closeTagNameState;\n    } else {\n      return baseState;\n    }\n  }\n  function tagNameState(type, stream, state) {\n    if (type == \"word\") {\n      state.tagName = stream.current();\n      setStyle = \"tag\";\n      return attrState;\n    } else {\n      setStyle = \"error\";\n      return tagNameState;\n    }\n  }\n  function closeTagNameState(type, stream, state) {\n    if (type == \"word\") {\n      var tagName = stream.current();\n      if (state.context && state.context.tagName != tagName &&\n          config.implicitlyClosed.hasOwnProperty(state.context.tagName))\n        popContext(state);\n      if ((state.context && state.context.tagName == tagName) || config.matchClosing === false) {\n        setStyle = \"tag\";\n        return closeState;\n      } else {\n        setStyle = \"tag error\";\n        return closeStateErr;\n      }\n    } else {\n      setStyle = \"error\";\n      return closeStateErr;\n    }\n  }\n\n  function closeState(type, _stream, state) {\n    if (type != \"endTag\") {\n      setStyle = \"error\";\n      return closeState;\n    }\n    popContext(state);\n    return baseState;\n  }\n  function closeStateErr(type, stream, state) {\n    setStyle = \"error\";\n    return closeState(type, stream, state);\n  }\n\n  function attrState(type, _stream, state) {\n    if (type == \"word\") {\n      setStyle = \"attribute\";\n      return attrEqState;\n    } else if (type == \"endTag\" || type == \"selfcloseTag\") {\n      var tagName = state.tagName, tagStart = state.tagStart;\n      state.tagName = state.tagStart = null;\n      if (type == \"selfcloseTag\" ||\n          config.autoSelfClosers.hasOwnProperty(tagName)) {\n        maybePopContext(state, tagName);\n      } else {\n        maybePopContext(state, tagName);\n        state.context = new Context(state, tagName, tagStart == state.indented);\n      }\n      return baseState;\n    }\n    setStyle = \"error\";\n    return attrState;\n  }\n  function attrEqState(type, stream, state) {\n    if (type == \"equals\") return attrValueState;\n    if (!config.allowMissing) setStyle = \"error\";\n    return attrState(type, stream, state);\n  }\n  function attrValueState(type, stream, state) {\n    if (type == \"string\") return attrContinuedState;\n    if (type == \"word\" && config.allowUnquoted) {setStyle = \"string\"; return attrState;}\n    setStyle = \"error\";\n    return attrState(type, stream, state);\n  }\n  function attrContinuedState(type, stream, state) {\n    if (type == \"string\") return attrContinuedState;\n    return attrState(type, stream, state);\n  }\n\n  return {\n    startState: function(baseIndent) {\n      var state = {tokenize: inText,\n                   state: baseState,\n                   indented: baseIndent || 0,\n                   tagName: null, tagStart: null,\n                   context: null}\n      if (baseIndent != null) state.baseIndent = baseIndent\n      return state\n    },\n\n    token: function(stream, state) {\n      if (!state.tagName && stream.sol())\n        state.indented = stream.indentation();\n\n      if (stream.eatSpace()) return null;\n      type = null;\n      var style = state.tokenize(stream, state);\n      if ((style || type) && style != \"comment\") {\n        setStyle = null;\n        state.state = state.state(type || style, stream, state);\n        if (setStyle)\n          style = setStyle == \"error\" ? style + \" error\" : setStyle;\n      }\n      return style;\n    },\n\n    indent: function(state, textAfter, fullLine) {\n      var context = state.context;\n      // Indent multi-line strings (e.g. css).\n      if (state.tokenize.isInAttribute) {\n        if (state.tagStart == state.indented)\n          return state.stringStartCol + 1;\n        else\n          return state.indented + indentUnit;\n      }\n      if (context && context.noIndent) return CodeMirror.Pass;\n      if (state.tokenize != inTag && state.tokenize != inText)\n        return fullLine ? fullLine.match(/^(\\s*)/)[0].length : 0;\n      // Indent the starts of attribute names.\n      if (state.tagName) {\n        if (config.multilineTagIndentPastTag !== false)\n          return state.tagStart + state.tagName.length + 2;\n        else\n          return state.tagStart + indentUnit * (config.multilineTagIndentFactor || 1);\n      }\n      if (config.alignCDATA && /<!\\[CDATA\\[/.test(textAfter)) return 0;\n      var tagAfter = textAfter && /^<(\\/)?([\\w_:\\.-]*)/.exec(textAfter);\n      if (tagAfter && tagAfter[1]) { // Closing tag spotted\n        while (context) {\n          if (context.tagName == tagAfter[2]) {\n            context = context.prev;\n            break;\n          } else if (config.implicitlyClosed.hasOwnProperty(context.tagName)) {\n            context = context.prev;\n          } else {\n            break;\n          }\n        }\n      } else if (tagAfter) { // Opening tag spotted\n        while (context) {\n          var grabbers = config.contextGrabbers[context.tagName];\n          if (grabbers && grabbers.hasOwnProperty(tagAfter[2]))\n            context = context.prev;\n          else\n            break;\n        }\n      }\n      while (context && context.prev && !context.startOfLine)\n        context = context.prev;\n      if (context) return context.indent + indentUnit;\n      else return state.baseIndent || 0;\n    },\n\n    electricInput: /<\\/[\\s\\w:]+>$/,\n    blockCommentStart: \"<!--\",\n    blockCommentEnd: \"-->\",\n\n    configuration: config.htmlMode ? \"html\" : \"xml\",\n    helperType: config.htmlMode ? \"html\" : \"xml\",\n\n    skipAttribute: function(state) {\n      if (state.state == attrValueState)\n        state.state = attrState\n    }\n  };\n});\n\nCodeMirror.defineMIME(\"text/xml\", \"xml\");\nCodeMirror.defineMIME(\"application/xml\", \"xml\");\nif (!CodeMirror.mimeModes.hasOwnProperty(\"text/html\"))\n  CodeMirror.defineMIME(\"text/html\", {name: \"xml\", htmlMode: true});\n\n});\n\n},{\"../../lib/codemirror\":7}],15:[function(require,module,exports){\n/*!\r\n * jQuery Migrate - v3.0.0 - 2016-06-09\r\n * Copyright jQuery Foundation and other contributors\r\n */\r\n(function( jQuery, window ) {\n\"use strict\";\n\r\n\njQuery.migrateVersion = \"3.0.0\";\n\r\n\n( function() {\n\n\t// Support: IE9 only\n\t// IE9 only creates console object when dev tools are first opened\n\t// Also, avoid Function#bind here to simplify PhantomJS usage\n\tvar log = window.console && window.console.log &&\n\t\t\tfunction() { window.console.log.apply( window.console, arguments ); },\n\t\trbadVersions = /^[12]\\./;\n\n\tif ( !log ) {\n\t\treturn;\n\t}\n\n\t// Need jQuery 3.0.0+ and no older Migrate loaded\n\tif ( !jQuery || rbadVersions.test( jQuery.fn.jquery ) ) {\n\t\tlog( \"JQMIGRATE: jQuery 3.0.0+ REQUIRED\" );\n\t}\n\tif ( jQuery.migrateWarnings ) {\n\t\tlog( \"JQMIGRATE: Migrate plugin loaded multiple times\" );\n\t}\n\n\t// Show a message on the console so devs know we're active\n\tlog( \"JQMIGRATE: Migrate is installed\" +\n\t\t( jQuery.migrateMute ? \"\" : \" with logging active\" ) +\n\t\t\", version \" + jQuery.migrateVersion );\n\n} )();\n\nvar warnedAbout = {};\n\n// List of warnings already given; public read only\njQuery.migrateWarnings = [];\n\n// Set to false to disable traces that appear with warnings\nif ( jQuery.migrateTrace === undefined ) {\n\tjQuery.migrateTrace = true;\n}\n\n// Forget any warnings we've already given; public\njQuery.migrateReset = function() {\n\twarnedAbout = {};\n\tjQuery.migrateWarnings.length = 0;\n};\n\nfunction migrateWarn( msg ) {\n\tvar console = window.console;\n\tif ( !warnedAbout[ msg ] ) {\n\t\twarnedAbout[ msg ] = true;\n\t\tjQuery.migrateWarnings.push( msg );\n\t\tif ( console && console.warn && !jQuery.migrateMute ) {\n\t\t\tconsole.warn( \"JQMIGRATE: \" + msg );\n\t\t\tif ( jQuery.migrateTrace && console.trace ) {\n\t\t\t\tconsole.trace();\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction migrateWarnProp( obj, prop, value, msg ) {\n\tObject.defineProperty( obj, prop, {\n\t\tconfigurable: true,\n\t\tenumerable: true,\n\t\tget: function() {\n\t\t\tmigrateWarn( msg );\n\t\t\treturn value;\n\t\t}\n\t} );\n}\n\nif ( document.compatMode === \"BackCompat\" ) {\n\n\t// JQuery has never supported or tested Quirks Mode\n\tmigrateWarn( \"jQuery is not compatible with Quirks Mode\" );\n}\n\r\n\nvar oldInit = jQuery.fn.init,\n\toldIsNumeric = jQuery.isNumeric,\n\toldFind = jQuery.find,\n\trattrHashTest = /\\[(\\s*[-\\w]+\\s*)([~|^$*]?=)\\s*([-\\w#]*?#[-\\w#]*)\\s*\\]/,\n\trattrHashGlob = /\\[(\\s*[-\\w]+\\s*)([~|^$*]?=)\\s*([-\\w#]*?#[-\\w#]*)\\s*\\]/g;\n\njQuery.fn.init = function( arg1 ) {\n\tvar args = Array.prototype.slice.call( arguments );\n\n\tif ( typeof arg1 === \"string\" && arg1 === \"#\" ) {\n\n\t\t// JQuery( \"#\" ) is a bogus ID selector, but it returned an empty set before jQuery 3.0\n\t\tmigrateWarn( \"jQuery( '#' ) is not a valid selector\" );\n\t\targs[ 0 ] = [];\n\t}\n\n\treturn oldInit.apply( this, args );\n};\njQuery.fn.init.prototype = jQuery.fn;\n\njQuery.find = function( selector ) {\n\tvar args = Array.prototype.slice.call( arguments );\n\n\t// Support: PhantomJS 1.x\n\t// String#match fails to match when used with a //g RegExp, only on some strings\n\tif ( typeof selector === \"string\" && rattrHashTest.test( selector ) ) {\n\n\t\t// The nonstandard and undocumented unquoted-hash was removed in jQuery 1.12.0\n\t\t// First see if qS thinks it's a valid selector, if so avoid a false positive\n\t\ttry {\n\t\t\tdocument.querySelector( selector );\n\t\t} catch ( err1 ) {\n\n\t\t\t// Didn't *look* valid to qSA, warn and try quoting what we think is the value\n\t\t\tselector = selector.replace( rattrHashGlob, function( _, attr, op, value ) {\n\t\t\t\treturn \"[\" + attr + op + \"\\\"\" + value + \"\\\"]\";\n\t\t\t} );\n\n\t\t\t// If the regexp *may* have created an invalid selector, don't update it\n\t\t\t// Note that there may be false alarms if selector uses jQuery extensions\n\t\t\ttry {\n\t\t\t\tdocument.querySelector( selector );\n\t\t\t\tmigrateWarn( \"Attribute selector with '#' must be quoted: \" + args[ 0 ] );\n\t\t\t\targs[ 0 ] = selector;\n\t\t\t} catch ( err2 ) {\n\t\t\t\tmigrateWarn( \"Attribute selector with '#' was not fixed: \" + args[ 0 ] );\n\t\t\t}\n\t\t}\n\t}\n\n\treturn oldFind.apply( this, args );\n};\n\n// Copy properties attached to original jQuery.find method (e.g. .attr, .isXML)\nvar findProp;\nfor ( findProp in oldFind ) {\n\tif ( Object.prototype.hasOwnProperty.call( oldFind, findProp ) ) {\n\t\tjQuery.find[ findProp ] = oldFind[ findProp ];\n\t}\n}\n\n// The number of elements contained in the matched element set\njQuery.fn.size = function() {\n\tmigrateWarn( \"jQuery.fn.size() is deprecated; use the .length property\" );\n\treturn this.length;\n};\n\njQuery.parseJSON = function() {\n\tmigrateWarn( \"jQuery.parseJSON is deprecated; use JSON.parse\" );\n\treturn JSON.parse.apply( null, arguments );\n};\n\njQuery.isNumeric = function( val ) {\n\n\t// The jQuery 2.2.3 implementation of isNumeric\n\tfunction isNumeric2( obj ) {\n\t\tvar realStringObj = obj && obj.toString();\n\t\treturn !jQuery.isArray( obj ) && ( realStringObj - parseFloat( realStringObj ) + 1 ) >= 0;\n\t}\n\n\tvar newValue = oldIsNumeric( val ),\n\t\toldValue = isNumeric2( val );\n\n\tif ( newValue !== oldValue ) {\n\t\tmigrateWarn( \"jQuery.isNumeric() should not be called on constructed objects\" );\n\t}\n\n\treturn oldValue;\n};\n\nmigrateWarnProp( jQuery, \"unique\", jQuery.uniqueSort,\n\t\"jQuery.unique is deprecated, use jQuery.uniqueSort\" );\n\n// Now jQuery.expr.pseudos is the standard incantation\nmigrateWarnProp( jQuery.expr, \"filters\", jQuery.expr.pseudos,\n\t\"jQuery.expr.filters is now jQuery.expr.pseudos\" );\nmigrateWarnProp( jQuery.expr, \":\", jQuery.expr.pseudos,\n\t\"jQuery.expr[\\\":\\\"] is now jQuery.expr.pseudos\" );\n\r\n\nvar oldAjax = jQuery.ajax;\n\njQuery.ajax = function( ) {\n\tvar jQXHR = oldAjax.apply( this, arguments );\n\n\t// Be sure we got a jQXHR (e.g., not sync)\n\tif ( jQXHR.promise ) {\n\t\tmigrateWarnProp( jQXHR, \"success\", jQXHR.done,\n\t\t\t\"jQXHR.success is deprecated and removed\" );\n\t\tmigrateWarnProp( jQXHR, \"error\", jQXHR.fail,\n\t\t\t\"jQXHR.error is deprecated and removed\" );\n\t\tmigrateWarnProp( jQXHR, \"complete\", jQXHR.always,\n\t\t\t\"jQXHR.complete is deprecated and removed\" );\n\t}\n\n\treturn jQXHR;\n};\n\r\n\nvar oldRemoveAttr = jQuery.fn.removeAttr,\n\toldToggleClass = jQuery.fn.toggleClass,\n\trmatchNonSpace = /\\S+/g;\n\njQuery.fn.removeAttr = function( name ) {\n\tvar self = this;\n\n\tjQuery.each( name.match( rmatchNonSpace ), function( i, attr ) {\n\t\tif ( jQuery.expr.match.bool.test( attr ) ) {\n\t\t\tmigrateWarn( \"jQuery.fn.removeAttr no longer sets boolean properties: \" + attr );\n\t\t\tself.prop( attr, false );\n\t\t}\n\t} );\n\n\treturn oldRemoveAttr.apply( this, arguments );\n};\n\njQuery.fn.toggleClass = function( state ) {\n\n\t// Only deprecating no-args or single boolean arg\n\tif ( state !== undefined && typeof state !== \"boolean\" ) {\n\t\treturn oldToggleClass.apply( this, arguments );\n\t}\n\n\tmigrateWarn( \"jQuery.fn.toggleClass( boolean ) is deprecated\" );\n\n\t// Toggle entire class name of each element\n\treturn this.each( function() {\n\t\tvar className = this.getAttribute && this.getAttribute( \"class\" ) || \"\";\n\n\t\tif ( className ) {\n\t\t\tjQuery.data( this, \"__className__\", className );\n\t\t}\n\n\t\t// If the element has a class name or if we're passed `false`,\n\t\t// then remove the whole classname (if there was one, the above saved it).\n\t\t// Otherwise bring back whatever was previously saved (if anything),\n\t\t// falling back to the empty string if nothing was stored.\n\t\tif ( this.setAttribute ) {\n\t\t\tthis.setAttribute( \"class\",\n\t\t\t\tclassName || state === false ?\n\t\t\t\t\"\" :\n\t\t\t\tjQuery.data( this, \"__className__\" ) || \"\"\n\t\t\t);\n\t\t}\n\t} );\n};\n\r\n\nvar internalSwapCall = false;\n\n// If this version of jQuery has .swap(), don't false-alarm on internal uses\nif ( jQuery.swap ) {\n\tjQuery.each( [ \"height\", \"width\", \"reliableMarginRight\" ], function( _, name ) {\n\t\tvar oldHook = jQuery.cssHooks[ name ] && jQuery.cssHooks[ name ].get;\n\n\t\tif ( oldHook ) {\n\t\t\tjQuery.cssHooks[ name ].get = function() {\n\t\t\t\tvar ret;\n\n\t\t\t\tinternalSwapCall = true;\n\t\t\t\tret = oldHook.apply( this, arguments );\n\t\t\t\tinternalSwapCall = false;\n\t\t\t\treturn ret;\n\t\t\t};\n\t\t}\n\t} );\n}\n\njQuery.swap = function( elem, options, callback, args ) {\n\tvar ret, name,\n\t\told = {};\n\n\tif ( !internalSwapCall ) {\n\t\tmigrateWarn( \"jQuery.swap() is undocumented and deprecated\" );\n\t}\n\n\t// Remember the old values, and insert the new ones\n\tfor ( name in options ) {\n\t\told[ name ] = elem.style[ name ];\n\t\telem.style[ name ] = options[ name ];\n\t}\n\n\tret = callback.apply( elem, args || [] );\n\n\t// Revert the old values\n\tfor ( name in options ) {\n\t\telem.style[ name ] = old[ name ];\n\t}\n\n\treturn ret;\n};\n\r\nvar oldData = jQuery.data;\n\njQuery.data = function( elem, name, value ) {\n\tvar curData;\n\n\t// If the name is transformed, look for the un-transformed name in the data object\n\tif ( name && name !== jQuery.camelCase( name ) ) {\n\t\tcurData = jQuery.hasData( elem ) && oldData.call( this, elem );\n\t\tif ( curData && name in curData ) {\n\t\t\tmigrateWarn( \"jQuery.data() always sets/gets camelCased names: \" + name );\n\t\t\tif ( arguments.length > 2 ) {\n\t\t\t\tcurData[ name ] = value;\n\t\t\t}\n\t\t\treturn curData[ name ];\n\t\t}\n\t}\n\n\treturn oldData.apply( this, arguments );\n};\n\r\nvar oldTweenRun = jQuery.Tween.prototype.run;\n\njQuery.Tween.prototype.run = function( percent ) {\n\tif ( jQuery.easing[ this.easing ].length > 1 ) {\n\t\tmigrateWarn(\n\t\t\t\"easing function \" +\n\t\t\t\"\\\"jQuery.easing.\" + this.easing.toString() +\n\t\t\t\"\\\" should use only first argument\"\n\t\t);\n\n\t\tjQuery.easing[ this.easing ] = jQuery.easing[ this.easing ].bind(\n\t\t\tjQuery.easing,\n\t\t\tpercent, this.options.duration * percent, 0, 1, this.options.duration\n\t\t);\n\t}\n\n\toldTweenRun.apply( this, arguments );\n};\n\r\nvar oldLoad = jQuery.fn.load,\n\toriginalFix = jQuery.event.fix;\n\njQuery.event.props = [];\njQuery.event.fixHooks = {};\n\njQuery.event.fix = function( originalEvent ) {\n\tvar event,\n\t\ttype = originalEvent.type,\n\t\tfixHook = this.fixHooks[ type ],\n\t\tprops = jQuery.event.props;\n\n\tif ( props.length ) {\n\t\tmigrateWarn( \"jQuery.event.props are deprecated and removed: \" + props.join() );\n\t\twhile ( props.length ) {\n\t\t\tjQuery.event.addProp( props.pop() );\n\t\t}\n\t}\n\n\tif ( fixHook && !fixHook._migrated_ ) {\n\t\tfixHook._migrated_ = true;\n\t\tmigrateWarn( \"jQuery.event.fixHooks are deprecated and removed: \" + type );\n\t\tif ( ( props = fixHook.props ) && props.length ) {\n\t\t\twhile ( props.length ) {\n\t\t\t   jQuery.event.addProp( props.pop() );\n\t\t\t}\n\t\t}\n\t}\n\n\tevent = originalFix.call( this, originalEvent );\n\n\treturn fixHook && fixHook.filter ? fixHook.filter( event, originalEvent ) : event;\n};\n\njQuery.each( [ \"load\", \"unload\", \"error\" ], function( _, name ) {\n\n\tjQuery.fn[ name ] = function() {\n\t\tvar args = Array.prototype.slice.call( arguments, 0 );\n\n\t\t// If this is an ajax load() the first arg should be the string URL;\n\t\t// technically this could also be the \"Anything\" arg of the event .load()\n\t\t// which just goes to show why this dumb signature has been deprecated!\n\t\t// jQuery custom builds that exclude the Ajax module justifiably die here.\n\t\tif ( name === \"load\" && typeof args[ 0 ] === \"string\" ) {\n\t\t\treturn oldLoad.apply( this, args );\n\t\t}\n\n\t\tmigrateWarn( \"jQuery.fn.\" + name + \"() is deprecated\" );\n\n\t\targs.splice( 0, 0, name );\n\t\tif ( arguments.length ) {\n\t\t\treturn this.on.apply( this, args );\n\t\t}\n\n\t\t// Use .triggerHandler here because:\n\t\t// - load and unload events don't need to bubble, only applied to window or image\n\t\t// - error event should not bubble to window, although it does pre-1.7\n\t\t// See http://bugs.jquery.com/ticket/11820\n\t\tthis.triggerHandler.apply( this, args );\n\t\treturn this;\n\t};\n\n} );\n\n// Trigger \"ready\" event only once, on document ready\njQuery( function() {\n\tjQuery( document ).triggerHandler( \"ready\" );\n} );\n\njQuery.event.special.ready = {\n\tsetup: function() {\n\t\tif ( this === document ) {\n\t\t\tmigrateWarn( \"'ready' event is deprecated\" );\n\t\t}\n\t}\n};\n\njQuery.fn.extend( {\n\n\tbind: function( types, data, fn ) {\n\t\tmigrateWarn( \"jQuery.fn.bind() is deprecated\" );\n\t\treturn this.on( types, null, data, fn );\n\t},\n\tunbind: function( types, fn ) {\n\t\tmigrateWarn( \"jQuery.fn.unbind() is deprecated\" );\n\t\treturn this.off( types, null, fn );\n\t},\n\tdelegate: function( selector, types, data, fn ) {\n\t\tmigrateWarn( \"jQuery.fn.delegate() is deprecated\" );\n\t\treturn this.on( types, selector, data, fn );\n\t},\n\tundelegate: function( selector, types, fn ) {\n\t\tmigrateWarn( \"jQuery.fn.undelegate() is deprecated\" );\n\t\treturn arguments.length === 1 ?\n\t\t\tthis.off( selector, \"**\" ) :\n\t\t\tthis.off( types, selector || \"**\", fn );\n\t}\n} );\n\r\n\nvar oldOffset = jQuery.fn.offset;\n\njQuery.fn.offset = function() {\n\tvar docElem,\n\t\telem = this[ 0 ],\n\t\torigin = { top: 0, left: 0 };\n\n\tif ( !elem || !elem.nodeType ) {\n\t\tmigrateWarn( \"jQuery.fn.offset() requires a valid DOM element\" );\n\t\treturn origin;\n\t}\n\n\tdocElem = ( elem.ownerDocument || document ).documentElement;\n\tif ( !jQuery.contains( docElem, elem ) ) {\n\t\tmigrateWarn( \"jQuery.fn.offset() requires an element connected to a document\" );\n\t\treturn origin;\n\t}\n\n\treturn oldOffset.apply( this, arguments );\n};\n\r\n\nvar oldParam = jQuery.param;\n\njQuery.param = function( data, traditional ) {\n\tvar ajaxTraditional = jQuery.ajaxSettings && jQuery.ajaxSettings.traditional;\n\n\tif ( traditional === undefined && ajaxTraditional ) {\n\n\t\tmigrateWarn( \"jQuery.param() no longer uses jQuery.ajaxSettings.traditional\" );\n\t\ttraditional = ajaxTraditional;\n\t}\n\n\treturn oldParam.call( this, data, traditional );\n};\n\r\nvar oldSelf = jQuery.fn.andSelf || jQuery.fn.addBack;\n\njQuery.fn.andSelf = function() {\n\tmigrateWarn( \"jQuery.fn.andSelf() replaced by jQuery.fn.addBack()\" );\n\treturn oldSelf.apply( this, arguments );\n};\n\r\n\nvar oldDeferred = jQuery.Deferred,\n\ttuples = [\n\n\t\t// Action, add listener, callbacks, .then handlers, final state\n\t\t[ \"resolve\", \"done\", jQuery.Callbacks( \"once memory\" ),\n\t\t\tjQuery.Callbacks( \"once memory\" ), \"resolved\" ],\n\t\t[ \"reject\", \"fail\", jQuery.Callbacks( \"once memory\" ),\n\t\t\tjQuery.Callbacks( \"once memory\" ), \"rejected\" ],\n\t\t[ \"notify\", \"progress\", jQuery.Callbacks( \"memory\" ),\n\t\t\tjQuery.Callbacks( \"memory\" ) ]\n\t];\n\njQuery.Deferred = function( func ) {\n\tvar deferred = oldDeferred(),\n\t\tpromise = deferred.promise();\n\n\tdeferred.pipe = promise.pipe = function( /* fnDone, fnFail, fnProgress */ ) {\n\t\tvar fns = arguments;\n\n\t\tmigrateWarn( \"deferred.pipe() is deprecated\" );\n\n\t\treturn jQuery.Deferred( function( newDefer ) {\n\t\t\tjQuery.each( tuples, function( i, tuple ) {\n\t\t\t\tvar fn = jQuery.isFunction( fns[ i ] ) && fns[ i ];\n\n\t\t\t\t// Deferred.done(function() { bind to newDefer or newDefer.resolve })\n\t\t\t\t// deferred.fail(function() { bind to newDefer or newDefer.reject })\n\t\t\t\t// deferred.progress(function() { bind to newDefer or newDefer.notify })\n\t\t\t\tdeferred[ tuple[ 1 ] ]( function() {\n\t\t\t\t\tvar returned = fn && fn.apply( this, arguments );\n\t\t\t\t\tif ( returned && jQuery.isFunction( returned.promise ) ) {\n\t\t\t\t\t\treturned.promise()\n\t\t\t\t\t\t\t.done( newDefer.resolve )\n\t\t\t\t\t\t\t.fail( newDefer.reject )\n\t\t\t\t\t\t\t.progress( newDefer.notify );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnewDefer[ tuple[ 0 ] + \"With\" ](\n\t\t\t\t\t\t\tthis === promise ? newDefer.promise() : this,\n\t\t\t\t\t\t\tfn ? [ returned ] : arguments\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t} );\n\t\t\tfns = null;\n\t\t} ).promise();\n\n\t};\n\n\tif ( func ) {\n\t\tfunc.call( deferred, deferred );\n\t}\n\n\treturn deferred;\n};\n\n\r\n\r\n})( jQuery, window );\r\n\n},{}],16:[function(require,module,exports){\n/*!\n * jQuery Mousewheel 3.1.13\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license\n * http://jquery.org/license\n */\n\n(function (factory) {\n    if ( typeof define === 'function' && define.amd ) {\n        // AMD. Register as an anonymous module.\n        define(['jquery'], factory);\n    } else if (typeof exports === 'object') {\n        // Node/CommonJS style for Browserify\n        module.exports = factory;\n    } else {\n        // Browser globals\n        factory(jQuery);\n    }\n}(function ($) {\n\n    var toFix  = ['wheel', 'mousewheel', 'DOMMouseScroll', 'MozMousePixelScroll'],\n        toBind = ( 'onwheel' in document || document.documentMode >= 9 ) ?\n                    ['wheel'] : ['mousewheel', 'DomMouseScroll', 'MozMousePixelScroll'],\n        slice  = Array.prototype.slice,\n        nullLowestDeltaTimeout, lowestDelta;\n\n    if ( $.event.fixHooks ) {\n        for ( var i = toFix.length; i; ) {\n            $.event.fixHooks[ toFix[--i] ] = $.event.mouseHooks;\n        }\n    }\n\n    var special = $.event.special.mousewheel = {\n        version: '3.1.12',\n\n        setup: function() {\n            if ( this.addEventListener ) {\n                for ( var i = toBind.length; i; ) {\n                    this.addEventListener( toBind[--i], handler, false );\n                }\n            } else {\n                this.onmousewheel = handler;\n            }\n            // Store the line height and page height for this particular element\n            $.data(this, 'mousewheel-line-height', special.getLineHeight(this));\n            $.data(this, 'mousewheel-page-height', special.getPageHeight(this));\n        },\n\n        teardown: function() {\n            if ( this.removeEventListener ) {\n                for ( var i = toBind.length; i; ) {\n                    this.removeEventListener( toBind[--i], handler, false );\n                }\n            } else {\n                this.onmousewheel = null;\n            }\n            // Clean up the data we added to the element\n            $.removeData(this, 'mousewheel-line-height');\n            $.removeData(this, 'mousewheel-page-height');\n        },\n\n        getLineHeight: function(elem) {\n            var $elem = $(elem),\n                $parent = $elem['offsetParent' in $.fn ? 'offsetParent' : 'parent']();\n            if (!$parent.length) {\n                $parent = $('body');\n            }\n            return parseInt($parent.css('fontSize'), 10) || parseInt($elem.css('fontSize'), 10) || 16;\n        },\n\n        getPageHeight: function(elem) {\n            return $(elem).height();\n        },\n\n        settings: {\n            adjustOldDeltas: true, // see shouldAdjustOldDeltas() below\n            normalizeOffset: true  // calls getBoundingClientRect for each event\n        }\n    };\n\n    $.fn.extend({\n        mousewheel: function(fn) {\n            return fn ? this.bind('mousewheel', fn) : this.trigger('mousewheel');\n        },\n\n        unmousewheel: function(fn) {\n            return this.unbind('mousewheel', fn);\n        }\n    });\n\n\n    function handler(event) {\n        var orgEvent   = event || window.event,\n            args       = slice.call(arguments, 1),\n            delta      = 0,\n            deltaX     = 0,\n            deltaY     = 0,\n            absDelta   = 0,\n            offsetX    = 0,\n            offsetY    = 0;\n        event = $.event.fix(orgEvent);\n        event.type = 'mousewheel';\n\n        // Old school scrollwheel delta\n        if ( 'detail'      in orgEvent ) { deltaY = orgEvent.detail * -1;      }\n        if ( 'wheelDelta'  in orgEvent ) { deltaY = orgEvent.wheelDelta;       }\n        if ( 'wheelDeltaY' in orgEvent ) { deltaY = orgEvent.wheelDeltaY;      }\n        if ( 'wheelDeltaX' in orgEvent ) { deltaX = orgEvent.wheelDeltaX * -1; }\n\n        // Firefox < 17 horizontal scrolling related to DOMMouseScroll event\n        if ( 'axis' in orgEvent && orgEvent.axis === orgEvent.HORIZONTAL_AXIS ) {\n            deltaX = deltaY * -1;\n            deltaY = 0;\n        }\n\n        // Set delta to be deltaY or deltaX if deltaY is 0 for backwards compatabilitiy\n        delta = deltaY === 0 ? deltaX : deltaY;\n\n        // New school wheel delta (wheel event)\n        if ( 'deltaY' in orgEvent ) {\n            deltaY = orgEvent.deltaY * -1;\n            delta  = deltaY;\n        }\n        if ( 'deltaX' in orgEvent ) {\n            deltaX = orgEvent.deltaX;\n            if ( deltaY === 0 ) { delta  = deltaX * -1; }\n        }\n\n        // No change actually happened, no reason to go any further\n        if ( deltaY === 0 && deltaX === 0 ) { return; }\n\n        // Need to convert lines and pages to pixels if we aren't already in pixels\n        // There are three delta modes:\n        //   * deltaMode 0 is by pixels, nothing to do\n        //   * deltaMode 1 is by lines\n        //   * deltaMode 2 is by pages\n        if ( orgEvent.deltaMode === 1 ) {\n            var lineHeight = $.data(this, 'mousewheel-line-height');\n            delta  *= lineHeight;\n            deltaY *= lineHeight;\n            deltaX *= lineHeight;\n        } else if ( orgEvent.deltaMode === 2 ) {\n            var pageHeight = $.data(this, 'mousewheel-page-height');\n            delta  *= pageHeight;\n            deltaY *= pageHeight;\n            deltaX *= pageHeight;\n        }\n\n        // Store lowest absolute delta to normalize the delta values\n        absDelta = Math.max( Math.abs(deltaY), Math.abs(deltaX) );\n\n        if ( !lowestDelta || absDelta < lowestDelta ) {\n            lowestDelta = absDelta;\n\n            // Adjust older deltas if necessary\n            if ( shouldAdjustOldDeltas(orgEvent, absDelta) ) {\n                lowestDelta /= 40;\n            }\n        }\n\n        // Adjust older deltas if necessary\n        if ( shouldAdjustOldDeltas(orgEvent, absDelta) ) {\n            // Divide all the things by 40!\n            delta  /= 40;\n            deltaX /= 40;\n            deltaY /= 40;\n        }\n\n        // Get a whole, normalized value for the deltas\n        delta  = Math[ delta  >= 1 ? 'floor' : 'ceil' ](delta  / lowestDelta);\n        deltaX = Math[ deltaX >= 1 ? 'floor' : 'ceil' ](deltaX / lowestDelta);\n        deltaY = Math[ deltaY >= 1 ? 'floor' : 'ceil' ](deltaY / lowestDelta);\n\n        // Normalise offsetX and offsetY properties\n        if ( special.settings.normalizeOffset && this.getBoundingClientRect ) {\n            var boundingRect = this.getBoundingClientRect();\n            offsetX = event.clientX - boundingRect.left;\n            offsetY = event.clientY - boundingRect.top;\n        }\n\n        // Add information to the event object\n        event.deltaX = deltaX;\n        event.deltaY = deltaY;\n        event.deltaFactor = lowestDelta;\n        event.offsetX = offsetX;\n        event.offsetY = offsetY;\n        // Go ahead and set deltaMode to 0 since we converted to pixels\n        // Although this is a little odd since we overwrite the deltaX/Y\n        // properties with normalized deltas.\n        event.deltaMode = 0;\n\n        // Add event and delta to the front of the arguments\n        args.unshift(event, delta, deltaX, deltaY);\n\n        // Clearout lowestDelta after sometime to better\n        // handle multiple device types that give different\n        // a different lowestDelta\n        // Ex: trackpad = 3 and mouse wheel = 120\n        if (nullLowestDeltaTimeout) { clearTimeout(nullLowestDeltaTimeout); }\n        nullLowestDeltaTimeout = setTimeout(nullLowestDelta, 200);\n\n        return ($.event.dispatch || $.event.handle).apply(this, args);\n    }\n\n    function nullLowestDelta() {\n        lowestDelta = null;\n    }\n\n    function shouldAdjustOldDeltas(orgEvent, absDelta) {\n        // If this is an older event and the delta is divisable by 120,\n        // then we are assuming that the browser is treating this as an\n        // older mouse wheel event and that we should divide the deltas\n        // by 40 to try and get a more usable deltaFactor.\n        // Side note, this actually impacts the reported scroll distance\n        // in older browsers and can cause scrolling to be slower than native.\n        // Turn this off by setting $.event.special.mousewheel.settings.adjustOldDeltas to false.\n        return special.settings.adjustOldDeltas && orgEvent.type === 'mousewheel' && absDelta % 120 === 0;\n    }\n\n}));\n\n},{}],17:[function(require,module,exports){\n(function (global){\n/**@license\n *       __ _____                     ________                              __\n *      / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /\n *  __ / // // // // // _  // _// // / / // _  // _//     // //  \\/ // _ \\/ /\n * /  / // // // // // ___// / / // / / // ___// / / / / // // /\\  // // / /__\n * \\___//____ \\\\___//____//_/ _\\_  / /_//____//_/ /_/ /_//_//_/ /_/ \\__\\_\\___/\n *           \\/              /____/                              version 0.10.12\n *\n * This file is part of jQuery Terminal. http://terminal.jcubic.pl\n *\n * Copyright (c) 2010-2016 Jakub Jankiewicz <http://jcubic.pl>\n * Released under the MIT license\n *\n * Contains:\n *\n * Storage plugin Distributed under the MIT License\n * Copyright (c) 2010 Dave Schindler\n *\n * jQuery Timers licenced with the WTFPL\n * <http://jquery.offput.ca/timers/>\n *\n * Cross-Browser Split 1.1.1\n * Copyright 2007-2012 Steven Levithan <stevenlevithan.com>\n * Available under the MIT License\n *\n * jQuery Caret\n * Copyright (c) 2009, Gideon Sireling\n * 3 clause BSD License\n *\n * sprintf.js\n * Copyright (c) 2007-2013 Alexandru Marasteanu <hello at alexei dot ro>\n * licensed under 3 clause BSD license\n *\n * Date: Thu, 16 Jun 2016 09:23:57 +0000\n */\n\n/* TODO:\n *\n * Debug interpreters names in LocalStorage\n * onPositionChange event add to terminal ???\n * different command line history for each login users (add login if present to\n * localStorage key)\n *\n * TEST: login + promises/exec\n *       json-rpc/object + promises\n *\n * NOTE: json-rpc don't need promises and delegate resume/pause because only\n *       exec can call it and exec call interpreter that work with resume/pause\n */\n\n/* jshint ignore:start */\n(function(ctx) {\n    var sprintf = function() {\n        if (!sprintf.cache.hasOwnProperty(arguments[0])) {\n            sprintf.cache[arguments[0]] = sprintf.parse(arguments[0]);\n        }\n        return sprintf.format.call(null, sprintf.cache[arguments[0]], arguments);\n    };\n\n    sprintf.format = function(parse_tree, argv) {\n        var cursor = 1, tree_length = parse_tree.length, node_type = '', arg, output = [], i, k, match, pad, pad_character, pad_length;\n        for (i = 0; i < tree_length; i++) {\n            node_type = get_type(parse_tree[i]);\n            if (node_type === 'string') {\n                output.push(parse_tree[i]);\n            }\n            else if (node_type === 'array') {\n                match = parse_tree[i]; // convenience purposes only\n                if (match[2]) { // keyword argument\n                    arg = argv[cursor];\n                    for (k = 0; k < match[2].length; k++) {\n                        if (!arg.hasOwnProperty(match[2][k])) {\n                            throw(sprintf('[sprintf] property \"%s\" does not exist', match[2][k]));\n                        }\n                        arg = arg[match[2][k]];\n                    }\n                }\n                else if (match[1]) { // positional argument (explicit)\n                    arg = argv[match[1]];\n                }\n                else { // positional argument (implicit)\n                    arg = argv[cursor++];\n                }\n\n                if (/[^s]/.test(match[8]) && (get_type(arg) != 'number')) {\n                    throw(sprintf('[sprintf] expecting number but found %s', get_type(arg)));\n                }\n                switch (match[8]) {\n                    case 'b': arg = arg.toString(2); break;\n                    case 'c': arg = String.fromCharCode(arg); break;\n                    case 'd': arg = parseInt(arg, 10); break;\n                    case 'e': arg = match[7] ? arg.toExponential(match[7]) : arg.toExponential(); break;\n                    case 'f': arg = match[7] ? parseFloat(arg).toFixed(match[7]) : parseFloat(arg); break;\n                    case 'o': arg = arg.toString(8); break;\n                    case 's': arg = ((arg = String(arg)) && match[7] ? arg.substring(0, match[7]) : arg); break;\n                    case 'u': arg = arg >>> 0; break;\n                    case 'x': arg = arg.toString(16); break;\n                    case 'X': arg = arg.toString(16).toUpperCase(); break;\n                }\n                arg = (/[def]/.test(match[8]) && match[3] && arg >= 0 ? '+'+ arg : arg);\n                pad_character = match[4] ? match[4] == '0' ? '0' : match[4].charAt(1) : ' ';\n                pad_length = match[6] - String(arg).length;\n                pad = match[6] ? str_repeat(pad_character, pad_length) : '';\n                output.push(match[5] ? arg + pad : pad + arg);\n            }\n        }\n        return output.join('');\n    };\n\n    sprintf.cache = {};\n\n    sprintf.parse = function(fmt) {\n        var _fmt = fmt, match = [], parse_tree = [], arg_names = 0;\n        while (_fmt) {\n            if ((match = /^[^\\x25]+/.exec(_fmt)) !== null) {\n                parse_tree.push(match[0]);\n            }\n            else if ((match = /^\\x25{2}/.exec(_fmt)) !== null) {\n                parse_tree.push('%');\n            }\n            else if ((match = /^\\x25(?:([1-9]\\d*)\\$|\\(([^\\)]+)\\))?(\\+)?(0|'[^$])?(-)?(\\d+)?(?:\\.(\\d+))?([b-fosuxX])/.exec(_fmt)) !== null) {\n                if (match[2]) {\n                    arg_names |= 1;\n                    var field_list = [], replacement_field = match[2], field_match = [];\n                    if ((field_match = /^([a-z_][a-z_\\d]*)/i.exec(replacement_field)) !== null) {\n                        field_list.push(field_match[1]);\n                        while ((replacement_field = replacement_field.substring(field_match[0].length)) !== '') {\n                            if ((field_match = /^\\.([a-z_][a-z_\\d]*)/i.exec(replacement_field)) !== null) {\n                                field_list.push(field_match[1]);\n                            }\n                            else if ((field_match = /^\\[(\\d+)\\]/.exec(replacement_field)) !== null) {\n                                field_list.push(field_match[1]);\n                            }\n                            else {\n                                throw('[sprintf] huh?');\n                            }\n                        }\n                    }\n                    else {\n                        throw('[sprintf] huh?');\n                    }\n                    match[2] = field_list;\n                }\n                else {\n                    arg_names |= 2;\n                }\n                if (arg_names === 3) {\n                    throw('[sprintf] mixing positional and named placeholders is not (yet) supported');\n                }\n                parse_tree.push(match);\n            }\n            else {\n                throw('[sprintf] huh?');\n            }\n            _fmt = _fmt.substring(match[0].length);\n        }\n        return parse_tree;\n    };\n\n    var vsprintf = function(fmt, argv, _argv) {\n        _argv = argv.slice(0);\n        _argv.splice(0, 0, fmt);\n        return sprintf.apply(null, _argv);\n    };\n\n    /**\n     * helpers\n     */\n    function get_type(variable) {\n        return Object.prototype.toString.call(variable).slice(8, -1).toLowerCase();\n    }\n\n    function str_repeat(input, multiplier) {\n        for (var output = []; multiplier > 0; output[--multiplier] = input) {/* do nothing */}\n        return output.join('');\n    }\n\n    /**\n     * export to either browser or node.js\n     */\n    ctx.sprintf = sprintf;\n    ctx.vsprintf = vsprintf;\n})(typeof global != \"undefined\" ? global : window);\n/* jshint ignore:end */\n(function($, undefined) {\n    \"use strict\";\n    // -----------------------------------------------------------------------\n    // :: map object to object\n    // -----------------------------------------------------------------------\n    $.omap = function(o, fn) {\n        var result = {};\n        $.each(o, function(k, v) {\n            result[k] = fn.call(o, k, v);\n        });\n        return result;\n    };\n    var Clone = {\n        clone_object: function(object) {\n            var tmp = {};\n            if (typeof object == 'object') {\n                if ($.isArray(object)) {\n                    return this.clone_array(object);\n                } else if (object === null) {\n                    return object;\n                } else {\n                    for (var key in object) {\n                        if ($.isArray(object[key])) {\n                            tmp[key] = this.clone_array(object[key]);\n                        } else if (typeof object[key] == 'object') {\n                            tmp[key] = this.clone_object(object[key]);\n                        } else {\n                            tmp[key] = object[key];\n                        }\n                    }\n                }\n            }\n            return tmp;\n        },\n        clone_array: function(array) {\n            if (!$.isFunction(Array.prototype.map)) {\n                throw new Error(\"You'r browser don't support ES5 array map \" +\n                                \"use es5-shim\");\n            }\n            return array.slice(0).map(function(item) {\n                if (typeof item == 'object') {\n                    return this.clone_object(item);\n                } else {\n                    return item;\n                }\n            }.bind(this));\n        }\n    };\n    var clone = function(object) {\n        return Clone.clone_object(object);\n    };\n\n    var hasLS = function () {\n      var testKey = 'test', storage = window.localStorage;\n      try {\n        storage.setItem(testKey, '1');\n        storage.removeItem(testKey);\n        return true;\n      } catch (error) {\n        return false;\n      }\n    };\n\n    /* jshint ignore:start */\n    // -----------------------------------------------------------------------\n    // :: Storage plugin\n    // -----------------------------------------------------------------------\n    // Private data\n    var isLS = hasLS();\n    // Private functions\n    function wls(n, v) {\n        var c;\n        if (typeof n === 'string' && typeof v === 'string') {\n            localStorage[n] = v;\n            return true;\n        } else if (typeof n === 'object' && typeof v === 'undefined') {\n            for (c in n) {\n                if (n.hasOwnProperty(c)) {\n                    localStorage[c] = n[c];\n                }\n            }\n            return true;\n        }\n        return false;\n    }\n    function wc(n, v) {\n        var dt, e, c;\n        dt = new Date();\n        dt.setTime(dt.getTime() + 31536000000);\n        e = '; expires=' + dt.toGMTString();\n        if (typeof n === 'string' && typeof v === 'string') {\n            document.cookie = n + '=' + v + e + '; path=/';\n            return true;\n        } else if (typeof n === 'object' && typeof v === 'undefined') {\n            for (c in n) {\n                if (n.hasOwnProperty(c)) {\n                    document.cookie = c + '=' + n[c] + e + '; path=/';\n                }\n            }\n            return true;\n        }\n        return false;\n    }\n    function rls(n) {\n        return localStorage[n];\n    }\n    function rc(n) {\n        var nn, ca, i, c;\n        nn = n + '=';\n        ca = document.cookie.split(';');\n        for (i = 0; i < ca.length; i++) {\n            c = ca[i];\n            while (c.charAt(0) === ' ') {\n                c = c.substring(1, c.length);\n            }\n            if (c.indexOf(nn) === 0) {\n                return c.substring(nn.length, c.length);\n            }\n        }\n        return null;\n    }\n    function dls(n) {\n        return delete localStorage[n];\n    }\n    function dc(n) {\n        return wc(n, '', -1);\n    }\n    /**\n    * Public API\n    * $.Storage.set(\"name\", \"value\")\n    * $.Storage.set({\"name1\":\"value1\", \"name2\":\"value2\", etc})\n    * $.Storage.get(\"name\")\n    * $.Storage.remove(\"name\")\n    */\n    $.extend({\n        Storage: {\n            set: isLS ? wls : wc,\n            get: isLS ? rls : rc,\n            remove: isLS ? dls : dc\n        }\n    });\n    // -----------------------------------------------------------------------\n    // :: jQuery Timers\n    // -----------------------------------------------------------------------\n    var jQuery = $;\n    jQuery.fn.extend({\n        everyTime: function(interval, label, fn, times, belay) {\n            return this.each(function() {\n                jQuery.timer.add(this, interval, label, fn, times, belay);\n            });\n        },\n        oneTime: function(interval, label, fn) {\n            return this.each(function() {\n                jQuery.timer.add(this, interval, label, fn, 1);\n            });\n        },\n        stopTime: function(label, fn) {\n            return this.each(function() {\n                jQuery.timer.remove(this, label, fn);\n            });\n        }\n    });\n\n    jQuery.extend({\n        timer: {\n            guid: 1,\n            global: {},\n            regex: /^([0-9]+)\\s*(.*s)?$/,\n            powers: {\n                // Yeah this is major overkill...\n                'ms': 1,\n                'cs': 10,\n                'ds': 100,\n                's': 1000,\n                'das': 10000,\n                'hs': 100000,\n                'ks': 1000000\n            },\n            timeParse: function(value) {\n                if (value === undefined || value === null) {\n                    return null;\n                }\n                var result = this.regex.exec(jQuery.trim(value.toString()));\n                if (result[2]) {\n                    var num = parseInt(result[1], 10);\n                    var mult = this.powers[result[2]] || 1;\n                    return num * mult;\n                } else {\n                    return value;\n                }\n            },\n            add: function(element, interval, label, fn, times, belay) {\n                var counter = 0;\n\n                if (jQuery.isFunction(label)) {\n                    if (!times) {\n                        times = fn;\n                    }\n                    fn = label;\n                    label = interval;\n                }\n\n                interval = jQuery.timer.timeParse(interval);\n\n                if (typeof interval !== 'number' ||\n                    isNaN(interval) ||\n                    interval <= 0) {\n                    return;\n                }\n                if (times && times.constructor !== Number) {\n                    belay = !!times;\n                    times = 0;\n                }\n\n                times = times || 0;\n                belay = belay || false;\n\n                if (!element.$timers) {\n                    element.$timers = {};\n                }\n                if (!element.$timers[label]) {\n                    element.$timers[label] = {};\n                }\n                fn.$timerID = fn.$timerID || this.guid++;\n\n                var handler = function() {\n                    if (belay && handler.inProgress) {\n                        return;\n                    }\n                    handler.inProgress = true;\n                    if ((++counter > times && times !== 0) ||\n                        fn.call(element, counter) === false) {\n                        jQuery.timer.remove(element, label, fn);\n                    }\n                    handler.inProgress = false;\n                };\n\n                handler.$timerID = fn.$timerID;\n\n                if (!element.$timers[label][fn.$timerID]) {\n                    element.$timers[label][fn.$timerID] = window.setInterval(handler, interval);\n                }\n\n                if (!this.global[label]) {\n                    this.global[label] = [];\n                }\n                this.global[label].push(element);\n\n            },\n            remove: function(element, label, fn) {\n                var timers = element.$timers, ret;\n\n                if (timers) {\n\n                    if (!label) {\n                        for (var lab in timers) {\n                            if (timers.hasOwnProperty(lab)) {\n                                this.remove(element, lab, fn);\n                            }\n                        }\n                    } else if (timers[label]) {\n                        if (fn) {\n                            if (fn.$timerID) {\n                                window.clearInterval(timers[label][fn.$timerID]);\n                                delete timers[label][fn.$timerID];\n                            }\n                        } else {\n                            for (var _fn in timers[label]) {\n                                if (timers[label].hasOwnProperty(_fn)) {\n                                    window.clearInterval(timers[label][_fn]);\n                                    delete timers[label][_fn];\n                                }\n                            }\n                        }\n\n                        for (ret in timers[label]) {\n                            if (timers[label].hasOwnProperty(ret)) {\n                                break;\n                            }\n                        }\n                        if (!ret) {\n                            ret = null;\n                            delete timers[label];\n                        }\n                    }\n\n                    for (ret in timers) {\n                        if (timers.hasOwnProperty(ret)) {\n                            break;\n                        }\n                    }\n                    if (!ret) {\n                        element.$timers = null;\n                    }\n                }\n            }\n        }\n    });\n\n    if (/(msie) ([\\w.]+)/.exec(navigator.userAgent.toLowerCase())) {\n        jQuery(window).one('unload', function() {\n            var global = jQuery.timer.global;\n            for (var label in global) {\n                if (global.hasOwnProperty(label)) {\n                    var els = global[label], i = els.length;\n                    while (--i) {\n                        jQuery.timer.remove(els[i], label);\n                    }\n                }\n            }\n        });\n    }\n    // -----------------------------------------------------------------------\n    // :: CROSS BROWSER SPLIT\n    // -----------------------------------------------------------------------\n    (function(undef) {\n\n        // prevent double include\n\n        if (!String.prototype.split.toString().match(/\\[native/)) {\n            return;\n        }\n\n        var nativeSplit = String.prototype.split,\n        compliantExecNpcg = /()??/.exec(\"\")[1] === undef, // NPCG: nonparticipating capturing group\n        self;\n\n        self = function (str, separator, limit) {\n            // If `separator` is not a regex, use `nativeSplit`\n            if (Object.prototype.toString.call(separator) !== \"[object RegExp]\") {\n                return nativeSplit.call(str, separator, limit);\n            }\n            var output = [],\n            flags = (separator.ignoreCase ? \"i\" : \"\") +\n                (separator.multiline  ? \"m\" : \"\") +\n                (separator.extended   ? \"x\" : \"\") + // Proposed for ES6\n                (separator.sticky     ? \"y\" : \"\"), // Firefox 3+\n                lastLastIndex = 0,\n            // Make `global` and avoid `lastIndex` issues by working with a copy\n            separator2, match, lastIndex, lastLength;\n            separator = new RegExp(separator.source, flags + \"g\");\n            str += \"\"; // Type-convert\n            if (!compliantExecNpcg) {\n                // Doesn't need flags gy, but they don't hurt\n                separator2 = new RegExp(\"^\" + separator.source + \"$(?!\\\\s)\", flags);\n            }\n            /* Values for `limit`, per the spec:\n             * If undefined: 4294967295 // Math.pow(2, 32) - 1\n             * If 0, Infinity, or NaN: 0\n             * If positive number: limit = Math.floor(limit); if (limit > 4294967295) limit -= 4294967296;\n             * If negative number: 4294967296 - Math.floor(Math.abs(limit))\n             * If other: Type-convert, then use the above rules\n             */\n            // ? Math.pow(2, 32) - 1 : ToUint32(limit)\n            limit = limit === undef ? -1 >>> 0 : limit >>> 0;\n            while (match = separator.exec(str)) {\n                    // `separator.lastIndex` is not reliable cross-browser\n                    lastIndex = match.index + match[0].length;\n                    if (lastIndex > lastLastIndex) {\n                        output.push(str.slice(lastLastIndex, match.index));\n                        // Fix browsers whose `exec` methods don't consistently return `undefined` for\n                        // nonparticipating capturing groups\n                        if (!compliantExecNpcg && match.length > 1) {\n                            match[0].replace(separator2, function () {\n                                for (var i = 1; i < arguments.length - 2; i++) {\n                                    if (arguments[i] === undef) {\n                                        match[i] = undef;\n                                    }\n                                }\n                            });\n                        }\n                        if (match.length > 1 && match.index < str.length) {\n                            Array.prototype.push.apply(output, match.slice(1));\n                        }\n                        lastLength = match[0].length;\n                        lastLastIndex = lastIndex;\n                        if (output.length >= limit) {\n                            break;\n                        }\n                    }\n                    if (separator.lastIndex === match.index) {\n                        separator.lastIndex++; // Avoid an infinite loop\n                    }\n                }\n            if (lastLastIndex === str.length) {\n                if (lastLength || !separator.test(\"\")) {\n                    output.push(\"\");\n                }\n            } else {\n                output.push(str.slice(lastLastIndex));\n            }\n            return output.length > limit ? output.slice(0, limit) : output;\n        };\n\n        // For convenience\n        String.prototype.split = function (separator, limit) {\n            return self(this, separator, limit);\n        };\n\n        return self;\n\n    })();\n    // -----------------------------------------------------------------------\n    // :: jQuery Caret\n    // -----------------------------------------------------------------------\n    $.fn.caret = function(pos) {\n        var target = this[0];\n        var isContentEditable = target.contentEditable === 'true';\n        //get\n        if (arguments.length == 0) {\n            //HTML5\n            if (window.getSelection) {\n                //contenteditable\n                if (isContentEditable) {\n                    target.focus();\n                    var range1 = window.getSelection().getRangeAt(0),\n                    range2 = range1.cloneRange();\n                    range2.selectNodeContents(target);\n                    range2.setEnd(range1.endContainer, range1.endOffset);\n                    return range2.toString().length;\n                }\n                //textarea\n                return target.selectionStart;\n            }\n            //IE<9\n            if (document.selection) {\n                target.focus();\n                //contenteditable\n                if (isContentEditable) {\n                    var range1 = document.selection.createRange(),\n                    range2 = document.body.createTextRange();\n                    range2.moveToElementText(target);\n                    range2.setEndPoint('EndToEnd', range1);\n                    return range2.text.length;\n                }\n                //textarea\n                var pos = 0,\n                range = target.createTextRange(),\n                range2 = document.selection.createRange().duplicate(),\n                bookmark = range2.getBookmark();\n                range.moveToBookmark(bookmark);\n                while (range.moveStart('character', -1) !== 0) pos++;\n                return pos;\n            }\n            //not supported\n            return 0;\n        }\n        //set\n        if (pos == -1)\n            pos = this[isContentEditable? 'text' : 'val']().length;\n        //HTML5\n        if (window.getSelection) {\n            //contenteditable\n            if (isContentEditable) {\n                target.focus();\n                window.getSelection().collapse(target.firstChild, pos);\n            }\n            //textarea\n            else\n                target.setSelectionRange(pos, pos);\n        }\n        //IE<9\n        else if (document.body.createTextRange) {\n            var range = document.body.createTextRange();\n            range.moveToElementText(target);\n            range.moveStart('character', pos);\n            range.collapse(true);\n            range.select();\n        }\n        if (!isContentEditable)\n            target.focus();\n        return pos;\n    };\n    /* jshint ignore:end */\n    // -----------------------------------------------------------------------\n    // :: Split string to array of strings with the same length\n    // -----------------------------------------------------------------------\n    function str_parts(str, length) {\n        var result = [];\n        var len = str.length;\n        if (len < length) {\n            return [str];\n        } else if (length < 0) {\n            throw new Error('str_parts: length can\\'t be negative'); // '\n        }\n        for (var i = 0; i < len; i += length) {\n            result.push(str.substring(i, i + length));\n        }\n        return result;\n    }\n    // -----------------------------------------------------------------------\n    // :: CYCLE DATA STRUCTURE\n    // -----------------------------------------------------------------------\n    function Cycle(init) {\n        var data = init ? [init] : [];\n        var pos = 0;\n        $.extend(this, {\n            get: function() {\n                return data;\n            },\n            rotate: function() {\n                if (data.length === 1) {\n                    return data[0];\n                } else {\n                    if (pos === data.length - 1) {\n                        pos = 0;\n                    } else {\n                        ++pos;\n                    }\n                    if (data[pos]) {\n                        return data[pos];\n                    } else {\n                        this.rotate();\n                    }\n                }\n            },\n            length: function() {\n                return data.length;\n            },\n            remove: function(index) {\n                delete data[index];\n            },\n            set: function(item) {\n                for (var i = data.length; i--;) {\n                    if (data[i] === item) {\n                        pos = i;\n                        return;\n                    }\n                }\n                this.append(item);\n            },\n            front: function() {\n                if (data.length) {\n                    var index = pos;\n                    while(!data[index]) {\n                        index++;\n                    }\n                    return data[index];\n                }\n            },\n            append: function(item) {\n                data.push(item);\n            }\n        });\n    }\n    // -----------------------------------------------------------------------\n    // :: STACK DATA STRUCTURE\n    // -----------------------------------------------------------------------\n    function Stack(init) {\n        var data = init instanceof Array ? init : init ? [init] : [];\n        $.extend(this, {\n            map: function(fn) {\n                return $.map(data, fn);\n            },\n            size: function() {\n                return data.length;\n            },\n            pop: function() {\n                if (data.length === 0) {\n                    return null;\n                } else {\n                    var value = data[data.length - 1];\n                    data = data.slice(0, data.length - 1);\n                    return value;\n                }\n            },\n            push: function(value) {\n                data = data.concat([value]);\n                return value;\n            },\n            top: function() {\n                return data.length > 0 ? data[data.length - 1] : null;\n            },\n            clone: function() {\n                return new Stack(data.slice(0));\n            }\n        });\n    }\n    // -------------------------------------------------------------------------\n    // :: Serialize object myself (biwascheme or prototype library do something\n    // :: wicked with JSON serialization for Arrays)\n    // -------------------------------------------------------------------------\n    $.json_stringify = function(object, level) {\n        var result = '', i;\n        level = level === undefined ? 1 : level;\n        var type = typeof object;\n        switch (type) {\n            case 'function':\n                result += object;\n                break;\n            case 'boolean':\n                result += object ? 'true' : 'false';\n                break;\n            case 'object':\n                if (object === null) {\n                    result += 'null';\n                } else if (object instanceof Array) {\n                    result += '[';\n                    var len = object.length;\n                    for (i = 0; i < len - 1; ++i) {\n                        result += $.json_stringify(object[i], level + 1);\n                    }\n                    result += $.json_stringify(object[len - 1], level + 1) + ']';\n                } else {\n                    result += '{';\n                    for (var property in object) {\n                        if (object.hasOwnProperty(property)) {\n                            result += '\"' + property + '\":' +\n                                $.json_stringify(object[property], level + 1);\n                        }\n                    }\n                    result += '}';\n                }\n                break;\n            case 'string':\n                var str = object;\n                var repl = {\n                    '\\\\\\\\': '\\\\\\\\',\n                    '\"': '\\\\\"',\n                    '/': '\\\\/',\n                    '\\\\n': '\\\\n',\n                    '\\\\r': '\\\\r',\n                    '\\\\t': '\\\\t'};\n                for (i in repl) {\n                    if (repl.hasOwnProperty(i)) {\n                        str = str.replace(new RegExp(i, 'g'), repl[i]);\n                    }\n                }\n                result += '\"' + str + '\"';\n                break;\n            case 'number':\n                result += String(object);\n                break;\n        }\n        result += (level > 1 ? ',' : '');\n        // quick hacks below\n        if (level === 1) {\n            // fix last comma\n            result = result.replace(/,([\\]}])/g, '$1');\n        }\n        // fix comma before array or object\n        return result.replace(/([\\[{]),/g, '$1');\n    };\n    // -------------------------------------------------------------------------\n    // :: HISTORY CLASS\n    // -------------------------------------------------------------------------\n    function History(name, size) {\n        var enabled = true;\n        var storage_key = '';\n        if (typeof name === 'string' && name !== '') {\n            storage_key = name + '_';\n        }\n        storage_key += 'commands';\n        var data = $.Storage.get(storage_key);\n        data = data ? $.parseJSON(data) : [];\n        var pos = data.length-1;\n        $.extend(this, {\n            append: function(item) {\n                if (enabled) {\n                    if (data[data.length-1] !== item) {\n                        data.push(item);\n                        if (size && data.length > size) {\n                            data = data.slice(-size);\n                        }\n                        pos = data.length-1;\n                        $.Storage.set(storage_key, $.json_stringify(data));\n                    }\n                }\n            },\n            data: function() {\n                return data;\n            },\n            reset: function() {\n                pos = data.length-1;\n            },\n            last: function() {\n                return data[length-1];\n            },\n            end: function() {\n                return pos === data.length-1;\n            },\n            position: function() {\n                return pos;\n            },\n            current: function() {\n                return data[pos];\n            },\n            next: function() {\n                if (pos < data.length-1) {\n                    ++pos;\n                }\n                if (pos !== -1) {\n                    return data[pos];\n                }\n            },\n            previous: function() {\n                var old = pos;\n                if (pos > 0) {\n                    --pos;\n                }\n                if (old !== -1) {\n                    return data[pos];\n                }\n            },\n            clear: function() {\n                data = [];\n                this.purge();\n            },\n            enabled: function() {\n                return enabled;\n            },\n            enable: function() {\n                enabled = true;\n            },\n            purge: function() {\n                $.Storage.remove(storage_key);\n            },\n            disable: function() {\n                enabled = false;\n            }\n        });\n    }\n    // -----------------------------------------------------------------------\n    var is_paste_supported = (function() {\n        var el = document.createElement('div');\n        el.setAttribute('onpaste', 'return;');\n        return typeof el.onpaste == \"function\";\n    })();\n    var first_cmd = true;\n    // -------------------------------------------------------------------------\n    // :: COMMAND LINE PLUGIN\n    // -------------------------------------------------------------------------\n    $.fn.cmd = function(options) {\n        var self = this;\n        var maybe_data = self.data('cmd');\n        if (maybe_data) {\n            return maybe_data;\n        }\n        self.addClass('cmd');\n        self.append('<span class=\"prompt\"></span><span></span>' +\n                    '<span class=\"cursor\">&nbsp;</span><span></span>');\n        // on mobile the only way to hide textarea on desktop it's needed because\n        // textarea show up after focus\n        //self.append('<span class=\"mask\"></mask>');\n        var clip = $('<textarea />').addClass('clipboard').appendTo(self);\n        if (options.width) {\n            self.width(options.width);\n        }\n        var num_chars; // calculated by draw_prompt\n        var prompt_len;\n        var prompt_node = self.find('.prompt');\n        var reverse_search = false;\n        var rev_search_str = '';\n        var reverse_search_position = null;\n        var backup_prompt;\n        var mask = options.mask || false;\n        var command = '';\n        var last_command;\n        // text from selection using CTRL+SHIFT+C (as in Xterm)\n        var selected_text = '';\n        var kill_text = ''; // text from command that kill part of the command\n        var position = 0;\n        var prompt;\n        var enabled;\n        var historySize = options.historySize || 60;\n        var name, history;\n        var cursor = self.find('.cursor');\n        var animation;\n        function mobile_focus() {\n            if (is_touch) {\n                var focus = clip.is(':focus');\n                if (enabled) {\n                    if (!focus) {\n                        clip.focus();\n                        self.oneTime(10, function() {\n                            clip.focus();\n                        });\n                    }\n                } else {\n                    if (focus) {\n                        clip.blur();\n                    }\n                }\n            }\n        }\n        // on mobile you can't delete character if input is empty (event\n        // will not fire) so we fake text entry, we could just put dummy\n        // data but we put real command and position\n        function fake_mobile_entry() {\n            if (is_touch) {\n                // delay worked while experimenting\n                self.oneTime(10, function() {\n                    clip.val(command);\n                    self.oneTime(10, function() {\n                        clip.caret(position);\n                    });\n                });\n            }\n        }\n        // terminal animation don't work on andorid because they animate\n        // 2 properties\n        if ((support_animations && !is_android)) {\n            animation = function(toggle) {\n                if (toggle) {\n                    cursor.addClass('blink');\n                } else {\n                    cursor.removeClass('blink');\n                }\n            };\n        } else {\n            var animating = false;\n            animation = function(toggle) {\n                if (toggle && !animating) {\n                    animating = true;\n                    cursor.addClass('inverted');\n                    self.everyTime(500, 'blink', blink);\n                } else if (animating && !toggle) {\n                    animating = false;\n                    self.stopTime('blink', blink);\n                    cursor.removeClass('inverted');\n                }\n            };\n        }\n        // ---------------------------------------------------------------------\n        // :: Blinking cursor function\n        // ---------------------------------------------------------------------\n        function blink(i) {\n            cursor.toggleClass('inverted');\n        }\n        // ---------------------------------------------------------------------\n        // :: Set prompt for reverse search\n        // ---------------------------------------------------------------------\n        function draw_reverse_prompt() {\n            prompt = \"(reverse-i-search)`\" + rev_search_str + \"': \";\n            draw_prompt();\n        }\n        // ---------------------------------------------------------------------\n        // :: Disable reverse search\n        // ---------------------------------------------------------------------\n        function clear_reverse_state() {\n            prompt = backup_prompt;\n            reverse_search = false;\n            reverse_search_position = null;\n            rev_search_str = '';\n        }\n        // ---------------------------------------------------------------------\n        // :: Search through command line history. If next is not defined or\n        // :: false it searches for the first item from the end. If true it\n        // :: search for the next item\n        // ---------------------------------------------------------------------\n        function reverse_history_search(next) {\n            var history_data = history.data();\n            var regex, save_string;\n            var len = history_data.length;\n            if (next && reverse_search_position > 0) {\n                len -= reverse_search_position;\n            }\n            if (rev_search_str.length > 0) {\n                for (var j=rev_search_str.length; j>0; j--) {\n                    save_string = $.terminal.escape_regex(rev_search_str.substring(0, j));\n                    regex = new RegExp(save_string);\n                    for (var i=len; i--;) {\n                        if (regex.test(history_data[i])) {\n                            reverse_search_position = history_data.length - i;\n                            self.position(history_data[i].indexOf(save_string));\n                            self.set(history_data[i], true);\n                            redraw();\n                            if (rev_search_str.length !== j) {\n                                rev_search_str = rev_search_str.substring(0, j);\n                                draw_reverse_prompt();\n                            }\n                            return;\n                        }\n                    }\n                }\n            }\n            rev_search_str = ''; // clear if not found any\n        }\n        // ---------------------------------------------------------------------\n        // :: Recalculate number of characters in command line\n        // ---------------------------------------------------------------------\n        function change_num_chars() {\n            var W = self.width();\n            var w = cursor.width();\n            num_chars = Math.floor(W / w);\n        }\n        // ---------------------------------------------------------------------\n        // :: Split String that fit into command line where first line need to\n        // :: fit next to prompt (need to have less characters)\n        // ---------------------------------------------------------------------\n        function get_splited_command_line(string) {\n            var first = string.substring(0, num_chars - prompt_len);\n            var rest = string.substring(num_chars - prompt_len);\n            return [first].concat(str_parts(rest, num_chars));\n        }\n        // ---------------------------------------------------------------------\n        // :: Function that displays the command line. Split long lines and\n        // :: place cursor in the right place\n        // ---------------------------------------------------------------------\n        var redraw = (function(self) {\n            var before = cursor.prev();\n            var after = cursor.next();\n            // -----------------------------------------------------------------\n            // :: Draw line with the cursor\n            // -----------------------------------------------------------------\n            function draw_cursor_line(string, position) {\n                var len = string.length;\n                if (position === len) {\n                    before.html($.terminal.encode(string));\n                    cursor.html('&nbsp;');\n                    after.html('');\n                } else if (position === 0) {\n                    before.html('');\n                    //fix for tilda in IE\n                    cursor.html($.terminal.encode(string.slice(0, 1)));\n                    //cursor.html($.terminal.encode(string[0]));\n                    after.html($.terminal.encode(string.slice(1)));\n                } else {\n                    var before_str = string.slice(0, position);\n                    before.html($.terminal.encode(before_str));\n                    //fix for tilda in IE\n                    var c = string.slice(position, position + 1);\n                    //cursor.html(string[position]);\n                    cursor.html($.terminal.encode(c));\n                    if (position === string.length - 1) {\n                        after.html('');\n                    } else {\n                        after.html($.terminal.encode(string.slice(position + 1)));\n                    }\n                }\n            }\n            function div(string) {\n                return '<div>' + $.terminal.encode(string) + '</div>';\n            }\n            // -----------------------------------------------------------------\n            // :: Display lines after the cursor\n            // -----------------------------------------------------------------\n            function lines_after(lines) {\n                var last_ins = after;\n                $.each(lines, function(i, line) {\n                    last_ins = $(div(line)).insertAfter(last_ins).\n                        addClass('clear');\n                });\n            }\n            // -----------------------------------------------------------------\n            // :: Display lines before the cursor\n            // -----------------------------------------------------------------\n            function lines_before(lines) {\n                $.each(lines, function(i, line) {\n                    before.before(div(line));\n                });\n            }\n            var count = 0;\n            // -----------------------------------------------------------------\n            // :: Redraw function\n            // -----------------------------------------------------------------\n            return function() {\n                var string;\n                var str; // max 80 line helper\n                switch(typeof mask) {\n                    case 'boolean':\n                        string = mask ? command.replace(/./g, '*') : command;\n                        break;\n                    case 'string':\n                        string = command.replace(/./g, mask);\n                        break;\n                }\n                var i, first_len;\n                self.find('div').remove();\n                before.html('');\n                // long line\n                if (string.length > num_chars - prompt_len - 1 ||\n                    string.match(/\\n/)) {\n                    var array;\n                    var tabs = string.match(/\\t/g);\n                    var tabs_rm = tabs ? tabs.length * 3 : 0;\n                    //quick tabulation hack\n                    if (tabs) {\n                        string = string.replace(/\\t/g, '\\x00\\x00\\x00\\x00');\n                    }\n                    // command contains new line characters\n                    if (string.match(/\\n/)) {\n                        var tmp = string.split(\"\\n\");\n                        first_len = num_chars - prompt_len - 1;\n                        // empty character after each line\n                        for (i=0; i<tmp.length-1; ++i) {\n                            tmp[i] += ' ';\n                        }\n                        // split first line\n                        if (tmp[0].length > first_len) {\n                            array = [tmp[0].substring(0, first_len)];\n                            str = tmp[0].substring(first_len);\n                            array = array.concat(str_parts(str, num_chars));\n                        } else {\n                            array = [tmp[0]];\n                        }\n                        // process rest of the lines\n                        for (i=1; i<tmp.length; ++i) {\n                            if (tmp[i].length > num_chars) {\n                                array = array.concat(str_parts(tmp[i],\n                                                               num_chars));\n                            } else {\n                                array.push(tmp[i]);\n                            }\n                        }\n                    } else {\n                        array = get_splited_command_line(string);\n                    }\n                    if (tabs) {\n                        array = $.map(array, function(line) {\n                            return line.replace(/\\x00\\x00\\x00\\x00/g, '\\t');\n                        });\n                    }\n                    first_len = array[0].length;\n                    //cursor in first line\n                    if (first_len === 0 && array.length === 1) {\n                        // skip empty line\n                    } else if (position < first_len) {\n                        draw_cursor_line(array[0], position);\n                        lines_after(array.slice(1));\n                    } else if (position === first_len) {\n                        before.before(div(array[0]));\n                        draw_cursor_line(array[1], 0);\n                        lines_after(array.slice(2));\n                    } else {\n                        var num_lines = array.length;\n                        var offset = 0;\n                        if (position < first_len) {\n                            draw_cursor_line(array[0], position);\n                            lines_after(array.slice(1));\n                        } else if (position === first_len) {\n                            before.before(div(array[0]));\n                            draw_cursor_line(array[1], 0);\n                            lines_after(array.slice(2));\n                        } else {\n                            var last = array.slice(-1)[0];\n                            var from_last = string.length - position - tabs_rm;\n                            var last_len = last.length;\n                            var pos = 0;\n                            if (from_last <= last_len) {\n                                lines_before(array.slice(0, -1));\n                                if (last_len === from_last) {\n                                    pos = 0;\n                                } else {\n                                    pos = last_len-from_last;\n                                }\n                                draw_cursor_line(last, pos);\n                            } else {\n                                // in the middle\n                                if (num_lines === 3) {\n                                    str = $.terminal.encode(array[0]);\n                                    before.before('<div>' + str + '</div>');\n                                    draw_cursor_line(array[1],\n                                                     position-first_len-1);\n                                    str = $.terminal.encode(array[2]);\n                                    after.after('<div class=\"clear\">' + str +\n                                                '</div>');\n                                } else {\n                                    // more lines, cursor in the middle\n                                    var line_index;\n                                    var current;\n                                    pos = position;\n                                    for (i=0; i<array.length; ++i) {\n                                        var current_len = array[i].length;\n                                        if (pos > current_len) {\n                                            pos -= current_len;\n                                        } else {\n                                            break;\n                                        }\n                                    }\n                                    current = array[i];\n                                    line_index = i;\n                                    // cursor on first character in line\n                                    if (pos === current.length) {\n                                        pos = 0;\n                                        current = array[++line_index];\n                                    }\n                                    draw_cursor_line(current, pos);\n                                    lines_before(array.slice(0, line_index));\n                                    lines_after(array.slice(line_index+1));\n                                }\n                            }\n                        }\n                    }\n                } else {\n                     if (string === '') {\n                         before.html('');\n                         cursor.html('&nbsp;');\n                         after.html('');\n                     } else {\n                         draw_cursor_line(string, position);\n                     }\n                }\n            };\n        })(self);\n        // ---------------------------------------------------------------------\n        // :: Draw prompt that can be a function or a string\n        // ---------------------------------------------------------------------\n        var draw_prompt = (function() {\n            function set(prompt) {\n                prompt_node.html($.terminal.format($.terminal.encode(prompt)));\n                prompt_len = prompt_node.text().length;\n            }\n            return function() {\n                switch (typeof prompt) {\n                    case 'string':\n                        set(prompt);\n                        break;\n                    case 'function':\n                        prompt(set);\n                        break;\n                }\n            };\n        })();\n        // ---------------------------------------------------------------------\n        // :: Paste content to terminal using hidden textarea\n        // ---------------------------------------------------------------------\n        function paste(e) {\n            e = e.originalEvent;\n            if (self.isenabled()) {\n                var clip = self.find('textarea');\n                if (!clip.is(':focus')) {\n                    clip.focus();\n                }\n                var text;\n                if (window.clipboardData && window.clipboardData.getData) { // IE\n                    text = window.clipboardData.getData('Text');\n                } else if (e.clipboardData && e.clipboardData.getData) {\n                    text = e.clipboardData.getData('text/plain');\n                } else {\n                    //wait until Browser insert text to textarea\n                    cmd.oneTime(100, function() {\n                        self.insert(clip.val());\n                        clip.val('');\n                        fake_mobile_entry();\n                    });\n                }\n                if (text) {\n                    self.insert(text);\n                    clip.val('');\n                    fake_mobile_entry();\n                }\n            }\n        }\n        var first_up_history = true;\n        // prevent_keypress - hack for Android that was inserting characters on\n        // backspace\n        var prevent_keypress = false;\n        var no_keypress;\n        // ---------------------------------------------------------------------\n        // :: Keydown Event Handler\n        // ---------------------------------------------------------------------\n        function keydown_event(e) {\n            var result, pos, len;\n            if (enabled) {\n                if ($.isFunction(options.keydown)) {\n                    result = options.keydown(e);\n                    if (result !== undefined) {\n                        //prevent_keypress = true;\n                        return result;\n                    }\n                }\n                if (e.which !== 38 &&\n                    !(e.which === 80 && e.ctrlKey)) {\n                    first_up_history = true;\n                }\n                // arrows / Home / End / ENTER\n                if (reverse_search && (e.which === 35 || e.which === 36 ||\n                                       e.which === 37 || e.which === 38 ||\n                                       e.which === 39 || e.which === 40 ||\n                                       e.which === 13 || e.which === 27)) {\n                    clear_reverse_state();\n                    draw_prompt();\n                    if (e.which === 27) { // ESC\n                        self.set('');\n                    }\n                    redraw();\n                    // finish reverse search and execute normal event handler\n                    /* jshint validthis:true */\n                    keydown_event.call(this, e);\n                } else if (e.altKey) {\n                    // Chrome on Windows sets ctrlKey and altKey for alt\n                    // need to check for alt first\n                    //if (e.which === 18) { // press ALT\n                    if (e.which === 68) { //ALT+D\n                        self.set(command.slice(0, position) +\n                                 command.slice(position).\n                                 replace(/ *[^ ]+ *(?= )|[^ ]+$/, ''), true);\n                        // chrome jump to address bar\n                        return false;\n                    }\n                    return true;\n                } else if (e.keyCode === 13) { //enter\n                    if (e.shiftKey) {\n                        self.insert('\\n');\n                    } else {\n                        if (history && command && !mask &&\n                            ($.isFunction(options.historyFilter) &&\n                             options.historyFilter(command)) ||\n                            (options.historyFilter instanceof RegExp &&\n                             command.match(options.historyFilter)) ||\n                            !options.historyFilter) {\n                            history.append(command);\n                        }\n                        var tmp = command;\n                        history.reset();\n                        self.set('');\n                        if (options.commands) {\n                            options.commands(tmp);\n                        }\n                        if ($.isFunction(prompt)) {\n                            draw_prompt();\n                        }\n                    }\n                } else if (e.which === 8) { //backspace\n                    if (reverse_search) {\n                        rev_search_str = rev_search_str.slice(0, -1);\n                        draw_reverse_prompt();\n                    } else {\n                        if (command !== '' && position > 0) {\n                            self['delete'](-1);\n                        }\n                    }\n                    if (is_touch) {\n                        return true; // mobile fix\n                    }\n                } else if (e.which === 67 && e.ctrlKey && e.shiftKey) {\n                    // CTRL+SHIFT+C\n                    selected_text = get_selected_text();\n                } else if (e.which === 86 && e.ctrlKey && e.shiftKey) {\n                    if (selected_text !== '') {\n                        self.insert(selected_text);\n                    }\n                } else if (e.which === 9 && !(e.ctrlKey || e.altKey)) { // TAB\n                    self.insert('\\t');\n                } else if (e.which === 46) {\n                    //DELETE\n                    self['delete'](1);\n                    return;\n                } else if (history && (e.which === 38 && !e.ctrlKey) ||\n                           (e.which === 80 && e.ctrlKey)) {\n                    //UP ARROW or CTRL+P\n                    if (first_up_history) {\n                        last_command = command;\n                        self.set(history.current());\n                    } else {\n                        self.set(history.previous());\n                    }\n                    first_up_history = false;\n                } else if (history && (e.which === 40 && !e.ctrlKey) ||\n                           (e.which === 78 && e.ctrlKey)) {\n                    //DOWN ARROW or CTRL+N\n                    self.set(history.end() ? last_command : history.next());\n                } else if (e.which === 37 || (e.which === 66 && e.ctrlKey)) {\n                    //CTRL+LEFT ARROW or CTRL+B\n                    if (e.ctrlKey && e.which !== 66) {\n                        len = position - 1;\n                        pos = 0;\n                        if (command[len] === ' ') {\n                            --len;\n                        }\n                        for (var i = len; i > 0; --i) {\n                            if (command[i] === ' ' && command[i+1] !== ' ') {\n                                pos = i + 1;\n                                break;\n                            } else if (command[i] === '\\n' &&\n                                       command[i+1] !== '\\n') {\n                                pos = i;\n                                break;\n                            }\n                        }\n                        self.position(pos);\n                    } else {\n                        //LEFT ARROW or CTRL+B\n                        if (position > 0) {\n                            self.position(-1, true);\n                            redraw();\n                        }\n                    }\n                } else if (e.which === 82 && e.ctrlKey) { // CTRL+R\n                    if (reverse_search) {\n                        reverse_history_search(true);\n                    } else {\n                        backup_prompt = prompt;\n                        draw_reverse_prompt();\n                        last_command = command;\n                        self.set('');\n                        redraw();\n                        reverse_search = true;\n                    }\n                } else if (e.which == 71 && e.ctrlKey) { // CTRL+G\n                    if (reverse_search) {\n                        prompt = backup_prompt;\n                        draw_prompt();\n                        self.set(last_command);\n                        redraw();\n                        reverse_search = false;\n                        rev_search_str = '';\n                    }\n                } else if (e.which === 39 ||\n                           (e.which === 70 && e.ctrlKey)) {\n                    //RIGHT ARROW OR CTRL+F\n                    if (e.ctrlKey && e.which !== 70) {\n                        // jump to beginning or end of the word\n                        if (command[position] === ' ') {\n                            ++position;\n                        }\n                        var re = /\\S[\\n\\s]{2,}|[\\n\\s]+\\S?/;\n                        var match = command.slice(position).match(re);\n                        if (!match || match[0].match(/^\\s+$/)) {\n                            self.position(command.length);\n                        } else {\n                            if (match[0][0] !== ' ') {\n                                position += match.index + 1;\n                            } else {\n                                position += match.index + match[0].length - 1;\n                                if (match[0][match[0].length-1] !== ' ') {\n                                    --position;\n                                }\n                            }\n                        }\n                        redraw();\n                    } else {\n                        if (position < command.length) {\n                            self.position(1, true);\n                        }\n                    }\n                } else if (e.which === 123) { // F12 - Allow Firebug\n                    return;\n                } else if (e.which === 36) { // HOME\n                    self.position(0);\n                } else if (e.which === 35) { // END\n                    self.position(command.length);\n                } else if (e.shiftKey && e.which == 45) { // Shift+Insert\n                    clip.val(''); // so we get it before paste event\n                    if (!is_paste_supported) {\n                        paste();\n                    } else {\n                        clip.focus();\n                    }\n                    return;\n                } else if (e.ctrlKey || e.metaKey) {\n                    if (e.which === 192) { // CMD+` switch browser window on Mac\n                        return;\n                    }\n                    if (e.metaKey) {\n                        if(e.which === 82) { // CMD+r page reload in Chrome Mac\n                            return;\n                        } else if(e.which === 76) {\n                            // CMD+l jump into Omnibox on Chrome Mac\n                            return;\n                        }\n                    }\n                    if (e.shiftKey) { // CTRL+SHIFT+??\n                        if (e.which === 84) {\n                            //CTRL+SHIFT+T open closed tab\n                            return;\n                        }\n                    //} else if (e.altKey) { //ALT+CTRL+??\n                    } else {\n                        if (e.which === 81) { // CTRL+W\n                            // don't work in Chromium (can't prevent close tab)\n                            if (command !== '' && position !== 0) {\n                                var m = command.slice(0, position).match(/([^ ]+ *$)/);\n                                kill_text = self['delete'](-m[0].length);\n                            }\n                            return false;\n                        } else if (e.which === 72) { // CTRL+H\n                            if (command !== '' && position > 0) {\n                                self['delete'](-1);\n                            }\n                            return false;\n                        //NOTE: in opera charCode is undefined\n                        } else if (e.which === 65) {\n                            //CTRL+A\n                            self.position(0);\n                        } else if (e.which === 69) {\n                            //CTRL+E\n                            self.position(command.length);\n                        } else if (e.which === 88 || e.which === 67 ||\n                                   e.which === 84) {\n                            //CTRL+X CTRL+C CTRL+W CTRL+T\n                            return;\n                        } else if (e.which === 89) { // CTRL+Y\n                            if (kill_text !== '') {\n                                self.insert(kill_text);\n                            }\n                        } else if (e.which === 86) { // CTRL+V\n                            clip.val('');\n                            if (!is_paste_supported) {\n                                paste();\n                            } else {\n                                clip.focus();\n                            }\n                            return;\n                        } else if (e.which === 75) { // CTRL+K\n                            kill_text = self['delete'](command.length-position);\n                        } else if (e.which === 85) { // CTRL+U\n                            if (command !== '' && position !== 0) {\n                                kill_text = self['delete'](-position);\n                            }\n                        } else if (e.which === 17) { //CTRL+TAB switch tab\n                            return false;\n                        }\n                    }\n                } else {\n                    prevent_keypress = false;\n                    no_keypress = true;\n                    return;\n                }\n                // this will prevent for instance backspace to go back one page\n                //prevent_keypress = true;\n                e.preventDefault();\n            }\n        }\n        function fire_change_command() {\n            if ($.isFunction(options.onCommandChange)) {\n                options.onCommandChange(command);\n            }\n        }\n        // ---------------------------------------------------------------------\n        // :: Command Line Methods\n        // ---------------------------------------------------------------------\n        $.extend(self, {\n            name: function(string) {\n                if (string !== undefined) {\n                    name = string;\n                    var enabled = history && history.enabled() || !history;\n                    history = new History(string, historySize);\n                    // disable new history if old was disabled\n                    if (!enabled) {\n                        history.disable();\n                    }\n                    return self;\n                } else {\n                    return name;\n                }\n            },\n            purge: function() {\n                history.clear();\n                return self;\n            },\n            history: function() {\n                return history;\n            },\n            'delete': function(n, stay) {\n                var removed;\n                if (n === 0) {\n                    return self;\n                } else if (n < 0) {\n                    if (position > 0) {\n                        // this may look weird but if n is negative we need\n                        // to use +\n                        removed = command.slice(0, position).slice(n);\n                        command = command.slice(0, position + n) +\n                            command.slice(position, command.length);\n                        if (!stay) {\n                            self.position(position+n);\n                        } else {\n                            fire_change_command();\n                        }\n                    }\n                } else {\n                    if (command !== '' && position < command.length) {\n                        removed = command.slice(position).slice(0, n);\n                        command = command.slice(0, position) +\n                            command.slice(position + n, command.length);\n                        fire_change_command();\n                    }\n                }\n                redraw();\n                fake_mobile_entry();\n                return removed;\n            },\n            set: function(string, stay) {\n                if (string !== undefined) {\n                    command = string;\n                    if (!stay) {\n                        self.position(command.length);\n                    }\n                    redraw();\n                    fake_mobile_entry();\n                    fire_change_command();\n                }\n                return self;\n            },\n            insert: function(string, stay) {\n                if (position === command.length) {\n                    command += string;\n                } else if (position === 0) {\n                    command = string + command;\n                } else {\n                    command = command.slice(0, position) +\n                        string + command.slice(position);\n                }\n                if (!stay) {\n                    self.position(string.length, true);\n                } else {\n                    fake_mobile_entry();\n                }\n                redraw();\n                fire_change_command();\n                return self;\n            },\n            get: function() {\n                return command;\n            },\n            commands: function(commands) {\n                if (commands) {\n                    options.commands = commands;\n                    return self;\n                } else {\n                    return commands;\n                }\n            },\n            destroy: function() {\n                doc.unbind('keypress.cmd', keypress_event);\n                doc.unbind('keydown.cmd', keydown_event);\n                doc.unbind('paste.cmd', paste);\n                doc.unbind('input.cmd', input);\n                self.stopTime('blink', blink);\n                self.find('.cursor').next().remove().end().prev().remove().\n                    end().remove();\n                self.find('.prompt, .clipboard').remove();\n                self.removeClass('cmd').removeData('cmd');\n                return self;\n            },\n            prompt: function(user_prompt) {\n                if (user_prompt === undefined) {\n                    return prompt;\n                } else {\n                    if (typeof user_prompt === 'string' ||\n                        typeof user_prompt === 'function') {\n                        prompt = user_prompt;\n                    } else {\n                        throw new Error('prompt must be a function or string');\n                    }\n                    draw_prompt();\n                    // we could check if command is longer then numchars-new\n                    // prompt\n                    redraw();\n                    return self;\n                }\n            },\n            kill_text: function() {\n                return kill_text;\n            },\n            position: function(n, relative) {\n                if (typeof n === 'number') {\n                    // if (position !== n) { this don't work, don't know why\n                    if (relative) {\n                        position += n;\n                    } else {\n                        if (n < 0) {\n                            position = 0;\n                        } else if (n > command.length) {\n                            position = command.length;\n                        } else {\n                            position = n;\n                        }\n                    }\n                    if ($.isFunction(options.onPositionChange)) {\n                        options.onPositionChange(position);\n                    }\n                    redraw();\n                    fake_mobile_entry();\n                    return self;\n                } else {\n                    return position;\n                }\n            },\n            visible: (function() {\n                var visible = self.visible;\n                return function() {\n                    visible.apply(self, []);\n                    redraw();\n                    draw_prompt();\n                };\n            })(),\n            show: (function() {\n                var show = self.show;\n                return function() {\n                    show.apply(self, []);\n                    redraw();\n                    draw_prompt();\n                };\n            })(),\n            resize: function(num) {\n                if (num) {\n                    num_chars = num;\n                } else {\n                    change_num_chars();\n                }\n                redraw();\n                return self;\n            },\n            enable: function() {\n                enabled = true;\n                self.addClass('enabled');\n                animation(true);\n                mobile_focus();\n                return self;\n            },\n            isenabled: function() {\n                return enabled;\n            },\n            disable: function() {\n                enabled = false;\n                self.removeClass('enabled');\n                animation(false);\n                mobile_focus();\n                return self;\n            },\n            mask: function(new_mask) {\n                if (typeof new_mask === 'undefined') {\n                    return mask;\n                } else {\n                    mask = new_mask;\n                    redraw();\n                    return self;\n                }\n            }\n        });\n        // ---------------------------------------------------------------------\n        // :: INIT\n        // ---------------------------------------------------------------------\n        self.name(options.name || options.prompt || '');\n        if (typeof options.prompt == 'string') {\n            prompt = options.prompt;\n        } else {\n            prompt = '> ';\n        }\n        draw_prompt();\n        if (options.enabled === undefined || options.enabled === true) {\n            self.enable();\n        }\n        // Keystrokes\n        var object;\n        var doc = $(document.documentElement || window);\n        function keypress_event(e) {\n            var result;\n            no_keypress = false;\n            if (e.ctrlKey && e.which === 99) { // CTRL+C\n                return;\n            }\n            if (prevent_keypress) {\n                return;\n            }\n            if (!reverse_search && $.isFunction(options.keypress)) {\n                result = options.keypress(e);\n            }\n            //$.terminal.active().echo(JSON.stringify(result));\n            if (result === undefined || result) {\n                if (enabled) {\n                    if ($.inArray(e.which, [38, 13, 0, 8]) > -1 &&\n                        //!(e.which === 40 && e.shiftKey ||\n                        !(e.which === 38 && e.shiftKey)) {\n                        if (e.keyCode == 123) { // for F12 which == 0\n                            return;\n                        }\n                        return false;\n                    } else if (!e.ctrlKey && !(e.altKey && e.which === 100) ||\n                               e.altKey) { // ALT+D\n                        if (reverse_search) {\n                            rev_search_str += String.fromCharCode(e.which);\n                            reverse_history_search();\n                            draw_reverse_prompt();\n                        } else {\n                            self.insert(String.fromCharCode(e.which));\n                        }\n                        return false;\n                    }\n                }\n            } else {\n                return result;\n            }\n        }\n        function input(e) {\n            if (no_keypress) {\n                // Some Androids don't fire keypress - #39\n                var val = clip.val();\n                if (val || e.which == 8) {  // #209 ; 8 - backspace\n                    self.set(val);\n                }\n            }\n        }\n        doc.bind('keypress.cmd', keypress_event).bind('keydown.cmd', keydown_event).\n            bind('input.cmd', input);\n        if (is_paste_supported) {\n            doc.bind('paste.cmd', paste);\n        }\n        // characters\n        self.data('cmd', self);\n        return self;\n    }; // cmd plugin\n\n    // -------------------------------------------------------------------------\n    // :: TOOLS\n    // -------------------------------------------------------------------------\n    function skip_formatting_count(string) {\n        // this will covert html entities to single characters\n        return $('<div>' + $.terminal.strip(string) + '</div>').text().length;\n    }\n    // -------------------------------------------------------------------------\n    function formatting_count(string) {\n        return string.length - skip_formatting_count(string);\n    }\n    // -------------------------------------------------------------------------\n    // taken from https://hacks.mozilla.org/2011/09/detecting-and-generating-\n    // css-animations-in-javascript/\n    var support_animations = (function() {\n        var animation = false,\n        animationstring = 'animation',\n        keyframeprefix = '',\n        domPrefixes = 'Webkit Moz O ms Khtml'.split(' '),\n        pfx  = '',\n        elm = document.createElement('div');\n        if (elm.style.animationName) { animation = true; }\n        if (animation === false) {\n            for (var i = 0; i < domPrefixes.length; i++) {\n                var name = domPrefixes[i] + 'AnimationName';\n                if (elm.style[ name ] !== undefined) {\n                    pfx = domPrefixes[i];\n                    animationstring = pfx + 'Animation';\n                    keyframeprefix = '-' + pfx.toLowerCase() + '-';\n                    animation = true;\n                    break;\n                }\n            }\n        }\n        return animation;\n    })();\n    // -------------------------------------------------------------------------\n    var is_android = navigator.userAgent.toLowerCase().indexOf(\"android\") != -1;\n    // -------------------------------------------------------------------------\n    var is_touch = (function() {\n        return ('ontouchstart' in window) || window.DocumentTouch &&\n            document instanceof DocumentTouch;\n    })();\n    // -------------------------------------------------------------------------\n    function process_command(string, fn) {\n        var array = fn(string);\n        if (array.length) {\n            var name = array.shift();\n            var regex = new RegExp('^' + $.terminal.escape_regex(name));\n            var rest = string.replace(regex, '').trim();\n            return {\n                command: string,\n                name: name,\n                args: array,\n                rest: rest\n            };\n        } else {\n            return {\n                command: string,\n                name: '',\n                args: [],\n                rest: ''\n            };\n        }\n    }\n    // -------------------------------------------------------------------------\n    var format_split_re = /(\\[\\[[!gbiuso]*;[^;]*;[^\\]]*\\](?:[^\\]]*\\\\\\][^\\]]*|[^\\]]*|[^\\[]*\\[[^\\]]*)\\]?)/i;\n    var format_parts_re = /\\[\\[([!gbiuso]*);([^;]*);([^;\\]]*);?([^;\\]]*);?([^\\]]*)\\]([^\\]]*\\\\\\][^\\]]*|[^\\]]*|[^\\[]*\\[[^\\]]*)\\]?/gi;\n    var format_re = /\\[\\[([!gbiuso]*;[^;\\]]*;[^;\\]]*(?:;|[^\\]()]*);?[^\\]]*)\\]([^\\]]*\\\\\\][^\\]]*|[^\\]]*|[^\\[]*\\[[^\\]]*)\\]?/gi;\n    var format_exist_re = /\\[\\[([!gbiuso]*;[^;\\]]*;[^;\\]]*(?:;|[^\\]()]*);?[^\\]]*)\\]([^\\]]*\\\\\\][^\\]]*|[^\\]]*|[^\\[]*\\[[^\\]]*)\\]/gi;\n    var format_full_re = /^\\[\\[([!gbiuso]*;[^;\\]]*;[^;\\]]*(?:;|[^\\]()]*);?[^\\]]*)\\]([^\\]]*\\\\\\][^\\]]*|[^\\]]*|[^\\[]*\\[[^\\]]*)\\]$/gi;\n    var color_hex_re = /^#([0-9a-f]{3}|[0-9a-f]{6})$/i;\n    //var url_re = /https?:\\/\\/(?:(?!&[^;]+;)[^\\s:\"'<>)])+/g;\n    //var url_re = /\\bhttps?:\\/\\/(?:(?!&[^;]+;)[^\\s\"'<>)])+\\b/g;\n    var url_re = /(\\bhttps?:\\/\\/(?:(?:(?!&[^;]+;)|(?=&amp;))[^\\s\"'<>\\]\\[)])+\\b)/gi;\n    var url_nf_re = /\\b(https?:\\/\\/(?:(?:(?!&[^;]+;)|(?=&amp;))[^\\s\"'<>\\][)])+)\\b(?![^[\\]]*])/gi;\n    var email_re = /((([^<>('\")[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,})))/g;\n    var command_re = /('[^']*'|\"(\\\\\"|[^\"])*\"|(?:\\/(\\\\\\/|[^\\/])+\\/[gimy]*)(?=:? |$)|(\\\\ |[^ ])+|[\\w-]+)/gi;\n    var format_begin_re = /(\\[\\[[!gbiuso]*;[^;]*;[^\\]]*\\])/i;\n    var format_start_re = /^(\\[\\[[!gbiuso]*;[^;]*;[^\\]]*\\])/i;\n    var format_last_re = /\\[\\[[!gbiuso]*;[^;]*;[^\\]]*\\]?$/i;\n    var format_exec_re = /(\\[\\[(?:[^\\]]|\\\\\\])*\\]\\])/;\n    $.terminal = {\n        version: '0.10.12',\n        // colors from http://www.w3.org/wiki/CSS/Properties/color/keywords\n        color_names: [\n            'black', 'silver', 'gray', 'white', 'maroon', 'red', 'purple',\n            'fuchsia', 'green', 'lime', 'olive', 'yellow', 'navy', 'blue',\n            'teal', 'aqua', 'aliceblue', 'antiquewhite', 'aqua', 'aquamarine',\n            'azure', 'beige', 'bisque', 'black', 'blanchedalmond', 'blue',\n            'blueviolet', 'brown', 'burlywood', 'cadetblue', 'chartreuse',\n            'chocolate', 'coral', 'cornflowerblue', 'cornsilk', 'crimson',\n            'cyan', 'darkblue', 'darkcyan', 'darkgoldenrod', 'darkgray',\n            'darkgreen', 'darkgrey', 'darkkhaki', 'darkmagenta',\n            'darkolivegreen', 'darkorange', 'darkorchid', 'darkred',\n            'darksalmon', 'darkseagreen', 'darkslateblue', 'darkslategray',\n            'darkslategrey', 'darkturquoise', 'darkviolet', 'deeppink',\n            'deepskyblue', 'dimgray', 'dimgrey', 'dodgerblue', 'firebrick',\n            'floralwhite', 'forestgreen', 'fuchsia', 'gainsboro', 'ghostwhite',\n            'gold', 'goldenrod', 'gray', 'green', 'greenyellow', 'grey',\n            'honeydew', 'hotpink', 'indianred', 'indigo', 'ivory', 'khaki',\n            'lavender', 'lavenderblush', 'lawngreen', 'lemonchiffon',\n            'lightblue', 'lightcoral', 'lightcyan', 'lightgoldenrodyellow',\n            'lightgray', 'lightgreen', 'lightgrey', 'lightpink', 'lightsalmon',\n            'lightseagreen', 'lightskyblue', 'lightslategray', 'lightslategrey',\n            'lightsteelblue', 'lightyellow', 'lime', 'limegreen', 'linen',\n            'magenta', 'maroon', 'mediumaquamarine', 'mediumblue',\n            'mediumorchid', 'mediumpurple', 'mediumseagreen', 'mediumslateblue',\n            'mediumspringgreen', 'mediumturquoise', 'mediumvioletred',\n            'midnightblue', 'mintcream', 'mistyrose', 'moccasin', 'navajowhite',\n            'navy', 'oldlace', 'olive', 'olivedrab', 'orange', 'orangered',\n            'orchid', 'palegoldenrod', 'palegreen', 'paleturquoise',\n            'palevioletred', 'papayawhip', 'peachpuff', 'peru', 'pink', 'plum',\n            'powderblue', 'purple', 'red', 'rosybrown', 'royalblue',\n            'saddlebrown', 'salmon', 'sandybrown', 'seagreen', 'seashell',\n            'sienna', 'silver', 'skyblue', 'slateblue', 'slategray',\n            'slategrey', 'snow', 'springgreen', 'steelblue', 'tan', 'teal',\n            'thistle', 'tomato', 'turquoise', 'violet', 'wheat', 'white',\n            'whitesmoke', 'yellow', 'yellowgreen'],\n        // ---------------------------------------------------------------------\n        // :: Validate html color (it can be name or hex)\n        // ---------------------------------------------------------------------\n        valid_color: function(color) {\n            if (color.match(color_hex_re)) {\n                return true;\n            } else {\n                return $.inArray(color.toLowerCase(),\n                                 $.terminal.color_names) !== -1;\n            }\n        },\n        // ---------------------------------------------------------------------\n        // :: Escape all special regex characters, so it can be use as regex to\n        // :: match exact string that contain those characters\n        // ---------------------------------------------------------------------\n        escape_regex: function(str) {\n            if (typeof str == 'string') {\n                var special = /([-\\\\\\^$\\[\\]()+{}?*.|])/g;\n                return str.replace(special, '\\\\$1');\n            }\n        },\n        // ---------------------------------------------------------------------\n        // :: test if string contain formatting\n        // ---------------------------------------------------------------------\n        have_formatting: function(str) {\n            return typeof str == 'string' && !!str.match(format_exist_re);\n        },\n        is_formatting: function(str) {\n            return typeof str == 'string' && !!str.match(format_full_re);\n        },\n        // ---------------------------------------------------------------------\n        // :: return array of formatting and text between them\n        // ---------------------------------------------------------------------\n        format_split: function(str) {\n            return str.split(format_split_re);\n        },\n        // ---------------------------------------------------------------------\n        // :: split text into lines with equal length so each line can be\n        // :: rendered separately (text formatting can be longer then a line).\n        // ---------------------------------------------------------------------\n        split_equal: function(str, length, words) {\n            var formatting = false;\n            var in_text = false;\n            var prev_format = '';\n            var result = [];\n            // add format text as 5th paramter to formatting it's used for\n            // data attribute in format function\n            var array = str.replace(format_re, function(_, format, text) {\n                var semicolons = format.match(/;/g).length;\n                // missing semicolons\n                if (semicolons >= 4) {\n                    return _;\n                } else if (semicolons == 2) {\n                    semicolons = ';;';\n                } else if (semicolons == 3) {\n                    semicolons = ';';\n                } else {\n                    semicolons = '';\n                }\n                // return '[[' + format + ']' + text + ']';\n                // closing braket will break formatting so we need to escape\n                // those using html entity equvalent\n                var safe = text.replace(/\\\\\\]/g, '&#93;').replace(/\\n/g, '\\\\n').\n                    replace(/&nbsp;/g, ' ');\n                return '[[' + format + semicolons + safe + ']' + text + ']';\n            }).split(/\\n/g);\n            function is_space() {\n                return line.substring(j-6, j) == '&nbsp;' ||\n                    line.substring(j-1, j) == ' ';\n            }\n            for (var i = 0, len = array.length; i < len; ++i) {\n                if (array[i] === '') {\n                    result.push('');\n                    continue;\n                }\n                var line = array[i];\n                var first_index = 0;\n                var count = 0;\n                var space = -1;\n                for (var j=0, jlen=line.length; j<jlen; ++j) {\n                    if (line.substring(j).match(format_start_re)) {\n                        formatting = true;\n                        in_text = false;\n                    } else if (formatting && line[j] === ']') {\n                        if (in_text) {\n                            formatting = false;\n                            in_text = false;\n                        } else {\n                            in_text = true;\n                        }\n                    } else if ((formatting && in_text) || !formatting) {\n                        if (line[j] === '&') { // treat entity as one character\n                            var m = line.substring(j).match(/^(&[^;]+;)/);\n                            if (!m) {\n                                // should never happen if used by terminal,\n                                // because it always calls $.terminal.encode\n                                // before this function\n                                throw new Error(\"Unclosed html entity in line \" +\n                                                (i+1) + ' at char ' + (j+1));\n                            }\n                            j+=m[1].length-2; // because continue adds 1 to j\n                            // if entity is at the end there is no next loop\n                            // issue #77\n                            if (j === jlen-1) {\n                                result.push(output + m[1]);\n                            }\n                            continue;\n                        } else if (line[j] === ']' && line[j-1] === '\\\\') {\n                            // escape \\] counts as one character\n                            --count;\n                        } else {\n                            ++count;\n                        }\n                    }\n                    if (is_space() && ((formatting && in_text) || !formatting ||\n                                      (line[j] === '[' && line[j+1] === '['))) {\n                        space = j;\n                    }\n                    if ((count === length || j === jlen-1) &&\n                        ((formatting && in_text) || !formatting)) {\n                        var output;\n                        var text = $.terminal.strip(line.substring(space));\n                        text = $('<span>' + text + '</span>').text();\n                        var text_len = text.length;\n                        text = text.substring(0, j+length+1);\n                        var can_break = !!text.match(/\\s/) || j+length+1 > text_len;\n                        if (words && space != -1 && j !== jlen-1 && can_break) {\n                            output = line.substring(first_index, space);\n                            j = space-1;\n                        } else {\n                            output = line.substring(first_index, j+1);\n                        }\n                        if (words) {\n                            output = output.replace(/(&nbsp;|\\s)+$/g, '');\n                        }\n                        space = -1;\n                        first_index = j+1;\n                        count = 0;\n                        if (prev_format) {\n                            output = prev_format + output;\n                            if (output.match(']')) {\n                                prev_format = '';\n                            }\n                        }\n                        // Fix output if formatting not closed\n                        var matched = output.match(format_re);\n                        if (matched) {\n                            var last = matched[matched.length-1];\n                            if (last[last.length-1] !== ']') {\n                                prev_format = last.match(format_begin_re)[1];\n                                output += ']';\n                            } else if (output.match(format_last_re)) {\n                                var line_len = output.length;\n                                // why this line ???\n                                //var f_len = line_len-last[last.length-1].length;\n                                output = output.replace(format_last_re, '');\n                                prev_format = last.match(format_begin_re)[1];\n                            }\n                        }\n                        result.push(output);\n                    }\n                }\n            }\n            return result;\n        },\n        // ---------------------------------------------------------------------\n        // :: Encode formating as html for insertion into DOM\n        // ---------------------------------------------------------------------\n        encode: function(str) {\n            // don't escape entities\n            str = str.replace(/&(?!#[0-9]+;|[a-zA-Z]+;)/g, '&amp;');\n            return str.replace(/</g, '&lt;').replace(/>/g, '&gt;')\n                .replace(/ /g, '&nbsp;')\n                .replace(/\\t/g, '&nbsp;&nbsp;&nbsp;&nbsp;');\n        },\n        // ---------------------------------------------------------------------\n        // :: safe function that will render text as it is\n        // ---------------------------------------------------------------------\n        escape_formatting: function(string) {\n            return $.terminal.escape_brackets($.terminal.encode(string));\n        },\n        // ---------------------------------------------------------------------\n        // :: Replace terminal formatting with html\n        // ---------------------------------------------------------------------\n        format: function(str, options) {\n            var settings = $.extend({}, {\n                linksNoReferrer: false\n            }, options || {});\n            if (typeof str === 'string') {\n                //support for formating foo[[u;;]bar]baz[[b;#fff;]quux]zzz\n                var splitted = $.terminal.format_split(str);\n                str = $.map(splitted, function(text) {\n                    if (text === '') {\n                        return text;\n                    } else if ($.terminal.is_formatting(text)) {\n                        return text.replace(format_parts_re, function(s,\n                                                                      style,\n                                                                      color,\n                                                                      background,\n                                                                      _class,\n                                                                      data_text,\n                                                                      text) {\n                            if (text === '') {\n                                return ''; //'<span>&nbsp;</span>';\n                            }\n                            text = text.replace(/\\\\]/g, ']');\n                            var style_str = '';\n                            if (style.indexOf('b') !== -1) {\n                                style_str += 'font-weight:bold;';\n                            }\n                            var text_decoration = [];\n                            if (style.indexOf('u') !== -1) {\n                                text_decoration.push('underline');\n                            }\n                            if (style.indexOf('s') !== -1) {\n                                text_decoration.push('line-through');\n                            }\n                            if (style.indexOf('o') !== -1) {\n                                text_decoration.push('overline');\n                            }\n                            if (text_decoration.length) {\n                                style_str += 'text-decoration:' +\n                                    text_decoration.join(' ') + ';';\n                            }\n                            if (style.indexOf('i') !== -1) {\n                                style_str += 'font-style:italic;';\n                            }\n                            if ($.terminal.valid_color(color)) {\n                                style_str += 'color:' + color + ';';\n                                if (style.indexOf('g') !== -1) {\n                                    style_str += 'text-shadow:0 0 5px ' + color + ';';\n                                }\n                            }\n                            if ($.terminal.valid_color(background)) {\n                                style_str += 'background-color:' + background;\n                            }\n                            var data;\n                            if (data_text === '') {\n                                data = text;\n                            } else {\n                                data = data_text.replace(/&#93;/g, ']');\n                            }\n                            var result;\n                            if (style.indexOf('!') !== -1) {\n                                if (data.match(email_re)) {\n                                    result = '<a href=\"mailto:' + data + '\" ';\n                                } else {\n                                    result = '<a target=\"_blank\" href=\"' + data + '\" ';\n                                    if (settings.linksNoReferrer) {\n                                        result += 'rel=\"noreferrer\" ';\n                                    }\n                                }\n                            } else {\n                                result = '<span ';\n                            }\n                            if (style_str !== '') {\n                                result += 'style=\"' + style_str + '\"';\n                            }\n                            if (_class !== '') {\n                                result += ' class=\"' + _class + '\"';\n                            }\n                            if (style.indexOf('!') !== -1) {\n                                result += '>' + text + '</a>';\n                            } else {\n                                result += ' data-text=\"' +\n                                    data.replace('\"', '&quote;') + '\">' +\n                                    text + '</span>';\n                            }\n                            return result;\n                        });\n                    } else {\n                        return '<span>' + text.replace(/\\\\\\]/g, ']') + '</span>';\n                    }\n                }).join('');\n                return str.replace(/<span><br\\s*\\/?><\\/span>/gi, '<br/>');\n            } else {\n                return '';\n            }\n        },\n        // ---------------------------------------------------------------------\n        // :: Replace brackets with html entities\n        // ---------------------------------------------------------------------\n        escape_brackets: function(string) {\n            return string.replace(/\\[/g, '&#91;').replace(/\\]/g, '&#93;');\n        },\n        // ---------------------------------------------------------------------\n        // :: Remove formatting from text\n        // ---------------------------------------------------------------------\n        strip: function(str) {\n            return str.replace(format_parts_re, '$6');\n        },\n        // ---------------------------------------------------------------------\n        // :: Return active terminal\n        // ---------------------------------------------------------------------\n        active: function() {\n            return terminals.front();\n        },\n        // keep old as backward compatible\n        parseArguments: function(string) {\n            return $.terminal.parse_arguments(string);\n        },\n        splitArguments: function(string) {\n            return $.terminal.split_arguments(string);\n        },\n        parseCommand: function(string) {\n            return $.terminal.parse_command(string);\n        },\n        splitCommand: function(string) {\n            return $.terminal.split_command(string);\n        },\n        // ---------------------------------------------------------------------\n        // :: Function splits arguments and works with strings like\n        // :: 'asd' 'asd\\' asd' \"asd asd\" asd\\ 123 -n -b / [^ ]+ / /\\s+/ asd\\ a\n        // :: it creates a regex and numbers and replaces escape characters in\n        // :: double quotes\n        // ---------------------------------------------------------------------\n        parse_arguments: function(string) {\n            var float_re = /^[-+]?[0-9]*\\.?[0-9]+([eE][-+]?[0-9]+)?$/;\n            return $.map(string.match(command_re) || [], function(arg) {\n                if (arg[0] === \"'\" && arg[arg.length-1] === \"'\") {\n                    return arg.replace(/^'|'$/g, '');\n                } else if (arg[0] === '\"' && arg[arg.length-1] === '\"') {\n                    arg = arg.replace(/^\"|\"$/g, '').replace(/\\\\([\" ])/g, '$1');\n                    return arg.replace(/\\\\\\\\|\\\\t|\\\\n/g, function(string) {\n                        if (string[1] === 't') {\n                            return '\\t';\n                        } else if (string[1] === 'n') {\n                            return '\\n';\n                        } else {\n                            return '\\\\';\n                        }\n                    }).replace(/\\\\x([0-9a-f]+)/gi, function(_, hex) {\n                        return String.fromCharCode(parseInt(hex, 16));\n                    }).replace(/\\\\0([0-7]+)/g, function(_, oct) {\n                        return String.fromCharCode(parseInt(oct, 8));\n                    });\n                } else if (arg.match(/^\\/(\\\\\\/|[^\\/])+\\/[gimy]*$/)) { // RegEx\n                    var m = arg.match(/^\\/([^\\/]+)\\/([^\\/]*)$/);\n                    return new RegExp(m[1], m[2]);\n                } else if (arg.match(/^-?[0-9]+$/)) {\n                    return parseInt(arg, 10);\n                } else if (arg.match(float_re)) {\n                    return parseFloat(arg);\n                } else {\n                    return arg.replace(/\\\\ /g, ' ');\n                }\n            });\n        },\n        // ---------------------------------------------------------------------\n        // :: Split arguments: it only strips single and double quotes and\n        // :: escapes spaces\n        // ---------------------------------------------------------------------\n        split_arguments: function(string) {\n            return $.map(string.match(command_re) || [], function(arg) {\n                if (arg[0] === \"'\" && arg[arg.length-1] === \"'\") {\n                    return arg.replace(/^'|'$/g, '');\n                } else if (arg[0] === '\"' && arg[arg.length-1] === '\"') {\n                    return arg.replace(/^\"|\"$/g, '').replace(/\\\\([\" ])/g, '$1');\n                } else if (arg.match(/\\/.*\\/[gimy]*$/)) {\n                    return arg;\n                } else {\n                    return arg.replace(/\\\\ /g, ' ');\n                }\n            });\n        },\n        // ---------------------------------------------------------------------\n        // :: Function that returns an object {name,args}. Arguments are parsed\n        // :: using the function parse_arguments\n        // ---------------------------------------------------------------------\n        parse_command: function(string) {\n            return process_command(string, $.terminal.parse_arguments);\n        },\n        // ---------------------------------------------------------------------\n        // :: Same as parse_command but arguments are parsed using split_arguments\n        // ---------------------------------------------------------------------\n        split_command: function(string) {\n            return process_command(string, $.terminal.split_arguments);\n        },\n        // ---------------------------------------------------------------------\n        // :: function executed for each text inside [{ .... }]\n        // ---------------------------------------------------------------------\n        extended_command: function(term, string) {\n            try {\n                change_hash = false;\n                term.exec(string, true).then(function() {\n                    change_hash = true;\n                });\n            } catch(e) {\n                // error is process in exec\n            }\n        }\n    };\n\n    // -----------------------------------------------------------------------\n    // Helper plugins\n    // -----------------------------------------------------------------------\n    $.fn.visible = function() {\n        return this.css('visibility', 'visible');\n    };\n    $.fn.hidden = function() {\n        return this.css('visibility', 'hidden');\n    };\n    // -----------------------------------------------------------------------\n    // JSON-RPC CALL\n    // -----------------------------------------------------------------------\n    var ids = {}; // list of url based id of JSON-RPC\n    $.jrpc = function(url, method, params, success, error) {\n        ids[url] = ids[url] || 0;\n        var request = $.json_stringify({\n           'jsonrpc': '2.0', 'method': method,\n            'params': params, 'id': ++ids[url]});\n        return $.ajax({\n            url: url,\n            data: request,\n            success: function(result, status, jqXHR) {\n                var content_type = jqXHR.getResponseHeader('Content-Type');\n                if (!content_type.match(/application\\/json/)) {\n                    var msg = 'Response Content-Type is not application/json';\n                    if (console && console.warn) {\n                        console.warn(msg);\n                    } else {\n                        throw new Error('WARN: ' + msg);\n                    }\n                }\n                var json;\n                try {\n                    json = $.parseJSON(result);\n                } catch (e) {\n                    if (error) {\n                        error(jqXHR, 'Invalid JSON', e);\n                    } else {\n                        throw new Error('Invalid JSON');\n                    }\n                    return;\n                }\n                // don't catch errors in success callback\n                success(json, status, jqXHR);\n            },\n            error: error,\n            contentType: 'application/json',\n            dataType: 'text',\n            async: true,\n            cache: false,\n            //timeout: 1,\n            type: 'POST'});\n    };\n\n    // -----------------------------------------------------------------------\n    function is_scrolled_into_view(elem) {\n        var docViewTop = $(window).scrollTop();\n        var docViewBottom = docViewTop + $(window).height();\n\n        var elemTop = $(elem).offset().top;\n        var elemBottom = elemTop + $(elem).height();\n\n        return ((elemBottom >= docViewTop) && (elemTop <= docViewBottom));\n    }\n    // -----------------------------------------------------------------------\n    // :: Create fake terminal to calcualte the dimention of one character\n    // :: this will make terminal work if terminal div is not added to the\n    // :: DOM at init like with:\n    // :: $('<div/>').terminal().echo('foo bar').appendTo('body');\n    // -----------------------------------------------------------------------\n    function char_size() {\n        var temp = $('<div class=\"terminal temp\"><div class=\"cmd\"><span cla' +\n                     'ss=\"cursor\">&nbsp;</span></div></div>').appendTo('body');\n        var span = temp.find('span');\n        var result = {\n            width: span.width(),\n            height: span.outerHeight()\n        };\n        temp.remove();\n        return result;\n    }\n    // -----------------------------------------------------------------------\n    // :: calculate numbers of characters\n    // -----------------------------------------------------------------------\n    function get_num_chars(terminal) {\n        var temp = $('<div class=\"terminal\"><span class=\"cursor\">' +\n                     '</span></div>').appendTo('body').css('padding', 0);\n        var span = temp.find('span');\n        // use more characters to get width of single character as a fraction\n        var max = 60;\n        var spaces = '';\n        for (var i=0;i<=max; ++i) {\n            spaces += '&nbsp;';\n        }\n        span.html(spaces);\n        var width = span.width()/max;\n        var result = Math.floor(terminal.width() / width);\n        temp.remove();\n        if (have_scrollbars(terminal)) {\n            var SCROLLBAR_WIDTH = 20;\n            // assume that scrollbars are 20px - in my Laptop with\n            // Linux/Chrome they are 16px\n            var margins = terminal.innerWidth() - terminal.width();\n            result -= Math.ceil((SCROLLBAR_WIDTH - margins / 2) / (width-1));\n        }\n        return result;\n    }\n    // -----------------------------------------------------------------------\n    // :: Calculate number of lines that fit without scroll\n    // -----------------------------------------------------------------------\n    function get_num_rows(terminal) {\n        return Math.floor(terminal.height() / char_size().height);\n    }\n    // -----------------------------------------------------------------------\n    // :: Get Selected Text (this is internal because it return text even if\n    // :: it's outside of terminal, is used to paste text to the terminal)\n    // -----------------------------------------------------------------------\n    function get_selected_text() {\n        if (window.getSelection || document.getSelection) {\n            var selection = (window.getSelection || document.getSelection)();\n            if (selection.text) {\n                return selection.text;\n            } else {\n                return selection.toString();\n            }\n        } else if (document.selection) {\n            return document.selection.createRange().text;\n        }\n    }\n    // -----------------------------------------------------------------------\n    // :: check if div have scrollbars (need to have overflow auto or always)\n    // -----------------------------------------------------------------------\n    function have_scrollbars(div) {\n        if (div.css('overflow') == 'scroll' ||\n            div.css('overflow-y') == 'scroll') {\n            return true;\n        } else if (div.is('body')) {\n            return $(\"body\").height() > $(window).height();\n        } else {\n            return div.get(0).scrollHeight > div.innerHeight();\n        }\n    }\n    // -----------------------------------------------------------------------\n    // :: TERMINAL PLUGIN CODE\n    // -----------------------------------------------------------------------\n    var version_set = !$.terminal.version.match(/^\\{\\{/);\n    var copyright = 'Copyright (c) 2011-2016 Jakub Jankiewicz <http://jcubic'+\n        '.pl>';\n    var version_string = version_set ? ' v. ' + $.terminal.version : ' ';\n    //regex is for placing version string aligned to the right\n    var reg = new RegExp(\" {\" + version_string.length + \"}$\");\n    var name_ver = 'jQuery Terminal Emulator' +\n        (version_set ? version_string : '');\n    // -----------------------------------------------------------------------\n    // :: Terminal Signatures\n    // -----------------------------------------------------------------------\n    var signatures = [\n        ['jQuery Terminal', '(c) 2011-2016 jcubic'],\n        [name_ver, copyright.replace(/^Copyright | *<.*>/g, '')],\n        [name_ver, copyright.replace(/^Copyright /, '')],\n        ['      _______                 ________                        __',\n         '     / / _  /_ ____________ _/__  ___/______________  _____  / /',\n         ' __ / / // / // / _  / _/ // / / / _  / _/     / /  \\\\/ / _ \\\\/ /',\n         '/  / / // / // / ___/ // // / / / ___/ // / / / / /\\\\  / // / /__',\n         '\\\\___/____ \\\\\\\\__/____/_/ \\\\__ / /_/____/_//_/ /_/ /_/  \\\\/\\\\__\\\\_\\\\___/',\n         '         \\\\/          /____/                                   '.replace(reg, ' ') +\n         version_string,\n         copyright],\n        ['      __ _____                     ________                              __',\n         '     / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /',\n         ' __ / // // // // // _  // _// // / / // _  // _//     // //  \\\\/ // _ \\\\/ /',\n         '/  / // // // // // ___// / / // / / // ___// / / / / // // /\\\\  // // / /__',\n         '\\\\___//____ \\\\\\\\___//____//_/ _\\\\_  / /_//____//_/ /_/ /_//_//_/ /_/ \\\\__\\\\_\\\\___/',\n         '          \\\\/              /____/                                          '.replace(reg, '') +\n         version_string,\n         copyright]\n    ];\n    // -----------------------------------------------------------------------\n    // :: Default options\n    // -----------------------------------------------------------------------\n    $.terminal.defaults = {\n        prompt: '> ',\n        history: true,\n        exit: true,\n        clear: true,\n        enabled: true,\n        historySize: 60,\n        maskChar: '*',\n        checkArity: true,\n        raw: false,\n        exceptionHandler: null,\n        cancelableAjax: true,\n        processArguments: true,\n        linksNoReferrer: false,\n        processRPCResponse: null,\n        Token: true, // where this came from?\n        convertLinks: true,\n        historyState: false,\n        login: null,\n        outputLimit: -1,\n        formatters: [],\n        onAjaxError: null,\n        onRPCError: null,\n        completion: false,\n        historyFilter: null,\n        onInit: $.noop,\n        onClear: $.noop,\n        onBlur: $.noop,\n        onFocus: $.noop,\n        onTerminalChange: $.noop,\n        onExit: $.noop,\n        keypress: $.noop,\n        keydown: $.noop,\n        strings: {\n            wrongPasswordTryAgain: \"Wrong password try again!\",\n            wrongPassword: \"Wrong password!\",\n            ajaxAbortError: \"Error while aborting ajax call!\",\n            wrongArity: \"Wrong number of arguments. Function '%s' expects %s got\"+\n                \" %s!\",\n            commandNotFound: \"Command '%s' Not Found!\",\n            oneRPCWithIgnore: \"You can use only one rpc with ignoreSystemDescr\"+\n                \"ibe\",\n            oneInterpreterFunction: \"You can't use more than one function (rpc\"+\n                \"with ignoreSystemDescribe counts as one)\",\n            loginFunctionMissing: \"You didn't specify a login function\",\n            noTokenError: \"Access denied (no token)\",\n            serverResponse: \"Server responded\",\n            wrongGreetings: \"Wrong value of greetings parameter\",\n            notWhileLogin: \"You can't call `%s' function while in login\",\n            loginIsNotAFunction: \"Authenticate must be a function\",\n            canExitError: \"You can't exit from main interpreter\",\n            invalidCompletion: \"Invalid completion\",\n            invalidSelector: 'Sorry, but terminal said that \"%s\" is not valid '+\n                'selector!',\n            invalidTerminalId: 'Invalid Terminal ID',\n            login: \"login\",\n            password: \"password\",\n            recursiveCall: 'Recursive call detected, skip'\n        }\n    };\n    // -------------------------------------------------------------------------\n    // :: All terminal globals\n    // -------------------------------------------------------------------------\n    var requests = []; // for canceling on CTRL+D\n    var terminals = window.terminals = new Cycle(); // list of terminals global in this scope\n    // state for all terminals, terminals can't have own array fo state because\n    // there is only one popstate event\n    var save_state = []; // hold objects returned by export_view by history API\n    var hash_commands;\n    var change_hash = false; // don't change hash on Init\n    var fire_hash_change = true;\n    var first_instance = true; // used by history state\n    $.fn.terminal = function(init_interpreter, options) {\n        // ---------------------------------------------------------------------\n        // :: helper function\n        // ---------------------------------------------------------------------\n        function get_processed_command(command) {\n            if ($.isFunction(settings.processArguments)) {\n                return process_command(command, settings.processArguments);\n            } else if (settings.processArguments) {\n                return $.terminal.parse_command(command);\n            } else {\n                return $.terminal.split_command(command);\n            }\n        }\n        // ---------------------------------------------------------------------\n        // :: Display object on terminal\n        // ---------------------------------------------------------------------\n        function display_object(object) {\n            if (typeof object === 'string') {\n                self.echo(object);\n            } else if (object instanceof Array) {\n                self.echo($.map(object, function(object) {\n                    return $.json_stringify(object);\n                }).join(' '));\n            } else if (typeof object === 'object') {\n                self.echo($.json_stringify(object));\n            } else {\n                self.echo(object);\n            }\n        }\n        // Display line code in the file if line numbers are present\n        function print_line(url_spec) {\n            var re = /(.*):([0-9]+):([0-9]+)$/;\n            // google chrome have line and column after filename\n            var m = url_spec.match(re);\n            if (m) {\n                // TODO: do we need to call pause/resume or return promise?\n                self.pause();\n                $.get(m[1], function(response) {\n                    var prefix = location.href.replace(/[^\\/]+$/, '');\n                    var file = m[1].replace(prefix, '');\n                    self.echo('[[b;white;]' + file + ']');\n                    var code = response.split('\\n');\n                    var n = +m[2]-1;\n                    self.echo(code.slice(n-2, n+3).map(function(line, i) {\n                        if (i == 2) {\n                            line = '[[;#f00;]' +\n                                $.terminal.escape_brackets(line) + ']';\n                        }\n                        return '[' + (n+i) + ']: ' + line;\n                    }).join('\\n')).resume();\n                }, 'text');\n            }\n        }\n        // ---------------------------------------------------------------------\n        // :: Helper function\n        // ---------------------------------------------------------------------\n        function display_json_rpc_error(error) {\n            if ($.isFunction(settings.onRPCError)) {\n                settings.onRPCError.call(self, error);\n            } else {\n                self.error('&#91;RPC&#93; ' + error.message);\n            }\n        }\n        // ---------------------------------------------------------------------\n        // :: Create interpreter function from url string\n        // ---------------------------------------------------------------------\n        function make_basic_json_rpc(url, auth) {\n            var interpreter = function(method, params) {\n                self.pause();\n                $.jrpc(url, method, params, function(json) {\n                    if (json.error) {\n                        display_json_rpc_error(json.error);\n                    } else {\n                        if ($.isFunction(settings.processRPCResponse)) {\n                            settings.processRPCResponse.call(self, json.result, self);\n                        } else {\n                            display_object(json.result);\n                        }\n                    }\n                    self.resume();\n                }, ajax_error);\n            };\n            //this is the interpreter function\n            return function(command, terminal) {\n                if (command === '') {\n                    return;\n                }\n                try {\n                    command = get_processed_command(command);\n                } catch(e) {\n                    // exception can be thrown on invalid regex\n                    terminal.error(e.toString());\n                    return;\n                    //throw e; // this will show stack in other try..catch\n                }\n                if (!auth || command.name === 'help') {\n                    // allows to call help without a token\n                    interpreter(command.name, command.args);\n                } else {\n                    var token = terminal.token();\n                    if (token) {\n                        interpreter(command.name, [token].concat(command.args));\n                    } else {\n                        //should never happen\n                        terminal.error('&#91;AUTH&#93; ' +\n                                       strings.noTokenError);\n                    }\n                }\n            };\n        }\n        // ---------------------------------------------------------------------\n        // :: Create interpreter function from Object. If the value is object\n        // :: it will create nested interpreters\n        // ---------------------------------------------------------------------\n        function make_object_interpreter(object, arity, login, fallback) {\n            // function that maps commands to object methods\n            // it keeps terminal context\n            return function(user_command, terminal) {\n                if (user_command === '') {\n                    return;\n                }\n                //command = split_command_line(command);\n                var command;\n                try {\n                    command = get_processed_command(user_command);\n                } catch(e) {\n                    // exception can be thrown on invalid regex\n                    self.error(e.toString());\n                    return;\n                    //throw e; // this will show stack in other try..catch\n                }\n                /*\n                if (login) {\n                    var token = self.token(true);\n                    if (token) {\n                        command.args = [token].concat(command.args);\n                    } else {\n                        terminal.error('&#91;AUTH&#93; ' + strings.noTokenError);\n                        return;\n                    }\n                }*/\n                var val = object[command.name];\n                var type = $.type(val);\n                if (type === 'function') {\n                    if (arity && val.length !== command.args.length) {\n                        self.error(\"&#91;Arity&#93; \" +\n                                   sprintf(strings.wrongArity,\n                                           command.name,\n                                           val.length,\n                                           command.args.length));\n                    } else {\n                        return val.apply(self, command.args);\n                    }\n                } else if (type === 'object' || type === 'string') {\n                    var commands = [];\n                    if (type === 'object') {\n                        commands = Object.keys(val);\n                        val = make_object_interpreter(val,\n                                                      arity,\n                                                      login);\n                    }\n                    terminal.push(val, {\n                        prompt: command.name + '> ',\n                        name: command.name,\n                        completion: type === 'object' ? commands : undefined\n                    });\n                } else {\n                    if ($.isFunction(fallback)) {\n                        fallback(user_command, self);\n                    } else if ($.isFunction(settings.onCommandNotFound)) {\n                        settings.onCommandNotFound(user_command, self);\n                    } else {\n                        terminal.error(sprintf(strings.commandNotFound,\n                                               command.name));\n                    }\n                }\n            };\n        }\n        // ---------------------------------------------------------------------\n        function ajax_error(xhr, status, error) {\n            self.resume(); // onAjaxError can use pause/resume call it first\n            if ($.isFunction(settings.onAjaxError)) {\n                settings.onAjaxError.call(self, xhr, status, error);\n            } else if (status !== 'abort') {\n                self.error('&#91;AJAX&#93; ' + status + ' - ' +\n                           strings.serverResponse + ': \\n' +\n                           $.terminal.escape_brackets(xhr.responseText));\n            }\n        }\n        // ---------------------------------------------------------------------\n        function make_json_rpc_object(url, auth, success) {\n            $.jrpc(url, 'system.describe', [], function(ret) {\n                var commands = [];\n                if (ret.procs) {\n                    var interpreter_object = {};\n                    $.each(ret.procs, function(_, proc) {\n                        interpreter_object[proc.name] = function() {\n                            var append = auth && proc.name != 'help';\n                            var args = Array.prototype.slice.call(arguments);\n                            var args_len = args.length + (append ? 1 : 0);\n                            if (settings.checkArity && proc.params &&\n                                proc.params.length !== args_len) {\n                                self.error(\"&#91;Arity&#93; \" +\n                                           sprintf(strings.wrongArity,\n                                                   proc.name,\n                                                   proc.params.length,\n                                                   args_len));\n                            } else {\n                                self.pause();\n                                if (append) {\n                                    var token = self.token(true);\n                                    if (token) {\n                                        args = [token].concat(args);\n                                    } else {\n                                        self.error('&#91;AUTH&#93; ' +\n                                                   strings.noTokenError);\n                                    }\n                                }\n                                $.jrpc(url, proc.name, args, function(json) {\n                                    if (json.error) {\n                                        display_json_rpc_error(json.error);\n                                    } else {\n                                        display_object(json.result);\n                                    }\n                                    self.resume();\n                                }, ajax_error);\n                            }\n                        };\n                    });\n                    success(interpreter_object);\n                } else {\n                    success(null);\n                }\n            }, function() {\n                success(null);\n            });\n        }\n        // ---------------------------------------------------------------------\n        function make_interpreter(user_intrp, login, finalize) {\n            finalize = finalize || $.noop;\n            var type = $.type(user_intrp);\n            var result = {};\n            var rpc_count = 0; // only one rpc can be use for array\n            var fn_interpreter;\n            if (type === 'array') {\n                var object = {};\n                // recur will be called when previous acync call is finished\n                (function recur(interpreters, success) {\n                    if (interpreters.length) {\n                        var first = interpreters[0];\n                        var rest = interpreters.slice(1);\n                        var type = $.type(first);\n                        if (type === 'string') {\n                            rpc_count++;\n                            self.pause();\n                            if (settings.ignoreSystemDescribe) {\n                                if (rpc_count === 1) {\n                                    fn_interpreter = make_basic_json_rpc(first, login);\n                                } else {\n                                    self.error(strings.oneRPCWithIgnore);\n                                }\n                                recur(rest, success);\n                            } else {\n                                make_json_rpc_object(first, login, function(new_obj) {\n                                    // will ignore rpc in array that don't have\n                                    // system.describe\n                                    if (new_obj) {\n                                        $.extend(object, new_obj);\n                                    }\n                                    self.resume();\n                                    recur(rest, success);\n                                });\n                            }\n                        } else if (type === 'function') {\n                            if (fn_interpreter) {\n                                self.error(strings.oneInterpreterFunction);\n                            } else {\n                                fn_interpreter = first;\n                            }\n                            recur(rest, success);\n                        } else if (type === 'object') {\n                            $.extend(object, first);\n                            recur(rest, success);\n                        }\n                    } else {\n                        success();\n                    }\n                })(user_intrp, function() {\n                    finalize({\n                        interpreter: make_object_interpreter(object,\n                                                             false,\n                                                             login,\n                                                             fn_interpreter),\n                        completion: Object.keys(object)\n                    });\n                });\n            } else if (type === 'string') {\n                if (settings.ignoreSystemDescribe) {\n                    finalize({\n                        interpreter: make_basic_json_rpc(user_intrp, login),\n                        completion: settings.completion\n                    });\n                } else {\n                    self.pause();\n                    make_json_rpc_object(user_intrp, login, function(object) {\n                        if (object) {\n                            result.interpreter = make_object_interpreter(object,\n                                                                         false,\n                                                                         login);\n                            result.completion = Object.keys(object);\n                        } else {\n                            // no procs in system.describe\n                            result.interpreter = make_basic_json_rpc(user_intrp, login);\n                            result.completion = settings.completion;\n                        }\n                        finalize(result);\n                        self.resume();\n                    });\n                }\n            } else if (type === 'object') {\n                finalize({\n                    interpreter: make_object_interpreter(user_intrp,\n                                                         settings.checkArity),\n                    completion: Object.keys(user_intrp)\n                });\n            } else {\n                // allow $('<div/>').terminal();\n                if (type === 'undefined') {\n                    user_intrp = $.noop;\n                } else if (type !== 'function') {\n                    throw type + \" is invalid interpreter value\";\n                }\n                finalize({\n                    interpreter: user_intrp,\n                    completion: settings.completion\n                });\n            }\n        }\n        // ---------------------------------------------------------------------\n        // :: Create JSON-RPC authentication function\n        // ---------------------------------------------------------------------\n        function make_json_rpc_login(url, login) {\n            var method = $.type(login) === 'boolean' ? 'login' : login;\n            return function(user, passwd, callback, term) {\n                self.pause();\n                $.jrpc(url,\n                       method,\n                       [user, passwd],\n                       function(response) {\n                           if (!response.error && response.result) {\n                               callback(response.result);\n                           } else {\n                               // null will trigger message that login fail\n                               callback(null);\n                           }\n                           self.resume();\n                       }, ajax_error);\n            };\n            //default name is login so you can pass true\n        }\n        // ---------------------------------------------------------------------\n        // :: Return exception message as string\n        // ---------------------------------------------------------------------\n        function exception_message(e) {\n            if (typeof e === 'string') {\n                return e;\n            } else if (typeof e.fileName === 'string') {\n                return e.fileName + ': ' + e.message;\n            } else {\n                return e.message;\n            }\n        }\n        // ---------------------------------------------------------------------\n        // :: display Exception on terminal\n        // ---------------------------------------------------------------------\n        function display_exception(e, label) {\n            if ($.isFunction(settings.exceptionHandler)) {\n                settings.exceptionHandler.call(self, e);\n            } else {\n                self.exception(e, label);\n            }\n        }\n        // ---------------------------------------------------------------------\n        function scroll_to_bottom() {\n            var scrollHeight;\n            if (scroll_object.prop) {\n                scrollHeight = scroll_object.prop('scrollHeight');\n            } else {\n                scrollHeight = scroll_object.attr('scrollHeight');\n            }\n            scroll_object.scrollTop(scrollHeight);\n        }\n        // ---------------------------------------------------------------------\n        // :: validating if object is a string or a function, call that function\n        // :: and display the exeption if any\n        // ---------------------------------------------------------------------\n        function validate(label, object) {\n            try {\n                if ($.isFunction(object)) {\n                    object(function() {\n                        // don't care\n                    });\n                } else if (typeof object !== 'string') {\n                    var msg = label + ' must be string or function';\n                    throw msg;\n                }\n            } catch (e) {\n                display_exception(e, label.toUpperCase());\n                return false;\n            }\n            return true;\n        }\n        // ---------------------------------------------------------------------\n        // :: Draw line - can have line breaks and be longer than the width of\n        // :: the terminal, there are 2 options raw and finalize\n        // :: raw - will not encode the string and finalize if a function that\n        // :: will have div container of the line as first argument\n        // :: NOTE: it formats and appends lines to output_buffer. The actual\n        // :: append to terminal output happens in the flush function\n        // ---------------------------------------------------------------------\n        var output_buffer = [];\n        var NEW_LINE = 1;\n        function buffer_line(string, options) {\n            // urls should always have formatting to keep url if split\n            if (settings.convertLinks) {\n                string = string.replace(email_re, '[[!;;]$1]').\n                    replace(url_nf_re, '[[!;;]$1]');\n            }\n            var formatters = $.terminal.defaults.formatters;\n            var i, len;\n            if (!options.raw) {\n                // format using user defined formatters\n                for (i=0; i<formatters.length; ++i) {\n                    try {\n                        if (typeof formatters[i] == 'function') {\n                            var ret = formatters[i](string);\n                            if (typeof ret == 'string') {\n                                string = ret;\n                            }\n                        }\n                    } catch(e) {\n                        //display_exception(e, 'FORMATTING');\n                        alert('formatting error at formatters[' + i + ']\\n' +\n                              (e.stack ? e.stack : e));\n                    }\n                }\n                string = $.terminal.encode(string);\n            }\n            output_buffer.push(NEW_LINE);\n            if (!options.raw && (string.length > num_chars ||\n                                       string.match(/\\n/))) {\n                var words = options.keepWords;\n                var array = $.terminal.split_equal(string, num_chars, words);\n                for (i = 0, len = array.length; i < len; ++i) {\n                    if (array[i] === '' || array[i] === '\\r') {\n                        output_buffer.push('<span></span>');\n                    } else {\n                        if (options.raw) {\n                            output_buffer.push(array[i]);\n                        } else {\n                            output_buffer.push($.terminal.format(array[i], {\n                                linksNoReferrer: settings.linksNoReferrer\n                            }));\n                        }\n                    }\n                }\n            } else {\n                if (!options.raw) {\n                    string = $.terminal.format(string, {\n                        linksNoReferrer: settings.linksNoReferrer\n                    });\n                }\n                output_buffer.push(string);\n            }\n            output_buffer.push(options.finalize);\n        }\n        // ---------------------------------------------------------------------\n        function process_line(line, options) {\n            // prevent exception in display exception\n            try {\n                var line_settings = $.extend({\n                    exec: true,\n                    raw: false,\n                    finalize: $.noop\n                }, options || {});\n                var string = $.type(line) === \"function\" ? line() : line;\n                string = $.type(string) === \"string\" ? string : String(string);\n                if (string !== '') {\n                    if (line_settings.exec) {\n                        string = $.map(string.split(format_exec_re), function(string) {\n                            if (string.match(format_exec_re) &&\n                                !$.terminal.is_formatting(string)) {\n                                // redraw should not execute commands and it have\n                                // and lines variable have all extended commands\n                                string = string.replace(/^\\[\\[|\\]\\]$/g, '');\n                                if (prev_command && prev_command.command == string) {\n                                    self.error(strings.recursiveCall);\n                                } else {\n                                    $.terminal.extended_command(self, string);\n                                }\n                                return '';\n                            } else {\n                                return string;\n                            }\n                        }).join('');\n                        if (string !== '') {\n                            // string can be empty after removing extended commands\n                            buffer_line(string, line_settings);\n                        }\n                    } else {\n                        buffer_line(string, line_settings);\n                    }\n                }\n            } catch (e) {\n                output_buffer = [];\n                // don't display exception if exception throw in terminal\n                alert('[Internal Exception(process_line)]:' +\n                      exception_message(e) + '\\n' + e.stack);\n            }\n        }\n        // ---------------------------------------------------------------------\n        // :: Redraw all lines\n        // ---------------------------------------------------------------------\n        function redraw() {\n            command_line.resize(num_chars);\n            // we don't want reflow while processing lines\n            var detached_output = output.empty().detach();\n            var lines_to_show;\n            if (settings.outputLimit >= 0) {\n                // flush will limit lines but if there is lot of\n                // lines we don't need to show them and then remove\n                // them from terminal\n                var limit = settings.outputLimit === 0 ?\n                    self.rows() :\n                    settings.outputLimit;\n                lines_to_show = lines.slice(lines.length-limit-1);\n            } else {\n                lines_to_show = lines;\n            }\n            try {\n                output_buffer = [];\n                $.each(lines_to_show, function(i, line) {\n                    process_line.apply(null, line); // line is an array\n                });\n                command_line.before(detached_output); // reinsert output\n                self.flush();\n            } catch(e) {\n                alert('Exception in redraw\\n' + e.stack);\n            }\n        }\n        // ---------------------------------------------------------------------\n        // :: Display user greetings or terminal signature\n        // ---------------------------------------------------------------------\n        function show_greetings() {\n            if (settings.greetings === undefined) {\n                self.echo(self.signature);\n            } else if (settings.greetings) {\n                var type = typeof settings.greetings;\n                if (type === 'string') {\n                    self.echo(settings.greetings);\n                } else if (type === 'function') {\n                    settings.greetings.call(self, self.echo);\n                } else {\n                    self.error(strings.wrongGreetings);\n                }\n            }\n        }\n        // ---------------------------------------------------------------------\n        // :: Display prompt and last command\n        // ---------------------------------------------------------------------\n        function echo_command(command) {\n            var prompt = command_line.prompt();\n            var mask = command_line.mask();\n            switch (typeof mask) {\n                case 'string':\n                    command = command.replace(/./g, mask);\n                    break;\n                case 'boolean':\n                    if (mask) {\n                        command = command.replace(/./g, settings.maskChar);\n                    } else {\n                        command = $.terminal.escape_formatting(command);\n                    }\n                    break;\n            }\n            var options = {\n                finalize: function(div) {\n                    div.addClass('command');\n                }\n            };\n            if ($.isFunction(prompt)) {\n                prompt(function(string) {\n                    self.echo(string + command, options);\n                });\n            } else {\n                self.echo(prompt + command, options);\n            }\n        }\n        // ---------------------------------------------------------------------\n        // :: Helper function that restore state. Call import_view or exec\n        // ---------------------------------------------------------------------\n        function restore_state(spec) {\n            // spec [terminal_id, state_index, command]\n            var terminal = terminals.get()[spec[0]];\n            if (!terminal) {\n                throw new Error(strings.invalidTerminalId);\n            }\n            var command_idx = spec[1];\n            if (save_state[command_idx]) { // state exists\n                terminal.import_view(save_state[command_idx]);\n            } else {\n                // restore state\n                change_hash = false;\n                var command = spec[2];\n                if (command) {\n                    terminal.exec(command).then(function() {\n                        change_hash = true;\n                        save_state[command_idx] = terminal.export_view();\n                    });\n                }\n            }\n            /*if (spec[3].length) {\n                restore_state(spec[3]);\n            }*/\n        }\n        // ---------------------------------------------------------------------\n        // :: Helper function\n        // ---------------------------------------------------------------------\n        function maybe_update_hash() {\n            if (change_hash) {\n                fire_hash_change = false;\n                location.hash = $.json_stringify(hash_commands);\n                setTimeout(function() {\n                    fire_hash_change = true;\n                }, 100);\n            }\n        }\n        // ---------------------------------------------------------------------\n        // :: Wrapper over interpreter, it implements exit and catches all\n        // :: exeptions from user code and displays them on the terminal\n        // ---------------------------------------------------------------------\n        var first_command = true;\n        var last_command;\n        var resume_callbacks = [];\n        var resume_event_bound = false;\n        function commands(command, silent, exec) {\n            last_command = command; // for debug\n            // first command store state of the terminal before the command get\n            // executed\n            if (first_command) {\n                first_command = false;\n                // execHash need first empty command too\n                if (settings.historyState || (settings.execHash && exec)) {\n                    if (!save_state.length) {\n                        // first command in first terminal don't have hash\n                        self.save_state();\n                    } else {\n                        self.save_state(null);\n                    }\n                }\n            }\n            function after_exec() {\n                // variables defined later in commands\n                if (!exec) {\n                    change_hash = true;\n                    if (settings.historyState) {\n                        self.save_state(command, false);\n                    }\n                    change_hash = saved_change_hash;\n                }\n                deferred.resolve();\n                if ($.isFunction(settings.onAfterCommand)) {\n                    settings.onAfterCommand(self, command);\n                }\n            }\n            try {\n                // this callback can disable commands\n                if ($.isFunction(settings.onBeforeCommand)) {\n                    if (settings.onBeforeCommand(self, command) === false) {\n                        return;\n                    }\n                }\n                if (!exec) {\n                    prev_command = $.terminal.split_command(command);\n                }\n                if (!ghost()) {\n                    // exec execute this function wihout the help of cmd plugin\n                    // that add command to history on enter\n                    if (exec && $.isFunction(settings.historyFilter) &&\n                        settings.historyFilter(command) ||\n                        command.match(settings.historyFilter)) {\n                        command_line.history().append(command);\n                    }\n                }\n                var interpreter = interpreters.top();\n                if (!silent) {\n                    echo_command(command);\n                }\n                // new promise will be returned to exec that will resolve his\n                // returned promise\n                var deferred = new $.Deferred();\n                // we need to save sate before commands is deleyd because\n                // execute_extended_command disable it and it can be executed\n                // after delay\n                var saved_change_hash = change_hash;\n                if (command.match(/^\\s*login\\s*$/) && self.token(true)) {\n                    if (self.level() > 1) {\n                        self.logout(true);\n                    } else {\n                        self.logout();\n                    }\n                    after_exec();\n                } else if (settings.exit && command.match(/^\\s*exit\\s*$/) &&\n                           !in_login) {\n                    var level = self.level();\n                    if (level == 1 && self.get_token() || level > 1) {\n                        if (self.get_token(true)) {\n                            self.set_token(undefined, true);\n                        }\n                        self.pop();\n                    }\n                    after_exec();\n                } else if (settings.clear && command.match(/^\\s*clear\\s*$/) &&\n                           !in_login) {\n                    self.clear();\n                    after_exec();\n                } else {\n                    var position = lines.length-1;\n                    // Call user interpreter function\n                    var result = interpreter.interpreter.call(self, command, self);\n                    if (result !== undefined) {\n                        // auto pause/resume when user return promises\n                        self.pause();\n                        return $.when(result).then(function(result) {\n                            // don't echo result if user echo something\n                            if (result && position === lines.length-1) {\n                                display_object(result);\n                            }\n                            after_exec();\n                            self.resume();\n                        });\n                    } else if (paused) {\n                        var old_command = command;\n                        resume_callbacks.push(function() {\n                            // exec with resume/pause in user code\n                            after_exec();\n                        });\n                    } else {\n                        after_exec();\n                    }\n                }\n                return deferred.promise();\n            } catch (e) {\n                display_exception(e, 'USER');\n                self.resume();\n                throw e;\n            }\n        }\n        // ---------------------------------------------------------------------\n        // :: The logout function removes Storage, disables history and runs\n        // :: the login function. This function is called only when options.login\n        // :: function is defined. The check for this is in the self.pop method\n        // ---------------------------------------------------------------------\n        function global_logout() {\n            if ($.isFunction(settings.onBeforeLogout)) {\n                try {\n                    if (settings.onBeforeLogout(self) === false) {\n                        return;\n                    }\n                } catch (e) {\n                    display_exception(e, 'onBeforeLogout');\n                    throw e;\n                }\n            }\n            clear_loging_storage();\n            if ($.isFunction(settings.onAfterLogout)) {\n                try {\n                    settings.onAfterLogout(self);\n                } catch (e) {\n                    display_exception(e, 'onAfterlogout');\n                    throw e;\n                }\n            }\n            self.login(settings.login, true, initialize);\n        }\n        // ---------------------------------------------------------------------\n        function clear_loging_storage() {\n            var name = self.prefix_name(true) + '_';\n            $.Storage.remove(name + 'token');\n            $.Storage.remove(name + 'login');\n        }\n        // ---------------------------------------------------------------------\n        // :: Save the interpreter name for use with purge\n        // ---------------------------------------------------------------------\n        function maybe_append_name(interpreter_name) {\n            var storage_key = self.prefix_name() + '_interpreters';\n            var names = $.Storage.get(storage_key);\n            if (names) {\n                names = $.parseJSON(names);\n            } else {\n                names = [];\n            }\n            if ($.inArray(interpreter_name, names) == -1) {\n                names.push(interpreter_name);\n                $.Storage.set(storage_key, $.json_stringify(names));\n            }\n        }\n        // ---------------------------------------------------------------------\n        // :: Function enables history, sets prompt, runs interpreter function\n        // ---------------------------------------------------------------------\n        function prepare_top_interpreter(silent) {\n            var interpreter = interpreters.top();\n            var name = self.prefix_name(true);\n            if (!ghost()) {\n                maybe_append_name(name);\n            }\n            command_line.name(name);\n            if ($.isFunction(interpreter.prompt)) {\n                command_line.prompt(function(command) {\n                    interpreter.prompt(command, self);\n                });\n            } else {\n                command_line.prompt(interpreter.prompt);\n            }\n            command_line.set('');\n            if (!silent && $.isFunction(interpreter.onStart)) {\n                interpreter.onStart(self);\n            }\n        }\n        // ---------------------------------------------------------------------\n        var local_first_instance;\n        function initialize() {\n            prepare_top_interpreter();\n            show_greetings();\n            // was_paused flag is workaround for case when user call exec before\n            // login and pause in onInit, 3rd exec will have proper timing (will\n            // execute after onInit resume)\n            var was_paused = false;\n            if ($.isFunction(settings.onInit)) {\n                onPause = function() { // local in terminal\n                    was_paused = true;\n                };\n                try {\n                    settings.onInit(self);\n                } catch (e) {\n                    display_exception(e, 'OnInit');\n                    // throw e; // it will be catched by terminal\n                } finally {\n                    onPause = $.noop;\n                    if (!was_paused) {\n                        // resume login if user didn't call pause in onInit\n                        // if user pause in onInit wait with exec until it\n                        // resume\n                        self.resume();\n                    }\n                }\n            }\n            function hashchange() {\n                if (fire_hash_change && settings.execHash) {\n                    try {\n                        if (location.hash) {\n                            var hash = location.hash.replace(/^#/, '');\n                            hash_commands = $.parseJSON(decodeURIComponent(hash));\n                        } else {\n                            hash_commands = [];\n                        }\n                        if (hash_commands.length) {\n                            restore_state(hash_commands[hash_commands.length-1]);\n                        } else if (save_state[0]) {\n                            self.import_view(save_state[0]);\n                        }\n                    } catch(e) {\n                        display_exception(e, 'TERMINAL');\n                    }\n                }\n            }\n            if (first_instance) {\n                first_instance = false;\n                if ($.fn.hashchange) {\n                    $(window).hashchange(hashchange);\n                } else {\n                    $(window).bind('hashchange', hashchange);\n                }\n            }\n        }\n        // ---------------------------------------------------------------------\n        // :: function complete the command\n        // ---------------------------------------------------------------------\n        function complete_helper(command, string, commands) {\n            if (settings.clear && $.inArray('clear', commands) == -1) {\n                commands.push('clear');\n            }\n            if (settings.exit && $.inArray('exit', commands) == -1) {\n                commands.push('exit');\n            }\n            var test = command_line.get().substring(0, command_line.position());\n            if (test !== command) {\n                // command line changed between TABS - ignore\n                return;\n            }\n            var regex = new RegExp('^' + $.terminal.escape_regex(string));\n            var matched = [];\n            for (var i=commands.length; i--;) {\n                if (regex.test(commands[i])) {\n                    matched.push(commands[i]);\n                }\n            }\n            if (matched.length === 1) {\n                self.insert(matched[0].replace(regex, ''));\n            } else if (matched.length > 1) {\n                if (tab_count >= 2) {\n                    echo_command(command);\n                    var text = matched.reverse().join('\\t');\n                    self.echo($.terminal.escape_brackets(text), {keepWords: true});\n                    tab_count = 0;\n                } else {\n                    var found = false;\n                    var found_index;\n                    var j;\n                    loop:\n                    for (j=string.length; j<matched[0].length; ++j) {\n                        for (i=1; i<matched.length; ++i) {\n                            if (matched[0].charAt(j) !== matched[i].charAt(j)) {\n                                break loop;\n                            }\n                        }\n                        found = true;\n                    }\n                    if (found) {\n                        self.insert(matched[0].slice(0, j).replace(regex, ''));\n                    }\n                }\n            }\n        }\n        // ---------------------------------------------------------------------\n        // :: If Ghost don't store anything in localstorage\n        // ---------------------------------------------------------------------\n        function ghost() {\n            return in_login || command_line.mask() !== false;\n        }\n        // ---------------------------------------------------------------------\n        // :: Keydown event handler\n        // ---------------------------------------------------------------------\n        function key_down(e) {\n            // Prevent to be executed by cmd: CTRL+D, TAB, CTRL+TAB (if more\n            // then one terminal)\n            var result, i, top = interpreters.top();\n            if (!self.paused() && self.enabled()) {\n                if ($.isFunction(top.keydown)) {\n                    result = top.keydown(e, self);\n                    if (result !== undefined) {\n                        return result;\n                    }\n                } else if ($.isFunction(settings.keydown)) {\n                    result = settings.keydown(e, self);\n                    if (result !== undefined) {\n                        return result;\n                    }\n                }\n                var completion;\n                if ((settings.completion &&\n                     $.type(settings.completion) != 'boolean') &&\n                    top.completion === undefined) {\n                    completion = settings.completion;\n                } else {\n                    completion = top.completion;\n                }\n                // after text pasted into textarea in cmd plugin\n                self.oneTime(10, function() {\n                    on_scrollbar_show_resize();\n                });\n                if (e.which !== 9) { // not a TAB\n                    tab_count = 0;\n                }\n                if (e.which === 68 && e.ctrlKey) { // CTRL+D\n                    if (!in_login) {\n                        if (command_line.get() === '') {\n                            if (interpreters.size() > 1 ||\n                                settings.login !== undefined) {\n                                self.pop('');\n                            } else {\n                                self.resume();\n                                self.echo('');\n                            }\n                        } else {\n                            self.set_command('');\n                        }\n                    }\n                    return false;\n                } else if (e.which === 76 && e.ctrlKey) { // CTRL+L\n                    self.clear();\n                } else if (completion && e.which === 9) { // TAB\n                    // TODO: move this to cmd plugin\n                    //       add completion = array | function\n                    //       !!! Problem complete more then one key need terminal\n                    ++tab_count;\n                    // cursor can be in the middle of the command\n                    // so we need to get the text before the cursor\n                    var pos = command_line.position();\n                    var command = command_line.get().substring(0, pos);\n                    var strings = command.split(' ');\n                    var string; // string before cursor that will be completed\n                    if (strings.length == 1) {\n                        string = strings[0];\n                    } else {\n                        string = strings[strings.length-1];\n                        for (i=strings.length-1; i>0; i--) {\n                            // treat escape space as part of the string\n                            if (strings[i-1][strings[i-1].length-1] == '\\\\') {\n                                string = strings[i-1] + ' ' + string;\n                            } else {\n                                break;\n                            }\n                        }\n                    }\n                    switch ($.type(completion)) {\n                        case 'function':\n                            completion(self, string, function(commands) {\n                                complete_helper(command, string, commands);\n                            });\n                            break;\n                        case 'array':\n                            complete_helper(command, string, completion);\n                            break;\n                        default:\n                            // terminal will not catch this because it's an event\n                            throw new Error(strings.invalidCompletion);\n                    }\n                    return false;\n                } else if (e.which === 86 && e.ctrlKey) { // CTRL+V\n                    self.oneTime(1, function() {\n                        scroll_to_bottom();\n                    });\n                    return;\n                } else if (e.which === 9 && e.ctrlKey) { // CTRL+TAB\n                    if (terminals.length() > 1) {\n                        self.focus(false);\n                        return false;\n                    }\n                } else if (e.which === 34) { // PAGE DOWN\n                    self.scroll(self.height());\n                } else if (e.which === 33) { // PAGE UP\n                    self.scroll(-self.height());\n                } else {\n                    self.attr({scrollTop: self.attr('scrollHeight')});\n                }\n            } else if (e.which === 68 && e.ctrlKey) { // CTRL+D (if paused)\n                if (requests.length) {\n                    for (i=requests.length; i--;) {\n                        var r = requests[i];\n                        if (4 !== r.readyState) {\n                            try {\n                                r.abort();\n                            } catch (error) {\n                                self.error(strings.ajaxAbortError);\n                            }\n                        }\n                    }\n                    requests = [];\n                    // only resume if there are ajax calls\n                    self.resume();\n                }\n                return false;\n            }\n        }\n        // ---------------------------------------------------------------------\n        var self = this;\n        if (this.length > 1) {\n            return this.each(function() {\n                $.fn.terminal.call($(this),\n                                   init_interpreter,\n                                   $.extend({name: self.selector}, options));\n            });\n        }\n        // terminal already exists\n        if (self.data('terminal')) {\n            return self.data('terminal');\n        }\n        if (self.length === 0) {\n            throw sprintf($.terminal.defaults.strings.invalidSelector, self.selector);\n        }\n        //var names = []; // stack if interpeter names\n        var scroll_object;\n        var prev_command; // used for name on the terminal if not defined\n        var loged_in = false;\n        var tab_count = 0; // for tab completion\n        // array of line objects:\n        // - function (called whenever necessary, result is printed)\n        // - array (expected form: [line, settings])\n        // - anything else (cast to string when painted)\n        var lines = [];\n        var output; // .terminal-output jquery object\n        var terminal_id = terminals.length();\n        var num_chars; // numer of chars in line\n        var num_rows; // number of lines that fit without scrollbar\n        var command_list = []; // for tab completion\n        var url;\n        var logins = new Stack(); // stack of logins\n        var in_login = false;//some Methods should not be called when login\n        // TODO: Try to use mutex like counter for pause/resume\n        var onPause = $.noop;//used to indicate that user call pause onInit\n        var old_width, old_height;\n        var delayed_commands = []; // used when exec commands while paused\n        var settings = $.extend({},\n                                $.terminal.defaults,\n                                {name: self.selector},\n                                options || {});\n        var strings = $.terminal.defaults.strings;\n        var enabled = settings.enabled, frozen;\n        var paused = false;\n        // -----------------------------------------------------------------\n        // TERMINAL METHODS\n        // -----------------------------------------------------------------\n        $.extend(self, $.omap({\n            id: function() {\n                return terminal_id;\n            },\n            // -------------------------------------------------------------\n            // :: Clear the output\n            // -------------------------------------------------------------\n            clear: function() {\n                output.html('');\n                lines = [];\n                try {\n                    settings.onClear(self);\n                } catch (e) {\n                    display_exception(e, 'onClear');\n                    throw e;\n                }\n                self.attr({ scrollTop: 0});\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Return an object that can be used with import_view to\n            // :: restore the state\n            // -------------------------------------------------------------\n            export_view: function() {\n                return $.extend({}, {\n                    focus: enabled,\n                    mask: command_line.mask(),\n                    prompt: self.get_prompt(),\n                    command: self.get_command(),\n                    position: command_line.position(),\n                    lines: clone(lines),\n                    interpreters: interpreters.clone()\n                }, $.isFunction(settings.onExport) ? settings.onExport() : {});\n            },\n            // -------------------------------------------------------------\n            // :: Restore the state of the previous exported view\n            // -------------------------------------------------------------\n            import_view: function(view) {\n                if (in_login) {\n                    throw new Error(sprintf(strings.notWhileLogin, 'import_view'));\n                }\n                if ($.isFunction(settings.onImport)) {\n                    settings.onImport(view);\n                }\n                self.set_prompt(view.prompt);\n                self.set_command(view.command);\n                command_line.position(view.position);\n                command_line.mask(view.mask);\n                if (view.focus) {\n                    self.focus();\n                }\n                lines = clone(view.lines);\n                interpreters = view.interpreters;\n                redraw();\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Store current terminal state\n            // -------------------------------------------------------------\n            save_state: function(command, ignore_hash, index) {\n                //save_state.push({view:self.export_view(), join:[]});\n                if (typeof index != 'undefined') {\n                    save_state[index] = self.export_view();\n                } else {\n                    save_state.push(self.export_view());\n                }\n                if (!$.isArray(hash_commands)) {\n                    hash_commands = [];\n                }\n                if (command !== undefined && !ignore_hash) {\n                    var state = [\n                        terminal_id,\n                        save_state.length-1,\n                        command\n                    ];\n                    hash_commands.push(state);\n                    maybe_update_hash();\n                }\n            },\n            // -------------------------------------------------------------\n            // :: Execute a command, it will handle commands that do AJAX\n            // :: calls and have delays, if the second argument is set to\n            // :: true it will not echo executed command\n            // -------------------------------------------------------------\n            exec: function(command, silent, deferred) {\n                if ($.isArray(command)) {\n                    return $.when.apply($, $.map(command, function(command) {\n                        return self.exec(command, silent);\n                    }));\n                }\n                // both commands executed here (resume will call Term::exec)\n                var d = deferred || new $.Deferred();\n                if (paused) {\n                    // delay command multiple time\n                    delayed_commands.push([command, silent, d]);\n                } else {\n                    // commands may return promise from user code\n                    // it will resolve exec promise when user promise\n                    // is resolved\n                    commands(command, silent, true).then(function() {\n                        d.resolve(self);\n                    });\n                }\n                return d.promise();\n            },\n            // -------------------------------------------------------------\n            // :: bypass login function that wait untill you type user/pass\n            // :: it hide implementation detail\n            // -------------------------------------------------------------\n            autologin: function(user, token, silent) {\n                self.trigger('terminal.autologin', [user, token, silent]);\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Function changes the prompt of the command line to login\n            // :: with a password and calls the user login function with\n            // :: the callback that expects a token. The login is successful\n            // :: if the user calls it with value that is truthy\n            // -------------------------------------------------------------\n            login: function(auth, infinite, success, error) {\n                logins.push([].slice.call(arguments));\n                if (in_login) {\n                    throw new Error(sprintf(strings.notWhileLogin, 'login'));\n                }\n                if (!$.isFunction(auth)) {\n                    throw new Error(strings.loginIsNotAFunction);\n                }\n                if (self.token(true) && self.login_name(true)) {\n                    if ($.isFunction(success)) {\n                        success();\n                    }\n                    return self;\n                }\n                var user = null;\n                // don't store login data in history\n                if (settings.history) {\n                    command_line.history().disable();\n                }\n                // so we know how many times call pop\n                var level = self.level();\n                in_login = true;\n                function login_callback(user, token, silent, event) {\n                    if (token) {\n                        while (self.level() > level) {\n                            self.pop();\n                        }\n                        if (settings.history) {\n                            command_line.history().enable();\n                        }\n                        var name = self.prefix_name(true) + '_';\n                        $.Storage.set(name + 'token', token);\n                        $.Storage.set(name + 'login', user);\n                        in_login = false;\n                        if ($.isFunction(success)) {\n                            // will be used internaly since users know\n                            // when login success (they decide when\n                            // it happen by calling the callback -\n                            // this funtion)\n                            success();\n                        }\n                    } else {\n                        if (infinite) {\n                            if (!silent) {\n                                self.error(strings.wrongPasswordTryAgain);\n                            }\n                            self.pop().set_mask(false);\n                        } else {\n                            in_login = false;\n                            if (!silent) {\n                                self.error(strings.wrongPassword);\n                            }\n                            self.pop().pop();\n                        }\n                        // used only to call pop in push\n                        if ($.isFunction(error)) {\n                            error();\n                        }\n                    }\n                    self.off('terminal.autologin');\n                }\n                self.on('terminal.autologin', function(event, user, token, silent) {\n                    login_callback(user, token, silent);\n                });\n                self.push(function(user) {\n                    self.set_mask(settings.maskChar).push(function(pass) {\n                        try {\n                            auth.call(self, user, pass, function(token, silent) {\n                                login_callback(user, token, silent);\n                            });\n                        } catch(e) {\n                            display_exception(e, 'AUTH');\n                        }\n                    }, {\n                        prompt: strings.password + ': ',\n                        name: 'password'\n                    });\n                }, {\n                    prompt: strings.login + ': ',\n                    name: 'login'\n                });\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: User defined settings and defaults as well\n            // -------------------------------------------------------------\n            settings: function() {\n                return settings;\n            },\n            // -------------------------------------------------------------\n            // :: Return commands function from top interpreter\n            // -------------------------------------------------------------\n            commands: function() {\n                return interpreters.top().interpreter;\n            },\n            // -------------------------------------------------------------\n            // :: Low Level method that overwrites interpreter\n            // -------------------------------------------------------------\n            setInterpreter: function() {\n                if (window.console && console.warn) {\n                    console.warn('This function is deprecated, use set_inte'+\n                                 'rpreter insead!');\n                }\n                self.set_interpreter.apply(self, arguments);\n            },\n            // -------------------------------------------------------------\n            set_interpreter: function(user_intrp, login) {\n                function overwrite_interpreter() {\n                    self.pause();\n                    make_interpreter(user_intrp, !!login, function(result) {\n                        self.resume();\n                        var top = interpreters.top();\n                        $.extend(top, result);\n                        prepare_top_interpreter(true);\n                    });\n                }\n                if ($.type(user_intrp) == 'string' && login) {\n                    self.login(make_json_rpc_login(user_intrp, login),\n                               true,\n                               overwrite_interpreter);\n                } else {\n                    overwrite_interpreter();\n                }\n            },\n            // -------------------------------------------------------------\n            // :: Show user greetings or terminal signature\n            // -------------------------------------------------------------\n            greetings: function() {\n                show_greetings();\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Return true if terminal is paused false otherwise\n            // -------------------------------------------------------------\n            paused: function() {\n                return paused;\n            },\n            // -------------------------------------------------------------\n            // :: Pause the terminal, it should be used for ajax calls\n            // -------------------------------------------------------------\n            pause: function() {\n                onPause();\n                if (!paused && command_line) {\n                    paused = true;\n                    command_line.disable().hidden();\n                    if ($.isFunction(settings.onPause)) {\n                        settings.onPause();\n                    }\n                }\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Resume the previously paused terminal\n            // -------------------------------------------------------------\n            resume: function() {\n                if (paused && command_line) {\n                    paused = false;\n                    command_line.enable().visible();\n                    var original = delayed_commands;\n                    delayed_commands = [];\n                    (function recur() {\n                        if (original.length) {\n                            self.exec.apply(self, original.shift()).then(recur);\n                        } else {\n                            self.trigger('resume');\n                            var fn = resume_callbacks.shift();\n                            if (fn) {\n                                fn();\n                            }\n                            scroll_to_bottom();\n                            if ($.isFunction(settings.onResume)) {\n                                settings.onResume();\n                            }\n                        }\n                    })();\n                }\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Return the number of characters that fit into the width of\n            // :: the terminal\n            // -------------------------------------------------------------\n            cols: function() {\n                return settings.numChars?settings.numChars:get_num_chars(self);\n            },\n            // -------------------------------------------------------------\n            // :: Return the number of lines that fit into the height of the\n            // :: terminal\n            // -------------------------------------------------------------\n            rows: function() {\n                return settings.numRows?settings.numRows:get_num_rows(self);\n            },\n            // -------------------------------------------------------------\n            // :: Return the History object\n            // -------------------------------------------------------------\n            history: function() {\n                return command_line.history();\n            },\n            // -------------------------------------------------------------\n            // :: toggle recording of history state\n            // -------------------------------------------------------------\n            history_state: function(toggle) {\n                if (toggle) {\n                    // if set to true and if set from user command we need\n                    // not to include the command\n                    self.oneTime(1, function() {\n                        settings.historyState = true;\n                        if (!save_state.length) {\n                            self.save_state();\n                        } else if (terminals.length() > 1) {\n                            self.save_state(null);\n                        }\n                    });\n                } else {\n                    settings.historyState = false;\n                }\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Switch to the next terminal\n            // -------------------------------------------------------------\n            next: function() {\n                if (terminals.length() === 1) {\n                    return self;\n                } else {\n                    var offsetTop = self.offset().top;\n                    var height = self.height();\n                    var scrollTop = self.scrollTop();\n                    if (!is_scrolled_into_view(self)) {\n                        self.enable();\n                        $('html,body').animate({\n                            scrollTop: offsetTop-50\n                        }, 500);\n                        return self;\n                    } else {\n                        terminals.front().disable();\n                        var next = terminals.rotate().enable();\n                        // 100 provides buffer in viewport\n                        var x = next.offset().top - 50;\n                        $('html,body').animate({scrollTop: x}, 500);\n                        try {\n                            settings.onTerminalChange(next);\n                        } catch (e) {\n                            display_exception(e, 'onTerminalChange');\n                            throw e;\n                        }\n                        return next;\n                    }\n                }\n            },\n            // -------------------------------------------------------------\n            // :: Make the terminal in focus or blur depending on the first\n            // :: argument. If there is more then one terminal it will\n            // :: switch to next one, if the second argument is set to true\n            // ::  the events will be not fired. Used on init\n            // -------------------------------------------------------------\n            focus: function(toggle, silent) {\n                if (terminals.length() === 1) {\n                    if (toggle === false) {\n                        try {\n                            if (!silent && settings.onBlur(self) !== false ||\n                                silent) {\n                                self.disable();\n                            }\n                        } catch (e) {\n                            display_exception(e, 'onBlur');\n                            throw e;\n                        }\n                    } else {\n                        try {\n                            if (!silent && settings.onFocus(self) !== false ||\n                                silent) {\n                                self.enable();\n                            }\n                        } catch (e) {\n                            display_exception(e, 'onFocus');\n                            throw e;\n                        }\n                    }\n                } else {\n                    if (toggle === false) {\n                        self.next();\n                    } else {\n                        var front = terminals.front();\n                        if (front != self) {\n                            front.disable();\n                            if (!silent) {\n                                try {\n                                    settings.onTerminalChange(self);\n                                } catch (e) {\n                                    display_exception(e, 'onTerminalChange');\n                                    throw e;\n                                }\n                            }\n                        }\n                        terminals.set(self);\n                        self.enable();\n                    }\n                }\n                // why this delay - it can't be use for mobile\n                /*\n                self.oneTime(1, function() {\n                });\n                */\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Disable/Enable terminal that can be enabled by click\n            // -------------------------------------------------------------\n            freeze: function(freeze) {\n                if (freeze) {\n                    self.disable();\n                    frozen = true;\n                } else {\n                    frozen = false;\n                    self.enable();\n                }\n            },\n            // -------------------------------------------------------------\n            // :: check if terminal is frozen\n            // -------------------------------------------------------------\n            frozen: function() {\n                return frozen;\n            },\n            // -------------------------------------------------------------\n            // :: Enable the terminal\n            // -------------------------------------------------------------\n            enable: function() {\n                if (!enabled && !frozen) {\n                    if (num_chars === undefined) {\n                        //enabling first time\n                        self.resize();\n                    }\n                    if (command_line) {\n                        command_line.enable();\n                        enabled = true;\n                    }\n                }\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Disable the terminal\n            // -------------------------------------------------------------\n            disable: function() {\n                if (enabled && command_line && !frozen) {\n                    enabled = false;\n                    command_line.disable();\n                }\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: return true if the terminal is enabled\n            // -------------------------------------------------------------\n            enabled: function() {\n                return enabled;\n            },\n            // -------------------------------------------------------------\n            // :: Return the terminal signature depending on the size of the terminal\n            // -------------------------------------------------------------\n            signature: function() {\n                var cols = self.cols();\n                var i = cols < 15 ? null : cols < 35 ? 0 : cols < 55 ? 1 : cols < 64 ? 2 : cols < 75 ? 3 : 4;\n                if (i !== null) {\n                    return signatures[i].join('\\n') + '\\n';\n                } else {\n                    return '';\n                }\n            },\n            // -------------------------------------------------------------\n            // :: Return the version number\n            // -------------------------------------------------------------\n            version: function() {\n                return $.terminal.version;\n            },\n            // -------------------------------------------------------------\n            // :: Return actual command line object (jquery object with cmd\n            // :: methods)\n            // -------------------------------------------------------------\n            cmd: function() {\n                return command_line;\n            },\n            // -------------------------------------------------------------\n            // :: Return the current command entered by terminal\n            // -------------------------------------------------------------\n            get_command: function() {\n                return command_line.get();\n            },\n            // -------------------------------------------------------------\n            // :: Change the command line to the new one\n            // -------------------------------------------------------------\n            set_command: function(command) {\n                command_line.set(command);\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Insert text into the command line after the cursor\n            // -------------------------------------------------------------\n            insert: function(string) {\n                if (typeof string === 'string') {\n                    command_line.insert(string);\n                    return self;\n                } else {\n                    throw \"insert function argument is not a string\";\n                }\n            },\n            // -------------------------------------------------------------\n            // :: Set the prompt of the command line\n            // -------------------------------------------------------------\n            set_prompt: function(prompt) {\n                if (validate('prompt', prompt)) {\n                    if ($.isFunction(prompt)) {\n                        command_line.prompt(function(callback) {\n                            prompt(callback, self);\n                        });\n                    } else {\n                        command_line.prompt(prompt);\n                    }\n                    interpreters.top().prompt = prompt;\n                }\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Return the prompt used by the terminal\n            // -------------------------------------------------------------\n            get_prompt: function() {\n                return interpreters.top().prompt;\n                // command_line.prompt(); - can be a wrapper\n                //return command_line.prompt();\n            },\n            // -------------------------------------------------------------\n            // :: Enable or Disable mask depedning on the passed argument\n            // :: the mask can also be character (in fact it will work with\n            // :: strings longer then one)\n            // -------------------------------------------------------------\n            set_mask: function(mask) {\n                command_line.mask(mask === true ? settings.maskChar : mask);\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Return the ouput of the terminal as text\n            // -------------------------------------------------------------\n            get_output: function(raw) {\n                if (raw) {\n                    return lines;\n                } else {\n                    return $.map(lines, function(item) {\n                        return $.isFunction(item[0]) ? item[0]() : item[0];\n                    }).join('\\n');\n                }\n            },\n            // -------------------------------------------------------------\n            // :: Recalculate and redraw everything\n            // -------------------------------------------------------------\n            resize: function(width, height) {\n                if (!self.is(':visible')) {\n                    // delay resize if terminal not visible\n                    self.stopTime('resize');\n                    self.oneTime(500, 'resize', function() {\n                        self.resize(width, height);\n                    });\n                } else {\n                    if (width && height) {\n                        self.width(width);\n                        self.height(height);\n                    }\n                    width = self.width();\n                    height = self.height();\n                    var new_num_chars = self.cols();\n                    var new_num_rows = self.rows();\n                    // only if number of chars changed\n                    if (new_num_chars !== num_chars ||\n                        new_num_rows !== num_rows) {\n                        num_chars = new_num_chars;\n                        num_rows = new_num_rows;\n                        redraw();\n                        var top = interpreters.top();\n                        if ($.isFunction(top.resize)) {\n                            top.resize(self);\n                        } else if ($.isFunction(settings.onResize)) {\n                            settings.onResize(self);\n                        }\n                        old_height = height;\n                        old_width = width;\n                        scroll_to_bottom();\n                    }\n                }\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Flush the output to the terminal\n            // -------------------------------------------------------------\n            flush: function() {\n                try {\n                    var wrapper;\n                    // print all lines\n                    $.each(output_buffer, function(i, line) {\n                        if (line === NEW_LINE) {\n                            wrapper = $('<div></div>');\n                        } else if ($.isFunction(line)) {\n                            // this is finalize function from echo\n                            wrapper.appendTo(output);\n                            try {\n                                line(wrapper);\n                                /* this don't work with resize\n                                   line(wrapper, function(user_finalize) {\n                                   // TODO:\n                                   //user_finalize need to be save in line object\n                                   user_finalize(wrapper);\n                                   });*/\n                            } catch (e) {\n                                display_exception(e, 'USER:echo(finalize)');\n                            }\n                        } else {\n                            $('<div/>').html(line).\n                                appendTo(wrapper).width('100%');\n                        }\n                    });\n                    if (settings.outputLimit >= 0) {\n                        var limit = settings.outputLimit === 0 ?\n                            self.rows() :\n                            settings.outputLimit;\n                        var $lines = output.find('div div');\n                        if ($lines.length > limit) {\n                            var max = lines.length-limit+1;\n                            var for_remove = $lines.slice(0, max);\n                            // you can't get parent if you remove the\n                            // element so we first get the parent\n                            var parents = for_remove.parent();\n                            for_remove.remove();\n                            parents.each(function() {\n                                var self = $(this);\n                                if (self.is(':empty')) {\n                                    // there can be divs inside parent that\n                                    // was not removed\n                                    self.remove();\n                                }\n                            });\n                        }\n                    }\n                    scroll_to_bottom();\n                    output_buffer = [];\n                } catch (e) {\n                    alert('[Flush] ' + exception_message(e) + '\\n' +\n                          e.stack);\n                }\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Update the output line - line number can be negative\n            // -------------------------------------------------------------\n            update: function(line, string) {\n                if (line < 0) {\n                    line = lines.length + line; // yes +\n                }\n                if (!lines[line]) {\n                    self.error('Invalid line number ' + line);\n                } else {\n                    lines[line][0] = string;\n                    // it would be hard to figure out which div need to be\n                    // updated so we update everything\n                    redraw();\n                }\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Print data to the terminal output. It can have two options\n            // :: a function that is called with the container div that\n            // :: holds the output (as a jquery object) every time the\n            // :: output is printed (including resize and scrolling)\n            // :: If the line is a function it will be called for every\n            // :: redraw.\n            // :: it use $.when so you can echo a promise\n            // -------------------------------------------------------------\n            echo: function(string, options) {\n                string = string || '';\n                $.when(string).then(function(string) {\n                    try {\n                        output_buffer = [];\n                        var locals = $.extend({\n                            flush: true,\n                            raw: settings.raw,\n                            finalize: $.noop,\n                            keepWords: false\n                        }, options || {});\n                        process_line(string, locals);\n                        // extended commands should be processed only once\n                        // in echo and not on redraw\n                        lines.push([string, $.extend(locals, {\n                            exec: false\n                        })]);\n                        if (locals.flush) {\n                            self.flush();\n                        }\n                        num_rows = get_num_rows(self);\n                        on_scrollbar_show_resize();\n                    } catch (e) {\n                        // if echo throw exception we can't use error to\n                        // display that exception\n                        alert('[Terminal.echo] ' + exception_message(e) +\n                              '\\n' + e.stack);\n                    }\n                });\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: echo red text\n            // -------------------------------------------------------------\n            error: function(message, finalize) {\n                //quick hack to fix trailing backslash\n                var str = $.terminal.escape_brackets(message).\n                    replace(/\\\\$/, '&#92;').\n                    replace(url_re, ']$1[[;;;error]');\n                return self.echo('[[;;;error]' + str + ']', finalize);\n            },\n            // -------------------------------------------------------------\n            // :: Display Exception on terminal\n            // -------------------------------------------------------------\n            exception: function(e, label) {\n                var message = exception_message(e);\n                if (label) {\n                    message = '&#91;' + label + '&#93;: ' + message;\n                }\n                if (message) {\n                    self.error(message, {\n                        finalize: function(div) {\n                            div.addClass('exception message');\n                        }\n                    });\n                }\n                if (typeof e.fileName === 'string') {\n                    //display filename and line which throw exeption\n                    self.pause();\n                    $.get(e.fileName, function(file) {\n                        self.resume();\n                        var num = e.lineNumber - 1;\n                        var line = file.split('\\n')[num];\n                        if (line) {\n                            self.error('[' + e.lineNumber + ']: ' + line);\n                        }\n                    });\n                }\n                if (e.stack) {\n                    self.echo(e.stack.split(/\\n/g).map(function(trace) {\n                        return '[[;;;error]' + trace.replace(url_re, function(url) {\n                            return ']' + url + '[[;;;error]';\n                        }) + ']';\n                    }).join('\\n'), {\n                        finalize: function(div) {\n                            div.addClass('exception stack-trace');\n                        }\n                    });\n                }\n            },\n            // -------------------------------------------------------------\n            // :: Scroll Div that holds the terminal\n            // -------------------------------------------------------------\n            scroll: function(amount) {\n                var pos;\n                amount = Math.round(amount);\n                if (scroll_object.prop) { // work with jQuery > 1.6\n                    if (amount > scroll_object.prop('scrollTop') && amount > 0) {\n                        scroll_object.prop('scrollTop', 0);\n                    }\n                    pos = scroll_object.prop('scrollTop');\n                    scroll_object.scrollTop(pos + amount);\n                } else {\n                    if (amount > scroll_object.attr('scrollTop') && amount > 0) {\n                        scroll_object.attr('scrollTop', 0);\n                    }\n                    pos = scroll_object.attr('scrollTop');\n                    scroll_object.scrollTop(pos + amount);\n                }\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Exit all interpreters and logout. The function will throw\n            // :: exception if there is no login provided\n            // -------------------------------------------------------------\n            logout: function(local) {\n                if (in_login) {\n                    throw new Error(sprintf(strings.notWhileLogin, 'import_view'));\n                }\n                if (local) {\n                    var login = logins.pop();\n                    self.set_token(undefined, true);\n                    self.login.apply(self, login);\n                } else {\n                    while (interpreters.size() > 0) {\n                        // pop will call global_logout that will call login\n                        // and size will be > 0; this is workaround the problem\n                        if (self.pop()) {\n                            break;\n                        }\n                    }\n                }\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Function returns the token returned by callback function\n            // :: in login function. It does nothing (return undefined) if\n            // :: there is no login\n            // -------------------------------------------------------------\n            token: function(local) {\n                return $.Storage.get(self.prefix_name(local) + '_token');\n            },\n            // -------------------------------------------------------------\n            // :: Function sets the token to the supplied value. This function\n            // :: works regardless of wherer settings.login is supplied\n            // -------------------------------------------------------------\n            set_token: function(token, local) {\n                var name = self.prefix_name(local) + '_token';\n                if (typeof token == 'undefined') {\n                    $.Storage.remove(name, token);\n                } else {\n                    $.Storage.set(name, token);\n                }\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Function get the token either set by the login method or\n            // :: by the set_token method.\n            // -------------------------------------------------------------\n            get_token: function(local) {\n                return $.Storage.get(self.prefix_name(local) + '_token');\n            },\n            // -------------------------------------------------------------\n            // :: Function return Login name entered by the user\n            // -------------------------------------------------------------\n            login_name: function(local) {\n                return $.Storage.get(self.prefix_name(local) + '_login');\n            },\n            // -------------------------------------------------------------\n            // :: Function returns the name of current interpreter\n            // -------------------------------------------------------------\n            name: function() {\n                return interpreters.top().name;\n            },\n            // -------------------------------------------------------------\n            // :: Function return prefix name for login/token\n            // -------------------------------------------------------------\n            prefix_name: function(local) {\n                var name = (settings.name ? settings.name + '_': '') +\n                    terminal_id;\n                if (local && interpreters.size() > 1) {\n                    var local_name = interpreters.map(function(intrp) {\n                        return intrp.name;\n                    }).slice(1).join('_');\n                    if (local_name) {\n                        name += '_' + local_name;\n                    }\n                }\n                return name;\n            },\n            // -------------------------------------------------------------\n            // :: wrapper for common use case\n            // -------------------------------------------------------------\n            read: function(message, callback) {\n                var d = new $.Deferred();\n                self.push(function(text) {\n                    self.pop();\n                    if ($.isFunction(callback)) {\n                        callback(text);\n                    }\n                    d.resolve(text);\n                }, {\n                    prompt: message\n                });\n                return d.promise();\n            },\n            // -------------------------------------------------------------\n            // :: Push a new interenter on the Stack\n            // -------------------------------------------------------------\n            push: function(interpreter, options) {\n                options = options || {};\n                if (!options.name && prev_command) {\n                    // push is called in login\n                    options.name = prev_command.name;\n                }\n                if (options.prompt === undefined) {\n                    options.prompt = options.name + ' ';\n                }\n                //names.push(options.name);\n                var top = interpreters.top();\n                if (top) {\n                    top.mask = command_line.mask();\n                }\n                var was_paused = paused;\n                self.pause();\n                make_interpreter(interpreter, !!options.login, function(ret) {\n                    // result is object with interpreter and completion\n                    // properties\n                    interpreters.push($.extend({}, ret, options));\n                    if (options.login) {\n                        var type = $.type(options.login);\n                        if (type == 'function') {\n                            // self.pop on error\n                            self.login(options.login,\n                                       false,\n                                       prepare_top_interpreter,\n                                       self.pop);\n                        } else if ($.type(interpreter) == 'string' &&\n                                   type == 'string' || type == 'boolean') {\n                            self.login(make_json_rpc_login(interpreter,\n                                                           options.login),\n                                       false,\n                                       prepare_top_interpreter,\n                                       self.pop);\n                        }\n                    } else {\n                        prepare_top_interpreter();\n                    }\n                    if (!was_paused) {\n                        self.resume();\n                    }\n                });\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Remove the last interpreter from the Stack\n            // -------------------------------------------------------------\n            pop: function(string) {\n                if (string !== undefined) {\n                    echo_command(string);\n                }\n                var token = self.token(true);\n                if (interpreters.size() == 1) {\n                    if (settings.login) {\n                        global_logout();\n                        if ($.isFunction(settings.onExit)) {\n                            try {\n                                settings.onExit(self);\n                            } catch (e) {\n                                display_exception(e, 'onExit');\n                                throw e;\n                            }\n                        }\n                        return true;\n                    } else {\n                        self.error(strings.canExitError);\n                    }\n                } else {\n                    if (self.token(true)) {\n                        clear_loging_storage();\n                    }\n                    var current = interpreters.pop();\n                    prepare_top_interpreter();\n                    if ($.isFunction(current.onExit)) {\n                        try {\n                            current.onExit(self);\n                        } catch (e) {\n                            display_exception(e, 'onExit');\n                            throw e;\n                        }\n                    }\n                    // restore mask\n                    self.set_mask(interpreters.top().mask);\n                }\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Change terminal option(s) at runtime\n            // -------------------------------------------------------------\n            option: function(object_or_name, value) {\n                if (typeof value == 'undefined') {\n                    if (typeof object_or_name == 'string') {\n                        return settings[object_or_name];\n                    } else if (typeof object_or_name == 'object') {\n                        $.each(object_or_name, function(key, value) {\n                            settings[key] = value;\n                        });\n                    }\n                } else {\n                    settings[object_or_name] = value;\n                }\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Return how deep you are in nested interpreters\n            // -------------------------------------------------------------\n            level: function() {\n                return interpreters.size();\n            },\n            // -------------------------------------------------------------\n            // :: Reinitialize the terminal\n            // -------------------------------------------------------------\n            reset: function() {\n                self.clear();\n                while(interpreters.size() > 1) {\n                    interpreters.pop();\n                }\n                initialize();\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Remove all local storage left by terminal, it will not\n            // :: logout you until you refresh the browser\n            // -------------------------------------------------------------\n            purge: function() {\n                var prefix = self.prefix_name() + '_';\n                var names = $.Storage.get(prefix + 'interpreters');\n                $.each($.parseJSON(names), function(_, name) {\n                    $.Storage.remove(name + '_commands');\n                    $.Storage.remove(name + '_token');\n                    $.Storage.remove(name + '_login');\n                });\n                command_line.purge();\n                $.Storage.remove(prefix + 'interpreters');\n                return self;\n            },\n            // -------------------------------------------------------------\n            // :: Remove all events and DOM nodes left by terminal, it will\n            // :: not purge the terminal so you will have the same state\n            // :: when you refresh the browser\n            // -------------------------------------------------------------\n            destroy: function() {\n                command_line.destroy().remove();\n                output.remove();\n                $(document).unbind('.terminal');\n                $(window).unbind('.terminal');\n                self.unbind('click mousewheel');\n                self.removeData('terminal').removeClass('terminal');\n                if (settings.width) {\n                    self.css('width', '');\n                }\n                if (settings.height) {\n                    self.css('height', '');\n                }\n                $(window).off('blur', blur_terminal).\n                    off('focus', focus_terminal);\n                terminals.remove(terminal_id);\n                return self;\n            }\n        }, function(name, fun) {\n            // wrap all functions and display execptions\n            return function() {\n                try {\n                    return fun.apply(self, [].slice.apply(arguments));\n                } catch (e) {\n                    // exec catch by command (resume call exec)\n                    if (name !== 'exec' && name !== 'resume') {\n                        display_exception(e, 'TERMINAL');\n                    }\n                    throw e;\n                }\n            };\n        }));\n\n        // -----------------------------------------------------------------\n        var on_scrollbar_show_resize = (function() {\n            var scroll_bars = have_scrollbars(self);\n            return function() {\n                if (scroll_bars !== have_scrollbars(self)) {\n                    // if the scollbar appearance changes we will have a\n                    // different number of chars\n                    self.resize();\n                    scroll_bars = have_scrollbars(self);\n                }\n            };\n        })();\n\n\n        // -----------------------------------------------------------------\n        // INIT CODE\n        // -----------------------------------------------------------------\n        if (settings.width) {\n            self.width(settings.width);\n        }\n        if (settings.height) {\n            self.height(settings.height);\n        }\n        var agent = navigator.userAgent.toLowerCase();\n        if (!agent.match(/(webkit)[ \\/]([\\w.]+)/) &&\n            self[0].tagName.toLowerCase() == 'body') {\n            scroll_object = $('html');\n        } else {\n            scroll_object = self;\n        }\n        // register ajaxSend for cancel requests on CTRL+D\n        $(document).bind('ajaxSend.terminal', function(e, xhr, opt) {\n            requests.push(xhr);\n        });\n        output = $('<div>').addClass('terminal-output').appendTo(self);\n        self.addClass('terminal');\n        // keep focus in clipboard textarea in mobile\n        /*\n          if (('ontouchstart' in window) || window.DocumentTouch &&\n          document instanceof DocumentTouch) {\n          self.click(function() {\n          self.find('textarea').focus();\n          });\n          self.find('textarea').focus();\n          }\n        */\n        /*\n          self.bind('touchstart.touchScroll', function() {\n\n          });\n          self.bind('touchmove.touchScroll', function() {\n\n          });\n        */\n        //$('<input type=\"text\"/>').hide().focus().appendTo(self);\n\n        // before login event\n        if (settings.login && $.isFunction(settings.onBeforeLogin)) {\n            try {\n                settings.onBeforeLogin(self);\n            } catch (e) {\n                display_exception(e, 'onBeforeLogin');\n                throw e;\n            }\n        }\n        var auth = settings.login;\n        // create json-rpc authentication function\n        var base_interpreter;\n        if (typeof init_interpreter == 'string') {\n            base_interpreter = init_interpreter;\n        } else if (init_interpreter instanceof Array &&\n                   typeof init_interpreter[0] == 'string') {\n            base_interpreter = init_interpreter[0];\n        }\n        if (base_interpreter &&\n            (typeof settings.login === 'string' || settings.login)) {\n            settings.login = make_json_rpc_login(base_interpreter,\n                                                 settings.login);\n        }\n        terminals.append(self);\n        var interpreters;\n        var command_line;\n        var old_enabled;\n        function focus_terminal() {\n            if (old_enabled) {\n                self.focus();\n            }\n        }\n        function blur_terminal() {\n            old_enabled = enabled;\n            self.disable();\n        }\n        make_interpreter(init_interpreter, !!settings.login, function(itrp) {\n            if (settings.completion && typeof settings.completion != 'boolean') {\n                //overwrite interpreter completion by global setting #224\n                itrp.completion = settings.completion;\n            }\n            interpreters = new Stack($.extend({\n                name: settings.name,\n                prompt: settings.prompt,\n                keypress: settings.keypress,\n                keydown: settings.keydown,\n                resize: settings.onResize,\n                greetings: settings.greetings,\n                mousewheel: settings.mousewheel\n            }, itrp));\n            // CREATE COMMAND LINE\n            command_line = $('<div/>').appendTo(self).cmd({\n                prompt: settings.prompt,\n                history: settings.history,\n                historyFilter: settings.historyFilter,\n                historySize: settings.historySize,\n                width: '100%',\n                enabled: enabled && !is_touch,\n                keydown: key_down,\n                keypress: function(e) {\n                    var result, i, top = interpreters.top();\n                    if ($.isFunction(top.keypress)) {\n                        return top.keypress(e, self);\n                    } else if ($.isFunction(settings.keypress)) {\n                        return settings.keypress(e, self);\n                    }\n                },\n                onCommandChange: function(command) {\n                    if ($.isFunction(settings.onCommandChange)) {\n                        try {\n                            settings.onCommandChange(command, self);\n                        } catch (e) {\n                            display_exception(e, 'onCommandChange');\n                            throw e;\n                        }\n                    }\n                    scroll_to_bottom();\n                },\n                commands: commands\n            });\n            // touch devices need touch event to get virtual keyboard\n            if (enabled && self.is(':visible') && !is_touch) {\n                self.focus(undefined, true);\n            } else {\n                self.disable();\n            }\n            self.oneTime(100, function() {\n                function disable(e) {\n                    var sender = $(e.target);\n                    if (!sender.closest('.terminal').length &&\n                        self.enabled() &&\n                        settings.onBlur(self) !== false) {\n                        self.disable();\n                    }\n                }\n                $(document).bind('click.terminal', disable).\n                    bind('contextmenu.terminal', disable);\n            });\n            if (!is_touch) {\n                // work weird on mobile\n                var $win = $(window).on('focus', focus_terminal).\n                    on('blur', blur_terminal);\n            } else {\n                /*\n                self.find('textarea').on('blur.terminal', function() {\n                    if (enabled) {\n                        self.focus(false);\n                    }\n                });*/\n            }\n            self.click(function(e) {\n                if (!self.enabled()) {\n                    self.focus();\n                } else if (is_touch) {\n                    // keep focusing silently so textarea get focus\n                    self.focus(true, true);\n                }\n                // this will ensure that textarea has focus\n                command_line.enable();\n            }).delegate('.exception a', 'click', function(e) {\n                //.on('click', '.exception a', function(e) {\n                // in new jquery .delegate just call .on\n                var href = $(this).attr('href');\n                if (href.match(/:[0-9]+$/)) { // display line if specified\n                    e.preventDefault();\n                    print_line(href);\n                }\n            });\n            if (!navigator.platform.match(/linux/i)) {\n                // on linux system paste work with middle mouse button\n                self.mousedown(function(e) {\n                    if (e.which == 2) {\n                        var selected = get_selected_text();\n                        self.insert(selected);\n                    }\n                });\n            }\n            if (self.is(':visible')) {\n                num_chars = self.cols();\n                command_line.resize(num_chars);\n                num_rows = get_num_rows(self);\n            }\n            // -------------------------------------------------------------\n            // Run Login\n            if (settings.login) {\n                self.login(settings.login, true, initialize);\n            } else {\n                initialize();\n            }\n            self.oneTime(100, function() {\n                $win.bind('resize.terminal', function() {\n                    if (self.is(':visible')) {\n                        var width = self.width();\n                        var height = self.height();\n                        // prevent too many calculations in IE\n                        if (old_height !== height || old_width !== width) {\n                            self.resize();\n                        }\n                    }\n                });\n            });\n            // -------------------------------------------------------------\n            // :: helper\n            function exec_spec(spec) {\n                var terminal = terminals.get()[spec[0]];\n                // execute if belong to this terminal\n                if (terminal && terminal_id == terminal.id()) {\n                    if (spec[2]) {\n                        try {\n                            if (paused) {\n                                var defer = $.Deferred();\n                                resume_callbacks.push(function() {\n                                    return terminal.exec(spec[2]).then(function(term, i) {\n                                        terminal.save_state(spec[2], true, spec[1]);\n                                        defer.resolve();\n                                    });\n                                });\n                                return defer.promise();\n                            } else {\n                                return terminal.exec(spec[2]).then(function(term, i) {\n                                    terminal.save_state(spec[2], true, spec[1]);\n                                });\n                            }\n                        } catch (e) {\n                            var cmd = $.terminal.escape_brackets(command);\n                            var msg = \"Error while exec with command \" + cmd;\n                            terminal.error(msg).exception(e);\n                        }\n                    }\n                }\n            }\n            // exec from hash called in each terminal instance\n            if (settings.execHash) {\n                if (location.hash) {\n                    try {\n                        var hash = location.hash.replace(/^#/, '');\n                        // yes no var - global inside terminal\n                        hash_commands = $.parseJSON(decodeURIComponent(hash));\n                        var i = 0;\n                        (function recur() {\n                            var spec = hash_commands[i++];\n                            if (spec) {\n                                exec_spec(spec).then(recur);\n                            } else {\n                                change_hash = true;\n                            }\n                        })();//*/\n                    } catch (e) {\n                        //invalid json - ignore\n                    }\n                } else {\n                    change_hash = true;\n                }\n            } else {\n                change_hash = true; // if enabled later\n            }\n            //change_hash = true; // exec can now change hash\n            // -------------------------------------------------------------\n            if ($.event.special.mousewheel) {\n                var shift = false;\n                $(document).bind('keydown.terminal', function(e) {\n                    if (e.shiftKey) {\n                        shift = true;\n                    }\n                }).bind('keyup.terminal', function(e) {\n                    // in Google Chromium/Linux shiftKey is false\n                    if (e.shiftKey || e.which == 16) {\n                        shift = false;\n                    }\n                });\n                self.mousewheel(function(event, delta) {\n                    if (!shift) {\n                        var interpreter = interpreters.top();\n                        if ($.isFunction(interpreter.mousewheel)) {\n                            var ret = interpreter.mousewheel(event, delta, self);\n                            if (ret === false) {\n                                return;\n                            }\n                        } else if ($.isFunction(settings.mousewheel)) {\n                            settings.mousewheel(event, delta, self);\n                        }\n                        if (delta > 0) {\n                            self.scroll(-40);\n                        } else {\n                            self.scroll(40);\n                        }\n                        //event.preventDefault();\n                    }\n                });\n            }\n        }); // make_interpreter\n        self.data('terminal', self);\n        return self;\n    }; //terminal plugin\n})(jQuery);\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],18:[function(require,module,exports){\n/**@license\n *       __ _____                     ________                              __\n *      / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /\n *  __ / // // // // // _  // _// // / / // _  // _//     // //  \\/ // _ \\/ /\n * /  / // // // // // ___// / / // / / // ___// / / / / // // /\\  // // / /__\n * \\___//____ \\\\___//____//_/ _\\_  / /_//____//_/ /_/ /_//_//_/ /_/ \\__\\_\\___/\n *           \\/              /____/\n * http://terminal.jcubic.pl\n *\n * This is example of how to create custom formatter for jQuery Terminal\n *\n * Copyright (c) 2014-2016 Jakub Jankiewicz <http://jcubic.pl>\n * Released under the MIT license\n *\n */\n(function($) {\n    if (!$.terminal) {\n        throw new Error('$.terminal is not defined');\n    }\n    // ---------------------------------------------------------------------\n    // :: Replace overtyping (from man) formatting with terminal formatting\n    // ---------------------------------------------------------------------\n    $.terminal.overtyping = function(string) {\n        return string.replace(/((?:_\\x08.|.\\x08_)+)/g, function(full, g) {\n            var striped = full.replace(/_x08|\\x08_|_\\u0008|\\u0008_/g, '');\n            return '[[u;;]' + striped + ']';\n        }).replace(/((?:.\\x08.)+)/g, function(full, g) {\n            return '[[b;#fff;]' + full.replace(/(.)(?:\\x08|\\u0008)(.)/g,\n                                               function(full, g1, g2) {\n                                                   return g2;\n                                               }) + ']';\n        });\n    };\n    // ---------------------------------------------------------------------\n    // :: Html colors taken from ANSI formatting in Linux Terminal\n    // ---------------------------------------------------------------------\n    $.terminal.ansi_colors = {\n        normal: {\n            black: '#000',\n            red: '#A00',\n            green: '#008400',\n            yellow: '#A50',\n            blue: '#00A',\n            magenta: '#A0A',\n            cyan: '#0AA',\n            white: '#AAA'\n        },\n        faited: {\n            black: '#000',\n            red: '#640000',\n            green: '#006100',\n            yellow: '#737300',\n            blue: '#000087',\n            magenta: '#650065',\n            cyan: '#008787',\n            white: '#818181'\n        },\n        bold: {\n            black: '#000',\n            red: '#F55',\n            green: '#44D544',\n            yellow: '#FF5',\n            blue: '#55F',\n            magenta: '#F5F',\n            cyan: '#5FF',\n            white: '#FFF'\n        },\n        // XTerm 8-bit pallete\n        palette: [\n            '#000000', '#AA0000', '#00AA00', '#AA5500', '#0000AA', '#AA00AA',\n            '#00AAAA', '#AAAAAA', '#555555', '#FF5555', '#55FF55', '#FFFF55',\n            '#5555FF', '#FF55FF', '#55FFFF', '#FFFFFF', '#000000', '#00005F',\n            '#000087', '#0000AF', '#0000D7', '#0000FF', '#005F00', '#005F5F',\n            '#005F87', '#005FAF', '#005FD7', '#005FFF', '#008700', '#00875F',\n            '#008787', '#0087AF', '#0087D7', '#0087FF', '#00AF00', '#00AF5F',\n            '#00AF87', '#00AFAF', '#00AFD7', '#00AFFF', '#00D700', '#00D75F',\n            '#00D787', '#00D7AF', '#00D7D7', '#00D7FF', '#00FF00', '#00FF5F',\n            '#00FF87', '#00FFAF', '#00FFD7', '#00FFFF', '#5F0000', '#5F005F',\n            '#5F0087', '#5F00AF', '#5F00D7', '#5F00FF', '#5F5F00', '#5F5F5F',\n            '#5F5F87', '#5F5FAF', '#5F5FD7', '#5F5FFF', '#5F8700', '#5F875F',\n            '#5F8787', '#5F87AF', '#5F87D7', '#5F87FF', '#5FAF00', '#5FAF5F',\n            '#5FAF87', '#5FAFAF', '#5FAFD7', '#5FAFFF', '#5FD700', '#5FD75F',\n            '#5FD787', '#5FD7AF', '#5FD7D7', '#5FD7FF', '#5FFF00', '#5FFF5F',\n            '#5FFF87', '#5FFFAF', '#5FFFD7', '#5FFFFF', '#870000', '#87005F',\n            '#870087', '#8700AF', '#8700D7', '#8700FF', '#875F00', '#875F5F',\n            '#875F87', '#875FAF', '#875FD7', '#875FFF', '#878700', '#87875F',\n            '#878787', '#8787AF', '#8787D7', '#8787FF', '#87AF00', '#87AF5F',\n            '#87AF87', '#87AFAF', '#87AFD7', '#87AFFF', '#87D700', '#87D75F',\n            '#87D787', '#87D7AF', '#87D7D7', '#87D7FF', '#87FF00', '#87FF5F',\n            '#87FF87', '#87FFAF', '#87FFD7', '#87FFFF', '#AF0000', '#AF005F',\n            '#AF0087', '#AF00AF', '#AF00D7', '#AF00FF', '#AF5F00', '#AF5F5F',\n            '#AF5F87', '#AF5FAF', '#AF5FD7', '#AF5FFF', '#AF8700', '#AF875F',\n            '#AF8787', '#AF87AF', '#AF87D7', '#AF87FF', '#AFAF00', '#AFAF5F',\n            '#AFAF87', '#AFAFAF', '#AFAFD7', '#AFAFFF', '#AFD700', '#AFD75F',\n            '#AFD787', '#AFD7AF', '#AFD7D7', '#AFD7FF', '#AFFF00', '#AFFF5F',\n            '#AFFF87', '#AFFFAF', '#AFFFD7', '#AFFFFF', '#D70000', '#D7005F',\n            '#D70087', '#D700AF', '#D700D7', '#D700FF', '#D75F00', '#D75F5F',\n            '#D75F87', '#D75FAF', '#D75FD7', '#D75FFF', '#D78700', '#D7875F',\n            '#D78787', '#D787AF', '#D787D7', '#D787FF', '#D7AF00', '#D7AF5F',\n            '#D7AF87', '#D7AFAF', '#D7AFD7', '#D7AFFF', '#D7D700', '#D7D75F',\n            '#D7D787', '#D7D7AF', '#D7D7D7', '#D7D7FF', '#D7FF00', '#D7FF5F',\n            '#D7FF87', '#D7FFAF', '#D7FFD7', '#D7FFFF', '#FF0000', '#FF005F',\n            '#FF0087', '#FF00AF', '#FF00D7', '#FF00FF', '#FF5F00', '#FF5F5F',\n            '#FF5F87', '#FF5FAF', '#FF5FD7', '#FF5FFF', '#FF8700', '#FF875F',\n            '#FF8787', '#FF87AF', '#FF87D7', '#FF87FF', '#FFAF00', '#FFAF5F',\n            '#FFAF87', '#FFAFAF', '#FFAFD7', '#FFAFFF', '#FFD700', '#FFD75F',\n            '#FFD787', '#FFD7AF', '#FFD7D7', '#FFD7FF', '#FFFF00', '#FFFF5F',\n            '#FFFF87', '#FFFFAF', '#FFFFD7', '#FFFFFF', '#080808', '#121212',\n            '#1C1C1C', '#262626', '#303030', '#3A3A3A', '#444444', '#4E4E4E',\n            '#585858', '#626262', '#6C6C6C', '#767676', '#808080', '#8A8A8A',\n            '#949494', '#9E9E9E', '#A8A8A8', '#B2B2B2', '#BCBCBC', '#C6C6C6',\n            '#D0D0D0', '#DADADA', '#E4E4E4', '#EEEEEE'\n        ]\n    };\n    // ---------------------------------------------------------------------\n    // :: Replace ANSI formatting with terminal formatting\n    // ---------------------------------------------------------------------\n    $.terminal.from_ansi = (function() {\n        var color_list = {\n            30: 'black',\n            31: 'red',\n            32: 'green',\n            33: 'yellow',\n            34: 'blue',\n            35: 'magenta',\n            36: 'cyan',\n            37: 'white',\n\n            39: 'inherit' // default color\n        };\n        var background_list = {\n            40: 'black',\n            41: 'red',\n            42: 'green',\n            43: 'yellow',\n            44: 'blue',\n            45: 'magenta',\n            46: 'cyan',\n            47: 'white',\n\n            49: 'transparent' // default background\n        };\n        function format_ansi(code) {\n            var controls = code.split(';');\n            var num;\n            var faited = false;\n            var reverse = false;\n            var bold = false;\n            var styles = [];\n            var output_color = '';\n            var output_background = '';\n            var _8bit_color = false;\n            var _8bit_background = false;\n            var process_8bit = false;\n            var palette = $.terminal.ansi_colors.palette;\n            for(var i in controls) {\n                if (controls.hasOwnProperty(i)) {\n                    num = parseInt(controls[i], 10);\n                    if (process_8bit && (_8bit_background || _8bit_color)) {\n                        if (_8bit_color && palette[num]) {\n                            output_color = palette[num];\n                        }\n                        if (_8bit_background && palette[num]) {\n                            output_background = palette[num];\n                        }\n                    } else {\n                        switch(num) {\n                        case 1:\n                            styles.push('b');\n                            bold = true;\n                            faited = false;\n                            break;\n                        case 4:\n                            styles.push('u');\n                            break;\n                        case 3:\n                            styles.push('i');\n                            break;\n                        case 5:\n                            process_8bit = true;\n                            break;\n                        case 38:\n                            _8bit_color = true;\n                            break;\n                        case 48:\n                            _8bit_background = true;\n                            break;\n                        case 2:\n                            faited = true;\n                            bold = false;\n                            break;\n                        case 7:\n                            reverse = true;\n                            break;\n                        default:\n                            if (controls.indexOf('5') == -1) {\n                                if (color_list[num]) {\n                                    output_color = color_list[num];\n                                }\n                                if (background_list[num]) {\n                                    output_background = background_list[num];\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n            if (reverse) {\n                if (output_color || output_background) {\n                    var tmp = output_background;\n                    output_background = output_color;\n                    output_color = tmp;\n                } else {\n                    output_color = 'black';\n                    output_background = 'white';\n                }\n            }\n            var colors, color, background, backgrounds;\n            if (bold) {\n                colors = backgrounds = $.terminal.ansi_colors.bold;\n            } else if (faited) {\n                colors = backgrounds = $.terminal.ansi_colors.faited;\n            } else {\n                colors = backgrounds = $.terminal.ansi_colors.normal;\n            }\n            if (_8bit_color) {\n                color = output_color;\n            } else if (output_color == 'inherit') {\n                color = output_color;\n            } else {\n                color = colors[output_color];\n            }\n            if (_8bit_background) {\n                background = output_background;\n            } else if (output_background == 'transparent') {\n                background = output_background;\n            } else {\n                background = backgrounds[output_background];\n            }\n            return [styles.join(''), color, background];\n        }\n        return function(input) {\n            //merge multiple codes\n            /*input = input.replace(/((?:\\x1B\\[[0-9;]*[A-Za-z])*)/g, function(group) {\n                return group.replace(/m\\x1B\\[/g, ';');\n            });*/\n            var splitted = input.split(/(\\x1B\\[[0-9;]*[A-Za-z])/g);\n            if (splitted.length == 1) {\n                return input;\n            }\n            var output = [];\n            //skip closing at the begining\n            if (splitted.length > 3) {\n                var str = splitted.slice(0,3).join('');\n                if (str == '[0m' || str == '[m') {\n                    splitted = splitted.slice(3);\n                }\n            }\n            var next, prev_color, prev_background, code, match;\n            var inside = false;\n            for (var i=0; i<splitted.length; ++i) {\n                match = splitted[i].match(/^\\x1B\\[([0-9;]*)([A-Za-z])$/);\n                if (match) {\n                    switch (match[2]) {\n                    case 'm':\n                        if (match[1] !== '0') {\n                            code = format_ansi(match[1]);\n                        }\n                        if (inside) {\n                            output.push(']');\n                            if (match[1] === '0' || match[1] === '') {\n                                //just closing\n                                inside = false;\n                                prev_color = prev_background = '';\n                            } else {\n                                // someone forget to close - move to next\n                                code[1] = code[1] || prev_color;\n                                code[2] = code[2] || prev_background;\n                                output.push('[[' + code.join(';') + ']');\n                                // store colors to next use\n                                if (code[1]) {\n                                    prev_color = code[1];\n                                }\n                                if (code[2]) {\n                                    prev_background = code[2];\n                                }\n                            }\n                        } else {\n                            if (match[1] != '0') {\n                                inside = true;\n                                code[1] = code[1] || prev_color;\n                                code[2] = code[2] || prev_background;\n                                output.push('[[' + code.join(';') + ']');\n                                // store colors to next use\n                                if (code[1]) {\n                                    prev_color = code[1];\n                                }\n                                if (code[2]) {\n                                    prev_background = code[2];\n                                }\n                            }\n                        }\n                        break;\n                    }\n                } else {\n                    output.push(splitted[i]);\n                }\n            }\n            if (inside) {\n                output.push(']');\n            }\n            return output.join(''); //.replace(/\\[\\[[^\\]]+\\]\\]/g, '');\n        };\n    })();\n    $.terminal.defaults.formatters.push($.terminal.overtyping);\n    $.terminal.defaults.formatters.push($.terminal.from_ansi);\n})(jQuery);\n\n},{}],19:[function(require,module,exports){\n/*!\n * jQuery JavaScript Library v3.0.0\n * https://jquery.com/\n *\n * Includes Sizzle.js\n * https://sizzlejs.com/\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license\n * https://jquery.org/license\n *\n * Date: 2016-06-09T18:02Z\n */\n( function( global, factory ) {\n\n\t\"use strict\";\n\n\tif ( typeof module === \"object\" && typeof module.exports === \"object\" ) {\n\n\t\t// For CommonJS and CommonJS-like environments where a proper `window`\n\t\t// is present, execute the factory and get jQuery.\n\t\t// For environments that do not have a `window` with a `document`\n\t\t// (such as Node.js), expose a factory as module.exports.\n\t\t// This accentuates the need for the creation of a real `window`.\n\t\t// e.g. var jQuery = require(\"jquery\")(window);\n\t\t// See ticket #14549 for more info.\n\t\tmodule.exports = global.document ?\n\t\t\tfactory( global, true ) :\n\t\t\tfunction( w ) {\n\t\t\t\tif ( !w.document ) {\n\t\t\t\t\tthrow new Error( \"jQuery requires a window with a document\" );\n\t\t\t\t}\n\t\t\t\treturn factory( w );\n\t\t\t};\n\t} else {\n\t\tfactory( global );\n\t}\n\n// Pass this if window is not defined yet\n}( typeof window !== \"undefined\" ? window : this, function( window, noGlobal ) {\n\n// Edge <= 12 - 13+, Firefox <=18 - 45+, IE 10 - 11, Safari 5.1 - 9+, iOS 6 - 9.1\n// throw exceptions when non-strict code (e.g., ASP.NET 4.5) accesses strict mode\n// arguments.callee.caller (trac-13335). But as of jQuery 3.0 (2016), strict mode should be common\n// enough that all such attempts are guarded in a try block.\n\"use strict\";\n\nvar arr = [];\n\nvar document = window.document;\n\nvar getProto = Object.getPrototypeOf;\n\nvar slice = arr.slice;\n\nvar concat = arr.concat;\n\nvar push = arr.push;\n\nvar indexOf = arr.indexOf;\n\nvar class2type = {};\n\nvar toString = class2type.toString;\n\nvar hasOwn = class2type.hasOwnProperty;\n\nvar fnToString = hasOwn.toString;\n\nvar ObjectFunctionString = fnToString.call( Object );\n\nvar support = {};\n\n\n\n\tfunction DOMEval( code, doc ) {\n\t\tdoc = doc || document;\n\n\t\tvar script = doc.createElement( \"script\" );\n\n\t\tscript.text = code;\n\t\tdoc.head.appendChild( script ).parentNode.removeChild( script );\n\t}\n\n\nvar\n\tversion = \"3.0.0\",\n\n\t// Define a local copy of jQuery\n\tjQuery = function( selector, context ) {\n\n\t\t// The jQuery object is actually just the init constructor 'enhanced'\n\t\t// Need init if jQuery is called (just allow error to be thrown if not included)\n\t\treturn new jQuery.fn.init( selector, context );\n\t},\n\n\t// Support: Android <=4.0 only\n\t// Make sure we trim BOM and NBSP\n\trtrim = /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,\n\n\t// Matches dashed string for camelizing\n\trmsPrefix = /^-ms-/,\n\trdashAlpha = /-([a-z])/g,\n\n\t// Used by jQuery.camelCase as callback to replace()\n\tfcamelCase = function( all, letter ) {\n\t\treturn letter.toUpperCase();\n\t};\n\njQuery.fn = jQuery.prototype = {\n\n\t// The current version of jQuery being used\n\tjquery: version,\n\n\tconstructor: jQuery,\n\n\t// The default length of a jQuery object is 0\n\tlength: 0,\n\n\ttoArray: function() {\n\t\treturn slice.call( this );\n\t},\n\n\t// Get the Nth element in the matched element set OR\n\t// Get the whole matched element set as a clean array\n\tget: function( num ) {\n\t\treturn num != null ?\n\n\t\t\t// Return just the one element from the set\n\t\t\t( num < 0 ? this[ num + this.length ] : this[ num ] ) :\n\n\t\t\t// Return all the elements in a clean array\n\t\t\tslice.call( this );\n\t},\n\n\t// Take an array of elements and push it onto the stack\n\t// (returning the new matched element set)\n\tpushStack: function( elems ) {\n\n\t\t// Build a new jQuery matched element set\n\t\tvar ret = jQuery.merge( this.constructor(), elems );\n\n\t\t// Add the old object onto the stack (as a reference)\n\t\tret.prevObject = this;\n\n\t\t// Return the newly-formed element set\n\t\treturn ret;\n\t},\n\n\t// Execute a callback for every element in the matched set.\n\teach: function( callback ) {\n\t\treturn jQuery.each( this, callback );\n\t},\n\n\tmap: function( callback ) {\n\t\treturn this.pushStack( jQuery.map( this, function( elem, i ) {\n\t\t\treturn callback.call( elem, i, elem );\n\t\t} ) );\n\t},\n\n\tslice: function() {\n\t\treturn this.pushStack( slice.apply( this, arguments ) );\n\t},\n\n\tfirst: function() {\n\t\treturn this.eq( 0 );\n\t},\n\n\tlast: function() {\n\t\treturn this.eq( -1 );\n\t},\n\n\teq: function( i ) {\n\t\tvar len = this.length,\n\t\t\tj = +i + ( i < 0 ? len : 0 );\n\t\treturn this.pushStack( j >= 0 && j < len ? [ this[ j ] ] : [] );\n\t},\n\n\tend: function() {\n\t\treturn this.prevObject || this.constructor();\n\t},\n\n\t// For internal use only.\n\t// Behaves like an Array's method, not like a jQuery method.\n\tpush: push,\n\tsort: arr.sort,\n\tsplice: arr.splice\n};\n\njQuery.extend = jQuery.fn.extend = function() {\n\tvar options, name, src, copy, copyIsArray, clone,\n\t\ttarget = arguments[ 0 ] || {},\n\t\ti = 1,\n\t\tlength = arguments.length,\n\t\tdeep = false;\n\n\t// Handle a deep copy situation\n\tif ( typeof target === \"boolean\" ) {\n\t\tdeep = target;\n\n\t\t// Skip the boolean and the target\n\t\ttarget = arguments[ i ] || {};\n\t\ti++;\n\t}\n\n\t// Handle case when target is a string or something (possible in deep copy)\n\tif ( typeof target !== \"object\" && !jQuery.isFunction( target ) ) {\n\t\ttarget = {};\n\t}\n\n\t// Extend jQuery itself if only one argument is passed\n\tif ( i === length ) {\n\t\ttarget = this;\n\t\ti--;\n\t}\n\n\tfor ( ; i < length; i++ ) {\n\n\t\t// Only deal with non-null/undefined values\n\t\tif ( ( options = arguments[ i ] ) != null ) {\n\n\t\t\t// Extend the base object\n\t\t\tfor ( name in options ) {\n\t\t\t\tsrc = target[ name ];\n\t\t\t\tcopy = options[ name ];\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif ( target === copy ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\tif ( deep && copy && ( jQuery.isPlainObject( copy ) ||\n\t\t\t\t\t( copyIsArray = jQuery.isArray( copy ) ) ) ) {\n\n\t\t\t\t\tif ( copyIsArray ) {\n\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\tclone = src && jQuery.isArray( src ) ? src : [];\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tclone = src && jQuery.isPlainObject( src ) ? src : {};\n\t\t\t\t\t}\n\n\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\ttarget[ name ] = jQuery.extend( deep, clone, copy );\n\n\t\t\t\t// Don't bring in undefined values\n\t\t\t\t} else if ( copy !== undefined ) {\n\t\t\t\t\ttarget[ name ] = copy;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\njQuery.extend( {\n\n\t// Unique for each copy of jQuery on the page\n\texpando: \"jQuery\" + ( version + Math.random() ).replace( /\\D/g, \"\" ),\n\n\t// Assume jQuery is ready without the ready module\n\tisReady: true,\n\n\terror: function( msg ) {\n\t\tthrow new Error( msg );\n\t},\n\n\tnoop: function() {},\n\n\tisFunction: function( obj ) {\n\t\treturn jQuery.type( obj ) === \"function\";\n\t},\n\n\tisArray: Array.isArray,\n\n\tisWindow: function( obj ) {\n\t\treturn obj != null && obj === obj.window;\n\t},\n\n\tisNumeric: function( obj ) {\n\n\t\t// As of jQuery 3.0, isNumeric is limited to\n\t\t// strings and numbers (primitives or objects)\n\t\t// that can be coerced to finite numbers (gh-2662)\n\t\tvar type = jQuery.type( obj );\n\t\treturn ( type === \"number\" || type === \"string\" ) &&\n\n\t\t\t// parseFloat NaNs numeric-cast false positives (\"\")\n\t\t\t// ...but misinterprets leading-number strings, particularly hex literals (\"0x...\")\n\t\t\t// subtraction forces infinities to NaN\n\t\t\t!isNaN( obj - parseFloat( obj ) );\n\t},\n\n\tisPlainObject: function( obj ) {\n\t\tvar proto, Ctor;\n\n\t\t// Detect obvious negatives\n\t\t// Use toString instead of jQuery.type to catch host objects\n\t\tif ( !obj || toString.call( obj ) !== \"[object Object]\" ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tproto = getProto( obj );\n\n\t\t// Objects with no prototype (e.g., `Object.create( null )`) are plain\n\t\tif ( !proto ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Objects with prototype are plain iff they were constructed by a global Object function\n\t\tCtor = hasOwn.call( proto, \"constructor\" ) && proto.constructor;\n\t\treturn typeof Ctor === \"function\" && fnToString.call( Ctor ) === ObjectFunctionString;\n\t},\n\n\tisEmptyObject: function( obj ) {\n\t\tvar name;\n\t\tfor ( name in obj ) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\ttype: function( obj ) {\n\t\tif ( obj == null ) {\n\t\t\treturn obj + \"\";\n\t\t}\n\n\t\t// Support: Android <=2.3 only (functionish RegExp)\n\t\treturn typeof obj === \"object\" || typeof obj === \"function\" ?\n\t\t\tclass2type[ toString.call( obj ) ] || \"object\" :\n\t\t\ttypeof obj;\n\t},\n\n\t// Evaluates a script in a global context\n\tglobalEval: function( code ) {\n\t\tDOMEval( code );\n\t},\n\n\t// Convert dashed to camelCase; used by the css and data modules\n\t// Support: IE <=9 - 11, Edge 12 - 13\n\t// Microsoft forgot to hump their vendor prefix (#9572)\n\tcamelCase: function( string ) {\n\t\treturn string.replace( rmsPrefix, \"ms-\" ).replace( rdashAlpha, fcamelCase );\n\t},\n\n\tnodeName: function( elem, name ) {\n\t\treturn elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();\n\t},\n\n\teach: function( obj, callback ) {\n\t\tvar length, i = 0;\n\n\t\tif ( isArrayLike( obj ) ) {\n\t\t\tlength = obj.length;\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tif ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tfor ( i in obj ) {\n\t\t\t\tif ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn obj;\n\t},\n\n\t// Support: Android <=4.0 only\n\ttrim: function( text ) {\n\t\treturn text == null ?\n\t\t\t\"\" :\n\t\t\t( text + \"\" ).replace( rtrim, \"\" );\n\t},\n\n\t// results is for internal usage only\n\tmakeArray: function( arr, results ) {\n\t\tvar ret = results || [];\n\n\t\tif ( arr != null ) {\n\t\t\tif ( isArrayLike( Object( arr ) ) ) {\n\t\t\t\tjQuery.merge( ret,\n\t\t\t\t\ttypeof arr === \"string\" ?\n\t\t\t\t\t[ arr ] : arr\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tpush.call( ret, arr );\n\t\t\t}\n\t\t}\n\n\t\treturn ret;\n\t},\n\n\tinArray: function( elem, arr, i ) {\n\t\treturn arr == null ? -1 : indexOf.call( arr, elem, i );\n\t},\n\n\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t// push.apply(_, arraylike) throws on ancient WebKit\n\tmerge: function( first, second ) {\n\t\tvar len = +second.length,\n\t\t\tj = 0,\n\t\t\ti = first.length;\n\n\t\tfor ( ; j < len; j++ ) {\n\t\t\tfirst[ i++ ] = second[ j ];\n\t\t}\n\n\t\tfirst.length = i;\n\n\t\treturn first;\n\t},\n\n\tgrep: function( elems, callback, invert ) {\n\t\tvar callbackInverse,\n\t\t\tmatches = [],\n\t\t\ti = 0,\n\t\t\tlength = elems.length,\n\t\t\tcallbackExpect = !invert;\n\n\t\t// Go through the array, only saving the items\n\t\t// that pass the validator function\n\t\tfor ( ; i < length; i++ ) {\n\t\t\tcallbackInverse = !callback( elems[ i ], i );\n\t\t\tif ( callbackInverse !== callbackExpect ) {\n\t\t\t\tmatches.push( elems[ i ] );\n\t\t\t}\n\t\t}\n\n\t\treturn matches;\n\t},\n\n\t// arg is for internal usage only\n\tmap: function( elems, callback, arg ) {\n\t\tvar length, value,\n\t\t\ti = 0,\n\t\t\tret = [];\n\n\t\t// Go through the array, translating each of the items to their new values\n\t\tif ( isArrayLike( elems ) ) {\n\t\t\tlength = elems.length;\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Go through every key on the object,\n\t\t} else {\n\t\t\tfor ( i in elems ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Flatten any nested arrays\n\t\treturn concat.apply( [], ret );\n\t},\n\n\t// A global GUID counter for objects\n\tguid: 1,\n\n\t// Bind a function to a context, optionally partially applying any\n\t// arguments.\n\tproxy: function( fn, context ) {\n\t\tvar tmp, args, proxy;\n\n\t\tif ( typeof context === \"string\" ) {\n\t\t\ttmp = fn[ context ];\n\t\t\tcontext = fn;\n\t\t\tfn = tmp;\n\t\t}\n\n\t\t// Quick check to determine if target is callable, in the spec\n\t\t// this throws a TypeError, but we will just return undefined.\n\t\tif ( !jQuery.isFunction( fn ) ) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\t// Simulated bind\n\t\targs = slice.call( arguments, 2 );\n\t\tproxy = function() {\n\t\t\treturn fn.apply( context || this, args.concat( slice.call( arguments ) ) );\n\t\t};\n\n\t\t// Set the guid of unique handler to the same of original handler, so it can be removed\n\t\tproxy.guid = fn.guid = fn.guid || jQuery.guid++;\n\n\t\treturn proxy;\n\t},\n\n\tnow: Date.now,\n\n\t// jQuery.support is not used in Core but other projects attach their\n\t// properties to it so it needs to exist.\n\tsupport: support\n} );\n\n// JSHint would error on this code due to the Symbol not being defined in ES5.\n// Defining this global in .jshintrc would create a danger of using the global\n// unguarded in another place, it seems safer to just disable JSHint for these\n// three lines.\n/* jshint ignore: start */\nif ( typeof Symbol === \"function\" ) {\n\tjQuery.fn[ Symbol.iterator ] = arr[ Symbol.iterator ];\n}\n/* jshint ignore: end */\n\n// Populate the class2type map\njQuery.each( \"Boolean Number String Function Array Date RegExp Object Error Symbol\".split( \" \" ),\nfunction( i, name ) {\n\tclass2type[ \"[object \" + name + \"]\" ] = name.toLowerCase();\n} );\n\nfunction isArrayLike( obj ) {\n\n\t// Support: real iOS 8.2 only (not reproducible in simulator)\n\t// `in` check used to prevent JIT error (gh-2145)\n\t// hasOwn isn't used here due to false negatives\n\t// regarding Nodelist length in IE\n\tvar length = !!obj && \"length\" in obj && obj.length,\n\t\ttype = jQuery.type( obj );\n\n\tif ( type === \"function\" || jQuery.isWindow( obj ) ) {\n\t\treturn false;\n\t}\n\n\treturn type === \"array\" || length === 0 ||\n\t\ttypeof length === \"number\" && length > 0 && ( length - 1 ) in obj;\n}\nvar Sizzle =\n/*!\n * Sizzle CSS Selector Engine v2.3.0\n * https://sizzlejs.com/\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license\n * http://jquery.org/license\n *\n * Date: 2016-01-04\n */\n(function( window ) {\n\nvar i,\n\tsupport,\n\tExpr,\n\tgetText,\n\tisXML,\n\ttokenize,\n\tcompile,\n\tselect,\n\toutermostContext,\n\tsortInput,\n\thasDuplicate,\n\n\t// Local document vars\n\tsetDocument,\n\tdocument,\n\tdocElem,\n\tdocumentIsHTML,\n\trbuggyQSA,\n\trbuggyMatches,\n\tmatches,\n\tcontains,\n\n\t// Instance-specific data\n\texpando = \"sizzle\" + 1 * new Date(),\n\tpreferredDoc = window.document,\n\tdirruns = 0,\n\tdone = 0,\n\tclassCache = createCache(),\n\ttokenCache = createCache(),\n\tcompilerCache = createCache(),\n\tsortOrder = function( a, b ) {\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t}\n\t\treturn 0;\n\t},\n\n\t// Instance methods\n\thasOwn = ({}).hasOwnProperty,\n\tarr = [],\n\tpop = arr.pop,\n\tpush_native = arr.push,\n\tpush = arr.push,\n\tslice = arr.slice,\n\t// Use a stripped-down indexOf as it's faster than native\n\t// https://jsperf.com/thor-indexof-vs-for/5\n\tindexOf = function( list, elem ) {\n\t\tvar i = 0,\n\t\t\tlen = list.length;\n\t\tfor ( ; i < len; i++ ) {\n\t\t\tif ( list[i] === elem ) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t},\n\n\tbooleans = \"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",\n\n\t// Regular expressions\n\n\t// http://www.w3.org/TR/css3-selectors/#whitespace\n\twhitespace = \"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",\n\n\t// http://www.w3.org/TR/CSS21/syndata.html#value-def-identifier\n\tidentifier = \"(?:\\\\\\\\.|[\\\\w-]|[^\\0-\\\\xa0])+\",\n\n\t// Attribute selectors: http://www.w3.org/TR/selectors/#attribute-selectors\n\tattributes = \"\\\\[\" + whitespace + \"*(\" + identifier + \")(?:\" + whitespace +\n\t\t// Operator (capture 2)\n\t\t\"*([*^$|!~]?=)\" + whitespace +\n\t\t// \"Attribute values must be CSS identifiers [capture 5] or strings [capture 3 or capture 4]\"\n\t\t\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\" + identifier + \"))|)\" + whitespace +\n\t\t\"*\\\\]\",\n\n\tpseudos = \":(\" + identifier + \")(?:\\\\((\" +\n\t\t// To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:\n\t\t// 1. quoted (capture 3; capture 4 or capture 5)\n\t\t\"('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|\" +\n\t\t// 2. simple (capture 6)\n\t\t\"((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\" + attributes + \")*)|\" +\n\t\t// 3. anything else (capture 2)\n\t\t\".*\" +\n\t\t\")\\\\)|)\",\n\n\t// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter\n\trwhitespace = new RegExp( whitespace + \"+\", \"g\" ),\n\trtrim = new RegExp( \"^\" + whitespace + \"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\" + whitespace + \"+$\", \"g\" ),\n\n\trcomma = new RegExp( \"^\" + whitespace + \"*,\" + whitespace + \"*\" ),\n\trcombinators = new RegExp( \"^\" + whitespace + \"*([>+~]|\" + whitespace + \")\" + whitespace + \"*\" ),\n\n\trattributeQuotes = new RegExp( \"=\" + whitespace + \"*([^\\\\]'\\\"]*?)\" + whitespace + \"*\\\\]\", \"g\" ),\n\n\trpseudo = new RegExp( pseudos ),\n\tridentifier = new RegExp( \"^\" + identifier + \"$\" ),\n\n\tmatchExpr = {\n\t\t\"ID\": new RegExp( \"^#(\" + identifier + \")\" ),\n\t\t\"CLASS\": new RegExp( \"^\\\\.(\" + identifier + \")\" ),\n\t\t\"TAG\": new RegExp( \"^(\" + identifier + \"|[*])\" ),\n\t\t\"ATTR\": new RegExp( \"^\" + attributes ),\n\t\t\"PSEUDO\": new RegExp( \"^\" + pseudos ),\n\t\t\"CHILD\": new RegExp( \"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\" + whitespace +\n\t\t\t\"*(even|odd|(([+-]|)(\\\\d*)n|)\" + whitespace + \"*(?:([+-]|)\" + whitespace +\n\t\t\t\"*(\\\\d+)|))\" + whitespace + \"*\\\\)|)\", \"i\" ),\n\t\t\"bool\": new RegExp( \"^(?:\" + booleans + \")$\", \"i\" ),\n\t\t// For use in libraries implementing .is()\n\t\t// We use this for POS matching in `select`\n\t\t\"needsContext\": new RegExp( \"^\" + whitespace + \"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\" +\n\t\t\twhitespace + \"*((?:-\\\\d)?\\\\d*)\" + whitespace + \"*\\\\)|)(?=[^-]|$)\", \"i\" )\n\t},\n\n\trinputs = /^(?:input|select|textarea|button)$/i,\n\trheader = /^h\\d$/i,\n\n\trnative = /^[^{]+\\{\\s*\\[native \\w/,\n\n\t// Easily-parseable/retrievable ID or TAG or CLASS selectors\n\trquickExpr = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,\n\n\trsibling = /[+~]/,\n\n\t// CSS escapes\n\t// http://www.w3.org/TR/CSS21/syndata.html#escaped-characters\n\trunescape = new RegExp( \"\\\\\\\\([\\\\da-f]{1,6}\" + whitespace + \"?|(\" + whitespace + \")|.)\", \"ig\" ),\n\tfunescape = function( _, escaped, escapedWhitespace ) {\n\t\tvar high = \"0x\" + escaped - 0x10000;\n\t\t// NaN means non-codepoint\n\t\t// Support: Firefox<24\n\t\t// Workaround erroneous numeric interpretation of +\"0x\"\n\t\treturn high !== high || escapedWhitespace ?\n\t\t\tescaped :\n\t\t\thigh < 0 ?\n\t\t\t\t// BMP codepoint\n\t\t\t\tString.fromCharCode( high + 0x10000 ) :\n\t\t\t\t// Supplemental Plane codepoint (surrogate pair)\n\t\t\t\tString.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );\n\t},\n\n\t// CSS string/identifier serialization\n\t// https://drafts.csswg.org/cssom/#common-serializing-idioms\n\trcssescape = /([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\x80-\\uFFFF\\w-]/g,\n\tfcssescape = function( ch, asCodePoint ) {\n\t\tif ( asCodePoint ) {\n\n\t\t\t// U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER\n\t\t\tif ( ch === \"\\0\" ) {\n\t\t\t\treturn \"\\uFFFD\";\n\t\t\t}\n\n\t\t\t// Control characters and (dependent upon position) numbers get escaped as code points\n\t\t\treturn ch.slice( 0, -1 ) + \"\\\\\" + ch.charCodeAt( ch.length - 1 ).toString( 16 ) + \" \";\n\t\t}\n\n\t\t// Other potentially-special ASCII characters get backslash-escaped\n\t\treturn \"\\\\\" + ch;\n\t},\n\n\t// Used for iframes\n\t// See setDocument()\n\t// Removing the function wrapper causes a \"Permission Denied\"\n\t// error in IE\n\tunloadHandler = function() {\n\t\tsetDocument();\n\t},\n\n\tdisabledAncestor = addCombinator(\n\t\tfunction( elem ) {\n\t\t\treturn elem.disabled === true;\n\t\t},\n\t\t{ dir: \"parentNode\", next: \"legend\" }\n\t);\n\n// Optimize for push.apply( _, NodeList )\ntry {\n\tpush.apply(\n\t\t(arr = slice.call( preferredDoc.childNodes )),\n\t\tpreferredDoc.childNodes\n\t);\n\t// Support: Android<4.0\n\t// Detect silently failing push.apply\n\tarr[ preferredDoc.childNodes.length ].nodeType;\n} catch ( e ) {\n\tpush = { apply: arr.length ?\n\n\t\t// Leverage slice if possible\n\t\tfunction( target, els ) {\n\t\t\tpush_native.apply( target, slice.call(els) );\n\t\t} :\n\n\t\t// Support: IE<9\n\t\t// Otherwise append directly\n\t\tfunction( target, els ) {\n\t\t\tvar j = target.length,\n\t\t\t\ti = 0;\n\t\t\t// Can't trust NodeList.length\n\t\t\twhile ( (target[j++] = els[i++]) ) {}\n\t\t\ttarget.length = j - 1;\n\t\t}\n\t};\n}\n\nfunction Sizzle( selector, context, results, seed ) {\n\tvar m, i, elem, nid, match, groups, newSelector,\n\t\tnewContext = context && context.ownerDocument,\n\n\t\t// nodeType defaults to 9, since context defaults to document\n\t\tnodeType = context ? context.nodeType : 9;\n\n\tresults = results || [];\n\n\t// Return early from calls with invalid selector or context\n\tif ( typeof selector !== \"string\" || !selector ||\n\t\tnodeType !== 1 && nodeType !== 9 && nodeType !== 11 ) {\n\n\t\treturn results;\n\t}\n\n\t// Try to shortcut find operations (as opposed to filters) in HTML documents\n\tif ( !seed ) {\n\n\t\tif ( ( context ? context.ownerDocument || context : preferredDoc ) !== document ) {\n\t\t\tsetDocument( context );\n\t\t}\n\t\tcontext = context || document;\n\n\t\tif ( documentIsHTML ) {\n\n\t\t\t// If the selector is sufficiently simple, try using a \"get*By*\" DOM method\n\t\t\t// (excepting DocumentFragment context, where the methods don't exist)\n\t\t\tif ( nodeType !== 11 && (match = rquickExpr.exec( selector )) ) {\n\n\t\t\t\t// ID selector\n\t\t\t\tif ( (m = match[1]) ) {\n\n\t\t\t\t\t// Document context\n\t\t\t\t\tif ( nodeType === 9 ) {\n\t\t\t\t\t\tif ( (elem = context.getElementById( m )) ) {\n\n\t\t\t\t\t\t\t// Support: IE, Opera, Webkit\n\t\t\t\t\t\t\t// TODO: identify versions\n\t\t\t\t\t\t\t// getElementById can match elements by name instead of ID\n\t\t\t\t\t\t\tif ( elem.id === m ) {\n\t\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t// Element context\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// Support: IE, Opera, Webkit\n\t\t\t\t\t\t// TODO: identify versions\n\t\t\t\t\t\t// getElementById can match elements by name instead of ID\n\t\t\t\t\t\tif ( newContext && (elem = newContext.getElementById( m )) &&\n\t\t\t\t\t\t\tcontains( context, elem ) &&\n\t\t\t\t\t\t\telem.id === m ) {\n\n\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t// Type selector\n\t\t\t\t} else if ( match[2] ) {\n\t\t\t\t\tpush.apply( results, context.getElementsByTagName( selector ) );\n\t\t\t\t\treturn results;\n\n\t\t\t\t// Class selector\n\t\t\t\t} else if ( (m = match[3]) && support.getElementsByClassName &&\n\t\t\t\t\tcontext.getElementsByClassName ) {\n\n\t\t\t\t\tpush.apply( results, context.getElementsByClassName( m ) );\n\t\t\t\t\treturn results;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Take advantage of querySelectorAll\n\t\t\tif ( support.qsa &&\n\t\t\t\t!compilerCache[ selector + \" \" ] &&\n\t\t\t\t(!rbuggyQSA || !rbuggyQSA.test( selector )) ) {\n\n\t\t\t\tif ( nodeType !== 1 ) {\n\t\t\t\t\tnewContext = context;\n\t\t\t\t\tnewSelector = selector;\n\n\t\t\t\t// qSA looks outside Element context, which is not what we want\n\t\t\t\t// Thanks to Andrew Dupont for this workaround technique\n\t\t\t\t// Support: IE <=8\n\t\t\t\t// Exclude object elements\n\t\t\t\t} else if ( context.nodeName.toLowerCase() !== \"object\" ) {\n\n\t\t\t\t\t// Capture the context ID, setting it first if necessary\n\t\t\t\t\tif ( (nid = context.getAttribute( \"id\" )) ) {\n\t\t\t\t\t\tnid = nid.replace( rcssescape, fcssescape );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcontext.setAttribute( \"id\", (nid = expando) );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prefix every selector in the list\n\t\t\t\t\tgroups = tokenize( selector );\n\t\t\t\t\ti = groups.length;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tgroups[i] = \"#\" + nid + \" \" + toSelector( groups[i] );\n\t\t\t\t\t}\n\t\t\t\t\tnewSelector = groups.join( \",\" );\n\n\t\t\t\t\t// Expand context for sibling selectors\n\t\t\t\t\tnewContext = rsibling.test( selector ) && testContext( context.parentNode ) ||\n\t\t\t\t\t\tcontext;\n\t\t\t\t}\n\n\t\t\t\tif ( newSelector ) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tpush.apply( results,\n\t\t\t\t\t\t\tnewContext.querySelectorAll( newSelector )\n\t\t\t\t\t\t);\n\t\t\t\t\t\treturn results;\n\t\t\t\t\t} catch ( qsaError ) {\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tif ( nid === expando ) {\n\t\t\t\t\t\t\tcontext.removeAttribute( \"id\" );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// All others\n\treturn select( selector.replace( rtrim, \"$1\" ), context, results, seed );\n}\n\n/**\n * Create key-value caches of limited size\n * @returns {function(string, object)} Returns the Object data after storing it on itself with\n *\tproperty name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)\n *\tdeleting the oldest entry\n */\nfunction createCache() {\n\tvar keys = [];\n\n\tfunction cache( key, value ) {\n\t\t// Use (key + \" \") to avoid collision with native prototype properties (see Issue #157)\n\t\tif ( keys.push( key + \" \" ) > Expr.cacheLength ) {\n\t\t\t// Only keep the most recent entries\n\t\t\tdelete cache[ keys.shift() ];\n\t\t}\n\t\treturn (cache[ key + \" \" ] = value);\n\t}\n\treturn cache;\n}\n\n/**\n * Mark a function for special use by Sizzle\n * @param {Function} fn The function to mark\n */\nfunction markFunction( fn ) {\n\tfn[ expando ] = true;\n\treturn fn;\n}\n\n/**\n * Support testing using an element\n * @param {Function} fn Passed the created element and returns a boolean result\n */\nfunction assert( fn ) {\n\tvar el = document.createElement(\"fieldset\");\n\n\ttry {\n\t\treturn !!fn( el );\n\t} catch (e) {\n\t\treturn false;\n\t} finally {\n\t\t// Remove from its parent by default\n\t\tif ( el.parentNode ) {\n\t\t\tel.parentNode.removeChild( el );\n\t\t}\n\t\t// release memory in IE\n\t\tel = null;\n\t}\n}\n\n/**\n * Adds the same handler for all of the specified attrs\n * @param {String} attrs Pipe-separated list of attributes\n * @param {Function} handler The method that will be applied\n */\nfunction addHandle( attrs, handler ) {\n\tvar arr = attrs.split(\"|\"),\n\t\ti = arr.length;\n\n\twhile ( i-- ) {\n\t\tExpr.attrHandle[ arr[i] ] = handler;\n\t}\n}\n\n/**\n * Checks document order of two siblings\n * @param {Element} a\n * @param {Element} b\n * @returns {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b\n */\nfunction siblingCheck( a, b ) {\n\tvar cur = b && a,\n\t\tdiff = cur && a.nodeType === 1 && b.nodeType === 1 &&\n\t\t\ta.sourceIndex - b.sourceIndex;\n\n\t// Use IE sourceIndex if available on both nodes\n\tif ( diff ) {\n\t\treturn diff;\n\t}\n\n\t// Check if b follows a\n\tif ( cur ) {\n\t\twhile ( (cur = cur.nextSibling) ) {\n\t\t\tif ( cur === b ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn a ? 1 : -1;\n}\n\n/**\n * Returns a function to use in pseudos for input types\n * @param {String} type\n */\nfunction createInputPseudo( type ) {\n\treturn function( elem ) {\n\t\tvar name = elem.nodeName.toLowerCase();\n\t\treturn name === \"input\" && elem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for buttons\n * @param {String} type\n */\nfunction createButtonPseudo( type ) {\n\treturn function( elem ) {\n\t\tvar name = elem.nodeName.toLowerCase();\n\t\treturn (name === \"input\" || name === \"button\") && elem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for :enabled/:disabled\n * @param {Boolean} disabled true for :disabled; false for :enabled\n */\nfunction createDisabledPseudo( disabled ) {\n\t// Known :disabled false positives:\n\t// IE: *[disabled]:not(button, input, select, textarea, optgroup, option, menuitem, fieldset)\n\t// not IE: fieldset[disabled] > legend:nth-of-type(n+2) :can-disable\n\treturn function( elem ) {\n\n\t\t// Check form elements and option elements for explicit disabling\n\t\treturn \"label\" in elem && elem.disabled === disabled ||\n\t\t\t\"form\" in elem && elem.disabled === disabled ||\n\n\t\t\t// Check non-disabled form elements for fieldset[disabled] ancestors\n\t\t\t\"form\" in elem && elem.disabled === false && (\n\t\t\t\t// Support: IE6-11+\n\t\t\t\t// Ancestry is covered for us\n\t\t\t\telem.isDisabled === disabled ||\n\n\t\t\t\t// Otherwise, assume any non-<option> under fieldset[disabled] is disabled\n\t\t\t\t/* jshint -W018 */\n\t\t\t\telem.isDisabled !== !disabled &&\n\t\t\t\t\t(\"label\" in elem || !disabledAncestor( elem )) !== disabled\n\t\t\t);\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for positionals\n * @param {Function} fn\n */\nfunction createPositionalPseudo( fn ) {\n\treturn markFunction(function( argument ) {\n\t\targument = +argument;\n\t\treturn markFunction(function( seed, matches ) {\n\t\t\tvar j,\n\t\t\t\tmatchIndexes = fn( [], seed.length, argument ),\n\t\t\t\ti = matchIndexes.length;\n\n\t\t\t// Match elements found at the specified indexes\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( seed[ (j = matchIndexes[i]) ] ) {\n\t\t\t\t\tseed[j] = !(matches[j] = seed[j]);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n}\n\n/**\n * Checks a node for validity as a Sizzle context\n * @param {Element|Object=} context\n * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value\n */\nfunction testContext( context ) {\n\treturn context && typeof context.getElementsByTagName !== \"undefined\" && context;\n}\n\n// Expose support vars for convenience\nsupport = Sizzle.support = {};\n\n/**\n * Detects XML nodes\n * @param {Element|Object} elem An element or a document\n * @returns {Boolean} True iff elem is a non-HTML XML node\n */\nisXML = Sizzle.isXML = function( elem ) {\n\t// documentElement is verified for cases where it doesn't yet exist\n\t// (such as loading iframes in IE - #4833)\n\tvar documentElement = elem && (elem.ownerDocument || elem).documentElement;\n\treturn documentElement ? documentElement.nodeName !== \"HTML\" : false;\n};\n\n/**\n * Sets document-related variables once based on the current document\n * @param {Element|Object} [doc] An element or document object to use to set the document\n * @returns {Object} Returns the current document\n */\nsetDocument = Sizzle.setDocument = function( node ) {\n\tvar hasCompare, subWindow,\n\t\tdoc = node ? node.ownerDocument || node : preferredDoc;\n\n\t// Return early if doc is invalid or already selected\n\tif ( doc === document || doc.nodeType !== 9 || !doc.documentElement ) {\n\t\treturn document;\n\t}\n\n\t// Update global variables\n\tdocument = doc;\n\tdocElem = document.documentElement;\n\tdocumentIsHTML = !isXML( document );\n\n\t// Support: IE 9-11, Edge\n\t// Accessing iframe documents after unload throws \"permission denied\" errors (jQuery #13936)\n\tif ( preferredDoc !== document &&\n\t\t(subWindow = document.defaultView) && subWindow.top !== subWindow ) {\n\n\t\t// Support: IE 11, Edge\n\t\tif ( subWindow.addEventListener ) {\n\t\t\tsubWindow.addEventListener( \"unload\", unloadHandler, false );\n\n\t\t// Support: IE 9 - 10 only\n\t\t} else if ( subWindow.attachEvent ) {\n\t\t\tsubWindow.attachEvent( \"onunload\", unloadHandler );\n\t\t}\n\t}\n\n\t/* Attributes\n\t---------------------------------------------------------------------- */\n\n\t// Support: IE<8\n\t// Verify that getAttribute really returns attributes and not properties\n\t// (excepting IE8 booleans)\n\tsupport.attributes = assert(function( el ) {\n\t\tel.className = \"i\";\n\t\treturn !el.getAttribute(\"className\");\n\t});\n\n\t/* getElement(s)By*\n\t---------------------------------------------------------------------- */\n\n\t// Check if getElementsByTagName(\"*\") returns only elements\n\tsupport.getElementsByTagName = assert(function( el ) {\n\t\tel.appendChild( document.createComment(\"\") );\n\t\treturn !el.getElementsByTagName(\"*\").length;\n\t});\n\n\t// Support: IE<9\n\tsupport.getElementsByClassName = rnative.test( document.getElementsByClassName );\n\n\t// Support: IE<10\n\t// Check if getElementById returns elements by name\n\t// The broken getElementById methods don't pick up programmatically-set names,\n\t// so use a roundabout getElementsByName test\n\tsupport.getById = assert(function( el ) {\n\t\tdocElem.appendChild( el ).id = expando;\n\t\treturn !document.getElementsByName || !document.getElementsByName( expando ).length;\n\t});\n\n\t// ID find and filter\n\tif ( support.getById ) {\n\t\tExpr.find[\"ID\"] = function( id, context ) {\n\t\t\tif ( typeof context.getElementById !== \"undefined\" && documentIsHTML ) {\n\t\t\t\tvar m = context.getElementById( id );\n\t\t\t\treturn m ? [ m ] : [];\n\t\t\t}\n\t\t};\n\t\tExpr.filter[\"ID\"] = function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn elem.getAttribute(\"id\") === attrId;\n\t\t\t};\n\t\t};\n\t} else {\n\t\t// Support: IE6/7\n\t\t// getElementById is not reliable as a find shortcut\n\t\tdelete Expr.find[\"ID\"];\n\n\t\tExpr.filter[\"ID\"] =  function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\tvar node = typeof elem.getAttributeNode !== \"undefined\" &&\n\t\t\t\t\telem.getAttributeNode(\"id\");\n\t\t\t\treturn node && node.value === attrId;\n\t\t\t};\n\t\t};\n\t}\n\n\t// Tag\n\tExpr.find[\"TAG\"] = support.getElementsByTagName ?\n\t\tfunction( tag, context ) {\n\t\t\tif ( typeof context.getElementsByTagName !== \"undefined\" ) {\n\t\t\t\treturn context.getElementsByTagName( tag );\n\n\t\t\t// DocumentFragment nodes don't have gEBTN\n\t\t\t} else if ( support.qsa ) {\n\t\t\t\treturn context.querySelectorAll( tag );\n\t\t\t}\n\t\t} :\n\n\t\tfunction( tag, context ) {\n\t\t\tvar elem,\n\t\t\t\ttmp = [],\n\t\t\t\ti = 0,\n\t\t\t\t// By happy coincidence, a (broken) gEBTN appears on DocumentFragment nodes too\n\t\t\t\tresults = context.getElementsByTagName( tag );\n\n\t\t\t// Filter out possible comments\n\t\t\tif ( tag === \"*\" ) {\n\t\t\t\twhile ( (elem = results[i++]) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\ttmp.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn tmp;\n\t\t\t}\n\t\t\treturn results;\n\t\t};\n\n\t// Class\n\tExpr.find[\"CLASS\"] = support.getElementsByClassName && function( className, context ) {\n\t\tif ( typeof context.getElementsByClassName !== \"undefined\" && documentIsHTML ) {\n\t\t\treturn context.getElementsByClassName( className );\n\t\t}\n\t};\n\n\t/* QSA/matchesSelector\n\t---------------------------------------------------------------------- */\n\n\t// QSA and matchesSelector support\n\n\t// matchesSelector(:active) reports false when true (IE9/Opera 11.5)\n\trbuggyMatches = [];\n\n\t// qSa(:focus) reports false when true (Chrome 21)\n\t// We allow this because of a bug in IE8/9 that throws an error\n\t// whenever `document.activeElement` is accessed on an iframe\n\t// So, we allow :focus to pass through QSA all the time to avoid the IE error\n\t// See https://bugs.jquery.com/ticket/13378\n\trbuggyQSA = [];\n\n\tif ( (support.qsa = rnative.test( document.querySelectorAll )) ) {\n\t\t// Build QSA regex\n\t\t// Regex strategy adopted from Diego Perini\n\t\tassert(function( el ) {\n\t\t\t// Select is set to empty string on purpose\n\t\t\t// This is to test IE's treatment of not explicitly\n\t\t\t// setting a boolean content attribute,\n\t\t\t// since its presence should be enough\n\t\t\t// https://bugs.jquery.com/ticket/12359\n\t\t\tdocElem.appendChild( el ).innerHTML = \"<a id='\" + expando + \"'></a>\" +\n\t\t\t\t\"<select id='\" + expando + \"-\\r\\\\' msallowcapture=''>\" +\n\t\t\t\t\"<option selected=''></option></select>\";\n\n\t\t\t// Support: IE8, Opera 11-12.16\n\t\t\t// Nothing should be selected when empty strings follow ^= or $= or *=\n\t\t\t// The test attribute must be unknown in Opera but \"safe\" for WinRT\n\t\t\t// https://msdn.microsoft.com/en-us/library/ie/hh465388.aspx#attribute_section\n\t\t\tif ( el.querySelectorAll(\"[msallowcapture^='']\").length ) {\n\t\t\t\trbuggyQSA.push( \"[*^$]=\" + whitespace + \"*(?:''|\\\"\\\")\" );\n\t\t\t}\n\n\t\t\t// Support: IE8\n\t\t\t// Boolean attributes and \"value\" are not treated correctly\n\t\t\tif ( !el.querySelectorAll(\"[selected]\").length ) {\n\t\t\t\trbuggyQSA.push( \"\\\\[\" + whitespace + \"*(?:value|\" + booleans + \")\" );\n\t\t\t}\n\n\t\t\t// Support: Chrome<29, Android<4.4, Safari<7.0+, iOS<7.0+, PhantomJS<1.9.8+\n\t\t\tif ( !el.querySelectorAll( \"[id~=\" + expando + \"-]\" ).length ) {\n\t\t\t\trbuggyQSA.push(\"~=\");\n\t\t\t}\n\n\t\t\t// Webkit/Opera - :checked should return selected option elements\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\t// IE8 throws error here and will not see later tests\n\t\t\tif ( !el.querySelectorAll(\":checked\").length ) {\n\t\t\t\trbuggyQSA.push(\":checked\");\n\t\t\t}\n\n\t\t\t// Support: Safari 8+, iOS 8+\n\t\t\t// https://bugs.webkit.org/show_bug.cgi?id=136851\n\t\t\t// In-page `selector#id sibling-combinator selector` fails\n\t\t\tif ( !el.querySelectorAll( \"a#\" + expando + \"+*\" ).length ) {\n\t\t\t\trbuggyQSA.push(\".#.+[+~]\");\n\t\t\t}\n\t\t});\n\n\t\tassert(function( el ) {\n\t\t\tel.innerHTML = \"<a href='' disabled='disabled'></a>\" +\n\t\t\t\t\"<select disabled='disabled'><option/></select>\";\n\n\t\t\t// Support: Windows 8 Native Apps\n\t\t\t// The type and name attributes are restricted during .innerHTML assignment\n\t\t\tvar input = document.createElement(\"input\");\n\t\t\tinput.setAttribute( \"type\", \"hidden\" );\n\t\t\tel.appendChild( input ).setAttribute( \"name\", \"D\" );\n\n\t\t\t// Support: IE8\n\t\t\t// Enforce case-sensitivity of name attribute\n\t\t\tif ( el.querySelectorAll(\"[name=d]\").length ) {\n\t\t\t\trbuggyQSA.push( \"name\" + whitespace + \"*[*^$|!~]?=\" );\n\t\t\t}\n\n\t\t\t// FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)\n\t\t\t// IE8 throws error here and will not see later tests\n\t\t\tif ( el.querySelectorAll(\":enabled\").length !== 2 ) {\n\t\t\t\trbuggyQSA.push( \":enabled\", \":disabled\" );\n\t\t\t}\n\n\t\t\t// Support: IE9-11+\n\t\t\t// IE's :disabled selector does not pick up the children of disabled fieldsets\n\t\t\tdocElem.appendChild( el ).disabled = true;\n\t\t\tif ( el.querySelectorAll(\":disabled\").length !== 2 ) {\n\t\t\t\trbuggyQSA.push( \":enabled\", \":disabled\" );\n\t\t\t}\n\n\t\t\t// Opera 10-11 does not throw on post-comma invalid pseudos\n\t\t\tel.querySelectorAll(\"*,:x\");\n\t\t\trbuggyQSA.push(\",.*:\");\n\t\t});\n\t}\n\n\tif ( (support.matchesSelector = rnative.test( (matches = docElem.matches ||\n\t\tdocElem.webkitMatchesSelector ||\n\t\tdocElem.mozMatchesSelector ||\n\t\tdocElem.oMatchesSelector ||\n\t\tdocElem.msMatchesSelector) )) ) {\n\n\t\tassert(function( el ) {\n\t\t\t// Check to see if it's possible to do matchesSelector\n\t\t\t// on a disconnected node (IE 9)\n\t\t\tsupport.disconnectedMatch = matches.call( el, \"*\" );\n\n\t\t\t// This should fail with an exception\n\t\t\t// Gecko does not error, returns false instead\n\t\t\tmatches.call( el, \"[s!='']:x\" );\n\t\t\trbuggyMatches.push( \"!=\", pseudos );\n\t\t});\n\t}\n\n\trbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join(\"|\") );\n\trbuggyMatches = rbuggyMatches.length && new RegExp( rbuggyMatches.join(\"|\") );\n\n\t/* Contains\n\t---------------------------------------------------------------------- */\n\thasCompare = rnative.test( docElem.compareDocumentPosition );\n\n\t// Element contains another\n\t// Purposefully self-exclusive\n\t// As in, an element does not contain itself\n\tcontains = hasCompare || rnative.test( docElem.contains ) ?\n\t\tfunction( a, b ) {\n\t\t\tvar adown = a.nodeType === 9 ? a.documentElement : a,\n\t\t\t\tbup = b && b.parentNode;\n\t\t\treturn a === bup || !!( bup && bup.nodeType === 1 && (\n\t\t\t\tadown.contains ?\n\t\t\t\t\tadown.contains( bup ) :\n\t\t\t\t\ta.compareDocumentPosition && a.compareDocumentPosition( bup ) & 16\n\t\t\t));\n\t\t} :\n\t\tfunction( a, b ) {\n\t\t\tif ( b ) {\n\t\t\t\twhile ( (b = b.parentNode) ) {\n\t\t\t\t\tif ( b === a ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\n\t/* Sorting\n\t---------------------------------------------------------------------- */\n\n\t// Document order sorting\n\tsortOrder = hasCompare ?\n\tfunction( a, b ) {\n\n\t\t// Flag for duplicate removal\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t\treturn 0;\n\t\t}\n\n\t\t// Sort on method existence if only one input has compareDocumentPosition\n\t\tvar compare = !a.compareDocumentPosition - !b.compareDocumentPosition;\n\t\tif ( compare ) {\n\t\t\treturn compare;\n\t\t}\n\n\t\t// Calculate position if both inputs belong to the same document\n\t\tcompare = ( a.ownerDocument || a ) === ( b.ownerDocument || b ) ?\n\t\t\ta.compareDocumentPosition( b ) :\n\n\t\t\t// Otherwise we know they are disconnected\n\t\t\t1;\n\n\t\t// Disconnected nodes\n\t\tif ( compare & 1 ||\n\t\t\t(!support.sortDetached && b.compareDocumentPosition( a ) === compare) ) {\n\n\t\t\t// Choose the first element that is related to our preferred document\n\t\t\tif ( a === document || a.ownerDocument === preferredDoc && contains(preferredDoc, a) ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tif ( b === document || b.ownerDocument === preferredDoc && contains(preferredDoc, b) ) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\t// Maintain original order\n\t\t\treturn sortInput ?\n\t\t\t\t( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :\n\t\t\t\t0;\n\t\t}\n\n\t\treturn compare & 4 ? -1 : 1;\n\t} :\n\tfunction( a, b ) {\n\t\t// Exit early if the nodes are identical\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t\treturn 0;\n\t\t}\n\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\taup = a.parentNode,\n\t\t\tbup = b.parentNode,\n\t\t\tap = [ a ],\n\t\t\tbp = [ b ];\n\n\t\t// Parentless nodes are either documents or disconnected\n\t\tif ( !aup || !bup ) {\n\t\t\treturn a === document ? -1 :\n\t\t\t\tb === document ? 1 :\n\t\t\t\taup ? -1 :\n\t\t\t\tbup ? 1 :\n\t\t\t\tsortInput ?\n\t\t\t\t( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :\n\t\t\t\t0;\n\n\t\t// If the nodes are siblings, we can do a quick check\n\t\t} else if ( aup === bup ) {\n\t\t\treturn siblingCheck( a, b );\n\t\t}\n\n\t\t// Otherwise we need full lists of their ancestors for comparison\n\t\tcur = a;\n\t\twhile ( (cur = cur.parentNode) ) {\n\t\t\tap.unshift( cur );\n\t\t}\n\t\tcur = b;\n\t\twhile ( (cur = cur.parentNode) ) {\n\t\t\tbp.unshift( cur );\n\t\t}\n\n\t\t// Walk down the tree looking for a discrepancy\n\t\twhile ( ap[i] === bp[i] ) {\n\t\t\ti++;\n\t\t}\n\n\t\treturn i ?\n\t\t\t// Do a sibling check if the nodes have a common ancestor\n\t\t\tsiblingCheck( ap[i], bp[i] ) :\n\n\t\t\t// Otherwise nodes in our document sort first\n\t\t\tap[i] === preferredDoc ? -1 :\n\t\t\tbp[i] === preferredDoc ? 1 :\n\t\t\t0;\n\t};\n\n\treturn document;\n};\n\nSizzle.matches = function( expr, elements ) {\n\treturn Sizzle( expr, null, null, elements );\n};\n\nSizzle.matchesSelector = function( elem, expr ) {\n\t// Set document vars if needed\n\tif ( ( elem.ownerDocument || elem ) !== document ) {\n\t\tsetDocument( elem );\n\t}\n\n\t// Make sure that attribute selectors are quoted\n\texpr = expr.replace( rattributeQuotes, \"='$1']\" );\n\n\tif ( support.matchesSelector && documentIsHTML &&\n\t\t!compilerCache[ expr + \" \" ] &&\n\t\t( !rbuggyMatches || !rbuggyMatches.test( expr ) ) &&\n\t\t( !rbuggyQSA     || !rbuggyQSA.test( expr ) ) ) {\n\n\t\ttry {\n\t\t\tvar ret = matches.call( elem, expr );\n\n\t\t\t// IE 9's matchesSelector returns false on disconnected nodes\n\t\t\tif ( ret || support.disconnectedMatch ||\n\t\t\t\t\t// As well, disconnected nodes are said to be in a document\n\t\t\t\t\t// fragment in IE 9\n\t\t\t\t\telem.document && elem.document.nodeType !== 11 ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t} catch (e) {}\n\t}\n\n\treturn Sizzle( expr, document, null, [ elem ] ).length > 0;\n};\n\nSizzle.contains = function( context, elem ) {\n\t// Set document vars if needed\n\tif ( ( context.ownerDocument || context ) !== document ) {\n\t\tsetDocument( context );\n\t}\n\treturn contains( context, elem );\n};\n\nSizzle.attr = function( elem, name ) {\n\t// Set document vars if needed\n\tif ( ( elem.ownerDocument || elem ) !== document ) {\n\t\tsetDocument( elem );\n\t}\n\n\tvar fn = Expr.attrHandle[ name.toLowerCase() ],\n\t\t// Don't get fooled by Object.prototype properties (jQuery #13807)\n\t\tval = fn && hasOwn.call( Expr.attrHandle, name.toLowerCase() ) ?\n\t\t\tfn( elem, name, !documentIsHTML ) :\n\t\t\tundefined;\n\n\treturn val !== undefined ?\n\t\tval :\n\t\tsupport.attributes || !documentIsHTML ?\n\t\t\telem.getAttribute( name ) :\n\t\t\t(val = elem.getAttributeNode(name)) && val.specified ?\n\t\t\t\tval.value :\n\t\t\t\tnull;\n};\n\nSizzle.escape = function( sel ) {\n\treturn (sel + \"\").replace( rcssescape, fcssescape );\n};\n\nSizzle.error = function( msg ) {\n\tthrow new Error( \"Syntax error, unrecognized expression: \" + msg );\n};\n\n/**\n * Document sorting and removing duplicates\n * @param {ArrayLike} results\n */\nSizzle.uniqueSort = function( results ) {\n\tvar elem,\n\t\tduplicates = [],\n\t\tj = 0,\n\t\ti = 0;\n\n\t// Unless we *know* we can detect duplicates, assume their presence\n\thasDuplicate = !support.detectDuplicates;\n\tsortInput = !support.sortStable && results.slice( 0 );\n\tresults.sort( sortOrder );\n\n\tif ( hasDuplicate ) {\n\t\twhile ( (elem = results[i++]) ) {\n\t\t\tif ( elem === results[ i ] ) {\n\t\t\t\tj = duplicates.push( i );\n\t\t\t}\n\t\t}\n\t\twhile ( j-- ) {\n\t\t\tresults.splice( duplicates[ j ], 1 );\n\t\t}\n\t}\n\n\t// Clear input after sorting to release objects\n\t// See https://github.com/jquery/sizzle/pull/225\n\tsortInput = null;\n\n\treturn results;\n};\n\n/**\n * Utility function for retrieving the text value of an array of DOM nodes\n * @param {Array|Element} elem\n */\ngetText = Sizzle.getText = function( elem ) {\n\tvar node,\n\t\tret = \"\",\n\t\ti = 0,\n\t\tnodeType = elem.nodeType;\n\n\tif ( !nodeType ) {\n\t\t// If no nodeType, this is expected to be an array\n\t\twhile ( (node = elem[i++]) ) {\n\t\t\t// Do not traverse comment nodes\n\t\t\tret += getText( node );\n\t\t}\n\t} else if ( nodeType === 1 || nodeType === 9 || nodeType === 11 ) {\n\t\t// Use textContent for elements\n\t\t// innerText usage removed for consistency of new lines (jQuery #11153)\n\t\tif ( typeof elem.textContent === \"string\" ) {\n\t\t\treturn elem.textContent;\n\t\t} else {\n\t\t\t// Traverse its children\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\n\t\t\t\tret += getText( elem );\n\t\t\t}\n\t\t}\n\t} else if ( nodeType === 3 || nodeType === 4 ) {\n\t\treturn elem.nodeValue;\n\t}\n\t// Do not include comment or processing instruction nodes\n\n\treturn ret;\n};\n\nExpr = Sizzle.selectors = {\n\n\t// Can be adjusted by the user\n\tcacheLength: 50,\n\n\tcreatePseudo: markFunction,\n\n\tmatch: matchExpr,\n\n\tattrHandle: {},\n\n\tfind: {},\n\n\trelative: {\n\t\t\">\": { dir: \"parentNode\", first: true },\n\t\t\" \": { dir: \"parentNode\" },\n\t\t\"+\": { dir: \"previousSibling\", first: true },\n\t\t\"~\": { dir: \"previousSibling\" }\n\t},\n\n\tpreFilter: {\n\t\t\"ATTR\": function( match ) {\n\t\t\tmatch[1] = match[1].replace( runescape, funescape );\n\n\t\t\t// Move the given value to match[3] whether quoted or unquoted\n\t\t\tmatch[3] = ( match[3] || match[4] || match[5] || \"\" ).replace( runescape, funescape );\n\n\t\t\tif ( match[2] === \"~=\" ) {\n\t\t\t\tmatch[3] = \" \" + match[3] + \" \";\n\t\t\t}\n\n\t\t\treturn match.slice( 0, 4 );\n\t\t},\n\n\t\t\"CHILD\": function( match ) {\n\t\t\t/* matches from matchExpr[\"CHILD\"]\n\t\t\t\t1 type (only|nth|...)\n\t\t\t\t2 what (child|of-type)\n\t\t\t\t3 argument (even|odd|\\d*|\\d*n([+-]\\d+)?|...)\n\t\t\t\t4 xn-component of xn+y argument ([+-]?\\d*n|)\n\t\t\t\t5 sign of xn-component\n\t\t\t\t6 x of xn-component\n\t\t\t\t7 sign of y-component\n\t\t\t\t8 y of y-component\n\t\t\t*/\n\t\t\tmatch[1] = match[1].toLowerCase();\n\n\t\t\tif ( match[1].slice( 0, 3 ) === \"nth\" ) {\n\t\t\t\t// nth-* requires argument\n\t\t\t\tif ( !match[3] ) {\n\t\t\t\t\tSizzle.error( match[0] );\n\t\t\t\t}\n\n\t\t\t\t// numeric x and y parameters for Expr.filter.CHILD\n\t\t\t\t// remember that false/true cast respectively to 0/1\n\t\t\t\tmatch[4] = +( match[4] ? match[5] + (match[6] || 1) : 2 * ( match[3] === \"even\" || match[3] === \"odd\" ) );\n\t\t\t\tmatch[5] = +( ( match[7] + match[8] ) || match[3] === \"odd\" );\n\n\t\t\t// other types prohibit arguments\n\t\t\t} else if ( match[3] ) {\n\t\t\t\tSizzle.error( match[0] );\n\t\t\t}\n\n\t\t\treturn match;\n\t\t},\n\n\t\t\"PSEUDO\": function( match ) {\n\t\t\tvar excess,\n\t\t\t\tunquoted = !match[6] && match[2];\n\n\t\t\tif ( matchExpr[\"CHILD\"].test( match[0] ) ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\t// Accept quoted arguments as-is\n\t\t\tif ( match[3] ) {\n\t\t\t\tmatch[2] = match[4] || match[5] || \"\";\n\n\t\t\t// Strip excess characters from unquoted arguments\n\t\t\t} else if ( unquoted && rpseudo.test( unquoted ) &&\n\t\t\t\t// Get excess from tokenize (recursively)\n\t\t\t\t(excess = tokenize( unquoted, true )) &&\n\t\t\t\t// advance to the next closing parenthesis\n\t\t\t\t(excess = unquoted.indexOf( \")\", unquoted.length - excess ) - unquoted.length) ) {\n\n\t\t\t\t// excess is a negative index\n\t\t\t\tmatch[0] = match[0].slice( 0, excess );\n\t\t\t\tmatch[2] = unquoted.slice( 0, excess );\n\t\t\t}\n\n\t\t\t// Return only captures needed by the pseudo filter method (type and argument)\n\t\t\treturn match.slice( 0, 3 );\n\t\t}\n\t},\n\n\tfilter: {\n\n\t\t\"TAG\": function( nodeNameSelector ) {\n\t\t\tvar nodeName = nodeNameSelector.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn nodeNameSelector === \"*\" ?\n\t\t\t\tfunction() { return true; } :\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn elem.nodeName && elem.nodeName.toLowerCase() === nodeName;\n\t\t\t\t};\n\t\t},\n\n\t\t\"CLASS\": function( className ) {\n\t\t\tvar pattern = classCache[ className + \" \" ];\n\n\t\t\treturn pattern ||\n\t\t\t\t(pattern = new RegExp( \"(^|\" + whitespace + \")\" + className + \"(\" + whitespace + \"|$)\" )) &&\n\t\t\t\tclassCache( className, function( elem ) {\n\t\t\t\t\treturn pattern.test( typeof elem.className === \"string\" && elem.className || typeof elem.getAttribute !== \"undefined\" && elem.getAttribute(\"class\") || \"\" );\n\t\t\t\t});\n\t\t},\n\n\t\t\"ATTR\": function( name, operator, check ) {\n\t\t\treturn function( elem ) {\n\t\t\t\tvar result = Sizzle.attr( elem, name );\n\n\t\t\t\tif ( result == null ) {\n\t\t\t\t\treturn operator === \"!=\";\n\t\t\t\t}\n\t\t\t\tif ( !operator ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tresult += \"\";\n\n\t\t\t\treturn operator === \"=\" ? result === check :\n\t\t\t\t\toperator === \"!=\" ? result !== check :\n\t\t\t\t\toperator === \"^=\" ? check && result.indexOf( check ) === 0 :\n\t\t\t\t\toperator === \"*=\" ? check && result.indexOf( check ) > -1 :\n\t\t\t\t\toperator === \"$=\" ? check && result.slice( -check.length ) === check :\n\t\t\t\t\toperator === \"~=\" ? ( \" \" + result.replace( rwhitespace, \" \" ) + \" \" ).indexOf( check ) > -1 :\n\t\t\t\t\toperator === \"|=\" ? result === check || result.slice( 0, check.length + 1 ) === check + \"-\" :\n\t\t\t\t\tfalse;\n\t\t\t};\n\t\t},\n\n\t\t\"CHILD\": function( type, what, argument, first, last ) {\n\t\t\tvar simple = type.slice( 0, 3 ) !== \"nth\",\n\t\t\t\tforward = type.slice( -4 ) !== \"last\",\n\t\t\t\tofType = what === \"of-type\";\n\n\t\t\treturn first === 1 && last === 0 ?\n\n\t\t\t\t// Shortcut for :nth-*(n)\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn !!elem.parentNode;\n\t\t\t\t} :\n\n\t\t\t\tfunction( elem, context, xml ) {\n\t\t\t\t\tvar cache, uniqueCache, outerCache, node, nodeIndex, start,\n\t\t\t\t\t\tdir = simple !== forward ? \"nextSibling\" : \"previousSibling\",\n\t\t\t\t\t\tparent = elem.parentNode,\n\t\t\t\t\t\tname = ofType && elem.nodeName.toLowerCase(),\n\t\t\t\t\t\tuseCache = !xml && !ofType,\n\t\t\t\t\t\tdiff = false;\n\n\t\t\t\t\tif ( parent ) {\n\n\t\t\t\t\t\t// :(first|last|only)-(child|of-type)\n\t\t\t\t\t\tif ( simple ) {\n\t\t\t\t\t\t\twhile ( dir ) {\n\t\t\t\t\t\t\t\tnode = elem;\n\t\t\t\t\t\t\t\twhile ( (node = node[ dir ]) ) {\n\t\t\t\t\t\t\t\t\tif ( ofType ?\n\t\t\t\t\t\t\t\t\t\tnode.nodeName.toLowerCase() === name :\n\t\t\t\t\t\t\t\t\t\tnode.nodeType === 1 ) {\n\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// Reverse direction for :only-* (if we haven't yet done so)\n\t\t\t\t\t\t\t\tstart = dir = type === \"only\" && !start && \"nextSibling\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstart = [ forward ? parent.firstChild : parent.lastChild ];\n\n\t\t\t\t\t\t// non-xml :nth-child(...) stores cache data on `parent`\n\t\t\t\t\t\tif ( forward && useCache ) {\n\n\t\t\t\t\t\t\t// Seek `elem` from a previously-cached index\n\n\t\t\t\t\t\t\t// ...in a gzip-friendly way\n\t\t\t\t\t\t\tnode = parent;\n\t\t\t\t\t\t\touterCache = node[ expando ] || (node[ expando ] = {});\n\n\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t(outerCache[ node.uniqueID ] = {});\n\n\t\t\t\t\t\t\tcache = uniqueCache[ type ] || [];\n\t\t\t\t\t\t\tnodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];\n\t\t\t\t\t\t\tdiff = nodeIndex && cache[ 2 ];\n\t\t\t\t\t\t\tnode = nodeIndex && parent.childNodes[ nodeIndex ];\n\n\t\t\t\t\t\t\twhile ( (node = ++nodeIndex && node && node[ dir ] ||\n\n\t\t\t\t\t\t\t\t// Fallback to seeking `elem` from the start\n\t\t\t\t\t\t\t\t(diff = nodeIndex = 0) || start.pop()) ) {\n\n\t\t\t\t\t\t\t\t// When found, cache indexes on `parent` and break\n\t\t\t\t\t\t\t\tif ( node.nodeType === 1 && ++diff && node === elem ) {\n\t\t\t\t\t\t\t\t\tuniqueCache[ type ] = [ dirruns, nodeIndex, diff ];\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Use previously-cached element index if available\n\t\t\t\t\t\t\tif ( useCache ) {\n\t\t\t\t\t\t\t\t// ...in a gzip-friendly way\n\t\t\t\t\t\t\t\tnode = elem;\n\t\t\t\t\t\t\t\touterCache = node[ expando ] || (node[ expando ] = {});\n\n\t\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t\t(outerCache[ node.uniqueID ] = {});\n\n\t\t\t\t\t\t\t\tcache = uniqueCache[ type ] || [];\n\t\t\t\t\t\t\t\tnodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];\n\t\t\t\t\t\t\t\tdiff = nodeIndex;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// xml :nth-child(...)\n\t\t\t\t\t\t\t// or :nth-last-child(...) or :nth(-last)?-of-type(...)\n\t\t\t\t\t\t\tif ( diff === false ) {\n\t\t\t\t\t\t\t\t// Use the same loop as above to seek `elem` from the start\n\t\t\t\t\t\t\t\twhile ( (node = ++nodeIndex && node && node[ dir ] ||\n\t\t\t\t\t\t\t\t\t(diff = nodeIndex = 0) || start.pop()) ) {\n\n\t\t\t\t\t\t\t\t\tif ( ( ofType ?\n\t\t\t\t\t\t\t\t\t\tnode.nodeName.toLowerCase() === name :\n\t\t\t\t\t\t\t\t\t\tnode.nodeType === 1 ) &&\n\t\t\t\t\t\t\t\t\t\t++diff ) {\n\n\t\t\t\t\t\t\t\t\t\t// Cache the index of each encountered element\n\t\t\t\t\t\t\t\t\t\tif ( useCache ) {\n\t\t\t\t\t\t\t\t\t\t\touterCache = node[ expando ] || (node[ expando ] = {});\n\n\t\t\t\t\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t\t\t\t\t(outerCache[ node.uniqueID ] = {});\n\n\t\t\t\t\t\t\t\t\t\t\tuniqueCache[ type ] = [ dirruns, diff ];\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif ( node === elem ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Incorporate the offset, then check against cycle size\n\t\t\t\t\t\tdiff -= last;\n\t\t\t\t\t\treturn diff === first || ( diff % first === 0 && diff / first >= 0 );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t},\n\n\t\t\"PSEUDO\": function( pseudo, argument ) {\n\t\t\t// pseudo-class names are case-insensitive\n\t\t\t// http://www.w3.org/TR/selectors/#pseudo-classes\n\t\t\t// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters\n\t\t\t// Remember that setFilters inherits from pseudos\n\t\t\tvar args,\n\t\t\t\tfn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] ||\n\t\t\t\t\tSizzle.error( \"unsupported pseudo: \" + pseudo );\n\n\t\t\t// The user may use createPseudo to indicate that\n\t\t\t// arguments are needed to create the filter function\n\t\t\t// just as Sizzle does\n\t\t\tif ( fn[ expando ] ) {\n\t\t\t\treturn fn( argument );\n\t\t\t}\n\n\t\t\t// But maintain support for old signatures\n\t\t\tif ( fn.length > 1 ) {\n\t\t\t\targs = [ pseudo, pseudo, \"\", argument ];\n\t\t\t\treturn Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ?\n\t\t\t\t\tmarkFunction(function( seed, matches ) {\n\t\t\t\t\t\tvar idx,\n\t\t\t\t\t\t\tmatched = fn( seed, argument ),\n\t\t\t\t\t\t\ti = matched.length;\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tidx = indexOf( seed, matched[i] );\n\t\t\t\t\t\t\tseed[ idx ] = !( matches[ idx ] = matched[i] );\n\t\t\t\t\t\t}\n\t\t\t\t\t}) :\n\t\t\t\t\tfunction( elem ) {\n\t\t\t\t\t\treturn fn( elem, 0, args );\n\t\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn fn;\n\t\t}\n\t},\n\n\tpseudos: {\n\t\t// Potentially complex pseudos\n\t\t\"not\": markFunction(function( selector ) {\n\t\t\t// Trim the selector passed to compile\n\t\t\t// to avoid treating leading and trailing\n\t\t\t// spaces as combinators\n\t\t\tvar input = [],\n\t\t\t\tresults = [],\n\t\t\t\tmatcher = compile( selector.replace( rtrim, \"$1\" ) );\n\n\t\t\treturn matcher[ expando ] ?\n\t\t\t\tmarkFunction(function( seed, matches, context, xml ) {\n\t\t\t\t\tvar elem,\n\t\t\t\t\t\tunmatched = matcher( seed, null, xml, [] ),\n\t\t\t\t\t\ti = seed.length;\n\n\t\t\t\t\t// Match elements unmatched by `matcher`\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( (elem = unmatched[i]) ) {\n\t\t\t\t\t\t\tseed[i] = !(matches[i] = elem);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}) :\n\t\t\t\tfunction( elem, context, xml ) {\n\t\t\t\t\tinput[0] = elem;\n\t\t\t\t\tmatcher( input, null, xml, results );\n\t\t\t\t\t// Don't keep the element (issue #299)\n\t\t\t\t\tinput[0] = null;\n\t\t\t\t\treturn !results.pop();\n\t\t\t\t};\n\t\t}),\n\n\t\t\"has\": markFunction(function( selector ) {\n\t\t\treturn function( elem ) {\n\t\t\t\treturn Sizzle( selector, elem ).length > 0;\n\t\t\t};\n\t\t}),\n\n\t\t\"contains\": markFunction(function( text ) {\n\t\t\ttext = text.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn ( elem.textContent || elem.innerText || getText( elem ) ).indexOf( text ) > -1;\n\t\t\t};\n\t\t}),\n\n\t\t// \"Whether an element is represented by a :lang() selector\n\t\t// is based solely on the element's language value\n\t\t// being equal to the identifier C,\n\t\t// or beginning with the identifier C immediately followed by \"-\".\n\t\t// The matching of C against the element's language value is performed case-insensitively.\n\t\t// The identifier C does not have to be a valid language name.\"\n\t\t// http://www.w3.org/TR/selectors/#lang-pseudo\n\t\t\"lang\": markFunction( function( lang ) {\n\t\t\t// lang value must be a valid identifier\n\t\t\tif ( !ridentifier.test(lang || \"\") ) {\n\t\t\t\tSizzle.error( \"unsupported lang: \" + lang );\n\t\t\t}\n\t\t\tlang = lang.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn function( elem ) {\n\t\t\t\tvar elemLang;\n\t\t\t\tdo {\n\t\t\t\t\tif ( (elemLang = documentIsHTML ?\n\t\t\t\t\t\telem.lang :\n\t\t\t\t\t\telem.getAttribute(\"xml:lang\") || elem.getAttribute(\"lang\")) ) {\n\n\t\t\t\t\t\telemLang = elemLang.toLowerCase();\n\t\t\t\t\t\treturn elemLang === lang || elemLang.indexOf( lang + \"-\" ) === 0;\n\t\t\t\t\t}\n\t\t\t\t} while ( (elem = elem.parentNode) && elem.nodeType === 1 );\n\t\t\t\treturn false;\n\t\t\t};\n\t\t}),\n\n\t\t// Miscellaneous\n\t\t\"target\": function( elem ) {\n\t\t\tvar hash = window.location && window.location.hash;\n\t\t\treturn hash && hash.slice( 1 ) === elem.id;\n\t\t},\n\n\t\t\"root\": function( elem ) {\n\t\t\treturn elem === docElem;\n\t\t},\n\n\t\t\"focus\": function( elem ) {\n\t\t\treturn elem === document.activeElement && (!document.hasFocus || document.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex);\n\t\t},\n\n\t\t// Boolean properties\n\t\t\"enabled\": createDisabledPseudo( false ),\n\t\t\"disabled\": createDisabledPseudo( true ),\n\n\t\t\"checked\": function( elem ) {\n\t\t\t// In CSS3, :checked should return both checked and selected elements\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\tvar nodeName = elem.nodeName.toLowerCase();\n\t\t\treturn (nodeName === \"input\" && !!elem.checked) || (nodeName === \"option\" && !!elem.selected);\n\t\t},\n\n\t\t\"selected\": function( elem ) {\n\t\t\t// Accessing this property makes selected-by-default\n\t\t\t// options in Safari work properly\n\t\t\tif ( elem.parentNode ) {\n\t\t\t\telem.parentNode.selectedIndex;\n\t\t\t}\n\n\t\t\treturn elem.selected === true;\n\t\t},\n\n\t\t// Contents\n\t\t\"empty\": function( elem ) {\n\t\t\t// http://www.w3.org/TR/selectors/#empty-pseudo\n\t\t\t// :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),\n\t\t\t//   but not by others (comment: 8; processing instruction: 7; etc.)\n\t\t\t// nodeType < 6 works because attributes (2) do not appear as children\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\n\t\t\t\tif ( elem.nodeType < 6 ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\n\t\t\"parent\": function( elem ) {\n\t\t\treturn !Expr.pseudos[\"empty\"]( elem );\n\t\t},\n\n\t\t// Element/input types\n\t\t\"header\": function( elem ) {\n\t\t\treturn rheader.test( elem.nodeName );\n\t\t},\n\n\t\t\"input\": function( elem ) {\n\t\t\treturn rinputs.test( elem.nodeName );\n\t\t},\n\n\t\t\"button\": function( elem ) {\n\t\t\tvar name = elem.nodeName.toLowerCase();\n\t\t\treturn name === \"input\" && elem.type === \"button\" || name === \"button\";\n\t\t},\n\n\t\t\"text\": function( elem ) {\n\t\t\tvar attr;\n\t\t\treturn elem.nodeName.toLowerCase() === \"input\" &&\n\t\t\t\telem.type === \"text\" &&\n\n\t\t\t\t// Support: IE<8\n\t\t\t\t// New HTML5 attribute values (e.g., \"search\") appear with elem.type === \"text\"\n\t\t\t\t( (attr = elem.getAttribute(\"type\")) == null || attr.toLowerCase() === \"text\" );\n\t\t},\n\n\t\t// Position-in-collection\n\t\t\"first\": createPositionalPseudo(function() {\n\t\t\treturn [ 0 ];\n\t\t}),\n\n\t\t\"last\": createPositionalPseudo(function( matchIndexes, length ) {\n\t\t\treturn [ length - 1 ];\n\t\t}),\n\n\t\t\"eq\": createPositionalPseudo(function( matchIndexes, length, argument ) {\n\t\t\treturn [ argument < 0 ? argument + length : argument ];\n\t\t}),\n\n\t\t\"even\": createPositionalPseudo(function( matchIndexes, length ) {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t}),\n\n\t\t\"odd\": createPositionalPseudo(function( matchIndexes, length ) {\n\t\t\tvar i = 1;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t}),\n\n\t\t\"lt\": createPositionalPseudo(function( matchIndexes, length, argument ) {\n\t\t\tvar i = argument < 0 ? argument + length : argument;\n\t\t\tfor ( ; --i >= 0; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t}),\n\n\t\t\"gt\": createPositionalPseudo(function( matchIndexes, length, argument ) {\n\t\t\tvar i = argument < 0 ? argument + length : argument;\n\t\t\tfor ( ; ++i < length; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t})\n\t}\n};\n\nExpr.pseudos[\"nth\"] = Expr.pseudos[\"eq\"];\n\n// Add button/input type pseudos\nfor ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) {\n\tExpr.pseudos[ i ] = createInputPseudo( i );\n}\nfor ( i in { submit: true, reset: true } ) {\n\tExpr.pseudos[ i ] = createButtonPseudo( i );\n}\n\n// Easy API for creating new setFilters\nfunction setFilters() {}\nsetFilters.prototype = Expr.filters = Expr.pseudos;\nExpr.setFilters = new setFilters();\n\ntokenize = Sizzle.tokenize = function( selector, parseOnly ) {\n\tvar matched, match, tokens, type,\n\t\tsoFar, groups, preFilters,\n\t\tcached = tokenCache[ selector + \" \" ];\n\n\tif ( cached ) {\n\t\treturn parseOnly ? 0 : cached.slice( 0 );\n\t}\n\n\tsoFar = selector;\n\tgroups = [];\n\tpreFilters = Expr.preFilter;\n\n\twhile ( soFar ) {\n\n\t\t// Comma and first run\n\t\tif ( !matched || (match = rcomma.exec( soFar )) ) {\n\t\t\tif ( match ) {\n\t\t\t\t// Don't consume trailing commas as valid\n\t\t\t\tsoFar = soFar.slice( match[0].length ) || soFar;\n\t\t\t}\n\t\t\tgroups.push( (tokens = []) );\n\t\t}\n\n\t\tmatched = false;\n\n\t\t// Combinators\n\t\tif ( (match = rcombinators.exec( soFar )) ) {\n\t\t\tmatched = match.shift();\n\t\t\ttokens.push({\n\t\t\t\tvalue: matched,\n\t\t\t\t// Cast descendant combinators to space\n\t\t\t\ttype: match[0].replace( rtrim, \" \" )\n\t\t\t});\n\t\t\tsoFar = soFar.slice( matched.length );\n\t\t}\n\n\t\t// Filters\n\t\tfor ( type in Expr.filter ) {\n\t\t\tif ( (match = matchExpr[ type ].exec( soFar )) && (!preFilters[ type ] ||\n\t\t\t\t(match = preFilters[ type ]( match ))) ) {\n\t\t\t\tmatched = match.shift();\n\t\t\t\ttokens.push({\n\t\t\t\t\tvalue: matched,\n\t\t\t\t\ttype: type,\n\t\t\t\t\tmatches: match\n\t\t\t\t});\n\t\t\t\tsoFar = soFar.slice( matched.length );\n\t\t\t}\n\t\t}\n\n\t\tif ( !matched ) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\t// Return the length of the invalid excess\n\t// if we're just parsing\n\t// Otherwise, throw an error or return tokens\n\treturn parseOnly ?\n\t\tsoFar.length :\n\t\tsoFar ?\n\t\t\tSizzle.error( selector ) :\n\t\t\t// Cache the tokens\n\t\t\ttokenCache( selector, groups ).slice( 0 );\n};\n\nfunction toSelector( tokens ) {\n\tvar i = 0,\n\t\tlen = tokens.length,\n\t\tselector = \"\";\n\tfor ( ; i < len; i++ ) {\n\t\tselector += tokens[i].value;\n\t}\n\treturn selector;\n}\n\nfunction addCombinator( matcher, combinator, base ) {\n\tvar dir = combinator.dir,\n\t\tskip = combinator.next,\n\t\tkey = skip || dir,\n\t\tcheckNonElements = base && key === \"parentNode\",\n\t\tdoneName = done++;\n\n\treturn combinator.first ?\n\t\t// Check against closest ancestor/preceding element\n\t\tfunction( elem, context, xml ) {\n\t\t\twhile ( (elem = elem[ dir ]) ) {\n\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\treturn matcher( elem, context, xml );\n\t\t\t\t}\n\t\t\t}\n\t\t} :\n\n\t\t// Check against all ancestor/preceding elements\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar oldCache, uniqueCache, outerCache,\n\t\t\t\tnewCache = [ dirruns, doneName ];\n\n\t\t\t// We can't set arbitrary data on XML nodes, so they don't benefit from combinator caching\n\t\t\tif ( xml ) {\n\t\t\t\twhile ( (elem = elem[ dir ]) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\tif ( matcher( elem, context, xml ) ) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\twhile ( (elem = elem[ dir ]) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\touterCache = elem[ expando ] || (elem[ expando ] = {});\n\n\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\tuniqueCache = outerCache[ elem.uniqueID ] || (outerCache[ elem.uniqueID ] = {});\n\n\t\t\t\t\t\tif ( skip && skip === elem.nodeName.toLowerCase() ) {\n\t\t\t\t\t\t\telem = elem[ dir ] || elem;\n\t\t\t\t\t\t} else if ( (oldCache = uniqueCache[ key ]) &&\n\t\t\t\t\t\t\toldCache[ 0 ] === dirruns && oldCache[ 1 ] === doneName ) {\n\n\t\t\t\t\t\t\t// Assign to newCache so results back-propagate to previous elements\n\t\t\t\t\t\t\treturn (newCache[ 2 ] = oldCache[ 2 ]);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Reuse newcache so results back-propagate to previous elements\n\t\t\t\t\t\t\tuniqueCache[ key ] = newCache;\n\n\t\t\t\t\t\t\t// A match means we're done; a fail means we have to keep checking\n\t\t\t\t\t\t\tif ( (newCache[ 2 ] = matcher( elem, context, xml )) ) {\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n}\n\nfunction elementMatcher( matchers ) {\n\treturn matchers.length > 1 ?\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar i = matchers.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( !matchers[i]( elem, context, xml ) ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t} :\n\t\tmatchers[0];\n}\n\nfunction multipleContexts( selector, contexts, results ) {\n\tvar i = 0,\n\t\tlen = contexts.length;\n\tfor ( ; i < len; i++ ) {\n\t\tSizzle( selector, contexts[i], results );\n\t}\n\treturn results;\n}\n\nfunction condense( unmatched, map, filter, context, xml ) {\n\tvar elem,\n\t\tnewUnmatched = [],\n\t\ti = 0,\n\t\tlen = unmatched.length,\n\t\tmapped = map != null;\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( (elem = unmatched[i]) ) {\n\t\t\tif ( !filter || filter( elem, context, xml ) ) {\n\t\t\t\tnewUnmatched.push( elem );\n\t\t\t\tif ( mapped ) {\n\t\t\t\t\tmap.push( i );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn newUnmatched;\n}\n\nfunction setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) {\n\tif ( postFilter && !postFilter[ expando ] ) {\n\t\tpostFilter = setMatcher( postFilter );\n\t}\n\tif ( postFinder && !postFinder[ expando ] ) {\n\t\tpostFinder = setMatcher( postFinder, postSelector );\n\t}\n\treturn markFunction(function( seed, results, context, xml ) {\n\t\tvar temp, i, elem,\n\t\t\tpreMap = [],\n\t\t\tpostMap = [],\n\t\t\tpreexisting = results.length,\n\n\t\t\t// Get initial elements from seed or context\n\t\t\telems = seed || multipleContexts( selector || \"*\", context.nodeType ? [ context ] : context, [] ),\n\n\t\t\t// Prefilter to get matcher input, preserving a map for seed-results synchronization\n\t\t\tmatcherIn = preFilter && ( seed || !selector ) ?\n\t\t\t\tcondense( elems, preMap, preFilter, context, xml ) :\n\t\t\t\telems,\n\n\t\t\tmatcherOut = matcher ?\n\t\t\t\t// If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,\n\t\t\t\tpostFinder || ( seed ? preFilter : preexisting || postFilter ) ?\n\n\t\t\t\t\t// ...intermediate processing is necessary\n\t\t\t\t\t[] :\n\n\t\t\t\t\t// ...otherwise use results directly\n\t\t\t\t\tresults :\n\t\t\t\tmatcherIn;\n\n\t\t// Find primary matches\n\t\tif ( matcher ) {\n\t\t\tmatcher( matcherIn, matcherOut, context, xml );\n\t\t}\n\n\t\t// Apply postFilter\n\t\tif ( postFilter ) {\n\t\t\ttemp = condense( matcherOut, postMap );\n\t\t\tpostFilter( temp, [], context, xml );\n\n\t\t\t// Un-match failing elements by moving them back to matcherIn\n\t\t\ti = temp.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( (elem = temp[i]) ) {\n\t\t\t\t\tmatcherOut[ postMap[i] ] = !(matcherIn[ postMap[i] ] = elem);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( seed ) {\n\t\t\tif ( postFinder || preFilter ) {\n\t\t\t\tif ( postFinder ) {\n\t\t\t\t\t// Get the final matcherOut by condensing this intermediate into postFinder contexts\n\t\t\t\t\ttemp = [];\n\t\t\t\t\ti = matcherOut.length;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( (elem = matcherOut[i]) ) {\n\t\t\t\t\t\t\t// Restore matcherIn since elem is not yet a final match\n\t\t\t\t\t\t\ttemp.push( (matcherIn[i] = elem) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tpostFinder( null, (matcherOut = []), temp, xml );\n\t\t\t\t}\n\n\t\t\t\t// Move matched elements from seed to results to keep them synchronized\n\t\t\t\ti = matcherOut.length;\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\tif ( (elem = matcherOut[i]) &&\n\t\t\t\t\t\t(temp = postFinder ? indexOf( seed, elem ) : preMap[i]) > -1 ) {\n\n\t\t\t\t\t\tseed[temp] = !(results[temp] = elem);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Add elements to results, through postFinder if defined\n\t\t} else {\n\t\t\tmatcherOut = condense(\n\t\t\t\tmatcherOut === results ?\n\t\t\t\t\tmatcherOut.splice( preexisting, matcherOut.length ) :\n\t\t\t\t\tmatcherOut\n\t\t\t);\n\t\t\tif ( postFinder ) {\n\t\t\t\tpostFinder( null, results, matcherOut, xml );\n\t\t\t} else {\n\t\t\t\tpush.apply( results, matcherOut );\n\t\t\t}\n\t\t}\n\t});\n}\n\nfunction matcherFromTokens( tokens ) {\n\tvar checkContext, matcher, j,\n\t\tlen = tokens.length,\n\t\tleadingRelative = Expr.relative[ tokens[0].type ],\n\t\timplicitRelative = leadingRelative || Expr.relative[\" \"],\n\t\ti = leadingRelative ? 1 : 0,\n\n\t\t// The foundational matcher ensures that elements are reachable from top-level context(s)\n\t\tmatchContext = addCombinator( function( elem ) {\n\t\t\treturn elem === checkContext;\n\t\t}, implicitRelative, true ),\n\t\tmatchAnyContext = addCombinator( function( elem ) {\n\t\t\treturn indexOf( checkContext, elem ) > -1;\n\t\t}, implicitRelative, true ),\n\t\tmatchers = [ function( elem, context, xml ) {\n\t\t\tvar ret = ( !leadingRelative && ( xml || context !== outermostContext ) ) || (\n\t\t\t\t(checkContext = context).nodeType ?\n\t\t\t\t\tmatchContext( elem, context, xml ) :\n\t\t\t\t\tmatchAnyContext( elem, context, xml ) );\n\t\t\t// Avoid hanging onto element (issue #299)\n\t\t\tcheckContext = null;\n\t\t\treturn ret;\n\t\t} ];\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( (matcher = Expr.relative[ tokens[i].type ]) ) {\n\t\t\tmatchers = [ addCombinator(elementMatcher( matchers ), matcher) ];\n\t\t} else {\n\t\t\tmatcher = Expr.filter[ tokens[i].type ].apply( null, tokens[i].matches );\n\n\t\t\t// Return special upon seeing a positional matcher\n\t\t\tif ( matcher[ expando ] ) {\n\t\t\t\t// Find the next relative operator (if any) for proper handling\n\t\t\t\tj = ++i;\n\t\t\t\tfor ( ; j < len; j++ ) {\n\t\t\t\t\tif ( Expr.relative[ tokens[j].type ] ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn setMatcher(\n\t\t\t\t\ti > 1 && elementMatcher( matchers ),\n\t\t\t\t\ti > 1 && toSelector(\n\t\t\t\t\t\t// If the preceding token was a descendant combinator, insert an implicit any-element `*`\n\t\t\t\t\t\ttokens.slice( 0, i - 1 ).concat({ value: tokens[ i - 2 ].type === \" \" ? \"*\" : \"\" })\n\t\t\t\t\t).replace( rtrim, \"$1\" ),\n\t\t\t\t\tmatcher,\n\t\t\t\t\ti < j && matcherFromTokens( tokens.slice( i, j ) ),\n\t\t\t\t\tj < len && matcherFromTokens( (tokens = tokens.slice( j )) ),\n\t\t\t\t\tj < len && toSelector( tokens )\n\t\t\t\t);\n\t\t\t}\n\t\t\tmatchers.push( matcher );\n\t\t}\n\t}\n\n\treturn elementMatcher( matchers );\n}\n\nfunction matcherFromGroupMatchers( elementMatchers, setMatchers ) {\n\tvar bySet = setMatchers.length > 0,\n\t\tbyElement = elementMatchers.length > 0,\n\t\tsuperMatcher = function( seed, context, xml, results, outermost ) {\n\t\t\tvar elem, j, matcher,\n\t\t\t\tmatchedCount = 0,\n\t\t\t\ti = \"0\",\n\t\t\t\tunmatched = seed && [],\n\t\t\t\tsetMatched = [],\n\t\t\t\tcontextBackup = outermostContext,\n\t\t\t\t// We must always have either seed elements or outermost context\n\t\t\t\telems = seed || byElement && Expr.find[\"TAG\"]( \"*\", outermost ),\n\t\t\t\t// Use integer dirruns iff this is the outermost matcher\n\t\t\t\tdirrunsUnique = (dirruns += contextBackup == null ? 1 : Math.random() || 0.1),\n\t\t\t\tlen = elems.length;\n\n\t\t\tif ( outermost ) {\n\t\t\t\toutermostContext = context === document || context || outermost;\n\t\t\t}\n\n\t\t\t// Add elements passing elementMatchers directly to results\n\t\t\t// Support: IE<9, Safari\n\t\t\t// Tolerate NodeList properties (IE: \"length\"; Safari: <number>) matching elements by id\n\t\t\tfor ( ; i !== len && (elem = elems[i]) != null; i++ ) {\n\t\t\t\tif ( byElement && elem ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\tif ( !context && elem.ownerDocument !== document ) {\n\t\t\t\t\t\tsetDocument( elem );\n\t\t\t\t\t\txml = !documentIsHTML;\n\t\t\t\t\t}\n\t\t\t\t\twhile ( (matcher = elementMatchers[j++]) ) {\n\t\t\t\t\t\tif ( matcher( elem, context || document, xml) ) {\n\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( outermost ) {\n\t\t\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Track unmatched elements for set filters\n\t\t\t\tif ( bySet ) {\n\t\t\t\t\t// They will have gone through all possible matchers\n\t\t\t\t\tif ( (elem = !matcher && elem) ) {\n\t\t\t\t\t\tmatchedCount--;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Lengthen the array for every element, matched or not\n\t\t\t\t\tif ( seed ) {\n\t\t\t\t\t\tunmatched.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// `i` is now the count of elements visited above, and adding it to `matchedCount`\n\t\t\t// makes the latter nonnegative.\n\t\t\tmatchedCount += i;\n\n\t\t\t// Apply set filters to unmatched elements\n\t\t\t// NOTE: This can be skipped if there are no unmatched elements (i.e., `matchedCount`\n\t\t\t// equals `i`), unless we didn't visit _any_ elements in the above loop because we have\n\t\t\t// no element matchers and no seed.\n\t\t\t// Incrementing an initially-string \"0\" `i` allows `i` to remain a string only in that\n\t\t\t// case, which will result in a \"00\" `matchedCount` that differs from `i` but is also\n\t\t\t// numerically zero.\n\t\t\tif ( bySet && i !== matchedCount ) {\n\t\t\t\tj = 0;\n\t\t\t\twhile ( (matcher = setMatchers[j++]) ) {\n\t\t\t\t\tmatcher( unmatched, setMatched, context, xml );\n\t\t\t\t}\n\n\t\t\t\tif ( seed ) {\n\t\t\t\t\t// Reintegrate element matches to eliminate the need for sorting\n\t\t\t\t\tif ( matchedCount > 0 ) {\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tif ( !(unmatched[i] || setMatched[i]) ) {\n\t\t\t\t\t\t\t\tsetMatched[i] = pop.call( results );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Discard index placeholder values to get only actual matches\n\t\t\t\t\tsetMatched = condense( setMatched );\n\t\t\t\t}\n\n\t\t\t\t// Add matches to results\n\t\t\t\tpush.apply( results, setMatched );\n\n\t\t\t\t// Seedless set matches succeeding multiple successful matchers stipulate sorting\n\t\t\t\tif ( outermost && !seed && setMatched.length > 0 &&\n\t\t\t\t\t( matchedCount + setMatchers.length ) > 1 ) {\n\n\t\t\t\t\tSizzle.uniqueSort( results );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Override manipulation of globals by nested matchers\n\t\t\tif ( outermost ) {\n\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\toutermostContext = contextBackup;\n\t\t\t}\n\n\t\t\treturn unmatched;\n\t\t};\n\n\treturn bySet ?\n\t\tmarkFunction( superMatcher ) :\n\t\tsuperMatcher;\n}\n\ncompile = Sizzle.compile = function( selector, match /* Internal Use Only */ ) {\n\tvar i,\n\t\tsetMatchers = [],\n\t\telementMatchers = [],\n\t\tcached = compilerCache[ selector + \" \" ];\n\n\tif ( !cached ) {\n\t\t// Generate a function of recursive functions that can be used to check each element\n\t\tif ( !match ) {\n\t\t\tmatch = tokenize( selector );\n\t\t}\n\t\ti = match.length;\n\t\twhile ( i-- ) {\n\t\t\tcached = matcherFromTokens( match[i] );\n\t\t\tif ( cached[ expando ] ) {\n\t\t\t\tsetMatchers.push( cached );\n\t\t\t} else {\n\t\t\t\telementMatchers.push( cached );\n\t\t\t}\n\t\t}\n\n\t\t// Cache the compiled function\n\t\tcached = compilerCache( selector, matcherFromGroupMatchers( elementMatchers, setMatchers ) );\n\n\t\t// Save selector and tokenization\n\t\tcached.selector = selector;\n\t}\n\treturn cached;\n};\n\n/**\n * A low-level selection function that works with Sizzle's compiled\n *  selector functions\n * @param {String|Function} selector A selector or a pre-compiled\n *  selector function built with Sizzle.compile\n * @param {Element} context\n * @param {Array} [results]\n * @param {Array} [seed] A set of elements to match against\n */\nselect = Sizzle.select = function( selector, context, results, seed ) {\n\tvar i, tokens, token, type, find,\n\t\tcompiled = typeof selector === \"function\" && selector,\n\t\tmatch = !seed && tokenize( (selector = compiled.selector || selector) );\n\n\tresults = results || [];\n\n\t// Try to minimize operations if there is only one selector in the list and no seed\n\t// (the latter of which guarantees us context)\n\tif ( match.length === 1 ) {\n\n\t\t// Reduce context if the leading compound selector is an ID\n\t\ttokens = match[0] = match[0].slice( 0 );\n\t\tif ( tokens.length > 2 && (token = tokens[0]).type === \"ID\" &&\n\t\t\t\tsupport.getById && context.nodeType === 9 && documentIsHTML &&\n\t\t\t\tExpr.relative[ tokens[1].type ] ) {\n\n\t\t\tcontext = ( Expr.find[\"ID\"]( token.matches[0].replace(runescape, funescape), context ) || [] )[0];\n\t\t\tif ( !context ) {\n\t\t\t\treturn results;\n\n\t\t\t// Precompiled matchers will still verify ancestry, so step up a level\n\t\t\t} else if ( compiled ) {\n\t\t\t\tcontext = context.parentNode;\n\t\t\t}\n\n\t\t\tselector = selector.slice( tokens.shift().value.length );\n\t\t}\n\n\t\t// Fetch a seed set for right-to-left matching\n\t\ti = matchExpr[\"needsContext\"].test( selector ) ? 0 : tokens.length;\n\t\twhile ( i-- ) {\n\t\t\ttoken = tokens[i];\n\n\t\t\t// Abort if we hit a combinator\n\t\t\tif ( Expr.relative[ (type = token.type) ] ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( (find = Expr.find[ type ]) ) {\n\t\t\t\t// Search, expanding context for leading sibling combinators\n\t\t\t\tif ( (seed = find(\n\t\t\t\t\ttoken.matches[0].replace( runescape, funescape ),\n\t\t\t\t\trsibling.test( tokens[0].type ) && testContext( context.parentNode ) || context\n\t\t\t\t)) ) {\n\n\t\t\t\t\t// If seed is empty or no tokens remain, we can return early\n\t\t\t\t\ttokens.splice( i, 1 );\n\t\t\t\t\tselector = seed.length && toSelector( tokens );\n\t\t\t\t\tif ( !selector ) {\n\t\t\t\t\t\tpush.apply( results, seed );\n\t\t\t\t\t\treturn results;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Compile and execute a filtering function if one is not provided\n\t// Provide `match` to avoid retokenization if we modified the selector above\n\t( compiled || compile( selector, match ) )(\n\t\tseed,\n\t\tcontext,\n\t\t!documentIsHTML,\n\t\tresults,\n\t\t!context || rsibling.test( selector ) && testContext( context.parentNode ) || context\n\t);\n\treturn results;\n};\n\n// One-time assignments\n\n// Sort stability\nsupport.sortStable = expando.split(\"\").sort( sortOrder ).join(\"\") === expando;\n\n// Support: Chrome 14-35+\n// Always assume duplicates if they aren't passed to the comparison function\nsupport.detectDuplicates = !!hasDuplicate;\n\n// Initialize against the default document\nsetDocument();\n\n// Support: Webkit<537.32 - Safari 6.0.3/Chrome 25 (fixed in Chrome 27)\n// Detached nodes confoundingly follow *each other*\nsupport.sortDetached = assert(function( el ) {\n\t// Should return 1, but returns 4 (following)\n\treturn el.compareDocumentPosition( document.createElement(\"fieldset\") ) & 1;\n});\n\n// Support: IE<8\n// Prevent attribute/property \"interpolation\"\n// https://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx\nif ( !assert(function( el ) {\n\tel.innerHTML = \"<a href='#'></a>\";\n\treturn el.firstChild.getAttribute(\"href\") === \"#\" ;\n}) ) {\n\taddHandle( \"type|href|height|width\", function( elem, name, isXML ) {\n\t\tif ( !isXML ) {\n\t\t\treturn elem.getAttribute( name, name.toLowerCase() === \"type\" ? 1 : 2 );\n\t\t}\n\t});\n}\n\n// Support: IE<9\n// Use defaultValue in place of getAttribute(\"value\")\nif ( !support.attributes || !assert(function( el ) {\n\tel.innerHTML = \"<input/>\";\n\tel.firstChild.setAttribute( \"value\", \"\" );\n\treturn el.firstChild.getAttribute( \"value\" ) === \"\";\n}) ) {\n\taddHandle( \"value\", function( elem, name, isXML ) {\n\t\tif ( !isXML && elem.nodeName.toLowerCase() === \"input\" ) {\n\t\t\treturn elem.defaultValue;\n\t\t}\n\t});\n}\n\n// Support: IE<9\n// Use getAttributeNode to fetch booleans when getAttribute lies\nif ( !assert(function( el ) {\n\treturn el.getAttribute(\"disabled\") == null;\n}) ) {\n\taddHandle( booleans, function( elem, name, isXML ) {\n\t\tvar val;\n\t\tif ( !isXML ) {\n\t\t\treturn elem[ name ] === true ? name.toLowerCase() :\n\t\t\t\t\t(val = elem.getAttributeNode( name )) && val.specified ?\n\t\t\t\t\tval.value :\n\t\t\t\tnull;\n\t\t}\n\t});\n}\n\nreturn Sizzle;\n\n})( window );\n\n\n\njQuery.find = Sizzle;\njQuery.expr = Sizzle.selectors;\n\n// Deprecated\njQuery.expr[ \":\" ] = jQuery.expr.pseudos;\njQuery.uniqueSort = jQuery.unique = Sizzle.uniqueSort;\njQuery.text = Sizzle.getText;\njQuery.isXMLDoc = Sizzle.isXML;\njQuery.contains = Sizzle.contains;\njQuery.escapeSelector = Sizzle.escape;\n\n\n\nvar dir = function( elem, dir, until ) {\n\tvar matched = [],\n\t\ttruncate = until !== undefined;\n\n\twhile ( ( elem = elem[ dir ] ) && elem.nodeType !== 9 ) {\n\t\tif ( elem.nodeType === 1 ) {\n\t\t\tif ( truncate && jQuery( elem ).is( until ) ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tmatched.push( elem );\n\t\t}\n\t}\n\treturn matched;\n};\n\n\nvar siblings = function( n, elem ) {\n\tvar matched = [];\n\n\tfor ( ; n; n = n.nextSibling ) {\n\t\tif ( n.nodeType === 1 && n !== elem ) {\n\t\t\tmatched.push( n );\n\t\t}\n\t}\n\n\treturn matched;\n};\n\n\nvar rneedsContext = jQuery.expr.match.needsContext;\n\nvar rsingleTag = ( /^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i );\n\n\n\nvar risSimple = /^.[^:#\\[\\.,]*$/;\n\n// Implement the identical functionality for filter and not\nfunction winnow( elements, qualifier, not ) {\n\tif ( jQuery.isFunction( qualifier ) ) {\n\t\treturn jQuery.grep( elements, function( elem, i ) {\n\t\t\t/* jshint -W018 */\n\t\t\treturn !!qualifier.call( elem, i, elem ) !== not;\n\t\t} );\n\n\t}\n\n\tif ( qualifier.nodeType ) {\n\t\treturn jQuery.grep( elements, function( elem ) {\n\t\t\treturn ( elem === qualifier ) !== not;\n\t\t} );\n\n\t}\n\n\tif ( typeof qualifier === \"string\" ) {\n\t\tif ( risSimple.test( qualifier ) ) {\n\t\t\treturn jQuery.filter( qualifier, elements, not );\n\t\t}\n\n\t\tqualifier = jQuery.filter( qualifier, elements );\n\t}\n\n\treturn jQuery.grep( elements, function( elem ) {\n\t\treturn ( indexOf.call( qualifier, elem ) > -1 ) !== not && elem.nodeType === 1;\n\t} );\n}\n\njQuery.filter = function( expr, elems, not ) {\n\tvar elem = elems[ 0 ];\n\n\tif ( not ) {\n\t\texpr = \":not(\" + expr + \")\";\n\t}\n\n\treturn elems.length === 1 && elem.nodeType === 1 ?\n\t\tjQuery.find.matchesSelector( elem, expr ) ? [ elem ] : [] :\n\t\tjQuery.find.matches( expr, jQuery.grep( elems, function( elem ) {\n\t\t\treturn elem.nodeType === 1;\n\t\t} ) );\n};\n\njQuery.fn.extend( {\n\tfind: function( selector ) {\n\t\tvar i, ret,\n\t\t\tlen = this.length,\n\t\t\tself = this;\n\n\t\tif ( typeof selector !== \"string\" ) {\n\t\t\treturn this.pushStack( jQuery( selector ).filter( function() {\n\t\t\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\t\t\tif ( jQuery.contains( self[ i ], this ) ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} ) );\n\t\t}\n\n\t\tret = this.pushStack( [] );\n\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\tjQuery.find( selector, self[ i ], ret );\n\t\t}\n\n\t\treturn len > 1 ? jQuery.uniqueSort( ret ) : ret;\n\t},\n\tfilter: function( selector ) {\n\t\treturn this.pushStack( winnow( this, selector || [], false ) );\n\t},\n\tnot: function( selector ) {\n\t\treturn this.pushStack( winnow( this, selector || [], true ) );\n\t},\n\tis: function( selector ) {\n\t\treturn !!winnow(\n\t\t\tthis,\n\n\t\t\t// If this is a positional/relative selector, check membership in the returned set\n\t\t\t// so $(\"p:first\").is(\"p:last\") won't return true for a doc with two \"p\".\n\t\t\ttypeof selector === \"string\" && rneedsContext.test( selector ) ?\n\t\t\t\tjQuery( selector ) :\n\t\t\t\tselector || [],\n\t\t\tfalse\n\t\t).length;\n\t}\n} );\n\n\n// Initialize a jQuery object\n\n\n// A central reference to the root jQuery(document)\nvar rootjQuery,\n\n\t// A simple way to check for HTML strings\n\t// Prioritize #id over <tag> to avoid XSS via location.hash (#9521)\n\t// Strict HTML recognition (#11290: must start with <)\n\t// Shortcut simple #id case for speed\n\trquickExpr = /^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]+))$/,\n\n\tinit = jQuery.fn.init = function( selector, context, root ) {\n\t\tvar match, elem;\n\n\t\t// HANDLE: $(\"\"), $(null), $(undefined), $(false)\n\t\tif ( !selector ) {\n\t\t\treturn this;\n\t\t}\n\n\t\t// Method init() accepts an alternate rootjQuery\n\t\t// so migrate can support jQuery.sub (gh-2101)\n\t\troot = root || rootjQuery;\n\n\t\t// Handle HTML strings\n\t\tif ( typeof selector === \"string\" ) {\n\t\t\tif ( selector[ 0 ] === \"<\" &&\n\t\t\t\tselector[ selector.length - 1 ] === \">\" &&\n\t\t\t\tselector.length >= 3 ) {\n\n\t\t\t\t// Assume that strings that start and end with <> are HTML and skip the regex check\n\t\t\t\tmatch = [ null, selector, null ];\n\n\t\t\t} else {\n\t\t\t\tmatch = rquickExpr.exec( selector );\n\t\t\t}\n\n\t\t\t// Match html or make sure no context is specified for #id\n\t\t\tif ( match && ( match[ 1 ] || !context ) ) {\n\n\t\t\t\t// HANDLE: $(html) -> $(array)\n\t\t\t\tif ( match[ 1 ] ) {\n\t\t\t\t\tcontext = context instanceof jQuery ? context[ 0 ] : context;\n\n\t\t\t\t\t// Option to run scripts is true for back-compat\n\t\t\t\t\t// Intentionally let the error be thrown if parseHTML is not present\n\t\t\t\t\tjQuery.merge( this, jQuery.parseHTML(\n\t\t\t\t\t\tmatch[ 1 ],\n\t\t\t\t\t\tcontext && context.nodeType ? context.ownerDocument || context : document,\n\t\t\t\t\t\ttrue\n\t\t\t\t\t) );\n\n\t\t\t\t\t// HANDLE: $(html, props)\n\t\t\t\t\tif ( rsingleTag.test( match[ 1 ] ) && jQuery.isPlainObject( context ) ) {\n\t\t\t\t\t\tfor ( match in context ) {\n\n\t\t\t\t\t\t\t// Properties of context are called as methods if possible\n\t\t\t\t\t\t\tif ( jQuery.isFunction( this[ match ] ) ) {\n\t\t\t\t\t\t\t\tthis[ match ]( context[ match ] );\n\n\t\t\t\t\t\t\t// ...and otherwise set as attributes\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.attr( match, context[ match ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn this;\n\n\t\t\t\t// HANDLE: $(#id)\n\t\t\t\t} else {\n\t\t\t\t\telem = document.getElementById( match[ 2 ] );\n\n\t\t\t\t\tif ( elem ) {\n\n\t\t\t\t\t\t// Inject the element directly into the jQuery object\n\t\t\t\t\t\tthis[ 0 ] = elem;\n\t\t\t\t\t\tthis.length = 1;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\n\t\t\t// HANDLE: $(expr, $(...))\n\t\t\t} else if ( !context || context.jquery ) {\n\t\t\t\treturn ( context || root ).find( selector );\n\n\t\t\t// HANDLE: $(expr, context)\n\t\t\t// (which is just equivalent to: $(context).find(expr)\n\t\t\t} else {\n\t\t\t\treturn this.constructor( context ).find( selector );\n\t\t\t}\n\n\t\t// HANDLE: $(DOMElement)\n\t\t} else if ( selector.nodeType ) {\n\t\t\tthis[ 0 ] = selector;\n\t\t\tthis.length = 1;\n\t\t\treturn this;\n\n\t\t// HANDLE: $(function)\n\t\t// Shortcut for document ready\n\t\t} else if ( jQuery.isFunction( selector ) ) {\n\t\t\treturn root.ready !== undefined ?\n\t\t\t\troot.ready( selector ) :\n\n\t\t\t\t// Execute immediately if ready is not present\n\t\t\t\tselector( jQuery );\n\t\t}\n\n\t\treturn jQuery.makeArray( selector, this );\n\t};\n\n// Give the init function the jQuery prototype for later instantiation\ninit.prototype = jQuery.fn;\n\n// Initialize central reference\nrootjQuery = jQuery( document );\n\n\nvar rparentsprev = /^(?:parents|prev(?:Until|All))/,\n\n\t// Methods guaranteed to produce a unique set when starting from a unique set\n\tguaranteedUnique = {\n\t\tchildren: true,\n\t\tcontents: true,\n\t\tnext: true,\n\t\tprev: true\n\t};\n\njQuery.fn.extend( {\n\thas: function( target ) {\n\t\tvar targets = jQuery( target, this ),\n\t\t\tl = targets.length;\n\n\t\treturn this.filter( function() {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tif ( jQuery.contains( this, targets[ i ] ) ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\n\tclosest: function( selectors, context ) {\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\tl = this.length,\n\t\t\tmatched = [],\n\t\t\ttargets = typeof selectors !== \"string\" && jQuery( selectors );\n\n\t\t// Positional selectors never match, since there's no _selection_ context\n\t\tif ( !rneedsContext.test( selectors ) ) {\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tfor ( cur = this[ i ]; cur && cur !== context; cur = cur.parentNode ) {\n\n\t\t\t\t\t// Always skip document fragments\n\t\t\t\t\tif ( cur.nodeType < 11 && ( targets ?\n\t\t\t\t\t\ttargets.index( cur ) > -1 :\n\n\t\t\t\t\t\t// Don't pass non-elements to Sizzle\n\t\t\t\t\t\tcur.nodeType === 1 &&\n\t\t\t\t\t\t\tjQuery.find.matchesSelector( cur, selectors ) ) ) {\n\n\t\t\t\t\t\tmatched.push( cur );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched.length > 1 ? jQuery.uniqueSort( matched ) : matched );\n\t},\n\n\t// Determine the position of an element within the set\n\tindex: function( elem ) {\n\n\t\t// No argument, return index in parent\n\t\tif ( !elem ) {\n\t\t\treturn ( this[ 0 ] && this[ 0 ].parentNode ) ? this.first().prevAll().length : -1;\n\t\t}\n\n\t\t// Index in selector\n\t\tif ( typeof elem === \"string\" ) {\n\t\t\treturn indexOf.call( jQuery( elem ), this[ 0 ] );\n\t\t}\n\n\t\t// Locate the position of the desired element\n\t\treturn indexOf.call( this,\n\n\t\t\t// If it receives a jQuery object, the first element is used\n\t\t\telem.jquery ? elem[ 0 ] : elem\n\t\t);\n\t},\n\n\tadd: function( selector, context ) {\n\t\treturn this.pushStack(\n\t\t\tjQuery.uniqueSort(\n\t\t\t\tjQuery.merge( this.get(), jQuery( selector, context ) )\n\t\t\t)\n\t\t);\n\t},\n\n\taddBack: function( selector ) {\n\t\treturn this.add( selector == null ?\n\t\t\tthis.prevObject : this.prevObject.filter( selector )\n\t\t);\n\t}\n} );\n\nfunction sibling( cur, dir ) {\n\twhile ( ( cur = cur[ dir ] ) && cur.nodeType !== 1 ) {}\n\treturn cur;\n}\n\njQuery.each( {\n\tparent: function( elem ) {\n\t\tvar parent = elem.parentNode;\n\t\treturn parent && parent.nodeType !== 11 ? parent : null;\n\t},\n\tparents: function( elem ) {\n\t\treturn dir( elem, \"parentNode\" );\n\t},\n\tparentsUntil: function( elem, i, until ) {\n\t\treturn dir( elem, \"parentNode\", until );\n\t},\n\tnext: function( elem ) {\n\t\treturn sibling( elem, \"nextSibling\" );\n\t},\n\tprev: function( elem ) {\n\t\treturn sibling( elem, \"previousSibling\" );\n\t},\n\tnextAll: function( elem ) {\n\t\treturn dir( elem, \"nextSibling\" );\n\t},\n\tprevAll: function( elem ) {\n\t\treturn dir( elem, \"previousSibling\" );\n\t},\n\tnextUntil: function( elem, i, until ) {\n\t\treturn dir( elem, \"nextSibling\", until );\n\t},\n\tprevUntil: function( elem, i, until ) {\n\t\treturn dir( elem, \"previousSibling\", until );\n\t},\n\tsiblings: function( elem ) {\n\t\treturn siblings( ( elem.parentNode || {} ).firstChild, elem );\n\t},\n\tchildren: function( elem ) {\n\t\treturn siblings( elem.firstChild );\n\t},\n\tcontents: function( elem ) {\n\t\treturn elem.contentDocument || jQuery.merge( [], elem.childNodes );\n\t}\n}, function( name, fn ) {\n\tjQuery.fn[ name ] = function( until, selector ) {\n\t\tvar matched = jQuery.map( this, fn, until );\n\n\t\tif ( name.slice( -5 ) !== \"Until\" ) {\n\t\t\tselector = until;\n\t\t}\n\n\t\tif ( selector && typeof selector === \"string\" ) {\n\t\t\tmatched = jQuery.filter( selector, matched );\n\t\t}\n\n\t\tif ( this.length > 1 ) {\n\n\t\t\t// Remove duplicates\n\t\t\tif ( !guaranteedUnique[ name ] ) {\n\t\t\t\tjQuery.uniqueSort( matched );\n\t\t\t}\n\n\t\t\t// Reverse order for parents* and prev-derivatives\n\t\t\tif ( rparentsprev.test( name ) ) {\n\t\t\t\tmatched.reverse();\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched );\n\t};\n} );\nvar rnotwhite = ( /\\S+/g );\n\n\n\n// Convert String-formatted options into Object-formatted ones\nfunction createOptions( options ) {\n\tvar object = {};\n\tjQuery.each( options.match( rnotwhite ) || [], function( _, flag ) {\n\t\tobject[ flag ] = true;\n\t} );\n\treturn object;\n}\n\n/*\n * Create a callback list using the following parameters:\n *\n *\toptions: an optional list of space-separated options that will change how\n *\t\t\tthe callback list behaves or a more traditional option object\n *\n * By default a callback list will act like an event callback list and can be\n * \"fired\" multiple times.\n *\n * Possible options:\n *\n *\tonce:\t\t\twill ensure the callback list can only be fired once (like a Deferred)\n *\n *\tmemory:\t\t\twill keep track of previous values and will call any callback added\n *\t\t\t\t\tafter the list has been fired right away with the latest \"memorized\"\n *\t\t\t\t\tvalues (like a Deferred)\n *\n *\tunique:\t\t\twill ensure a callback can only be added once (no duplicate in the list)\n *\n *\tstopOnFalse:\tinterrupt callings when a callback returns false\n *\n */\njQuery.Callbacks = function( options ) {\n\n\t// Convert options from String-formatted to Object-formatted if needed\n\t// (we check in cache first)\n\toptions = typeof options === \"string\" ?\n\t\tcreateOptions( options ) :\n\t\tjQuery.extend( {}, options );\n\n\tvar // Flag to know if list is currently firing\n\t\tfiring,\n\n\t\t// Last fire value for non-forgettable lists\n\t\tmemory,\n\n\t\t// Flag to know if list was already fired\n\t\tfired,\n\n\t\t// Flag to prevent firing\n\t\tlocked,\n\n\t\t// Actual callback list\n\t\tlist = [],\n\n\t\t// Queue of execution data for repeatable lists\n\t\tqueue = [],\n\n\t\t// Index of currently firing callback (modified by add/remove as needed)\n\t\tfiringIndex = -1,\n\n\t\t// Fire callbacks\n\t\tfire = function() {\n\n\t\t\t// Enforce single-firing\n\t\t\tlocked = options.once;\n\n\t\t\t// Execute callbacks for all pending executions,\n\t\t\t// respecting firingIndex overrides and runtime changes\n\t\t\tfired = firing = true;\n\t\t\tfor ( ; queue.length; firingIndex = -1 ) {\n\t\t\t\tmemory = queue.shift();\n\t\t\t\twhile ( ++firingIndex < list.length ) {\n\n\t\t\t\t\t// Run callback and check for early termination\n\t\t\t\t\tif ( list[ firingIndex ].apply( memory[ 0 ], memory[ 1 ] ) === false &&\n\t\t\t\t\t\toptions.stopOnFalse ) {\n\n\t\t\t\t\t\t// Jump to end and forget the data so .add doesn't re-fire\n\t\t\t\t\t\tfiringIndex = list.length;\n\t\t\t\t\t\tmemory = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Forget the data if we're done with it\n\t\t\tif ( !options.memory ) {\n\t\t\t\tmemory = false;\n\t\t\t}\n\n\t\t\tfiring = false;\n\n\t\t\t// Clean up if we're done firing for good\n\t\t\tif ( locked ) {\n\n\t\t\t\t// Keep an empty list if we have data for future add calls\n\t\t\t\tif ( memory ) {\n\t\t\t\t\tlist = [];\n\n\t\t\t\t// Otherwise, this object is spent\n\t\t\t\t} else {\n\t\t\t\t\tlist = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t// Actual Callbacks object\n\t\tself = {\n\n\t\t\t// Add a callback or a collection of callbacks to the list\n\t\t\tadd: function() {\n\t\t\t\tif ( list ) {\n\n\t\t\t\t\t// If we have memory from a past run, we should fire after adding\n\t\t\t\t\tif ( memory && !firing ) {\n\t\t\t\t\t\tfiringIndex = list.length - 1;\n\t\t\t\t\t\tqueue.push( memory );\n\t\t\t\t\t}\n\n\t\t\t\t\t( function add( args ) {\n\t\t\t\t\t\tjQuery.each( args, function( _, arg ) {\n\t\t\t\t\t\t\tif ( jQuery.isFunction( arg ) ) {\n\t\t\t\t\t\t\t\tif ( !options.unique || !self.has( arg ) ) {\n\t\t\t\t\t\t\t\t\tlist.push( arg );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if ( arg && arg.length && jQuery.type( arg ) !== \"string\" ) {\n\n\t\t\t\t\t\t\t\t// Inspect recursively\n\t\t\t\t\t\t\t\tadd( arg );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t} )( arguments );\n\n\t\t\t\t\tif ( memory && !firing ) {\n\t\t\t\t\t\tfire();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Remove a callback from the list\n\t\t\tremove: function() {\n\t\t\t\tjQuery.each( arguments, function( _, arg ) {\n\t\t\t\t\tvar index;\n\t\t\t\t\twhile ( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {\n\t\t\t\t\t\tlist.splice( index, 1 );\n\n\t\t\t\t\t\t// Handle firing indexes\n\t\t\t\t\t\tif ( index <= firingIndex ) {\n\t\t\t\t\t\t\tfiringIndex--;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Check if a given callback is in the list.\n\t\t\t// If no argument is given, return whether or not list has callbacks attached.\n\t\t\thas: function( fn ) {\n\t\t\t\treturn fn ?\n\t\t\t\t\tjQuery.inArray( fn, list ) > -1 :\n\t\t\t\t\tlist.length > 0;\n\t\t\t},\n\n\t\t\t// Remove all callbacks from the list\n\t\t\tempty: function() {\n\t\t\t\tif ( list ) {\n\t\t\t\t\tlist = [];\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Disable .fire and .add\n\t\t\t// Abort any current/pending executions\n\t\t\t// Clear all callbacks and values\n\t\t\tdisable: function() {\n\t\t\t\tlocked = queue = [];\n\t\t\t\tlist = memory = \"\";\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\tdisabled: function() {\n\t\t\t\treturn !list;\n\t\t\t},\n\n\t\t\t// Disable .fire\n\t\t\t// Also disable .add unless we have memory (since it would have no effect)\n\t\t\t// Abort any pending executions\n\t\t\tlock: function() {\n\t\t\t\tlocked = queue = [];\n\t\t\t\tif ( !memory && !firing ) {\n\t\t\t\t\tlist = memory = \"\";\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\tlocked: function() {\n\t\t\t\treturn !!locked;\n\t\t\t},\n\n\t\t\t// Call all callbacks with the given context and arguments\n\t\t\tfireWith: function( context, args ) {\n\t\t\t\tif ( !locked ) {\n\t\t\t\t\targs = args || [];\n\t\t\t\t\targs = [ context, args.slice ? args.slice() : args ];\n\t\t\t\t\tqueue.push( args );\n\t\t\t\t\tif ( !firing ) {\n\t\t\t\t\t\tfire();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Call all the callbacks with the given arguments\n\t\t\tfire: function() {\n\t\t\t\tself.fireWith( this, arguments );\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// To know if the callbacks have already been called at least once\n\t\t\tfired: function() {\n\t\t\t\treturn !!fired;\n\t\t\t}\n\t\t};\n\n\treturn self;\n};\n\n\nfunction Identity( v ) {\n\treturn v;\n}\nfunction Thrower( ex ) {\n\tthrow ex;\n}\n\nfunction adoptValue( value, resolve, reject ) {\n\tvar method;\n\n\ttry {\n\n\t\t// Check for promise aspect first to privilege synchronous behavior\n\t\tif ( value && jQuery.isFunction( ( method = value.promise ) ) ) {\n\t\t\tmethod.call( value ).done( resolve ).fail( reject );\n\n\t\t// Other thenables\n\t\t} else if ( value && jQuery.isFunction( ( method = value.then ) ) ) {\n\t\t\tmethod.call( value, resolve, reject );\n\n\t\t// Other non-thenables\n\t\t} else {\n\n\t\t\t// Support: Android 4.0 only\n\t\t\t// Strict mode functions invoked without .call/.apply get global-object context\n\t\t\tresolve.call( undefined, value );\n\t\t}\n\n\t// For Promises/A+, convert exceptions into rejections\n\t// Since jQuery.when doesn't unwrap thenables, we can skip the extra checks appearing in\n\t// Deferred#then to conditionally suppress rejection.\n\t} catch ( /*jshint -W002 */ value ) {\n\n\t\t// Support: Android 4.0 only\n\t\t// Strict mode functions invoked without .call/.apply get global-object context\n\t\treject.call( undefined, value );\n\t}\n}\n\njQuery.extend( {\n\n\tDeferred: function( func ) {\n\t\tvar tuples = [\n\n\t\t\t\t// action, add listener, callbacks,\n\t\t\t\t// ... .then handlers, argument index, [final state]\n\t\t\t\t[ \"notify\", \"progress\", jQuery.Callbacks( \"memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"memory\" ), 2 ],\n\t\t\t\t[ \"resolve\", \"done\", jQuery.Callbacks( \"once memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"once memory\" ), 0, \"resolved\" ],\n\t\t\t\t[ \"reject\", \"fail\", jQuery.Callbacks( \"once memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"once memory\" ), 1, \"rejected\" ]\n\t\t\t],\n\t\t\tstate = \"pending\",\n\t\t\tpromise = {\n\t\t\t\tstate: function() {\n\t\t\t\t\treturn state;\n\t\t\t\t},\n\t\t\t\talways: function() {\n\t\t\t\t\tdeferred.done( arguments ).fail( arguments );\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\t\t\t\t\"catch\": function( fn ) {\n\t\t\t\t\treturn promise.then( null, fn );\n\t\t\t\t},\n\n\t\t\t\t// Keep pipe for back-compat\n\t\t\t\tpipe: function( /* fnDone, fnFail, fnProgress */ ) {\n\t\t\t\t\tvar fns = arguments;\n\n\t\t\t\t\treturn jQuery.Deferred( function( newDefer ) {\n\t\t\t\t\t\tjQuery.each( tuples, function( i, tuple ) {\n\n\t\t\t\t\t\t\t// Map tuples (progress, done, fail) to arguments (done, fail, progress)\n\t\t\t\t\t\t\tvar fn = jQuery.isFunction( fns[ tuple[ 4 ] ] ) && fns[ tuple[ 4 ] ];\n\n\t\t\t\t\t\t\t// deferred.progress(function() { bind to newDefer or newDefer.notify })\n\t\t\t\t\t\t\t// deferred.done(function() { bind to newDefer or newDefer.resolve })\n\t\t\t\t\t\t\t// deferred.fail(function() { bind to newDefer or newDefer.reject })\n\t\t\t\t\t\t\tdeferred[ tuple[ 1 ] ]( function() {\n\t\t\t\t\t\t\t\tvar returned = fn && fn.apply( this, arguments );\n\t\t\t\t\t\t\t\tif ( returned && jQuery.isFunction( returned.promise ) ) {\n\t\t\t\t\t\t\t\t\treturned.promise()\n\t\t\t\t\t\t\t\t\t\t.progress( newDefer.notify )\n\t\t\t\t\t\t\t\t\t\t.done( newDefer.resolve )\n\t\t\t\t\t\t\t\t\t\t.fail( newDefer.reject );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tnewDefer[ tuple[ 0 ] + \"With\" ](\n\t\t\t\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t\t\t\tfn ? [ returned ] : arguments\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} );\n\t\t\t\t\t\tfns = null;\n\t\t\t\t\t} ).promise();\n\t\t\t\t},\n\t\t\t\tthen: function( onFulfilled, onRejected, onProgress ) {\n\t\t\t\t\tvar maxDepth = 0;\n\t\t\t\t\tfunction resolve( depth, deferred, handler, special ) {\n\t\t\t\t\t\treturn function() {\n\t\t\t\t\t\t\tvar that = this,\n\t\t\t\t\t\t\t\targs = arguments,\n\t\t\t\t\t\t\t\tmightThrow = function() {\n\t\t\t\t\t\t\t\t\tvar returned, then;\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.3\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-59\n\t\t\t\t\t\t\t\t\t// Ignore double-resolution attempts\n\t\t\t\t\t\t\t\t\tif ( depth < maxDepth ) {\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturned = handler.apply( that, args );\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.1\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-48\n\t\t\t\t\t\t\t\t\tif ( returned === deferred.promise() ) {\n\t\t\t\t\t\t\t\t\t\tthrow new TypeError( \"Thenable self-resolution\" );\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ sections 2.3.3.1, 3.5\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-54\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-75\n\t\t\t\t\t\t\t\t\t// Retrieve `then` only once\n\t\t\t\t\t\t\t\t\tthen = returned &&\n\n\t\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.4\n\t\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-64\n\t\t\t\t\t\t\t\t\t\t// Only check objects and functions for thenability\n\t\t\t\t\t\t\t\t\t\t( typeof returned === \"object\" ||\n\t\t\t\t\t\t\t\t\t\t\ttypeof returned === \"function\" ) &&\n\t\t\t\t\t\t\t\t\t\treturned.then;\n\n\t\t\t\t\t\t\t\t\t// Handle a returned thenable\n\t\t\t\t\t\t\t\t\tif ( jQuery.isFunction( then ) ) {\n\n\t\t\t\t\t\t\t\t\t\t// Special processors (notify) just wait for resolution\n\t\t\t\t\t\t\t\t\t\tif ( special ) {\n\t\t\t\t\t\t\t\t\t\t\tthen.call(\n\t\t\t\t\t\t\t\t\t\t\t\treturned,\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Thrower, special )\n\t\t\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\t\t// Normal processors (resolve) also hook into progress\n\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t// ...and disregard older resolution values\n\t\t\t\t\t\t\t\t\t\t\tmaxDepth++;\n\n\t\t\t\t\t\t\t\t\t\t\tthen.call(\n\t\t\t\t\t\t\t\t\t\t\t\treturned,\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Thrower, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity,\n\t\t\t\t\t\t\t\t\t\t\t\t\tdeferred.notifyWith )\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Handle all other returned values\n\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t// Only substitute handlers pass on context\n\t\t\t\t\t\t\t\t\t\t// and multiple values (non-spec behavior)\n\t\t\t\t\t\t\t\t\t\tif ( handler !== Identity ) {\n\t\t\t\t\t\t\t\t\t\t\tthat = undefined;\n\t\t\t\t\t\t\t\t\t\t\targs = [ returned ];\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t// Process the value(s)\n\t\t\t\t\t\t\t\t\t\t// Default process is resolve\n\t\t\t\t\t\t\t\t\t\t( special || deferred.resolveWith )( that, args );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t// Only normal processors (resolve) catch and reject exceptions\n\t\t\t\t\t\t\t\tprocess = special ?\n\t\t\t\t\t\t\t\t\tmightThrow :\n\t\t\t\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\tmightThrow();\n\t\t\t\t\t\t\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t\t\t\t\t\t\tif ( jQuery.Deferred.exceptionHook ) {\n\t\t\t\t\t\t\t\t\t\t\t\tjQuery.Deferred.exceptionHook( e,\n\t\t\t\t\t\t\t\t\t\t\t\t\tprocess.stackTrace );\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.4.1\n\t\t\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-61\n\t\t\t\t\t\t\t\t\t\t\t// Ignore post-resolution exceptions\n\t\t\t\t\t\t\t\t\t\t\tif ( depth + 1 >= maxDepth ) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t// Only substitute handlers pass on context\n\t\t\t\t\t\t\t\t\t\t\t\t// and multiple values (non-spec behavior)\n\t\t\t\t\t\t\t\t\t\t\t\tif ( handler !== Thrower ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthat = undefined;\n\t\t\t\t\t\t\t\t\t\t\t\t\targs = [ e ];\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tdeferred.rejectWith( that, args );\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.1\n\t\t\t\t\t\t\t// https://promisesaplus.com/#point-57\n\t\t\t\t\t\t\t// Re-resolve promises immediately to dodge false rejection from\n\t\t\t\t\t\t\t// subsequent errors\n\t\t\t\t\t\t\tif ( depth ) {\n\t\t\t\t\t\t\t\tprocess();\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t// Call an optional hook to record the stack, in case of exception\n\t\t\t\t\t\t\t\t// since it's otherwise lost when execution goes async\n\t\t\t\t\t\t\t\tif ( jQuery.Deferred.getStackHook ) {\n\t\t\t\t\t\t\t\t\tprocess.stackTrace = jQuery.Deferred.getStackHook();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\twindow.setTimeout( process );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\treturn jQuery.Deferred( function( newDefer ) {\n\n\t\t\t\t\t\t// progress_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 0 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tjQuery.isFunction( onProgress ) ?\n\t\t\t\t\t\t\t\t\tonProgress :\n\t\t\t\t\t\t\t\t\tIdentity,\n\t\t\t\t\t\t\t\tnewDefer.notifyWith\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// fulfilled_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 1 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tjQuery.isFunction( onFulfilled ) ?\n\t\t\t\t\t\t\t\t\tonFulfilled :\n\t\t\t\t\t\t\t\t\tIdentity\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// rejected_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 2 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tjQuery.isFunction( onRejected ) ?\n\t\t\t\t\t\t\t\t\tonRejected :\n\t\t\t\t\t\t\t\t\tThrower\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t} ).promise();\n\t\t\t\t},\n\n\t\t\t\t// Get a promise for this deferred\n\t\t\t\t// If obj is provided, the promise aspect is added to the object\n\t\t\t\tpromise: function( obj ) {\n\t\t\t\t\treturn obj != null ? jQuery.extend( obj, promise ) : promise;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeferred = {};\n\n\t\t// Add list-specific methods\n\t\tjQuery.each( tuples, function( i, tuple ) {\n\t\t\tvar list = tuple[ 2 ],\n\t\t\t\tstateString = tuple[ 5 ];\n\n\t\t\t// promise.progress = list.add\n\t\t\t// promise.done = list.add\n\t\t\t// promise.fail = list.add\n\t\t\tpromise[ tuple[ 1 ] ] = list.add;\n\n\t\t\t// Handle state\n\t\t\tif ( stateString ) {\n\t\t\t\tlist.add(\n\t\t\t\t\tfunction() {\n\n\t\t\t\t\t\t// state = \"resolved\" (i.e., fulfilled)\n\t\t\t\t\t\t// state = \"rejected\"\n\t\t\t\t\t\tstate = stateString;\n\t\t\t\t\t},\n\n\t\t\t\t\t// rejected_callbacks.disable\n\t\t\t\t\t// fulfilled_callbacks.disable\n\t\t\t\t\ttuples[ 3 - i ][ 2 ].disable,\n\n\t\t\t\t\t// progress_callbacks.lock\n\t\t\t\t\ttuples[ 0 ][ 2 ].lock\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// progress_handlers.fire\n\t\t\t// fulfilled_handlers.fire\n\t\t\t// rejected_handlers.fire\n\t\t\tlist.add( tuple[ 3 ].fire );\n\n\t\t\t// deferred.notify = function() { deferred.notifyWith(...) }\n\t\t\t// deferred.resolve = function() { deferred.resolveWith(...) }\n\t\t\t// deferred.reject = function() { deferred.rejectWith(...) }\n\t\t\tdeferred[ tuple[ 0 ] ] = function() {\n\t\t\t\tdeferred[ tuple[ 0 ] + \"With\" ]( this === deferred ? undefined : this, arguments );\n\t\t\t\treturn this;\n\t\t\t};\n\n\t\t\t// deferred.notifyWith = list.fireWith\n\t\t\t// deferred.resolveWith = list.fireWith\n\t\t\t// deferred.rejectWith = list.fireWith\n\t\t\tdeferred[ tuple[ 0 ] + \"With\" ] = list.fireWith;\n\t\t} );\n\n\t\t// Make the deferred a promise\n\t\tpromise.promise( deferred );\n\n\t\t// Call given func if any\n\t\tif ( func ) {\n\t\t\tfunc.call( deferred, deferred );\n\t\t}\n\n\t\t// All done!\n\t\treturn deferred;\n\t},\n\n\t// Deferred helper\n\twhen: function( singleValue ) {\n\t\tvar\n\n\t\t\t// count of uncompleted subordinates\n\t\t\tremaining = arguments.length,\n\n\t\t\t// count of unprocessed arguments\n\t\t\ti = remaining,\n\n\t\t\t// subordinate fulfillment data\n\t\t\tresolveContexts = Array( i ),\n\t\t\tresolveValues = slice.call( arguments ),\n\n\t\t\t// the master Deferred\n\t\t\tmaster = jQuery.Deferred(),\n\n\t\t\t// subordinate callback factory\n\t\t\tupdateFunc = function( i ) {\n\t\t\t\treturn function( value ) {\n\t\t\t\t\tresolveContexts[ i ] = this;\n\t\t\t\t\tresolveValues[ i ] = arguments.length > 1 ? slice.call( arguments ) : value;\n\t\t\t\t\tif ( !( --remaining ) ) {\n\t\t\t\t\t\tmaster.resolveWith( resolveContexts, resolveValues );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\n\t\t// Single- and empty arguments are adopted like Promise.resolve\n\t\tif ( remaining <= 1 ) {\n\t\t\tadoptValue( singleValue, master.done( updateFunc( i ) ).resolve, master.reject );\n\n\t\t\t// Use .then() to unwrap secondary thenables (cf. gh-3000)\n\t\t\tif ( master.state() === \"pending\" ||\n\t\t\t\tjQuery.isFunction( resolveValues[ i ] && resolveValues[ i ].then ) ) {\n\n\t\t\t\treturn master.then();\n\t\t\t}\n\t\t}\n\n\t\t// Multiple arguments are aggregated like Promise.all array elements\n\t\twhile ( i-- ) {\n\t\t\tadoptValue( resolveValues[ i ], updateFunc( i ), master.reject );\n\t\t}\n\n\t\treturn master.promise();\n\t}\n} );\n\n\n// These usually indicate a programmer mistake during development,\n// warn about them ASAP rather than swallowing them by default.\nvar rerrorNames = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;\n\njQuery.Deferred.exceptionHook = function( error, stack ) {\n\n\t// Support: IE 8 - 9 only\n\t// Console exists when dev tools are open, which can happen at any time\n\tif ( window.console && window.console.warn && error && rerrorNames.test( error.name ) ) {\n\t\twindow.console.warn( \"jQuery.Deferred exception: \" + error.message, error.stack, stack );\n\t}\n};\n\n\n\n\n// The deferred used on DOM ready\nvar readyList = jQuery.Deferred();\n\njQuery.fn.ready = function( fn ) {\n\n\treadyList.then( fn );\n\n\treturn this;\n};\n\njQuery.extend( {\n\n\t// Is the DOM ready to be used? Set to true once it occurs.\n\tisReady: false,\n\n\t// A counter to track how many items to wait for before\n\t// the ready event fires. See #6781\n\treadyWait: 1,\n\n\t// Hold (or release) the ready event\n\tholdReady: function( hold ) {\n\t\tif ( hold ) {\n\t\t\tjQuery.readyWait++;\n\t\t} else {\n\t\t\tjQuery.ready( true );\n\t\t}\n\t},\n\n\t// Handle when the DOM is ready\n\tready: function( wait ) {\n\n\t\t// Abort if there are pending holds or we're already ready\n\t\tif ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Remember that the DOM is ready\n\t\tjQuery.isReady = true;\n\n\t\t// If a normal DOM Ready event fired, decrement, and wait if need be\n\t\tif ( wait !== true && --jQuery.readyWait > 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// If there are functions bound, to execute\n\t\treadyList.resolveWith( document, [ jQuery ] );\n\t}\n} );\n\njQuery.ready.then = readyList.then;\n\n// The ready event handler and self cleanup method\nfunction completed() {\n\tdocument.removeEventListener( \"DOMContentLoaded\", completed );\n\twindow.removeEventListener( \"load\", completed );\n\tjQuery.ready();\n}\n\n// Catch cases where $(document).ready() is called\n// after the browser event has already occurred.\n// Support: IE <=9 - 10 only\n// Older IE sometimes signals \"interactive\" too soon\nif ( document.readyState === \"complete\" ||\n\t( document.readyState !== \"loading\" && !document.documentElement.doScroll ) ) {\n\n\t// Handle it asynchronously to allow scripts the opportunity to delay ready\n\twindow.setTimeout( jQuery.ready );\n\n} else {\n\n\t// Use the handy event callback\n\tdocument.addEventListener( \"DOMContentLoaded\", completed );\n\n\t// A fallback to window.onload, that will always work\n\twindow.addEventListener( \"load\", completed );\n}\n\n\n\n\n// Multifunctional method to get and set values of a collection\n// The value/s can optionally be executed if it's a function\nvar access = function( elems, fn, key, value, chainable, emptyGet, raw ) {\n\tvar i = 0,\n\t\tlen = elems.length,\n\t\tbulk = key == null;\n\n\t// Sets many values\n\tif ( jQuery.type( key ) === \"object\" ) {\n\t\tchainable = true;\n\t\tfor ( i in key ) {\n\t\t\taccess( elems, fn, i, key[ i ], true, emptyGet, raw );\n\t\t}\n\n\t// Sets one value\n\t} else if ( value !== undefined ) {\n\t\tchainable = true;\n\n\t\tif ( !jQuery.isFunction( value ) ) {\n\t\t\traw = true;\n\t\t}\n\n\t\tif ( bulk ) {\n\n\t\t\t// Bulk operations run against the entire set\n\t\t\tif ( raw ) {\n\t\t\t\tfn.call( elems, value );\n\t\t\t\tfn = null;\n\n\t\t\t// ...except when executing function values\n\t\t\t} else {\n\t\t\t\tbulk = fn;\n\t\t\t\tfn = function( elem, key, value ) {\n\t\t\t\t\treturn bulk.call( jQuery( elem ), value );\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tif ( fn ) {\n\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\tfn(\n\t\t\t\t\telems[ i ], key, raw ?\n\t\t\t\t\tvalue :\n\t\t\t\t\tvalue.call( elems[ i ], i, fn( elems[ i ], key ) )\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn chainable ?\n\t\telems :\n\n\t\t// Gets\n\t\tbulk ?\n\t\t\tfn.call( elems ) :\n\t\t\tlen ? fn( elems[ 0 ], key ) : emptyGet;\n};\nvar acceptData = function( owner ) {\n\n\t// Accepts only:\n\t//  - Node\n\t//    - Node.ELEMENT_NODE\n\t//    - Node.DOCUMENT_NODE\n\t//  - Object\n\t//    - Any\n\t/* jshint -W018 */\n\treturn owner.nodeType === 1 || owner.nodeType === 9 || !( +owner.nodeType );\n};\n\n\n\n\nfunction Data() {\n\tthis.expando = jQuery.expando + Data.uid++;\n}\n\nData.uid = 1;\n\nData.prototype = {\n\n\tcache: function( owner ) {\n\n\t\t// Check if the owner object already has a cache\n\t\tvar value = owner[ this.expando ];\n\n\t\t// If not, create one\n\t\tif ( !value ) {\n\t\t\tvalue = {};\n\n\t\t\t// We can accept data for non-element nodes in modern browsers,\n\t\t\t// but we should not, see #8335.\n\t\t\t// Always return an empty object.\n\t\t\tif ( acceptData( owner ) ) {\n\n\t\t\t\t// If it is a node unlikely to be stringify-ed or looped over\n\t\t\t\t// use plain assignment\n\t\t\t\tif ( owner.nodeType ) {\n\t\t\t\t\towner[ this.expando ] = value;\n\n\t\t\t\t// Otherwise secure it in a non-enumerable property\n\t\t\t\t// configurable must be true to allow the property to be\n\t\t\t\t// deleted when data is removed\n\t\t\t\t} else {\n\t\t\t\t\tObject.defineProperty( owner, this.expando, {\n\t\t\t\t\t\tvalue: value,\n\t\t\t\t\t\tconfigurable: true\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn value;\n\t},\n\tset: function( owner, data, value ) {\n\t\tvar prop,\n\t\t\tcache = this.cache( owner );\n\n\t\t// Handle: [ owner, key, value ] args\n\t\t// Always use camelCase key (gh-2257)\n\t\tif ( typeof data === \"string\" ) {\n\t\t\tcache[ jQuery.camelCase( data ) ] = value;\n\n\t\t// Handle: [ owner, { properties } ] args\n\t\t} else {\n\n\t\t\t// Copy the properties one-by-one to the cache object\n\t\t\tfor ( prop in data ) {\n\t\t\t\tcache[ jQuery.camelCase( prop ) ] = data[ prop ];\n\t\t\t}\n\t\t}\n\t\treturn cache;\n\t},\n\tget: function( owner, key ) {\n\t\treturn key === undefined ?\n\t\t\tthis.cache( owner ) :\n\n\t\t\t// Always use camelCase key (gh-2257)\n\t\t\towner[ this.expando ] && owner[ this.expando ][ jQuery.camelCase( key ) ];\n\t},\n\taccess: function( owner, key, value ) {\n\n\t\t// In cases where either:\n\t\t//\n\t\t//   1. No key was specified\n\t\t//   2. A string key was specified, but no value provided\n\t\t//\n\t\t// Take the \"read\" path and allow the get method to determine\n\t\t// which value to return, respectively either:\n\t\t//\n\t\t//   1. The entire cache object\n\t\t//   2. The data stored at the key\n\t\t//\n\t\tif ( key === undefined ||\n\t\t\t\t( ( key && typeof key === \"string\" ) && value === undefined ) ) {\n\n\t\t\treturn this.get( owner, key );\n\t\t}\n\n\t\t// When the key is not a string, or both a key and value\n\t\t// are specified, set or extend (existing objects) with either:\n\t\t//\n\t\t//   1. An object of properties\n\t\t//   2. A key and value\n\t\t//\n\t\tthis.set( owner, key, value );\n\n\t\t// Since the \"set\" path can have two possible entry points\n\t\t// return the expected data based on which path was taken[*]\n\t\treturn value !== undefined ? value : key;\n\t},\n\tremove: function( owner, key ) {\n\t\tvar i,\n\t\t\tcache = owner[ this.expando ];\n\n\t\tif ( cache === undefined ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( key !== undefined ) {\n\n\t\t\t// Support array or space separated string of keys\n\t\t\tif ( jQuery.isArray( key ) ) {\n\n\t\t\t\t// If key is an array of keys...\n\t\t\t\t// We always set camelCase keys, so remove that.\n\t\t\t\tkey = key.map( jQuery.camelCase );\n\t\t\t} else {\n\t\t\t\tkey = jQuery.camelCase( key );\n\n\t\t\t\t// If a key with the spaces exists, use it.\n\t\t\t\t// Otherwise, create an array by matching non-whitespace\n\t\t\t\tkey = key in cache ?\n\t\t\t\t\t[ key ] :\n\t\t\t\t\t( key.match( rnotwhite ) || [] );\n\t\t\t}\n\n\t\t\ti = key.length;\n\n\t\t\twhile ( i-- ) {\n\t\t\t\tdelete cache[ key[ i ] ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove the expando if there's no more data\n\t\tif ( key === undefined || jQuery.isEmptyObject( cache ) ) {\n\n\t\t\t// Support: Chrome <=35 - 45\n\t\t\t// Webkit & Blink performance suffers when deleting properties\n\t\t\t// from DOM nodes, so set to undefined instead\n\t\t\t// https://bugs.chromium.org/p/chromium/issues/detail?id=378607 (bug restricted)\n\t\t\tif ( owner.nodeType ) {\n\t\t\t\towner[ this.expando ] = undefined;\n\t\t\t} else {\n\t\t\t\tdelete owner[ this.expando ];\n\t\t\t}\n\t\t}\n\t},\n\thasData: function( owner ) {\n\t\tvar cache = owner[ this.expando ];\n\t\treturn cache !== undefined && !jQuery.isEmptyObject( cache );\n\t}\n};\nvar dataPriv = new Data();\n\nvar dataUser = new Data();\n\n\n\n//\tImplementation Summary\n//\n//\t1. Enforce API surface and semantic compatibility with 1.9.x branch\n//\t2. Improve the module's maintainability by reducing the storage\n//\t\tpaths to a single mechanism.\n//\t3. Use the same single mechanism to support \"private\" and \"user\" data.\n//\t4. _Never_ expose \"private\" data to user code (TODO: Drop _data, _removeData)\n//\t5. Avoid exposing implementation details on user objects (eg. expando properties)\n//\t6. Provide a clear path for implementation upgrade to WeakMap in 2014\n\nvar rbrace = /^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,\n\trmultiDash = /[A-Z]/g;\n\nfunction dataAttr( elem, key, data ) {\n\tvar name;\n\n\t// If nothing was found internally, try to fetch any\n\t// data from the HTML5 data-* attribute\n\tif ( data === undefined && elem.nodeType === 1 ) {\n\t\tname = \"data-\" + key.replace( rmultiDash, \"-$&\" ).toLowerCase();\n\t\tdata = elem.getAttribute( name );\n\n\t\tif ( typeof data === \"string\" ) {\n\t\t\ttry {\n\t\t\t\tdata = data === \"true\" ? true :\n\t\t\t\t\tdata === \"false\" ? false :\n\t\t\t\t\tdata === \"null\" ? null :\n\n\t\t\t\t\t// Only convert to a number if it doesn't change the string\n\t\t\t\t\t+data + \"\" === data ? +data :\n\t\t\t\t\trbrace.test( data ) ? JSON.parse( data ) :\n\t\t\t\t\tdata;\n\t\t\t} catch ( e ) {}\n\n\t\t\t// Make sure we set the data so it isn't changed later\n\t\t\tdataUser.set( elem, key, data );\n\t\t} else {\n\t\t\tdata = undefined;\n\t\t}\n\t}\n\treturn data;\n}\n\njQuery.extend( {\n\thasData: function( elem ) {\n\t\treturn dataUser.hasData( elem ) || dataPriv.hasData( elem );\n\t},\n\n\tdata: function( elem, name, data ) {\n\t\treturn dataUser.access( elem, name, data );\n\t},\n\n\tremoveData: function( elem, name ) {\n\t\tdataUser.remove( elem, name );\n\t},\n\n\t// TODO: Now that all calls to _data and _removeData have been replaced\n\t// with direct calls to dataPriv methods, these can be deprecated.\n\t_data: function( elem, name, data ) {\n\t\treturn dataPriv.access( elem, name, data );\n\t},\n\n\t_removeData: function( elem, name ) {\n\t\tdataPriv.remove( elem, name );\n\t}\n} );\n\njQuery.fn.extend( {\n\tdata: function( key, value ) {\n\t\tvar i, name, data,\n\t\t\telem = this[ 0 ],\n\t\t\tattrs = elem && elem.attributes;\n\n\t\t// Gets all values\n\t\tif ( key === undefined ) {\n\t\t\tif ( this.length ) {\n\t\t\t\tdata = dataUser.get( elem );\n\n\t\t\t\tif ( elem.nodeType === 1 && !dataPriv.get( elem, \"hasDataAttrs\" ) ) {\n\t\t\t\t\ti = attrs.length;\n\t\t\t\t\twhile ( i-- ) {\n\n\t\t\t\t\t\t// Support: IE 11 only\n\t\t\t\t\t\t// The attrs elements can be null (#14894)\n\t\t\t\t\t\tif ( attrs[ i ] ) {\n\t\t\t\t\t\t\tname = attrs[ i ].name;\n\t\t\t\t\t\t\tif ( name.indexOf( \"data-\" ) === 0 ) {\n\t\t\t\t\t\t\t\tname = jQuery.camelCase( name.slice( 5 ) );\n\t\t\t\t\t\t\t\tdataAttr( elem, name, data[ name ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdataPriv.set( elem, \"hasDataAttrs\", true );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}\n\n\t\t// Sets multiple values\n\t\tif ( typeof key === \"object\" ) {\n\t\t\treturn this.each( function() {\n\t\t\t\tdataUser.set( this, key );\n\t\t\t} );\n\t\t}\n\n\t\treturn access( this, function( value ) {\n\t\t\tvar data;\n\n\t\t\t// The calling jQuery object (element matches) is not empty\n\t\t\t// (and therefore has an element appears at this[ 0 ]) and the\n\t\t\t// `value` parameter was not undefined. An empty jQuery object\n\t\t\t// will result in `undefined` for elem = this[ 0 ] which will\n\t\t\t// throw an exception if an attempt to read a data cache is made.\n\t\t\tif ( elem && value === undefined ) {\n\n\t\t\t\t// Attempt to get data from the cache\n\t\t\t\t// The key will always be camelCased in Data\n\t\t\t\tdata = dataUser.get( elem, key );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// Attempt to \"discover\" the data in\n\t\t\t\t// HTML5 custom data-* attrs\n\t\t\t\tdata = dataAttr( elem, key );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// We tried really hard, but the data doesn't exist.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Set the data...\n\t\t\tthis.each( function() {\n\n\t\t\t\t// We always store the camelCased key\n\t\t\t\tdataUser.set( this, key, value );\n\t\t\t} );\n\t\t}, null, value, arguments.length > 1, null, true );\n\t},\n\n\tremoveData: function( key ) {\n\t\treturn this.each( function() {\n\t\t\tdataUser.remove( this, key );\n\t\t} );\n\t}\n} );\n\n\njQuery.extend( {\n\tqueue: function( elem, type, data ) {\n\t\tvar queue;\n\n\t\tif ( elem ) {\n\t\t\ttype = ( type || \"fx\" ) + \"queue\";\n\t\t\tqueue = dataPriv.get( elem, type );\n\n\t\t\t// Speed up dequeue by getting out quickly if this is just a lookup\n\t\t\tif ( data ) {\n\t\t\t\tif ( !queue || jQuery.isArray( data ) ) {\n\t\t\t\t\tqueue = dataPriv.access( elem, type, jQuery.makeArray( data ) );\n\t\t\t\t} else {\n\t\t\t\t\tqueue.push( data );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn queue || [];\n\t\t}\n\t},\n\n\tdequeue: function( elem, type ) {\n\t\ttype = type || \"fx\";\n\n\t\tvar queue = jQuery.queue( elem, type ),\n\t\t\tstartLength = queue.length,\n\t\t\tfn = queue.shift(),\n\t\t\thooks = jQuery._queueHooks( elem, type ),\n\t\t\tnext = function() {\n\t\t\t\tjQuery.dequeue( elem, type );\n\t\t\t};\n\n\t\t// If the fx queue is dequeued, always remove the progress sentinel\n\t\tif ( fn === \"inprogress\" ) {\n\t\t\tfn = queue.shift();\n\t\t\tstartLength--;\n\t\t}\n\n\t\tif ( fn ) {\n\n\t\t\t// Add a progress sentinel to prevent the fx queue from being\n\t\t\t// automatically dequeued\n\t\t\tif ( type === \"fx\" ) {\n\t\t\t\tqueue.unshift( \"inprogress\" );\n\t\t\t}\n\n\t\t\t// Clear up the last queue stop function\n\t\t\tdelete hooks.stop;\n\t\t\tfn.call( elem, next, hooks );\n\t\t}\n\n\t\tif ( !startLength && hooks ) {\n\t\t\thooks.empty.fire();\n\t\t}\n\t},\n\n\t// Not public - generate a queueHooks object, or return the current one\n\t_queueHooks: function( elem, type ) {\n\t\tvar key = type + \"queueHooks\";\n\t\treturn dataPriv.get( elem, key ) || dataPriv.access( elem, key, {\n\t\t\tempty: jQuery.Callbacks( \"once memory\" ).add( function() {\n\t\t\t\tdataPriv.remove( elem, [ type + \"queue\", key ] );\n\t\t\t} )\n\t\t} );\n\t}\n} );\n\njQuery.fn.extend( {\n\tqueue: function( type, data ) {\n\t\tvar setter = 2;\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tdata = type;\n\t\t\ttype = \"fx\";\n\t\t\tsetter--;\n\t\t}\n\n\t\tif ( arguments.length < setter ) {\n\t\t\treturn jQuery.queue( this[ 0 ], type );\n\t\t}\n\n\t\treturn data === undefined ?\n\t\t\tthis :\n\t\t\tthis.each( function() {\n\t\t\t\tvar queue = jQuery.queue( this, type, data );\n\n\t\t\t\t// Ensure a hooks for this queue\n\t\t\t\tjQuery._queueHooks( this, type );\n\n\t\t\t\tif ( type === \"fx\" && queue[ 0 ] !== \"inprogress\" ) {\n\t\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t\t}\n\t\t\t} );\n\t},\n\tdequeue: function( type ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.dequeue( this, type );\n\t\t} );\n\t},\n\tclearQueue: function( type ) {\n\t\treturn this.queue( type || \"fx\", [] );\n\t},\n\n\t// Get a promise resolved when queues of a certain type\n\t// are emptied (fx is the type by default)\n\tpromise: function( type, obj ) {\n\t\tvar tmp,\n\t\t\tcount = 1,\n\t\t\tdefer = jQuery.Deferred(),\n\t\t\telements = this,\n\t\t\ti = this.length,\n\t\t\tresolve = function() {\n\t\t\t\tif ( !( --count ) ) {\n\t\t\t\t\tdefer.resolveWith( elements, [ elements ] );\n\t\t\t\t}\n\t\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tobj = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\ttype = type || \"fx\";\n\n\t\twhile ( i-- ) {\n\t\t\ttmp = dataPriv.get( elements[ i ], type + \"queueHooks\" );\n\t\t\tif ( tmp && tmp.empty ) {\n\t\t\t\tcount++;\n\t\t\t\ttmp.empty.add( resolve );\n\t\t\t}\n\t\t}\n\t\tresolve();\n\t\treturn defer.promise( obj );\n\t}\n} );\nvar pnum = ( /[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/ ).source;\n\nvar rcssNum = new RegExp( \"^(?:([+-])=|)(\" + pnum + \")([a-z%]*)$\", \"i\" );\n\n\nvar cssExpand = [ \"Top\", \"Right\", \"Bottom\", \"Left\" ];\n\nvar isHiddenWithinTree = function( elem, el ) {\n\n\t\t// isHiddenWithinTree might be called from jQuery#filter function;\n\t\t// in that case, element will be second argument\n\t\telem = el || elem;\n\n\t\t// Inline style trumps all\n\t\treturn elem.style.display === \"none\" ||\n\t\t\telem.style.display === \"\" &&\n\n\t\t\t// Otherwise, check computed style\n\t\t\t// Support: Firefox <=43 - 45\n\t\t\t// Disconnected elements can have computed display: none, so first confirm that elem is\n\t\t\t// in the document.\n\t\t\tjQuery.contains( elem.ownerDocument, elem ) &&\n\n\t\t\tjQuery.css( elem, \"display\" ) === \"none\";\n\t};\n\nvar swap = function( elem, options, callback, args ) {\n\tvar ret, name,\n\t\told = {};\n\n\t// Remember the old values, and insert the new ones\n\tfor ( name in options ) {\n\t\told[ name ] = elem.style[ name ];\n\t\telem.style[ name ] = options[ name ];\n\t}\n\n\tret = callback.apply( elem, args || [] );\n\n\t// Revert the old values\n\tfor ( name in options ) {\n\t\telem.style[ name ] = old[ name ];\n\t}\n\n\treturn ret;\n};\n\n\n\n\nfunction adjustCSS( elem, prop, valueParts, tween ) {\n\tvar adjusted,\n\t\tscale = 1,\n\t\tmaxIterations = 20,\n\t\tcurrentValue = tween ?\n\t\t\tfunction() { return tween.cur(); } :\n\t\t\tfunction() { return jQuery.css( elem, prop, \"\" ); },\n\t\tinitial = currentValue(),\n\t\tunit = valueParts && valueParts[ 3 ] || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" ),\n\n\t\t// Starting value computation is required for potential unit mismatches\n\t\tinitialInUnit = ( jQuery.cssNumber[ prop ] || unit !== \"px\" && +initial ) &&\n\t\t\trcssNum.exec( jQuery.css( elem, prop ) );\n\n\tif ( initialInUnit && initialInUnit[ 3 ] !== unit ) {\n\n\t\t// Trust units reported by jQuery.css\n\t\tunit = unit || initialInUnit[ 3 ];\n\n\t\t// Make sure we update the tween properties later on\n\t\tvalueParts = valueParts || [];\n\n\t\t// Iteratively approximate from a nonzero starting point\n\t\tinitialInUnit = +initial || 1;\n\n\t\tdo {\n\n\t\t\t// If previous iteration zeroed out, double until we get *something*.\n\t\t\t// Use string for doubling so we don't accidentally see scale as unchanged below\n\t\t\tscale = scale || \".5\";\n\n\t\t\t// Adjust and apply\n\t\t\tinitialInUnit = initialInUnit / scale;\n\t\t\tjQuery.style( elem, prop, initialInUnit + unit );\n\n\t\t// Update scale, tolerating zero or NaN from tween.cur()\n\t\t// Break the loop if scale is unchanged or perfect, or if we've just had enough.\n\t\t} while (\n\t\t\tscale !== ( scale = currentValue() / initial ) && scale !== 1 && --maxIterations\n\t\t);\n\t}\n\n\tif ( valueParts ) {\n\t\tinitialInUnit = +initialInUnit || +initial || 0;\n\n\t\t// Apply relative offset (+=/-=) if specified\n\t\tadjusted = valueParts[ 1 ] ?\n\t\t\tinitialInUnit + ( valueParts[ 1 ] + 1 ) * valueParts[ 2 ] :\n\t\t\t+valueParts[ 2 ];\n\t\tif ( tween ) {\n\t\t\ttween.unit = unit;\n\t\t\ttween.start = initialInUnit;\n\t\t\ttween.end = adjusted;\n\t\t}\n\t}\n\treturn adjusted;\n}\n\n\nvar defaultDisplayMap = {};\n\nfunction getDefaultDisplay( elem ) {\n\tvar temp,\n\t\tdoc = elem.ownerDocument,\n\t\tnodeName = elem.nodeName,\n\t\tdisplay = defaultDisplayMap[ nodeName ];\n\n\tif ( display ) {\n\t\treturn display;\n\t}\n\n\ttemp = doc.body.appendChild( doc.createElement( nodeName ) ),\n\tdisplay = jQuery.css( temp, \"display\" );\n\n\ttemp.parentNode.removeChild( temp );\n\n\tif ( display === \"none\" ) {\n\t\tdisplay = \"block\";\n\t}\n\tdefaultDisplayMap[ nodeName ] = display;\n\n\treturn display;\n}\n\nfunction showHide( elements, show ) {\n\tvar display, elem,\n\t\tvalues = [],\n\t\tindex = 0,\n\t\tlength = elements.length;\n\n\t// Determine new display value for elements that need to change\n\tfor ( ; index < length; index++ ) {\n\t\telem = elements[ index ];\n\t\tif ( !elem.style ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tdisplay = elem.style.display;\n\t\tif ( show ) {\n\n\t\t\t// Since we force visibility upon cascade-hidden elements, an immediate (and slow)\n\t\t\t// check is required in this first loop unless we have a nonempty display value (either\n\t\t\t// inline or about-to-be-restored)\n\t\t\tif ( display === \"none\" ) {\n\t\t\t\tvalues[ index ] = dataPriv.get( elem, \"display\" ) || null;\n\t\t\t\tif ( !values[ index ] ) {\n\t\t\t\t\telem.style.display = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( elem.style.display === \"\" && isHiddenWithinTree( elem ) ) {\n\t\t\t\tvalues[ index ] = getDefaultDisplay( elem );\n\t\t\t}\n\t\t} else {\n\t\t\tif ( display !== \"none\" ) {\n\t\t\t\tvalues[ index ] = \"none\";\n\n\t\t\t\t// Remember what we're overwriting\n\t\t\t\tdataPriv.set( elem, \"display\", display );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Set the display of the elements in a second loop to avoid constant reflow\n\tfor ( index = 0; index < length; index++ ) {\n\t\tif ( values[ index ] != null ) {\n\t\t\telements[ index ].style.display = values[ index ];\n\t\t}\n\t}\n\n\treturn elements;\n}\n\njQuery.fn.extend( {\n\tshow: function() {\n\t\treturn showHide( this, true );\n\t},\n\thide: function() {\n\t\treturn showHide( this );\n\t},\n\ttoggle: function( state ) {\n\t\tif ( typeof state === \"boolean\" ) {\n\t\t\treturn state ? this.show() : this.hide();\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tif ( isHiddenWithinTree( this ) ) {\n\t\t\t\tjQuery( this ).show();\n\t\t\t} else {\n\t\t\t\tjQuery( this ).hide();\n\t\t\t}\n\t\t} );\n\t}\n} );\nvar rcheckableType = ( /^(?:checkbox|radio)$/i );\n\nvar rtagName = ( /<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]+)/i );\n\nvar rscriptType = ( /^$|\\/(?:java|ecma)script/i );\n\n\n\n// We have to close these tags to support XHTML (#13200)\nvar wrapMap = {\n\n\t// Support: IE <=9 only\n\toption: [ 1, \"<select multiple='multiple'>\", \"</select>\" ],\n\n\t// XHTML parsers do not magically insert elements in the\n\t// same way that tag soup parsers do. So we cannot shorten\n\t// this by omitting <tbody> or other required elements.\n\tthead: [ 1, \"<table>\", \"</table>\" ],\n\tcol: [ 2, \"<table><colgroup>\", \"</colgroup></table>\" ],\n\ttr: [ 2, \"<table><tbody>\", \"</tbody></table>\" ],\n\ttd: [ 3, \"<table><tbody><tr>\", \"</tr></tbody></table>\" ],\n\n\t_default: [ 0, \"\", \"\" ]\n};\n\n// Support: IE <=9 only\nwrapMap.optgroup = wrapMap.option;\n\nwrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;\nwrapMap.th = wrapMap.td;\n\n\nfunction getAll( context, tag ) {\n\n\t// Support: IE <=9 - 11 only\n\t// Use typeof to avoid zero-argument method invocation on host objects (#15151)\n\tvar ret = typeof context.getElementsByTagName !== \"undefined\" ?\n\t\t\tcontext.getElementsByTagName( tag || \"*\" ) :\n\t\t\ttypeof context.querySelectorAll !== \"undefined\" ?\n\t\t\t\tcontext.querySelectorAll( tag || \"*\" ) :\n\t\t\t[];\n\n\treturn tag === undefined || tag && jQuery.nodeName( context, tag ) ?\n\t\tjQuery.merge( [ context ], ret ) :\n\t\tret;\n}\n\n\n// Mark scripts as having already been evaluated\nfunction setGlobalEval( elems, refElements ) {\n\tvar i = 0,\n\t\tl = elems.length;\n\n\tfor ( ; i < l; i++ ) {\n\t\tdataPriv.set(\n\t\t\telems[ i ],\n\t\t\t\"globalEval\",\n\t\t\t!refElements || dataPriv.get( refElements[ i ], \"globalEval\" )\n\t\t);\n\t}\n}\n\n\nvar rhtml = /<|&#?\\w+;/;\n\nfunction buildFragment( elems, context, scripts, selection, ignored ) {\n\tvar elem, tmp, tag, wrap, contains, j,\n\t\tfragment = context.createDocumentFragment(),\n\t\tnodes = [],\n\t\ti = 0,\n\t\tl = elems.length;\n\n\tfor ( ; i < l; i++ ) {\n\t\telem = elems[ i ];\n\n\t\tif ( elem || elem === 0 ) {\n\n\t\t\t// Add nodes directly\n\t\t\tif ( jQuery.type( elem ) === \"object\" ) {\n\n\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\tjQuery.merge( nodes, elem.nodeType ? [ elem ] : elem );\n\n\t\t\t// Convert non-html into a text node\n\t\t\t} else if ( !rhtml.test( elem ) ) {\n\t\t\t\tnodes.push( context.createTextNode( elem ) );\n\n\t\t\t// Convert html into DOM nodes\n\t\t\t} else {\n\t\t\t\ttmp = tmp || fragment.appendChild( context.createElement( \"div\" ) );\n\n\t\t\t\t// Deserialize a standard representation\n\t\t\t\ttag = ( rtagName.exec( elem ) || [ \"\", \"\" ] )[ 1 ].toLowerCase();\n\t\t\t\twrap = wrapMap[ tag ] || wrapMap._default;\n\t\t\t\ttmp.innerHTML = wrap[ 1 ] + jQuery.htmlPrefilter( elem ) + wrap[ 2 ];\n\n\t\t\t\t// Descend through wrappers to the right content\n\t\t\t\tj = wrap[ 0 ];\n\t\t\t\twhile ( j-- ) {\n\t\t\t\t\ttmp = tmp.lastChild;\n\t\t\t\t}\n\n\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\tjQuery.merge( nodes, tmp.childNodes );\n\n\t\t\t\t// Remember the top-level container\n\t\t\t\ttmp = fragment.firstChild;\n\n\t\t\t\t// Ensure the created nodes are orphaned (#12392)\n\t\t\t\ttmp.textContent = \"\";\n\t\t\t}\n\t\t}\n\t}\n\n\t// Remove wrapper from fragment\n\tfragment.textContent = \"\";\n\n\ti = 0;\n\twhile ( ( elem = nodes[ i++ ] ) ) {\n\n\t\t// Skip elements already in the context collection (trac-4087)\n\t\tif ( selection && jQuery.inArray( elem, selection ) > -1 ) {\n\t\t\tif ( ignored ) {\n\t\t\t\tignored.push( elem );\n\t\t\t}\n\t\t\tcontinue;\n\t\t}\n\n\t\tcontains = jQuery.contains( elem.ownerDocument, elem );\n\n\t\t// Append to fragment\n\t\ttmp = getAll( fragment.appendChild( elem ), \"script\" );\n\n\t\t// Preserve script evaluation history\n\t\tif ( contains ) {\n\t\t\tsetGlobalEval( tmp );\n\t\t}\n\n\t\t// Capture executables\n\t\tif ( scripts ) {\n\t\t\tj = 0;\n\t\t\twhile ( ( elem = tmp[ j++ ] ) ) {\n\t\t\t\tif ( rscriptType.test( elem.type || \"\" ) ) {\n\t\t\t\t\tscripts.push( elem );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn fragment;\n}\n\n\n( function() {\n\tvar fragment = document.createDocumentFragment(),\n\t\tdiv = fragment.appendChild( document.createElement( \"div\" ) ),\n\t\tinput = document.createElement( \"input\" );\n\n\t// Support: Android 4.0 - 4.3 only\n\t// Check state lost if the name is set (#11217)\n\t// Support: Windows Web Apps (WWA)\n\t// `name` and `type` must use .setAttribute for WWA (#14901)\n\tinput.setAttribute( \"type\", \"radio\" );\n\tinput.setAttribute( \"checked\", \"checked\" );\n\tinput.setAttribute( \"name\", \"t\" );\n\n\tdiv.appendChild( input );\n\n\t// Support: Android <=4.1 only\n\t// Older WebKit doesn't clone checked state correctly in fragments\n\tsupport.checkClone = div.cloneNode( true ).cloneNode( true ).lastChild.checked;\n\n\t// Support: IE <=11 only\n\t// Make sure textarea (and checkbox) defaultValue is properly cloned\n\tdiv.innerHTML = \"<textarea>x</textarea>\";\n\tsupport.noCloneChecked = !!div.cloneNode( true ).lastChild.defaultValue;\n} )();\nvar documentElement = document.documentElement;\n\n\n\nvar\n\trkeyEvent = /^key/,\n\trmouseEvent = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,\n\trtypenamespace = /^([^.]*)(?:\\.(.+)|)/;\n\nfunction returnTrue() {\n\treturn true;\n}\n\nfunction returnFalse() {\n\treturn false;\n}\n\n// Support: IE <=9 only\n// See #13393 for more info\nfunction safeActiveElement() {\n\ttry {\n\t\treturn document.activeElement;\n\t} catch ( err ) { }\n}\n\nfunction on( elem, types, selector, data, fn, one ) {\n\tvar origFn, type;\n\n\t// Types can be a map of types/handlers\n\tif ( typeof types === \"object\" ) {\n\n\t\t// ( types-Object, selector, data )\n\t\tif ( typeof selector !== \"string\" ) {\n\n\t\t\t// ( types-Object, data )\n\t\t\tdata = data || selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tfor ( type in types ) {\n\t\t\ton( elem, type, selector, data, types[ type ], one );\n\t\t}\n\t\treturn elem;\n\t}\n\n\tif ( data == null && fn == null ) {\n\n\t\t// ( types, fn )\n\t\tfn = selector;\n\t\tdata = selector = undefined;\n\t} else if ( fn == null ) {\n\t\tif ( typeof selector === \"string\" ) {\n\n\t\t\t// ( types, selector, fn )\n\t\t\tfn = data;\n\t\t\tdata = undefined;\n\t\t} else {\n\n\t\t\t// ( types, data, fn )\n\t\t\tfn = data;\n\t\t\tdata = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t}\n\tif ( fn === false ) {\n\t\tfn = returnFalse;\n\t} else if ( !fn ) {\n\t\treturn elem;\n\t}\n\n\tif ( one === 1 ) {\n\t\torigFn = fn;\n\t\tfn = function( event ) {\n\n\t\t\t// Can use an empty set, since event contains the info\n\t\t\tjQuery().off( event );\n\t\t\treturn origFn.apply( this, arguments );\n\t\t};\n\n\t\t// Use same guid so caller can remove using origFn\n\t\tfn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );\n\t}\n\treturn elem.each( function() {\n\t\tjQuery.event.add( this, types, fn, data, selector );\n\t} );\n}\n\n/*\n * Helper functions for managing events -- not part of the public interface.\n * Props to Dean Edwards' addEvent library for many of the ideas.\n */\njQuery.event = {\n\n\tglobal: {},\n\n\tadd: function( elem, types, handler, data, selector ) {\n\n\t\tvar handleObjIn, eventHandle, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = dataPriv.get( elem );\n\n\t\t// Don't attach events to noData or text/comment nodes (but allow plain objects)\n\t\tif ( !elemData ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Caller can pass in an object of custom data in lieu of the handler\n\t\tif ( handler.handler ) {\n\t\t\thandleObjIn = handler;\n\t\t\thandler = handleObjIn.handler;\n\t\t\tselector = handleObjIn.selector;\n\t\t}\n\n\t\t// Ensure that invalid selectors throw exceptions at attach time\n\t\t// Evaluate against documentElement in case elem is a non-element node (e.g., document)\n\t\tif ( selector ) {\n\t\t\tjQuery.find.matchesSelector( documentElement, selector );\n\t\t}\n\n\t\t// Make sure that the handler has a unique ID, used to find/remove it later\n\t\tif ( !handler.guid ) {\n\t\t\thandler.guid = jQuery.guid++;\n\t\t}\n\n\t\t// Init the element's event structure and main handler, if this is the first\n\t\tif ( !( events = elemData.events ) ) {\n\t\t\tevents = elemData.events = {};\n\t\t}\n\t\tif ( !( eventHandle = elemData.handle ) ) {\n\t\t\teventHandle = elemData.handle = function( e ) {\n\n\t\t\t\t// Discard the second event of a jQuery.event.trigger() and\n\t\t\t\t// when an event is called after a page has unloaded\n\t\t\t\treturn typeof jQuery !== \"undefined\" && jQuery.event.triggered !== e.type ?\n\t\t\t\t\tjQuery.event.dispatch.apply( elem, arguments ) : undefined;\n\t\t\t};\n\t\t}\n\n\t\t// Handle multiple events separated by a space\n\t\ttypes = ( types || \"\" ).match( rnotwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[ t ] ) || [];\n\t\t\ttype = origType = tmp[ 1 ];\n\t\t\tnamespaces = ( tmp[ 2 ] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// There *must* be a type, no attaching namespace-only handlers\n\t\t\tif ( !type ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// If event changes its type, use the special event handlers for the changed type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// If selector defined, determine special event api type, otherwise given type\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\n\t\t\t// Update special based on newly reset type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// handleObj is passed to all event handlers\n\t\t\thandleObj = jQuery.extend( {\n\t\t\t\ttype: type,\n\t\t\t\torigType: origType,\n\t\t\t\tdata: data,\n\t\t\t\thandler: handler,\n\t\t\t\tguid: handler.guid,\n\t\t\t\tselector: selector,\n\t\t\t\tneedsContext: selector && jQuery.expr.match.needsContext.test( selector ),\n\t\t\t\tnamespace: namespaces.join( \".\" )\n\t\t\t}, handleObjIn );\n\n\t\t\t// Init the event handler queue if we're the first\n\t\t\tif ( !( handlers = events[ type ] ) ) {\n\t\t\t\thandlers = events[ type ] = [];\n\t\t\t\thandlers.delegateCount = 0;\n\n\t\t\t\t// Only use addEventListener if the special events handler returns false\n\t\t\t\tif ( !special.setup ||\n\t\t\t\t\tspecial.setup.call( elem, data, namespaces, eventHandle ) === false ) {\n\n\t\t\t\t\tif ( elem.addEventListener ) {\n\t\t\t\t\t\telem.addEventListener( type, eventHandle );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( special.add ) {\n\t\t\t\tspecial.add.call( elem, handleObj );\n\n\t\t\t\tif ( !handleObj.handler.guid ) {\n\t\t\t\t\thandleObj.handler.guid = handler.guid;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Add to the element's handler list, delegates in front\n\t\t\tif ( selector ) {\n\t\t\t\thandlers.splice( handlers.delegateCount++, 0, handleObj );\n\t\t\t} else {\n\t\t\t\thandlers.push( handleObj );\n\t\t\t}\n\n\t\t\t// Keep track of which events have ever been used, for event optimization\n\t\t\tjQuery.event.global[ type ] = true;\n\t\t}\n\n\t},\n\n\t// Detach an event or set of events from an element\n\tremove: function( elem, types, handler, selector, mappedTypes ) {\n\n\t\tvar j, origCount, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = dataPriv.hasData( elem ) && dataPriv.get( elem );\n\n\t\tif ( !elemData || !( events = elemData.events ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Once for each type.namespace in types; type may be omitted\n\t\ttypes = ( types || \"\" ).match( rnotwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[ t ] ) || [];\n\t\t\ttype = origType = tmp[ 1 ];\n\t\t\tnamespaces = ( tmp[ 2 ] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// Unbind all events (on this namespace, if provided) for the element\n\t\t\tif ( !type ) {\n\t\t\t\tfor ( type in events ) {\n\t\t\t\t\tjQuery.event.remove( elem, type + types[ t ], handler, selector, true );\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\t\t\thandlers = events[ type ] || [];\n\t\t\ttmp = tmp[ 2 ] &&\n\t\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join( \"\\\\.(?:.*\\\\.|)\" ) + \"(\\\\.|$)\" );\n\n\t\t\t// Remove matching events\n\t\t\torigCount = j = handlers.length;\n\t\t\twhile ( j-- ) {\n\t\t\t\thandleObj = handlers[ j ];\n\n\t\t\t\tif ( ( mappedTypes || origType === handleObj.origType ) &&\n\t\t\t\t\t( !handler || handler.guid === handleObj.guid ) &&\n\t\t\t\t\t( !tmp || tmp.test( handleObj.namespace ) ) &&\n\t\t\t\t\t( !selector || selector === handleObj.selector ||\n\t\t\t\t\t\tselector === \"**\" && handleObj.selector ) ) {\n\t\t\t\t\thandlers.splice( j, 1 );\n\n\t\t\t\t\tif ( handleObj.selector ) {\n\t\t\t\t\t\thandlers.delegateCount--;\n\t\t\t\t\t}\n\t\t\t\t\tif ( special.remove ) {\n\t\t\t\t\t\tspecial.remove.call( elem, handleObj );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Remove generic event handler if we removed something and no more handlers exist\n\t\t\t// (avoids potential for endless recursion during removal of special event handlers)\n\t\t\tif ( origCount && !handlers.length ) {\n\t\t\t\tif ( !special.teardown ||\n\t\t\t\t\tspecial.teardown.call( elem, namespaces, elemData.handle ) === false ) {\n\n\t\t\t\t\tjQuery.removeEvent( elem, type, elemData.handle );\n\t\t\t\t}\n\n\t\t\t\tdelete events[ type ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove data and the expando if it's no longer used\n\t\tif ( jQuery.isEmptyObject( events ) ) {\n\t\t\tdataPriv.remove( elem, \"handle events\" );\n\t\t}\n\t},\n\n\tdispatch: function( nativeEvent ) {\n\n\t\t// Make a writable jQuery.Event from the native event object\n\t\tvar event = jQuery.event.fix( nativeEvent );\n\n\t\tvar i, j, ret, matched, handleObj, handlerQueue,\n\t\t\targs = new Array( arguments.length ),\n\t\t\thandlers = ( dataPriv.get( this, \"events\" ) || {} )[ event.type ] || [],\n\t\t\tspecial = jQuery.event.special[ event.type ] || {};\n\n\t\t// Use the fix-ed jQuery.Event rather than the (read-only) native event\n\t\targs[ 0 ] = event;\n\n\t\tfor ( i = 1; i < arguments.length; i++ ) {\n\t\t\targs[ i ] = arguments[ i ];\n\t\t}\n\n\t\tevent.delegateTarget = this;\n\n\t\t// Call the preDispatch hook for the mapped type, and let it bail if desired\n\t\tif ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine handlers\n\t\thandlerQueue = jQuery.event.handlers.call( this, event, handlers );\n\n\t\t// Run delegates first; they may want to stop propagation beneath us\n\t\ti = 0;\n\t\twhile ( ( matched = handlerQueue[ i++ ] ) && !event.isPropagationStopped() ) {\n\t\t\tevent.currentTarget = matched.elem;\n\n\t\t\tj = 0;\n\t\t\twhile ( ( handleObj = matched.handlers[ j++ ] ) &&\n\t\t\t\t!event.isImmediatePropagationStopped() ) {\n\n\t\t\t\t// Triggered event must either 1) have no namespace, or 2) have namespace(s)\n\t\t\t\t// a subset or equal to those in the bound event (both can have no namespace).\n\t\t\t\tif ( !event.rnamespace || event.rnamespace.test( handleObj.namespace ) ) {\n\n\t\t\t\t\tevent.handleObj = handleObj;\n\t\t\t\t\tevent.data = handleObj.data;\n\n\t\t\t\t\tret = ( ( jQuery.event.special[ handleObj.origType ] || {} ).handle ||\n\t\t\t\t\t\thandleObj.handler ).apply( matched.elem, args );\n\n\t\t\t\t\tif ( ret !== undefined ) {\n\t\t\t\t\t\tif ( ( event.result = ret ) === false ) {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Call the postDispatch hook for the mapped type\n\t\tif ( special.postDispatch ) {\n\t\t\tspecial.postDispatch.call( this, event );\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\thandlers: function( event, handlers ) {\n\t\tvar i, matches, sel, handleObj,\n\t\t\thandlerQueue = [],\n\t\t\tdelegateCount = handlers.delegateCount,\n\t\t\tcur = event.target;\n\n\t\t// Support: IE <=9\n\t\t// Find delegate handlers\n\t\t// Black-hole SVG <use> instance trees (#13180)\n\t\t//\n\t\t// Support: Firefox <=42\n\t\t// Avoid non-left-click in FF but don't block IE radio events (#3861, gh-2343)\n\t\tif ( delegateCount && cur.nodeType &&\n\t\t\t( event.type !== \"click\" || isNaN( event.button ) || event.button < 1 ) ) {\n\n\t\t\tfor ( ; cur !== this; cur = cur.parentNode || this ) {\n\n\t\t\t\t// Don't check non-elements (#13208)\n\t\t\t\t// Don't process clicks on disabled elements (#6911, #8165, #11382, #11764)\n\t\t\t\tif ( cur.nodeType === 1 && ( cur.disabled !== true || event.type !== \"click\" ) ) {\n\t\t\t\t\tmatches = [];\n\t\t\t\t\tfor ( i = 0; i < delegateCount; i++ ) {\n\t\t\t\t\t\thandleObj = handlers[ i ];\n\n\t\t\t\t\t\t// Don't conflict with Object.prototype properties (#13203)\n\t\t\t\t\t\tsel = handleObj.selector + \" \";\n\n\t\t\t\t\t\tif ( matches[ sel ] === undefined ) {\n\t\t\t\t\t\t\tmatches[ sel ] = handleObj.needsContext ?\n\t\t\t\t\t\t\t\tjQuery( sel, this ).index( cur ) > -1 :\n\t\t\t\t\t\t\t\tjQuery.find( sel, this, null, [ cur ] ).length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( matches[ sel ] ) {\n\t\t\t\t\t\t\tmatches.push( handleObj );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( matches.length ) {\n\t\t\t\t\t\thandlerQueue.push( { elem: cur, handlers: matches } );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Add the remaining (directly-bound) handlers\n\t\tif ( delegateCount < handlers.length ) {\n\t\t\thandlerQueue.push( { elem: this, handlers: handlers.slice( delegateCount ) } );\n\t\t}\n\n\t\treturn handlerQueue;\n\t},\n\n\taddProp: function( name, hook ) {\n\t\tObject.defineProperty( jQuery.Event.prototype, name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\n\t\t\tget: jQuery.isFunction( hook ) ?\n\t\t\t\tfunction() {\n\t\t\t\t\tif ( this.originalEvent ) {\n\t\t\t\t\t\t\treturn hook( this.originalEvent );\n\t\t\t\t\t}\n\t\t\t\t} :\n\t\t\t\tfunction() {\n\t\t\t\t\tif ( this.originalEvent ) {\n\t\t\t\t\t\t\treturn this.originalEvent[ name ];\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\tset: function( value ) {\n\t\t\t\tObject.defineProperty( this, name, {\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tconfigurable: true,\n\t\t\t\t\twritable: true,\n\t\t\t\t\tvalue: value\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\t},\n\n\tfix: function( originalEvent ) {\n\t\treturn originalEvent[ jQuery.expando ] ?\n\t\t\toriginalEvent :\n\t\t\tnew jQuery.Event( originalEvent );\n\t},\n\n\tspecial: {\n\t\tload: {\n\n\t\t\t// Prevent triggered image.load events from bubbling to window.load\n\t\t\tnoBubble: true\n\t\t},\n\t\tfocus: {\n\n\t\t\t// Fire native event if possible so blur/focus sequence is correct\n\t\t\ttrigger: function() {\n\t\t\t\tif ( this !== safeActiveElement() && this.focus ) {\n\t\t\t\t\tthis.focus();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdelegateType: \"focusin\"\n\t\t},\n\t\tblur: {\n\t\t\ttrigger: function() {\n\t\t\t\tif ( this === safeActiveElement() && this.blur ) {\n\t\t\t\t\tthis.blur();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdelegateType: \"focusout\"\n\t\t},\n\t\tclick: {\n\n\t\t\t// For checkbox, fire native event so checked state will be right\n\t\t\ttrigger: function() {\n\t\t\t\tif ( this.type === \"checkbox\" && this.click && jQuery.nodeName( this, \"input\" ) ) {\n\t\t\t\t\tthis.click();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// For cross-browser consistency, don't fire native .click() on links\n\t\t\t_default: function( event ) {\n\t\t\t\treturn jQuery.nodeName( event.target, \"a\" );\n\t\t\t}\n\t\t},\n\n\t\tbeforeunload: {\n\t\t\tpostDispatch: function( event ) {\n\n\t\t\t\t// Support: Firefox 20+\n\t\t\t\t// Firefox doesn't alert if the returnValue field is not set.\n\t\t\t\tif ( event.result !== undefined && event.originalEvent ) {\n\t\t\t\t\tevent.originalEvent.returnValue = event.result;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\njQuery.removeEvent = function( elem, type, handle ) {\n\n\t// This \"if\" is needed for plain objects\n\tif ( elem.removeEventListener ) {\n\t\telem.removeEventListener( type, handle );\n\t}\n};\n\njQuery.Event = function( src, props ) {\n\n\t// Allow instantiation without the 'new' keyword\n\tif ( !( this instanceof jQuery.Event ) ) {\n\t\treturn new jQuery.Event( src, props );\n\t}\n\n\t// Event object\n\tif ( src && src.type ) {\n\t\tthis.originalEvent = src;\n\t\tthis.type = src.type;\n\n\t\t// Events bubbling up the document may have been marked as prevented\n\t\t// by a handler lower down the tree; reflect the correct value.\n\t\tthis.isDefaultPrevented = src.defaultPrevented ||\n\t\t\t\tsrc.defaultPrevented === undefined &&\n\n\t\t\t\t// Support: Android <=2.3 only\n\t\t\t\tsrc.returnValue === false ?\n\t\t\treturnTrue :\n\t\t\treturnFalse;\n\n\t\t// Create target properties\n\t\t// Support: Safari <=6 - 7 only\n\t\t// Target should not be a text node (#504, #13143)\n\t\tthis.target = ( src.target && src.target.nodeType === 3 ) ?\n\t\t\tsrc.target.parentNode :\n\t\t\tsrc.target;\n\n\t\tthis.currentTarget = src.currentTarget;\n\t\tthis.relatedTarget = src.relatedTarget;\n\n\t// Event type\n\t} else {\n\t\tthis.type = src;\n\t}\n\n\t// Put explicitly provided properties onto the event object\n\tif ( props ) {\n\t\tjQuery.extend( this, props );\n\t}\n\n\t// Create a timestamp if incoming event doesn't have one\n\tthis.timeStamp = src && src.timeStamp || jQuery.now();\n\n\t// Mark it as fixed\n\tthis[ jQuery.expando ] = true;\n};\n\n// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding\n// https://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html\njQuery.Event.prototype = {\n\tconstructor: jQuery.Event,\n\tisDefaultPrevented: returnFalse,\n\tisPropagationStopped: returnFalse,\n\tisImmediatePropagationStopped: returnFalse,\n\tisSimulated: false,\n\n\tpreventDefault: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isDefaultPrevented = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.preventDefault();\n\t\t}\n\t},\n\tstopPropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isPropagationStopped = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.stopPropagation();\n\t\t}\n\t},\n\tstopImmediatePropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isImmediatePropagationStopped = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.stopImmediatePropagation();\n\t\t}\n\n\t\tthis.stopPropagation();\n\t}\n};\n\n// Includes all common event props including KeyEvent and MouseEvent specific props\njQuery.each( {\n\taltKey: true,\n\tbubbles: true,\n\tcancelable: true,\n\tchangedTouches: true,\n\tctrlKey: true,\n\tdetail: true,\n\teventPhase: true,\n\tmetaKey: true,\n\tpageX: true,\n\tpageY: true,\n\tshiftKey: true,\n\tview: true,\n\t\"char\": true,\n\tcharCode: true,\n\tkey: true,\n\tkeyCode: true,\n\tbutton: true,\n\tbuttons: true,\n\tclientX: true,\n\tclientY: true,\n\toffsetX: true,\n\toffsetY: true,\n\tpointerId: true,\n\tpointerType: true,\n\tscreenX: true,\n\tscreenY: true,\n\ttargetTouches: true,\n\ttoElement: true,\n\ttouches: true,\n\n\twhich: function( event ) {\n\t\tvar button = event.button;\n\n\t\t// Add which for key events\n\t\tif ( event.which == null && rkeyEvent.test( event.type ) ) {\n\t\t\treturn event.charCode != null ? event.charCode : event.keyCode;\n\t\t}\n\n\t\t// Add which for click: 1 === left; 2 === middle; 3 === right\n\t\tif ( !event.which && button !== undefined && rmouseEvent.test( event.type ) ) {\n\t\t\treturn ( button & 1 ? 1 : ( button & 2 ? 3 : ( button & 4 ? 2 : 0 ) ) );\n\t\t}\n\n\t\treturn event.which;\n\t}\n}, jQuery.event.addProp );\n\n// Create mouseenter/leave events using mouseover/out and event-time checks\n// so that event delegation works in jQuery.\n// Do the same for pointerenter/pointerleave and pointerover/pointerout\n//\n// Support: Safari 7 only\n// Safari sends mouseenter too often; see:\n// https://bugs.chromium.org/p/chromium/issues/detail?id=470258\n// for the description of the bug (it existed in older Chrome versions as well).\njQuery.each( {\n\tmouseenter: \"mouseover\",\n\tmouseleave: \"mouseout\",\n\tpointerenter: \"pointerover\",\n\tpointerleave: \"pointerout\"\n}, function( orig, fix ) {\n\tjQuery.event.special[ orig ] = {\n\t\tdelegateType: fix,\n\t\tbindType: fix,\n\n\t\thandle: function( event ) {\n\t\t\tvar ret,\n\t\t\t\ttarget = this,\n\t\t\t\trelated = event.relatedTarget,\n\t\t\t\thandleObj = event.handleObj;\n\n\t\t\t// For mouseenter/leave call the handler if related is outside the target.\n\t\t\t// NB: No relatedTarget if the mouse left/entered the browser window\n\t\t\tif ( !related || ( related !== target && !jQuery.contains( target, related ) ) ) {\n\t\t\t\tevent.type = handleObj.origType;\n\t\t\t\tret = handleObj.handler.apply( this, arguments );\n\t\t\t\tevent.type = fix;\n\t\t\t}\n\t\t\treturn ret;\n\t\t}\n\t};\n} );\n\njQuery.fn.extend( {\n\n\ton: function( types, selector, data, fn ) {\n\t\treturn on( this, types, selector, data, fn );\n\t},\n\tone: function( types, selector, data, fn ) {\n\t\treturn on( this, types, selector, data, fn, 1 );\n\t},\n\toff: function( types, selector, fn ) {\n\t\tvar handleObj, type;\n\t\tif ( types && types.preventDefault && types.handleObj ) {\n\n\t\t\t// ( event )  dispatched jQuery.Event\n\t\t\thandleObj = types.handleObj;\n\t\t\tjQuery( types.delegateTarget ).off(\n\t\t\t\thandleObj.namespace ?\n\t\t\t\t\thandleObj.origType + \".\" + handleObj.namespace :\n\t\t\t\t\thandleObj.origType,\n\t\t\t\thandleObj.selector,\n\t\t\t\thandleObj.handler\n\t\t\t);\n\t\t\treturn this;\n\t\t}\n\t\tif ( typeof types === \"object\" ) {\n\n\t\t\t// ( types-object [, selector] )\n\t\t\tfor ( type in types ) {\n\t\t\t\tthis.off( type, selector, types[ type ] );\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\t\tif ( selector === false || typeof selector === \"function\" ) {\n\n\t\t\t// ( types [, fn] )\n\t\t\tfn = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tif ( fn === false ) {\n\t\t\tfn = returnFalse;\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.remove( this, types, fn, selector );\n\t\t} );\n\t}\n} );\n\n\nvar\n\trxhtmlTag = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)[^>]*)\\/>/gi,\n\n\t// Support: IE <=10 - 11, Edge 12 - 13\n\t// In IE/Edge using regex groups here causes severe slowdowns.\n\t// See https://connect.microsoft.com/IE/feedback/details/1736512/\n\trnoInnerhtml = /<script|<style|<link/i,\n\n\t// checked=\"checked\" or checked\n\trchecked = /checked\\s*(?:[^=]|=\\s*.checked.)/i,\n\trscriptTypeMasked = /^true\\/(.*)/,\n\trcleanScript = /^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g;\n\nfunction manipulationTarget( elem, content ) {\n\tif ( jQuery.nodeName( elem, \"table\" ) &&\n\t\tjQuery.nodeName( content.nodeType !== 11 ? content : content.firstChild, \"tr\" ) ) {\n\n\t\treturn elem.getElementsByTagName( \"tbody\" )[ 0 ] || elem;\n\t}\n\n\treturn elem;\n}\n\n// Replace/restore the type attribute of script elements for safe DOM manipulation\nfunction disableScript( elem ) {\n\telem.type = ( elem.getAttribute( \"type\" ) !== null ) + \"/\" + elem.type;\n\treturn elem;\n}\nfunction restoreScript( elem ) {\n\tvar match = rscriptTypeMasked.exec( elem.type );\n\n\tif ( match ) {\n\t\telem.type = match[ 1 ];\n\t} else {\n\t\telem.removeAttribute( \"type\" );\n\t}\n\n\treturn elem;\n}\n\nfunction cloneCopyEvent( src, dest ) {\n\tvar i, l, type, pdataOld, pdataCur, udataOld, udataCur, events;\n\n\tif ( dest.nodeType !== 1 ) {\n\t\treturn;\n\t}\n\n\t// 1. Copy private data: events, handlers, etc.\n\tif ( dataPriv.hasData( src ) ) {\n\t\tpdataOld = dataPriv.access( src );\n\t\tpdataCur = dataPriv.set( dest, pdataOld );\n\t\tevents = pdataOld.events;\n\n\t\tif ( events ) {\n\t\t\tdelete pdataCur.handle;\n\t\t\tpdataCur.events = {};\n\n\t\t\tfor ( type in events ) {\n\t\t\t\tfor ( i = 0, l = events[ type ].length; i < l; i++ ) {\n\t\t\t\t\tjQuery.event.add( dest, type, events[ type ][ i ] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// 2. Copy user data\n\tif ( dataUser.hasData( src ) ) {\n\t\tudataOld = dataUser.access( src );\n\t\tudataCur = jQuery.extend( {}, udataOld );\n\n\t\tdataUser.set( dest, udataCur );\n\t}\n}\n\n// Fix IE bugs, see support tests\nfunction fixInput( src, dest ) {\n\tvar nodeName = dest.nodeName.toLowerCase();\n\n\t// Fails to persist the checked state of a cloned checkbox or radio button.\n\tif ( nodeName === \"input\" && rcheckableType.test( src.type ) ) {\n\t\tdest.checked = src.checked;\n\n\t// Fails to return the selected option to the default selected state when cloning options\n\t} else if ( nodeName === \"input\" || nodeName === \"textarea\" ) {\n\t\tdest.defaultValue = src.defaultValue;\n\t}\n}\n\nfunction domManip( collection, args, callback, ignored ) {\n\n\t// Flatten any nested arrays\n\targs = concat.apply( [], args );\n\n\tvar fragment, first, scripts, hasScripts, node, doc,\n\t\ti = 0,\n\t\tl = collection.length,\n\t\tiNoClone = l - 1,\n\t\tvalue = args[ 0 ],\n\t\tisFunction = jQuery.isFunction( value );\n\n\t// We can't cloneNode fragments that contain checked, in WebKit\n\tif ( isFunction ||\n\t\t\t( l > 1 && typeof value === \"string\" &&\n\t\t\t\t!support.checkClone && rchecked.test( value ) ) ) {\n\t\treturn collection.each( function( index ) {\n\t\t\tvar self = collection.eq( index );\n\t\t\tif ( isFunction ) {\n\t\t\t\targs[ 0 ] = value.call( this, index, self.html() );\n\t\t\t}\n\t\t\tdomManip( self, args, callback, ignored );\n\t\t} );\n\t}\n\n\tif ( l ) {\n\t\tfragment = buildFragment( args, collection[ 0 ].ownerDocument, false, collection, ignored );\n\t\tfirst = fragment.firstChild;\n\n\t\tif ( fragment.childNodes.length === 1 ) {\n\t\t\tfragment = first;\n\t\t}\n\n\t\t// Require either new content or an interest in ignored elements to invoke the callback\n\t\tif ( first || ignored ) {\n\t\t\tscripts = jQuery.map( getAll( fragment, \"script\" ), disableScript );\n\t\t\thasScripts = scripts.length;\n\n\t\t\t// Use the original fragment for the last item\n\t\t\t// instead of the first because it can end up\n\t\t\t// being emptied incorrectly in certain situations (#8070).\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tnode = fragment;\n\n\t\t\t\tif ( i !== iNoClone ) {\n\t\t\t\t\tnode = jQuery.clone( node, true, true );\n\n\t\t\t\t\t// Keep references to cloned scripts for later restoration\n\t\t\t\t\tif ( hasScripts ) {\n\n\t\t\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\t\t\tjQuery.merge( scripts, getAll( node, \"script\" ) );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcallback.call( collection[ i ], node, i );\n\t\t\t}\n\n\t\t\tif ( hasScripts ) {\n\t\t\t\tdoc = scripts[ scripts.length - 1 ].ownerDocument;\n\n\t\t\t\t// Reenable scripts\n\t\t\t\tjQuery.map( scripts, restoreScript );\n\n\t\t\t\t// Evaluate executable scripts on first document insertion\n\t\t\t\tfor ( i = 0; i < hasScripts; i++ ) {\n\t\t\t\t\tnode = scripts[ i ];\n\t\t\t\t\tif ( rscriptType.test( node.type || \"\" ) &&\n\t\t\t\t\t\t!dataPriv.access( node, \"globalEval\" ) &&\n\t\t\t\t\t\tjQuery.contains( doc, node ) ) {\n\n\t\t\t\t\t\tif ( node.src ) {\n\n\t\t\t\t\t\t\t// Optional AJAX dependency, but won't run scripts if not present\n\t\t\t\t\t\t\tif ( jQuery._evalUrl ) {\n\t\t\t\t\t\t\t\tjQuery._evalUrl( node.src );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tDOMEval( node.textContent.replace( rcleanScript, \"\" ), doc );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn collection;\n}\n\nfunction remove( elem, selector, keepData ) {\n\tvar node,\n\t\tnodes = selector ? jQuery.filter( selector, elem ) : elem,\n\t\ti = 0;\n\n\tfor ( ; ( node = nodes[ i ] ) != null; i++ ) {\n\t\tif ( !keepData && node.nodeType === 1 ) {\n\t\t\tjQuery.cleanData( getAll( node ) );\n\t\t}\n\n\t\tif ( node.parentNode ) {\n\t\t\tif ( keepData && jQuery.contains( node.ownerDocument, node ) ) {\n\t\t\t\tsetGlobalEval( getAll( node, \"script\" ) );\n\t\t\t}\n\t\t\tnode.parentNode.removeChild( node );\n\t\t}\n\t}\n\n\treturn elem;\n}\n\njQuery.extend( {\n\thtmlPrefilter: function( html ) {\n\t\treturn html.replace( rxhtmlTag, \"<$1></$2>\" );\n\t},\n\n\tclone: function( elem, dataAndEvents, deepDataAndEvents ) {\n\t\tvar i, l, srcElements, destElements,\n\t\t\tclone = elem.cloneNode( true ),\n\t\t\tinPage = jQuery.contains( elem.ownerDocument, elem );\n\n\t\t// Fix IE cloning issues\n\t\tif ( !support.noCloneChecked && ( elem.nodeType === 1 || elem.nodeType === 11 ) &&\n\t\t\t\t!jQuery.isXMLDoc( elem ) ) {\n\n\t\t\t// We eschew Sizzle here for performance reasons: https://jsperf.com/getall-vs-sizzle/2\n\t\t\tdestElements = getAll( clone );\n\t\t\tsrcElements = getAll( elem );\n\n\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\tfixInput( srcElements[ i ], destElements[ i ] );\n\t\t\t}\n\t\t}\n\n\t\t// Copy the events from the original to the clone\n\t\tif ( dataAndEvents ) {\n\t\t\tif ( deepDataAndEvents ) {\n\t\t\t\tsrcElements = srcElements || getAll( elem );\n\t\t\t\tdestElements = destElements || getAll( clone );\n\n\t\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\t\tcloneCopyEvent( srcElements[ i ], destElements[ i ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcloneCopyEvent( elem, clone );\n\t\t\t}\n\t\t}\n\n\t\t// Preserve script evaluation history\n\t\tdestElements = getAll( clone, \"script\" );\n\t\tif ( destElements.length > 0 ) {\n\t\t\tsetGlobalEval( destElements, !inPage && getAll( elem, \"script\" ) );\n\t\t}\n\n\t\t// Return the cloned set\n\t\treturn clone;\n\t},\n\n\tcleanData: function( elems ) {\n\t\tvar data, elem, type,\n\t\t\tspecial = jQuery.event.special,\n\t\t\ti = 0;\n\n\t\tfor ( ; ( elem = elems[ i ] ) !== undefined; i++ ) {\n\t\t\tif ( acceptData( elem ) ) {\n\t\t\t\tif ( ( data = elem[ dataPriv.expando ] ) ) {\n\t\t\t\t\tif ( data.events ) {\n\t\t\t\t\t\tfor ( type in data.events ) {\n\t\t\t\t\t\t\tif ( special[ type ] ) {\n\t\t\t\t\t\t\t\tjQuery.event.remove( elem, type );\n\n\t\t\t\t\t\t\t// This is a shortcut to avoid jQuery.event.remove's overhead\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tjQuery.removeEvent( elem, type, data.handle );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Support: Chrome <=35 - 45+\n\t\t\t\t\t// Assign undefined instead of using delete, see Data#remove\n\t\t\t\t\telem[ dataPriv.expando ] = undefined;\n\t\t\t\t}\n\t\t\t\tif ( elem[ dataUser.expando ] ) {\n\n\t\t\t\t\t// Support: Chrome <=35 - 45+\n\t\t\t\t\t// Assign undefined instead of using delete, see Data#remove\n\t\t\t\t\telem[ dataUser.expando ] = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n} );\n\njQuery.fn.extend( {\n\tdetach: function( selector ) {\n\t\treturn remove( this, selector, true );\n\t},\n\n\tremove: function( selector ) {\n\t\treturn remove( this, selector );\n\t},\n\n\ttext: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\treturn value === undefined ?\n\t\t\t\tjQuery.text( this ) :\n\t\t\t\tthis.empty().each( function() {\n\t\t\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\t\t\tthis.textContent = value;\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t}, null, value, arguments.length );\n\t},\n\n\tappend: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.appendChild( elem );\n\t\t\t}\n\t\t} );\n\t},\n\n\tprepend: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.insertBefore( elem, target.firstChild );\n\t\t\t}\n\t\t} );\n\t},\n\n\tbefore: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this );\n\t\t\t}\n\t\t} );\n\t},\n\n\tafter: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this.nextSibling );\n\t\t\t}\n\t\t} );\n\t},\n\n\tempty: function() {\n\t\tvar elem,\n\t\t\ti = 0;\n\n\t\tfor ( ; ( elem = this[ i ] ) != null; i++ ) {\n\t\t\tif ( elem.nodeType === 1 ) {\n\n\t\t\t\t// Prevent memory leaks\n\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\n\t\t\t\t// Remove any remaining nodes\n\t\t\t\telem.textContent = \"\";\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tclone: function( dataAndEvents, deepDataAndEvents ) {\n\t\tdataAndEvents = dataAndEvents == null ? false : dataAndEvents;\n\t\tdeepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;\n\n\t\treturn this.map( function() {\n\t\t\treturn jQuery.clone( this, dataAndEvents, deepDataAndEvents );\n\t\t} );\n\t},\n\n\thtml: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\tvar elem = this[ 0 ] || {},\n\t\t\t\ti = 0,\n\t\t\t\tl = this.length;\n\n\t\t\tif ( value === undefined && elem.nodeType === 1 ) {\n\t\t\t\treturn elem.innerHTML;\n\t\t\t}\n\n\t\t\t// See if we can take a shortcut and just use innerHTML\n\t\t\tif ( typeof value === \"string\" && !rnoInnerhtml.test( value ) &&\n\t\t\t\t!wrapMap[ ( rtagName.exec( value ) || [ \"\", \"\" ] )[ 1 ].toLowerCase() ] ) {\n\n\t\t\t\tvalue = jQuery.htmlPrefilter( value );\n\n\t\t\t\ttry {\n\t\t\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\t\t\telem = this[ i ] || {};\n\n\t\t\t\t\t\t// Remove element nodes and prevent memory leaks\n\t\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\t\t\t\t\t\t\telem.innerHTML = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\telem = 0;\n\n\t\t\t\t// If using innerHTML throws an exception, use the fallback method\n\t\t\t\t} catch ( e ) {}\n\t\t\t}\n\n\t\t\tif ( elem ) {\n\t\t\t\tthis.empty().append( value );\n\t\t\t}\n\t\t}, null, value, arguments.length );\n\t},\n\n\treplaceWith: function() {\n\t\tvar ignored = [];\n\n\t\t// Make the changes, replacing each non-ignored context element with the new content\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tvar parent = this.parentNode;\n\n\t\t\tif ( jQuery.inArray( this, ignored ) < 0 ) {\n\t\t\t\tjQuery.cleanData( getAll( this ) );\n\t\t\t\tif ( parent ) {\n\t\t\t\t\tparent.replaceChild( elem, this );\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Force callback invocation\n\t\t}, ignored );\n\t}\n} );\n\njQuery.each( {\n\tappendTo: \"append\",\n\tprependTo: \"prepend\",\n\tinsertBefore: \"before\",\n\tinsertAfter: \"after\",\n\treplaceAll: \"replaceWith\"\n}, function( name, original ) {\n\tjQuery.fn[ name ] = function( selector ) {\n\t\tvar elems,\n\t\t\tret = [],\n\t\t\tinsert = jQuery( selector ),\n\t\t\tlast = insert.length - 1,\n\t\t\ti = 0;\n\n\t\tfor ( ; i <= last; i++ ) {\n\t\t\telems = i === last ? this : this.clone( true );\n\t\t\tjQuery( insert[ i ] )[ original ]( elems );\n\n\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t// .get() because push.apply(_, arraylike) throws on ancient WebKit\n\t\t\tpush.apply( ret, elems.get() );\n\t\t}\n\n\t\treturn this.pushStack( ret );\n\t};\n} );\nvar rmargin = ( /^margin/ );\n\nvar rnumnonpx = new RegExp( \"^(\" + pnum + \")(?!px)[a-z%]+$\", \"i\" );\n\nvar getStyles = function( elem ) {\n\n\t\t// Support: IE <=11 only, Firefox <=30 (#15098, #14150)\n\t\t// IE throws on elements created in popups\n\t\t// FF meanwhile throws on frame elements through \"defaultView.getComputedStyle\"\n\t\tvar view = elem.ownerDocument.defaultView;\n\n\t\tif ( !view || !view.opener ) {\n\t\t\tview = window;\n\t\t}\n\n\t\treturn view.getComputedStyle( elem );\n\t};\n\n\n\n( function() {\n\n\t// Executing both pixelPosition & boxSizingReliable tests require only one layout\n\t// so they're executed at the same time to save the second computation.\n\tfunction computeStyleTests() {\n\n\t\t// This is a singleton, we need to execute it only once\n\t\tif ( !div ) {\n\t\t\treturn;\n\t\t}\n\n\t\tdiv.style.cssText =\n\t\t\t\"box-sizing:border-box;\" +\n\t\t\t\"position:relative;display:block;\" +\n\t\t\t\"margin:auto;border:1px;padding:1px;\" +\n\t\t\t\"top:1%;width:50%\";\n\t\tdiv.innerHTML = \"\";\n\t\tdocumentElement.appendChild( container );\n\n\t\tvar divStyle = window.getComputedStyle( div );\n\t\tpixelPositionVal = divStyle.top !== \"1%\";\n\n\t\t// Support: Android 4.0 - 4.3 only, Firefox <=3 - 44\n\t\treliableMarginLeftVal = divStyle.marginLeft === \"2px\";\n\t\tboxSizingReliableVal = divStyle.width === \"4px\";\n\n\t\t// Support: Android 4.0 - 4.3 only\n\t\t// Some styles come back with percentage values, even though they shouldn't\n\t\tdiv.style.marginRight = \"50%\";\n\t\tpixelMarginRightVal = divStyle.marginRight === \"4px\";\n\n\t\tdocumentElement.removeChild( container );\n\n\t\t// Nullify the div so it wouldn't be stored in the memory and\n\t\t// it will also be a sign that checks already performed\n\t\tdiv = null;\n\t}\n\n\tvar pixelPositionVal, boxSizingReliableVal, pixelMarginRightVal, reliableMarginLeftVal,\n\t\tcontainer = document.createElement( \"div\" ),\n\t\tdiv = document.createElement( \"div\" );\n\n\t// Finish early in limited (non-browser) environments\n\tif ( !div.style ) {\n\t\treturn;\n\t}\n\n\t// Support: IE <=9 - 11 only\n\t// Style of cloned element affects source element cloned (#8908)\n\tdiv.style.backgroundClip = \"content-box\";\n\tdiv.cloneNode( true ).style.backgroundClip = \"\";\n\tsupport.clearCloneStyle = div.style.backgroundClip === \"content-box\";\n\n\tcontainer.style.cssText = \"border:0;width:8px;height:0;top:0;left:-9999px;\" +\n\t\t\"padding:0;margin-top:1px;position:absolute\";\n\tcontainer.appendChild( div );\n\n\tjQuery.extend( support, {\n\t\tpixelPosition: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn pixelPositionVal;\n\t\t},\n\t\tboxSizingReliable: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn boxSizingReliableVal;\n\t\t},\n\t\tpixelMarginRight: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn pixelMarginRightVal;\n\t\t},\n\t\treliableMarginLeft: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn reliableMarginLeftVal;\n\t\t}\n\t} );\n} )();\n\n\nfunction curCSS( elem, name, computed ) {\n\tvar width, minWidth, maxWidth, ret,\n\t\tstyle = elem.style;\n\n\tcomputed = computed || getStyles( elem );\n\n\t// Support: IE <=9 only\n\t// getPropertyValue is only needed for .css('filter') (#12537)\n\tif ( computed ) {\n\t\tret = computed.getPropertyValue( name ) || computed[ name ];\n\n\t\tif ( ret === \"\" && !jQuery.contains( elem.ownerDocument, elem ) ) {\n\t\t\tret = jQuery.style( elem, name );\n\t\t}\n\n\t\t// A tribute to the \"awesome hack by Dean Edwards\"\n\t\t// Android Browser returns percentage for some values,\n\t\t// but width seems to be reliably pixels.\n\t\t// This is against the CSSOM draft spec:\n\t\t// https://drafts.csswg.org/cssom/#resolved-values\n\t\tif ( !support.pixelMarginRight() && rnumnonpx.test( ret ) && rmargin.test( name ) ) {\n\n\t\t\t// Remember the original values\n\t\t\twidth = style.width;\n\t\t\tminWidth = style.minWidth;\n\t\t\tmaxWidth = style.maxWidth;\n\n\t\t\t// Put in the new values to get a computed value out\n\t\t\tstyle.minWidth = style.maxWidth = style.width = ret;\n\t\t\tret = computed.width;\n\n\t\t\t// Revert the changed values\n\t\t\tstyle.width = width;\n\t\t\tstyle.minWidth = minWidth;\n\t\t\tstyle.maxWidth = maxWidth;\n\t\t}\n\t}\n\n\treturn ret !== undefined ?\n\n\t\t// Support: IE <=9 - 11 only\n\t\t// IE returns zIndex value as an integer.\n\t\tret + \"\" :\n\t\tret;\n}\n\n\nfunction addGetHookIf( conditionFn, hookFn ) {\n\n\t// Define the hook, we'll check on the first run if it's really needed.\n\treturn {\n\t\tget: function() {\n\t\t\tif ( conditionFn() ) {\n\n\t\t\t\t// Hook not needed (or it's not possible to use it due\n\t\t\t\t// to missing dependency), remove it.\n\t\t\t\tdelete this.get;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Hook needed; redefine it so that the support test is not executed again.\n\t\t\treturn ( this.get = hookFn ).apply( this, arguments );\n\t\t}\n\t};\n}\n\n\nvar\n\n\t// Swappable if display is none or starts with table\n\t// except \"table\", \"table-cell\", or \"table-caption\"\n\t// See here for display values: https://developer.mozilla.org/en-US/docs/CSS/display\n\trdisplayswap = /^(none|table(?!-c[ea]).+)/,\n\tcssShow = { position: \"absolute\", visibility: \"hidden\", display: \"block\" },\n\tcssNormalTransform = {\n\t\tletterSpacing: \"0\",\n\t\tfontWeight: \"400\"\n\t},\n\n\tcssPrefixes = [ \"Webkit\", \"Moz\", \"ms\" ],\n\temptyStyle = document.createElement( \"div\" ).style;\n\n// Return a css property mapped to a potentially vendor prefixed property\nfunction vendorPropName( name ) {\n\n\t// Shortcut for names that are not vendor prefixed\n\tif ( name in emptyStyle ) {\n\t\treturn name;\n\t}\n\n\t// Check for vendor prefixed names\n\tvar capName = name[ 0 ].toUpperCase() + name.slice( 1 ),\n\t\ti = cssPrefixes.length;\n\n\twhile ( i-- ) {\n\t\tname = cssPrefixes[ i ] + capName;\n\t\tif ( name in emptyStyle ) {\n\t\t\treturn name;\n\t\t}\n\t}\n}\n\nfunction setPositiveNumber( elem, value, subtract ) {\n\n\t// Any relative (+/-) values have already been\n\t// normalized at this point\n\tvar matches = rcssNum.exec( value );\n\treturn matches ?\n\n\t\t// Guard against undefined \"subtract\", e.g., when used as in cssHooks\n\t\tMath.max( 0, matches[ 2 ] - ( subtract || 0 ) ) + ( matches[ 3 ] || \"px\" ) :\n\t\tvalue;\n}\n\nfunction augmentWidthOrHeight( elem, name, extra, isBorderBox, styles ) {\n\tvar i = extra === ( isBorderBox ? \"border\" : \"content\" ) ?\n\n\t\t// If we already have the right measurement, avoid augmentation\n\t\t4 :\n\n\t\t// Otherwise initialize for horizontal or vertical properties\n\t\tname === \"width\" ? 1 : 0,\n\n\t\tval = 0;\n\n\tfor ( ; i < 4; i += 2 ) {\n\n\t\t// Both box models exclude margin, so add it if we want it\n\t\tif ( extra === \"margin\" ) {\n\t\t\tval += jQuery.css( elem, extra + cssExpand[ i ], true, styles );\n\t\t}\n\n\t\tif ( isBorderBox ) {\n\n\t\t\t// border-box includes padding, so remove it if we want content\n\t\t\tif ( extra === \"content\" ) {\n\t\t\t\tval -= jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\t\t\t}\n\n\t\t\t// At this point, extra isn't border nor margin, so remove border\n\t\t\tif ( extra !== \"margin\" ) {\n\t\t\t\tval -= jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\t\t} else {\n\n\t\t\t// At this point, extra isn't content, so add padding\n\t\t\tval += jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\n\t\t\t// At this point, extra isn't content nor padding, so add border\n\t\t\tif ( extra !== \"padding\" ) {\n\t\t\t\tval += jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\t\t}\n\t}\n\n\treturn val;\n}\n\nfunction getWidthOrHeight( elem, name, extra ) {\n\n\t// Start with offset property, which is equivalent to the border-box value\n\tvar val,\n\t\tvalueIsBorderBox = true,\n\t\tstyles = getStyles( elem ),\n\t\tisBorderBox = jQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\";\n\n\t// Support: IE <=11 only\n\t// Running getBoundingClientRect on a disconnected node\n\t// in IE throws an error.\n\tif ( elem.getClientRects().length ) {\n\t\tval = elem.getBoundingClientRect()[ name ];\n\t}\n\n\t// Some non-html elements return undefined for offsetWidth, so check for null/undefined\n\t// svg - https://bugzilla.mozilla.org/show_bug.cgi?id=649285\n\t// MathML - https://bugzilla.mozilla.org/show_bug.cgi?id=491668\n\tif ( val <= 0 || val == null ) {\n\n\t\t// Fall back to computed then uncomputed css if necessary\n\t\tval = curCSS( elem, name, styles );\n\t\tif ( val < 0 || val == null ) {\n\t\t\tval = elem.style[ name ];\n\t\t}\n\n\t\t// Computed unit is not pixels. Stop here and return.\n\t\tif ( rnumnonpx.test( val ) ) {\n\t\t\treturn val;\n\t\t}\n\n\t\t// Check for style in case a browser which returns unreliable values\n\t\t// for getComputedStyle silently falls back to the reliable elem.style\n\t\tvalueIsBorderBox = isBorderBox &&\n\t\t\t( support.boxSizingReliable() || val === elem.style[ name ] );\n\n\t\t// Normalize \"\", auto, and prepare for extra\n\t\tval = parseFloat( val ) || 0;\n\t}\n\n\t// Use the active box-sizing model to add/subtract irrelevant styles\n\treturn ( val +\n\t\taugmentWidthOrHeight(\n\t\t\telem,\n\t\t\tname,\n\t\t\textra || ( isBorderBox ? \"border\" : \"content\" ),\n\t\t\tvalueIsBorderBox,\n\t\t\tstyles\n\t\t)\n\t) + \"px\";\n}\n\njQuery.extend( {\n\n\t// Add in style property hooks for overriding the default\n\t// behavior of getting and setting a style property\n\tcssHooks: {\n\t\topacity: {\n\t\t\tget: function( elem, computed ) {\n\t\t\t\tif ( computed ) {\n\n\t\t\t\t\t// We should always get a number back from opacity\n\t\t\t\t\tvar ret = curCSS( elem, \"opacity\" );\n\t\t\t\t\treturn ret === \"\" ? \"1\" : ret;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t// Don't automatically add \"px\" to these possibly-unitless properties\n\tcssNumber: {\n\t\t\"animationIterationCount\": true,\n\t\t\"columnCount\": true,\n\t\t\"fillOpacity\": true,\n\t\t\"flexGrow\": true,\n\t\t\"flexShrink\": true,\n\t\t\"fontWeight\": true,\n\t\t\"lineHeight\": true,\n\t\t\"opacity\": true,\n\t\t\"order\": true,\n\t\t\"orphans\": true,\n\t\t\"widows\": true,\n\t\t\"zIndex\": true,\n\t\t\"zoom\": true\n\t},\n\n\t// Add in properties whose names you wish to fix before\n\t// setting or getting the value\n\tcssProps: {\n\t\t\"float\": \"cssFloat\"\n\t},\n\n\t// Get and set the style property on a DOM Node\n\tstyle: function( elem, name, value, extra ) {\n\n\t\t// Don't set styles on text and comment nodes\n\t\tif ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Make sure that we're working with the right name\n\t\tvar ret, type, hooks,\n\t\t\torigName = jQuery.camelCase( name ),\n\t\t\tstyle = elem.style;\n\n\t\tname = jQuery.cssProps[ origName ] ||\n\t\t\t( jQuery.cssProps[ origName ] = vendorPropName( origName ) || origName );\n\n\t\t// Gets hook for the prefixed version, then unprefixed version\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// Check if we're setting a value\n\t\tif ( value !== undefined ) {\n\t\t\ttype = typeof value;\n\n\t\t\t// Convert \"+=\" or \"-=\" to relative numbers (#7345)\n\t\t\tif ( type === \"string\" && ( ret = rcssNum.exec( value ) ) && ret[ 1 ] ) {\n\t\t\t\tvalue = adjustCSS( elem, name, ret );\n\n\t\t\t\t// Fixes bug #9237\n\t\t\t\ttype = \"number\";\n\t\t\t}\n\n\t\t\t// Make sure that null and NaN values aren't set (#7116)\n\t\t\tif ( value == null || value !== value ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If a number was passed in, add the unit (except for certain CSS properties)\n\t\t\tif ( type === \"number\" ) {\n\t\t\t\tvalue += ret && ret[ 3 ] || ( jQuery.cssNumber[ origName ] ? \"\" : \"px\" );\n\t\t\t}\n\n\t\t\t// background-* props affect original clone's values\n\t\t\tif ( !support.clearCloneStyle && value === \"\" && name.indexOf( \"background\" ) === 0 ) {\n\t\t\t\tstyle[ name ] = \"inherit\";\n\t\t\t}\n\n\t\t\t// If a hook was provided, use that value, otherwise just set the specified value\n\t\t\tif ( !hooks || !( \"set\" in hooks ) ||\n\t\t\t\t( value = hooks.set( elem, value, extra ) ) !== undefined ) {\n\n\t\t\t\tstyle[ name ] = value;\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// If a hook was provided get the non-computed value from there\n\t\t\tif ( hooks && \"get\" in hooks &&\n\t\t\t\t( ret = hooks.get( elem, false, extra ) ) !== undefined ) {\n\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\t// Otherwise just get the value from the style object\n\t\t\treturn style[ name ];\n\t\t}\n\t},\n\n\tcss: function( elem, name, extra, styles ) {\n\t\tvar val, num, hooks,\n\t\t\torigName = jQuery.camelCase( name );\n\n\t\t// Make sure that we're working with the right name\n\t\tname = jQuery.cssProps[ origName ] ||\n\t\t\t( jQuery.cssProps[ origName ] = vendorPropName( origName ) || origName );\n\n\t\t// Try prefixed name followed by the unprefixed name\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// If a hook was provided get the computed value from there\n\t\tif ( hooks && \"get\" in hooks ) {\n\t\t\tval = hooks.get( elem, true, extra );\n\t\t}\n\n\t\t// Otherwise, if a way to get the computed value exists, use that\n\t\tif ( val === undefined ) {\n\t\t\tval = curCSS( elem, name, styles );\n\t\t}\n\n\t\t// Convert \"normal\" to computed value\n\t\tif ( val === \"normal\" && name in cssNormalTransform ) {\n\t\t\tval = cssNormalTransform[ name ];\n\t\t}\n\n\t\t// Make numeric if forced or a qualifier was provided and val looks numeric\n\t\tif ( extra === \"\" || extra ) {\n\t\t\tnum = parseFloat( val );\n\t\t\treturn extra === true || isFinite( num ) ? num || 0 : val;\n\t\t}\n\t\treturn val;\n\t}\n} );\n\njQuery.each( [ \"height\", \"width\" ], function( i, name ) {\n\tjQuery.cssHooks[ name ] = {\n\t\tget: function( elem, computed, extra ) {\n\t\t\tif ( computed ) {\n\n\t\t\t\t// Certain elements can have dimension info if we invisibly show them\n\t\t\t\t// but it must have a current display style that would benefit\n\t\t\t\treturn rdisplayswap.test( jQuery.css( elem, \"display\" ) ) &&\n\n\t\t\t\t\t// Support: Safari 8+\n\t\t\t\t\t// Table columns in Safari have non-zero offsetWidth & zero\n\t\t\t\t\t// getBoundingClientRect().width unless display is changed.\n\t\t\t\t\t// Support: IE <=11 only\n\t\t\t\t\t// Running getBoundingClientRect on a disconnected node\n\t\t\t\t\t// in IE throws an error.\n\t\t\t\t\t( !elem.getClientRects().length || !elem.getBoundingClientRect().width ) ?\n\t\t\t\t\t\tswap( elem, cssShow, function() {\n\t\t\t\t\t\t\treturn getWidthOrHeight( elem, name, extra );\n\t\t\t\t\t\t} ) :\n\t\t\t\t\t\tgetWidthOrHeight( elem, name, extra );\n\t\t\t}\n\t\t},\n\n\t\tset: function( elem, value, extra ) {\n\t\t\tvar matches,\n\t\t\t\tstyles = extra && getStyles( elem ),\n\t\t\t\tsubtract = extra && augmentWidthOrHeight(\n\t\t\t\t\telem,\n\t\t\t\t\tname,\n\t\t\t\t\textra,\n\t\t\t\t\tjQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\",\n\t\t\t\t\tstyles\n\t\t\t\t);\n\n\t\t\t// Convert to pixels if value adjustment is needed\n\t\t\tif ( subtract && ( matches = rcssNum.exec( value ) ) &&\n\t\t\t\t( matches[ 3 ] || \"px\" ) !== \"px\" ) {\n\n\t\t\t\telem.style[ name ] = value;\n\t\t\t\tvalue = jQuery.css( elem, name );\n\t\t\t}\n\n\t\t\treturn setPositiveNumber( elem, value, subtract );\n\t\t}\n\t};\n} );\n\njQuery.cssHooks.marginLeft = addGetHookIf( support.reliableMarginLeft,\n\tfunction( elem, computed ) {\n\t\tif ( computed ) {\n\t\t\treturn ( parseFloat( curCSS( elem, \"marginLeft\" ) ) ||\n\t\t\t\telem.getBoundingClientRect().left -\n\t\t\t\t\tswap( elem, { marginLeft: 0 }, function() {\n\t\t\t\t\t\treturn elem.getBoundingClientRect().left;\n\t\t\t\t\t} )\n\t\t\t\t) + \"px\";\n\t\t}\n\t}\n);\n\n// These hooks are used by animate to expand properties\njQuery.each( {\n\tmargin: \"\",\n\tpadding: \"\",\n\tborder: \"Width\"\n}, function( prefix, suffix ) {\n\tjQuery.cssHooks[ prefix + suffix ] = {\n\t\texpand: function( value ) {\n\t\t\tvar i = 0,\n\t\t\t\texpanded = {},\n\n\t\t\t\t// Assumes a single number if not a string\n\t\t\t\tparts = typeof value === \"string\" ? value.split( \" \" ) : [ value ];\n\n\t\t\tfor ( ; i < 4; i++ ) {\n\t\t\t\texpanded[ prefix + cssExpand[ i ] + suffix ] =\n\t\t\t\t\tparts[ i ] || parts[ i - 2 ] || parts[ 0 ];\n\t\t\t}\n\n\t\t\treturn expanded;\n\t\t}\n\t};\n\n\tif ( !rmargin.test( prefix ) ) {\n\t\tjQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;\n\t}\n} );\n\njQuery.fn.extend( {\n\tcss: function( name, value ) {\n\t\treturn access( this, function( elem, name, value ) {\n\t\t\tvar styles, len,\n\t\t\t\tmap = {},\n\t\t\t\ti = 0;\n\n\t\t\tif ( jQuery.isArray( name ) ) {\n\t\t\t\tstyles = getStyles( elem );\n\t\t\t\tlen = name.length;\n\n\t\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\t\tmap[ name[ i ] ] = jQuery.css( elem, name[ i ], false, styles );\n\t\t\t\t}\n\n\t\t\t\treturn map;\n\t\t\t}\n\n\t\t\treturn value !== undefined ?\n\t\t\t\tjQuery.style( elem, name, value ) :\n\t\t\t\tjQuery.css( elem, name );\n\t\t}, name, value, arguments.length > 1 );\n\t}\n} );\n\n\nfunction Tween( elem, options, prop, end, easing ) {\n\treturn new Tween.prototype.init( elem, options, prop, end, easing );\n}\njQuery.Tween = Tween;\n\nTween.prototype = {\n\tconstructor: Tween,\n\tinit: function( elem, options, prop, end, easing, unit ) {\n\t\tthis.elem = elem;\n\t\tthis.prop = prop;\n\t\tthis.easing = easing || jQuery.easing._default;\n\t\tthis.options = options;\n\t\tthis.start = this.now = this.cur();\n\t\tthis.end = end;\n\t\tthis.unit = unit || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" );\n\t},\n\tcur: function() {\n\t\tvar hooks = Tween.propHooks[ this.prop ];\n\n\t\treturn hooks && hooks.get ?\n\t\t\thooks.get( this ) :\n\t\t\tTween.propHooks._default.get( this );\n\t},\n\trun: function( percent ) {\n\t\tvar eased,\n\t\t\thooks = Tween.propHooks[ this.prop ];\n\n\t\tif ( this.options.duration ) {\n\t\t\tthis.pos = eased = jQuery.easing[ this.easing ](\n\t\t\t\tpercent, this.options.duration * percent, 0, 1, this.options.duration\n\t\t\t);\n\t\t} else {\n\t\t\tthis.pos = eased = percent;\n\t\t}\n\t\tthis.now = ( this.end - this.start ) * eased + this.start;\n\n\t\tif ( this.options.step ) {\n\t\t\tthis.options.step.call( this.elem, this.now, this );\n\t\t}\n\n\t\tif ( hooks && hooks.set ) {\n\t\t\thooks.set( this );\n\t\t} else {\n\t\t\tTween.propHooks._default.set( this );\n\t\t}\n\t\treturn this;\n\t}\n};\n\nTween.prototype.init.prototype = Tween.prototype;\n\nTween.propHooks = {\n\t_default: {\n\t\tget: function( tween ) {\n\t\t\tvar result;\n\n\t\t\t// Use a property on the element directly when it is not a DOM element,\n\t\t\t// or when there is no matching style property that exists.\n\t\t\tif ( tween.elem.nodeType !== 1 ||\n\t\t\t\ttween.elem[ tween.prop ] != null && tween.elem.style[ tween.prop ] == null ) {\n\t\t\t\treturn tween.elem[ tween.prop ];\n\t\t\t}\n\n\t\t\t// Passing an empty string as a 3rd parameter to .css will automatically\n\t\t\t// attempt a parseFloat and fallback to a string if the parse fails.\n\t\t\t// Simple values such as \"10px\" are parsed to Float;\n\t\t\t// complex values such as \"rotate(1rad)\" are returned as-is.\n\t\t\tresult = jQuery.css( tween.elem, tween.prop, \"\" );\n\n\t\t\t// Empty strings, null, undefined and \"auto\" are converted to 0.\n\t\t\treturn !result || result === \"auto\" ? 0 : result;\n\t\t},\n\t\tset: function( tween ) {\n\n\t\t\t// Use step hook for back compat.\n\t\t\t// Use cssHook if its there.\n\t\t\t// Use .style if available and use plain properties where available.\n\t\t\tif ( jQuery.fx.step[ tween.prop ] ) {\n\t\t\t\tjQuery.fx.step[ tween.prop ]( tween );\n\t\t\t} else if ( tween.elem.nodeType === 1 &&\n\t\t\t\t( tween.elem.style[ jQuery.cssProps[ tween.prop ] ] != null ||\n\t\t\t\t\tjQuery.cssHooks[ tween.prop ] ) ) {\n\t\t\t\tjQuery.style( tween.elem, tween.prop, tween.now + tween.unit );\n\t\t\t} else {\n\t\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t\t}\n\t\t}\n\t}\n};\n\n// Support: IE <=9 only\n// Panic based approach to setting things on disconnected nodes\nTween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {\n\tset: function( tween ) {\n\t\tif ( tween.elem.nodeType && tween.elem.parentNode ) {\n\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t}\n\t}\n};\n\njQuery.easing = {\n\tlinear: function( p ) {\n\t\treturn p;\n\t},\n\tswing: function( p ) {\n\t\treturn 0.5 - Math.cos( p * Math.PI ) / 2;\n\t},\n\t_default: \"swing\"\n};\n\njQuery.fx = Tween.prototype.init;\n\n// Back compat <1.8 extension point\njQuery.fx.step = {};\n\n\n\n\nvar\n\tfxNow, timerId,\n\trfxtypes = /^(?:toggle|show|hide)$/,\n\trrun = /queueHooks$/;\n\nfunction raf() {\n\tif ( timerId ) {\n\t\twindow.requestAnimationFrame( raf );\n\t\tjQuery.fx.tick();\n\t}\n}\n\n// Animations created synchronously will run synchronously\nfunction createFxNow() {\n\twindow.setTimeout( function() {\n\t\tfxNow = undefined;\n\t} );\n\treturn ( fxNow = jQuery.now() );\n}\n\n// Generate parameters to create a standard animation\nfunction genFx( type, includeWidth ) {\n\tvar which,\n\t\ti = 0,\n\t\tattrs = { height: type };\n\n\t// If we include width, step value is 1 to do all cssExpand values,\n\t// otherwise step value is 2 to skip over Left and Right\n\tincludeWidth = includeWidth ? 1 : 0;\n\tfor ( ; i < 4 ; i += 2 - includeWidth ) {\n\t\twhich = cssExpand[ i ];\n\t\tattrs[ \"margin\" + which ] = attrs[ \"padding\" + which ] = type;\n\t}\n\n\tif ( includeWidth ) {\n\t\tattrs.opacity = attrs.width = type;\n\t}\n\n\treturn attrs;\n}\n\nfunction createTween( value, prop, animation ) {\n\tvar tween,\n\t\tcollection = ( Animation.tweeners[ prop ] || [] ).concat( Animation.tweeners[ \"*\" ] ),\n\t\tindex = 0,\n\t\tlength = collection.length;\n\tfor ( ; index < length; index++ ) {\n\t\tif ( ( tween = collection[ index ].call( animation, prop, value ) ) ) {\n\n\t\t\t// We're done with this property\n\t\t\treturn tween;\n\t\t}\n\t}\n}\n\nfunction defaultPrefilter( elem, props, opts ) {\n\t/* jshint validthis: true */\n\tvar prop, value, toggle, hooks, oldfire, propTween, restoreDisplay, display,\n\t\tisBox = \"width\" in props || \"height\" in props,\n\t\tanim = this,\n\t\torig = {},\n\t\tstyle = elem.style,\n\t\thidden = elem.nodeType && isHiddenWithinTree( elem ),\n\t\tdataShow = dataPriv.get( elem, \"fxshow\" );\n\n\t// Queue-skipping animations hijack the fx hooks\n\tif ( !opts.queue ) {\n\t\thooks = jQuery._queueHooks( elem, \"fx\" );\n\t\tif ( hooks.unqueued == null ) {\n\t\t\thooks.unqueued = 0;\n\t\t\toldfire = hooks.empty.fire;\n\t\t\thooks.empty.fire = function() {\n\t\t\t\tif ( !hooks.unqueued ) {\n\t\t\t\t\toldfire();\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\thooks.unqueued++;\n\n\t\tanim.always( function() {\n\n\t\t\t// Ensure the complete handler is called before this completes\n\t\t\tanim.always( function() {\n\t\t\t\thooks.unqueued--;\n\t\t\t\tif ( !jQuery.queue( elem, \"fx\" ).length ) {\n\t\t\t\t\thooks.empty.fire();\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\t}\n\n\t// Detect show/hide animations\n\tfor ( prop in props ) {\n\t\tvalue = props[ prop ];\n\t\tif ( rfxtypes.test( value ) ) {\n\t\t\tdelete props[ prop ];\n\t\t\ttoggle = toggle || value === \"toggle\";\n\t\t\tif ( value === ( hidden ? \"hide\" : \"show\" ) ) {\n\n\t\t\t\t// Pretend to be hidden if this is a \"show\" and\n\t\t\t\t// there is still data from a stopped show/hide\n\t\t\t\tif ( value === \"show\" && dataShow && dataShow[ prop ] !== undefined ) {\n\t\t\t\t\thidden = true;\n\n\t\t\t\t// Ignore all other no-op show/hide data\n\t\t\t\t} else {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\torig[ prop ] = dataShow && dataShow[ prop ] || jQuery.style( elem, prop );\n\t\t}\n\t}\n\n\t// Bail out if this is a no-op like .hide().hide()\n\tpropTween = !jQuery.isEmptyObject( props );\n\tif ( !propTween && jQuery.isEmptyObject( orig ) ) {\n\t\treturn;\n\t}\n\n\t// Restrict \"overflow\" and \"display\" styles during box animations\n\tif ( isBox && elem.nodeType === 1 ) {\n\n\t\t// Support: IE <=9 - 11, Edge 12 - 13\n\t\t// Record all 3 overflow attributes because IE does not infer the shorthand\n\t\t// from identically-valued overflowX and overflowY\n\t\topts.overflow = [ style.overflow, style.overflowX, style.overflowY ];\n\n\t\t// Identify a display type, preferring old show/hide data over the CSS cascade\n\t\trestoreDisplay = dataShow && dataShow.display;\n\t\tif ( restoreDisplay == null ) {\n\t\t\trestoreDisplay = dataPriv.get( elem, \"display\" );\n\t\t}\n\t\tdisplay = jQuery.css( elem, \"display\" );\n\t\tif ( display === \"none\" ) {\n\t\t\tif ( restoreDisplay ) {\n\t\t\t\tdisplay = restoreDisplay;\n\t\t\t} else {\n\n\t\t\t\t// Get nonempty value(s) by temporarily forcing visibility\n\t\t\t\tshowHide( [ elem ], true );\n\t\t\t\trestoreDisplay = elem.style.display || restoreDisplay;\n\t\t\t\tdisplay = jQuery.css( elem, \"display\" );\n\t\t\t\tshowHide( [ elem ] );\n\t\t\t}\n\t\t}\n\n\t\t// Animate inline elements as inline-block\n\t\tif ( display === \"inline\" || display === \"inline-block\" && restoreDisplay != null ) {\n\t\t\tif ( jQuery.css( elem, \"float\" ) === \"none\" ) {\n\n\t\t\t\t// Restore the original display value at the end of pure show/hide animations\n\t\t\t\tif ( !propTween ) {\n\t\t\t\t\tanim.done( function() {\n\t\t\t\t\t\tstyle.display = restoreDisplay;\n\t\t\t\t\t} );\n\t\t\t\t\tif ( restoreDisplay == null ) {\n\t\t\t\t\t\tdisplay = style.display;\n\t\t\t\t\t\trestoreDisplay = display === \"none\" ? \"\" : display;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tstyle.display = \"inline-block\";\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( opts.overflow ) {\n\t\tstyle.overflow = \"hidden\";\n\t\tanim.always( function() {\n\t\t\tstyle.overflow = opts.overflow[ 0 ];\n\t\t\tstyle.overflowX = opts.overflow[ 1 ];\n\t\t\tstyle.overflowY = opts.overflow[ 2 ];\n\t\t} );\n\t}\n\n\t// Implement show/hide animations\n\tpropTween = false;\n\tfor ( prop in orig ) {\n\n\t\t// General show/hide setup for this element animation\n\t\tif ( !propTween ) {\n\t\t\tif ( dataShow ) {\n\t\t\t\tif ( \"hidden\" in dataShow ) {\n\t\t\t\t\thidden = dataShow.hidden;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdataShow = dataPriv.access( elem, \"fxshow\", { display: restoreDisplay } );\n\t\t\t}\n\n\t\t\t// Store hidden/visible for toggle so `.stop().toggle()` \"reverses\"\n\t\t\tif ( toggle ) {\n\t\t\t\tdataShow.hidden = !hidden;\n\t\t\t}\n\n\t\t\t// Show elements before animating them\n\t\t\tif ( hidden ) {\n\t\t\t\tshowHide( [ elem ], true );\n\t\t\t}\n\n\t\t\t/* jshint -W083 */\n\t\t\tanim.done( function() {\n\n\t\t\t\t// The final step of a \"hide\" animation is actually hiding the element\n\t\t\t\tif ( !hidden ) {\n\t\t\t\t\tshowHide( [ elem ] );\n\t\t\t\t}\n\t\t\t\tdataPriv.remove( elem, \"fxshow\" );\n\t\t\t\tfor ( prop in orig ) {\n\t\t\t\t\tjQuery.style( elem, prop, orig[ prop ] );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\t// Per-property setup\n\t\tpropTween = createTween( hidden ? dataShow[ prop ] : 0, prop, anim );\n\t\tif ( !( prop in dataShow ) ) {\n\t\t\tdataShow[ prop ] = propTween.start;\n\t\t\tif ( hidden ) {\n\t\t\t\tpropTween.end = propTween.start;\n\t\t\t\tpropTween.start = 0;\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction propFilter( props, specialEasing ) {\n\tvar index, name, easing, value, hooks;\n\n\t// camelCase, specialEasing and expand cssHook pass\n\tfor ( index in props ) {\n\t\tname = jQuery.camelCase( index );\n\t\teasing = specialEasing[ name ];\n\t\tvalue = props[ index ];\n\t\tif ( jQuery.isArray( value ) ) {\n\t\t\teasing = value[ 1 ];\n\t\t\tvalue = props[ index ] = value[ 0 ];\n\t\t}\n\n\t\tif ( index !== name ) {\n\t\t\tprops[ name ] = value;\n\t\t\tdelete props[ index ];\n\t\t}\n\n\t\thooks = jQuery.cssHooks[ name ];\n\t\tif ( hooks && \"expand\" in hooks ) {\n\t\t\tvalue = hooks.expand( value );\n\t\t\tdelete props[ name ];\n\n\t\t\t// Not quite $.extend, this won't overwrite existing keys.\n\t\t\t// Reusing 'index' because we have the correct \"name\"\n\t\t\tfor ( index in value ) {\n\t\t\t\tif ( !( index in props ) ) {\n\t\t\t\t\tprops[ index ] = value[ index ];\n\t\t\t\t\tspecialEasing[ index ] = easing;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tspecialEasing[ name ] = easing;\n\t\t}\n\t}\n}\n\nfunction Animation( elem, properties, options ) {\n\tvar result,\n\t\tstopped,\n\t\tindex = 0,\n\t\tlength = Animation.prefilters.length,\n\t\tdeferred = jQuery.Deferred().always( function() {\n\n\t\t\t// Don't match elem in the :animated selector\n\t\t\tdelete tick.elem;\n\t\t} ),\n\t\ttick = function() {\n\t\t\tif ( stopped ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar currentTime = fxNow || createFxNow(),\n\t\t\t\tremaining = Math.max( 0, animation.startTime + animation.duration - currentTime ),\n\n\t\t\t\t// Support: Android 2.3 only\n\t\t\t\t// Archaic crash bug won't allow us to use `1 - ( 0.5 || 0 )` (#12497)\n\t\t\t\ttemp = remaining / animation.duration || 0,\n\t\t\t\tpercent = 1 - temp,\n\t\t\t\tindex = 0,\n\t\t\t\tlength = animation.tweens.length;\n\n\t\t\tfor ( ; index < length ; index++ ) {\n\t\t\t\tanimation.tweens[ index ].run( percent );\n\t\t\t}\n\n\t\t\tdeferred.notifyWith( elem, [ animation, percent, remaining ] );\n\n\t\t\tif ( percent < 1 && length ) {\n\t\t\t\treturn remaining;\n\t\t\t} else {\n\t\t\t\tdeferred.resolveWith( elem, [ animation ] );\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\tanimation = deferred.promise( {\n\t\t\telem: elem,\n\t\t\tprops: jQuery.extend( {}, properties ),\n\t\t\topts: jQuery.extend( true, {\n\t\t\t\tspecialEasing: {},\n\t\t\t\teasing: jQuery.easing._default\n\t\t\t}, options ),\n\t\t\toriginalProperties: properties,\n\t\t\toriginalOptions: options,\n\t\t\tstartTime: fxNow || createFxNow(),\n\t\t\tduration: options.duration,\n\t\t\ttweens: [],\n\t\t\tcreateTween: function( prop, end ) {\n\t\t\t\tvar tween = jQuery.Tween( elem, animation.opts, prop, end,\n\t\t\t\t\t\tanimation.opts.specialEasing[ prop ] || animation.opts.easing );\n\t\t\t\tanimation.tweens.push( tween );\n\t\t\t\treturn tween;\n\t\t\t},\n\t\t\tstop: function( gotoEnd ) {\n\t\t\t\tvar index = 0,\n\n\t\t\t\t\t// If we are going to the end, we want to run all the tweens\n\t\t\t\t\t// otherwise we skip this part\n\t\t\t\t\tlength = gotoEnd ? animation.tweens.length : 0;\n\t\t\t\tif ( stopped ) {\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t\tstopped = true;\n\t\t\t\tfor ( ; index < length ; index++ ) {\n\t\t\t\t\tanimation.tweens[ index ].run( 1 );\n\t\t\t\t}\n\n\t\t\t\t// Resolve when we played the last frame; otherwise, reject\n\t\t\t\tif ( gotoEnd ) {\n\t\t\t\t\tdeferred.notifyWith( elem, [ animation, 1, 0 ] );\n\t\t\t\t\tdeferred.resolveWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t} else {\n\t\t\t\t\tdeferred.rejectWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t}\n\t\t} ),\n\t\tprops = animation.props;\n\n\tpropFilter( props, animation.opts.specialEasing );\n\n\tfor ( ; index < length ; index++ ) {\n\t\tresult = Animation.prefilters[ index ].call( animation, elem, props, animation.opts );\n\t\tif ( result ) {\n\t\t\tif ( jQuery.isFunction( result.stop ) ) {\n\t\t\t\tjQuery._queueHooks( animation.elem, animation.opts.queue ).stop =\n\t\t\t\t\tjQuery.proxy( result.stop, result );\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t}\n\n\tjQuery.map( props, createTween, animation );\n\n\tif ( jQuery.isFunction( animation.opts.start ) ) {\n\t\tanimation.opts.start.call( elem, animation );\n\t}\n\n\tjQuery.fx.timer(\n\t\tjQuery.extend( tick, {\n\t\t\telem: elem,\n\t\t\tanim: animation,\n\t\t\tqueue: animation.opts.queue\n\t\t} )\n\t);\n\n\t// attach callbacks from options\n\treturn animation.progress( animation.opts.progress )\n\t\t.done( animation.opts.done, animation.opts.complete )\n\t\t.fail( animation.opts.fail )\n\t\t.always( animation.opts.always );\n}\n\njQuery.Animation = jQuery.extend( Animation, {\n\n\ttweeners: {\n\t\t\"*\": [ function( prop, value ) {\n\t\t\tvar tween = this.createTween( prop, value );\n\t\t\tadjustCSS( tween.elem, prop, rcssNum.exec( value ), tween );\n\t\t\treturn tween;\n\t\t} ]\n\t},\n\n\ttweener: function( props, callback ) {\n\t\tif ( jQuery.isFunction( props ) ) {\n\t\t\tcallback = props;\n\t\t\tprops = [ \"*\" ];\n\t\t} else {\n\t\t\tprops = props.match( rnotwhite );\n\t\t}\n\n\t\tvar prop,\n\t\t\tindex = 0,\n\t\t\tlength = props.length;\n\n\t\tfor ( ; index < length ; index++ ) {\n\t\t\tprop = props[ index ];\n\t\t\tAnimation.tweeners[ prop ] = Animation.tweeners[ prop ] || [];\n\t\t\tAnimation.tweeners[ prop ].unshift( callback );\n\t\t}\n\t},\n\n\tprefilters: [ defaultPrefilter ],\n\n\tprefilter: function( callback, prepend ) {\n\t\tif ( prepend ) {\n\t\t\tAnimation.prefilters.unshift( callback );\n\t\t} else {\n\t\t\tAnimation.prefilters.push( callback );\n\t\t}\n\t}\n} );\n\njQuery.speed = function( speed, easing, fn ) {\n\tvar opt = speed && typeof speed === \"object\" ? jQuery.extend( {}, speed ) : {\n\t\tcomplete: fn || !fn && easing ||\n\t\t\tjQuery.isFunction( speed ) && speed,\n\t\tduration: speed,\n\t\teasing: fn && easing || easing && !jQuery.isFunction( easing ) && easing\n\t};\n\n\t// Go to the end state if fx are off or if document is hidden\n\tif ( jQuery.fx.off || document.hidden ) {\n\t\topt.duration = 0;\n\n\t} else {\n\t\topt.duration = typeof opt.duration === \"number\" ?\n\t\t\topt.duration : opt.duration in jQuery.fx.speeds ?\n\t\t\t\tjQuery.fx.speeds[ opt.duration ] : jQuery.fx.speeds._default;\n\t}\n\n\t// Normalize opt.queue - true/undefined/null -> \"fx\"\n\tif ( opt.queue == null || opt.queue === true ) {\n\t\topt.queue = \"fx\";\n\t}\n\n\t// Queueing\n\topt.old = opt.complete;\n\n\topt.complete = function() {\n\t\tif ( jQuery.isFunction( opt.old ) ) {\n\t\t\topt.old.call( this );\n\t\t}\n\n\t\tif ( opt.queue ) {\n\t\t\tjQuery.dequeue( this, opt.queue );\n\t\t}\n\t};\n\n\treturn opt;\n};\n\njQuery.fn.extend( {\n\tfadeTo: function( speed, to, easing, callback ) {\n\n\t\t// Show any hidden elements after setting opacity to 0\n\t\treturn this.filter( isHiddenWithinTree ).css( \"opacity\", 0 ).show()\n\n\t\t\t// Animate to the value specified\n\t\t\t.end().animate( { opacity: to }, speed, easing, callback );\n\t},\n\tanimate: function( prop, speed, easing, callback ) {\n\t\tvar empty = jQuery.isEmptyObject( prop ),\n\t\t\toptall = jQuery.speed( speed, easing, callback ),\n\t\t\tdoAnimation = function() {\n\n\t\t\t\t// Operate on a copy of prop so per-property easing won't be lost\n\t\t\t\tvar anim = Animation( this, jQuery.extend( {}, prop ), optall );\n\n\t\t\t\t// Empty animations, or finishing resolves immediately\n\t\t\t\tif ( empty || dataPriv.get( this, \"finish\" ) ) {\n\t\t\t\t\tanim.stop( true );\n\t\t\t\t}\n\t\t\t};\n\t\t\tdoAnimation.finish = doAnimation;\n\n\t\treturn empty || optall.queue === false ?\n\t\t\tthis.each( doAnimation ) :\n\t\t\tthis.queue( optall.queue, doAnimation );\n\t},\n\tstop: function( type, clearQueue, gotoEnd ) {\n\t\tvar stopQueue = function( hooks ) {\n\t\t\tvar stop = hooks.stop;\n\t\t\tdelete hooks.stop;\n\t\t\tstop( gotoEnd );\n\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tgotoEnd = clearQueue;\n\t\t\tclearQueue = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\tif ( clearQueue && type !== false ) {\n\t\t\tthis.queue( type || \"fx\", [] );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar dequeue = true,\n\t\t\t\tindex = type != null && type + \"queueHooks\",\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tdata = dataPriv.get( this );\n\n\t\t\tif ( index ) {\n\t\t\t\tif ( data[ index ] && data[ index ].stop ) {\n\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor ( index in data ) {\n\t\t\t\t\tif ( data[ index ] && data[ index ].stop && rrun.test( index ) ) {\n\t\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this &&\n\t\t\t\t\t( type == null || timers[ index ].queue === type ) ) {\n\n\t\t\t\t\ttimers[ index ].anim.stop( gotoEnd );\n\t\t\t\t\tdequeue = false;\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Start the next in the queue if the last step wasn't forced.\n\t\t\t// Timers currently will call their complete callbacks, which\n\t\t\t// will dequeue but only if they were gotoEnd.\n\t\t\tif ( dequeue || !gotoEnd ) {\n\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t}\n\t\t} );\n\t},\n\tfinish: function( type ) {\n\t\tif ( type !== false ) {\n\t\t\ttype = type || \"fx\";\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tvar index,\n\t\t\t\tdata = dataPriv.get( this ),\n\t\t\t\tqueue = data[ type + \"queue\" ],\n\t\t\t\thooks = data[ type + \"queueHooks\" ],\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tlength = queue ? queue.length : 0;\n\n\t\t\t// Enable finishing flag on private data\n\t\t\tdata.finish = true;\n\n\t\t\t// Empty the queue first\n\t\t\tjQuery.queue( this, type, [] );\n\n\t\t\tif ( hooks && hooks.stop ) {\n\t\t\t\thooks.stop.call( this, true );\n\t\t\t}\n\n\t\t\t// Look for any active animations, and finish them\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this && timers[ index ].queue === type ) {\n\t\t\t\t\ttimers[ index ].anim.stop( true );\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Look for any animations in the old queue and finish them\n\t\t\tfor ( index = 0; index < length; index++ ) {\n\t\t\t\tif ( queue[ index ] && queue[ index ].finish ) {\n\t\t\t\t\tqueue[ index ].finish.call( this );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Turn off finishing flag\n\t\t\tdelete data.finish;\n\t\t} );\n\t}\n} );\n\njQuery.each( [ \"toggle\", \"show\", \"hide\" ], function( i, name ) {\n\tvar cssFn = jQuery.fn[ name ];\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn speed == null || typeof speed === \"boolean\" ?\n\t\t\tcssFn.apply( this, arguments ) :\n\t\t\tthis.animate( genFx( name, true ), speed, easing, callback );\n\t};\n} );\n\n// Generate shortcuts for custom animations\njQuery.each( {\n\tslideDown: genFx( \"show\" ),\n\tslideUp: genFx( \"hide\" ),\n\tslideToggle: genFx( \"toggle\" ),\n\tfadeIn: { opacity: \"show\" },\n\tfadeOut: { opacity: \"hide\" },\n\tfadeToggle: { opacity: \"toggle\" }\n}, function( name, props ) {\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn this.animate( props, speed, easing, callback );\n\t};\n} );\n\njQuery.timers = [];\njQuery.fx.tick = function() {\n\tvar timer,\n\t\ti = 0,\n\t\ttimers = jQuery.timers;\n\n\tfxNow = jQuery.now();\n\n\tfor ( ; i < timers.length; i++ ) {\n\t\ttimer = timers[ i ];\n\n\t\t// Checks the timer has not already been removed\n\t\tif ( !timer() && timers[ i ] === timer ) {\n\t\t\ttimers.splice( i--, 1 );\n\t\t}\n\t}\n\n\tif ( !timers.length ) {\n\t\tjQuery.fx.stop();\n\t}\n\tfxNow = undefined;\n};\n\njQuery.fx.timer = function( timer ) {\n\tjQuery.timers.push( timer );\n\tif ( timer() ) {\n\t\tjQuery.fx.start();\n\t} else {\n\t\tjQuery.timers.pop();\n\t}\n};\n\njQuery.fx.interval = 13;\njQuery.fx.start = function() {\n\tif ( !timerId ) {\n\t\ttimerId = window.requestAnimationFrame ?\n\t\t\twindow.requestAnimationFrame( raf ) :\n\t\t\twindow.setInterval( jQuery.fx.tick, jQuery.fx.interval );\n\t}\n};\n\njQuery.fx.stop = function() {\n\tif ( window.cancelAnimationFrame ) {\n\t\twindow.cancelAnimationFrame( timerId );\n\t} else {\n\t\twindow.clearInterval( timerId );\n\t}\n\n\ttimerId = null;\n};\n\njQuery.fx.speeds = {\n\tslow: 600,\n\tfast: 200,\n\n\t// Default speed\n\t_default: 400\n};\n\n\n// Based off of the plugin by Clint Helfers, with permission.\n// https://web.archive.org/web/20100324014747/http://blindsignals.com/index.php/2009/07/jquery-delay/\njQuery.fn.delay = function( time, type ) {\n\ttime = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;\n\ttype = type || \"fx\";\n\n\treturn this.queue( type, function( next, hooks ) {\n\t\tvar timeout = window.setTimeout( next, time );\n\t\thooks.stop = function() {\n\t\t\twindow.clearTimeout( timeout );\n\t\t};\n\t} );\n};\n\n\n( function() {\n\tvar input = document.createElement( \"input\" ),\n\t\tselect = document.createElement( \"select\" ),\n\t\topt = select.appendChild( document.createElement( \"option\" ) );\n\n\tinput.type = \"checkbox\";\n\n\t// Support: Android <=4.3 only\n\t// Default value for a checkbox should be \"on\"\n\tsupport.checkOn = input.value !== \"\";\n\n\t// Support: IE <=11 only\n\t// Must access selectedIndex to make default options select\n\tsupport.optSelected = opt.selected;\n\n\t// Support: IE <=11 only\n\t// An input loses its value after becoming a radio\n\tinput = document.createElement( \"input\" );\n\tinput.value = \"t\";\n\tinput.type = \"radio\";\n\tsupport.radioValue = input.value === \"t\";\n} )();\n\n\nvar boolHook,\n\tattrHandle = jQuery.expr.attrHandle;\n\njQuery.fn.extend( {\n\tattr: function( name, value ) {\n\t\treturn access( this, jQuery.attr, name, value, arguments.length > 1 );\n\t},\n\n\tremoveAttr: function( name ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.removeAttr( this, name );\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tattr: function( elem, name, value ) {\n\t\tvar ret, hooks,\n\t\t\tnType = elem.nodeType;\n\n\t\t// Don't get/set attributes on text, comment and attribute nodes\n\t\tif ( nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Fallback to prop when attributes are not supported\n\t\tif ( typeof elem.getAttribute === \"undefined\" ) {\n\t\t\treturn jQuery.prop( elem, name, value );\n\t\t}\n\n\t\t// Attribute hooks are determined by the lowercase version\n\t\t// Grab necessary hook if one is defined\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\n\t\t\thooks = jQuery.attrHooks[ name.toLowerCase() ] ||\n\t\t\t\t( jQuery.expr.match.bool.test( name ) ? boolHook : undefined );\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\tif ( value === null ) {\n\t\t\t\tjQuery.removeAttr( elem, name );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( hooks && \"set\" in hooks &&\n\t\t\t\t( ret = hooks.set( elem, value, name ) ) !== undefined ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\telem.setAttribute( name, value + \"\" );\n\t\t\treturn value;\n\t\t}\n\n\t\tif ( hooks && \"get\" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {\n\t\t\treturn ret;\n\t\t}\n\n\t\tret = jQuery.find.attr( elem, name );\n\n\t\t// Non-existent attributes return null, we normalize to undefined\n\t\treturn ret == null ? undefined : ret;\n\t},\n\n\tattrHooks: {\n\t\ttype: {\n\t\t\tset: function( elem, value ) {\n\t\t\t\tif ( !support.radioValue && value === \"radio\" &&\n\t\t\t\t\tjQuery.nodeName( elem, \"input\" ) ) {\n\t\t\t\t\tvar val = elem.value;\n\t\t\t\t\telem.setAttribute( \"type\", value );\n\t\t\t\t\tif ( val ) {\n\t\t\t\t\t\telem.value = val;\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tremoveAttr: function( elem, value ) {\n\t\tvar name,\n\t\t\ti = 0,\n\t\t\tattrNames = value && value.match( rnotwhite );\n\n\t\tif ( attrNames && elem.nodeType === 1 ) {\n\t\t\twhile ( ( name = attrNames[ i++ ] ) ) {\n\t\t\t\telem.removeAttribute( name );\n\t\t\t}\n\t\t}\n\t}\n} );\n\n// Hooks for boolean attributes\nboolHook = {\n\tset: function( elem, value, name ) {\n\t\tif ( value === false ) {\n\n\t\t\t// Remove boolean attributes when set to false\n\t\t\tjQuery.removeAttr( elem, name );\n\t\t} else {\n\t\t\telem.setAttribute( name, name );\n\t\t}\n\t\treturn name;\n\t}\n};\n\njQuery.each( jQuery.expr.match.bool.source.match( /\\w+/g ), function( i, name ) {\n\tvar getter = attrHandle[ name ] || jQuery.find.attr;\n\n\tattrHandle[ name ] = function( elem, name, isXML ) {\n\t\tvar ret, handle,\n\t\t\tlowercaseName = name.toLowerCase();\n\n\t\tif ( !isXML ) {\n\n\t\t\t// Avoid an infinite loop by temporarily removing this function from the getter\n\t\t\thandle = attrHandle[ lowercaseName ];\n\t\t\tattrHandle[ lowercaseName ] = ret;\n\t\t\tret = getter( elem, name, isXML ) != null ?\n\t\t\t\tlowercaseName :\n\t\t\t\tnull;\n\t\t\tattrHandle[ lowercaseName ] = handle;\n\t\t}\n\t\treturn ret;\n\t};\n} );\n\n\n\n\nvar rfocusable = /^(?:input|select|textarea|button)$/i,\n\trclickable = /^(?:a|area)$/i;\n\njQuery.fn.extend( {\n\tprop: function( name, value ) {\n\t\treturn access( this, jQuery.prop, name, value, arguments.length > 1 );\n\t},\n\n\tremoveProp: function( name ) {\n\t\treturn this.each( function() {\n\t\t\tdelete this[ jQuery.propFix[ name ] || name ];\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tprop: function( elem, name, value ) {\n\t\tvar ret, hooks,\n\t\t\tnType = elem.nodeType;\n\n\t\t// Don't get/set properties on text, comment and attribute nodes\n\t\tif ( nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\n\n\t\t\t// Fix name and attach hooks\n\t\t\tname = jQuery.propFix[ name ] || name;\n\t\t\thooks = jQuery.propHooks[ name ];\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\tif ( hooks && \"set\" in hooks &&\n\t\t\t\t( ret = hooks.set( elem, value, name ) ) !== undefined ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\treturn ( elem[ name ] = value );\n\t\t}\n\n\t\tif ( hooks && \"get\" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {\n\t\t\treturn ret;\n\t\t}\n\n\t\treturn elem[ name ];\n\t},\n\n\tpropHooks: {\n\t\ttabIndex: {\n\t\t\tget: function( elem ) {\n\n\t\t\t\t// Support: IE <=9 - 11 only\n\t\t\t\t// elem.tabIndex doesn't always return the\n\t\t\t\t// correct value when it hasn't been explicitly set\n\t\t\t\t// https://web.archive.org/web/20141116233347/http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/\n\t\t\t\t// Use proper attribute retrieval(#12072)\n\t\t\t\tvar tabindex = jQuery.find.attr( elem, \"tabindex\" );\n\n\t\t\t\treturn tabindex ?\n\t\t\t\t\tparseInt( tabindex, 10 ) :\n\t\t\t\t\trfocusable.test( elem.nodeName ) ||\n\t\t\t\t\t\trclickable.test( elem.nodeName ) && elem.href ?\n\t\t\t\t\t\t\t0 :\n\t\t\t\t\t\t\t-1;\n\t\t\t}\n\t\t}\n\t},\n\n\tpropFix: {\n\t\t\"for\": \"htmlFor\",\n\t\t\"class\": \"className\"\n\t}\n} );\n\n// Support: IE <=11 only\n// Accessing the selectedIndex property\n// forces the browser to respect setting selected\n// on the option\n// The getter ensures a default option is selected\n// when in an optgroup\nif ( !support.optSelected ) {\n\tjQuery.propHooks.selected = {\n\t\tget: function( elem ) {\n\t\t\tvar parent = elem.parentNode;\n\t\t\tif ( parent && parent.parentNode ) {\n\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tset: function( elem ) {\n\t\t\tvar parent = elem.parentNode;\n\t\t\tif ( parent ) {\n\t\t\t\tparent.selectedIndex;\n\n\t\t\t\tif ( parent.parentNode ) {\n\t\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\njQuery.each( [\n\t\"tabIndex\",\n\t\"readOnly\",\n\t\"maxLength\",\n\t\"cellSpacing\",\n\t\"cellPadding\",\n\t\"rowSpan\",\n\t\"colSpan\",\n\t\"useMap\",\n\t\"frameBorder\",\n\t\"contentEditable\"\n], function() {\n\tjQuery.propFix[ this.toLowerCase() ] = this;\n} );\n\n\n\n\nvar rclass = /[\\t\\r\\n\\f]/g;\n\nfunction getClass( elem ) {\n\treturn elem.getAttribute && elem.getAttribute( \"class\" ) || \"\";\n}\n\njQuery.fn.extend( {\n\taddClass: function( value ) {\n\t\tvar classes, elem, cur, curValue, clazz, j, finalValue,\n\t\t\ti = 0;\n\n\t\tif ( jQuery.isFunction( value ) ) {\n\t\t\treturn this.each( function( j ) {\n\t\t\t\tjQuery( this ).addClass( value.call( this, j, getClass( this ) ) );\n\t\t\t} );\n\t\t}\n\n\t\tif ( typeof value === \"string\" && value ) {\n\t\t\tclasses = value.match( rnotwhite ) || [];\n\n\t\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\t\tcurValue = getClass( elem );\n\t\t\t\tcur = elem.nodeType === 1 &&\n\t\t\t\t\t( \" \" + curValue + \" \" ).replace( rclass, \" \" );\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\twhile ( ( clazz = classes[ j++ ] ) ) {\n\t\t\t\t\t\tif ( cur.indexOf( \" \" + clazz + \" \" ) < 0 ) {\n\t\t\t\t\t\t\tcur += clazz + \" \";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = jQuery.trim( cur );\n\t\t\t\t\tif ( curValue !== finalValue ) {\n\t\t\t\t\t\telem.setAttribute( \"class\", finalValue );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tremoveClass: function( value ) {\n\t\tvar classes, elem, cur, curValue, clazz, j, finalValue,\n\t\t\ti = 0;\n\n\t\tif ( jQuery.isFunction( value ) ) {\n\t\t\treturn this.each( function( j ) {\n\t\t\t\tjQuery( this ).removeClass( value.call( this, j, getClass( this ) ) );\n\t\t\t} );\n\t\t}\n\n\t\tif ( !arguments.length ) {\n\t\t\treturn this.attr( \"class\", \"\" );\n\t\t}\n\n\t\tif ( typeof value === \"string\" && value ) {\n\t\t\tclasses = value.match( rnotwhite ) || [];\n\n\t\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\t\tcurValue = getClass( elem );\n\n\t\t\t\t// This expression is here for better compressibility (see addClass)\n\t\t\t\tcur = elem.nodeType === 1 &&\n\t\t\t\t\t( \" \" + curValue + \" \" ).replace( rclass, \" \" );\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\twhile ( ( clazz = classes[ j++ ] ) ) {\n\n\t\t\t\t\t\t// Remove *all* instances\n\t\t\t\t\t\twhile ( cur.indexOf( \" \" + clazz + \" \" ) > -1 ) {\n\t\t\t\t\t\t\tcur = cur.replace( \" \" + clazz + \" \", \" \" );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = jQuery.trim( cur );\n\t\t\t\t\tif ( curValue !== finalValue ) {\n\t\t\t\t\t\telem.setAttribute( \"class\", finalValue );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\ttoggleClass: function( value, stateVal ) {\n\t\tvar type = typeof value;\n\n\t\tif ( typeof stateVal === \"boolean\" && type === \"string\" ) {\n\t\t\treturn stateVal ? this.addClass( value ) : this.removeClass( value );\n\t\t}\n\n\t\tif ( jQuery.isFunction( value ) ) {\n\t\t\treturn this.each( function( i ) {\n\t\t\t\tjQuery( this ).toggleClass(\n\t\t\t\t\tvalue.call( this, i, getClass( this ), stateVal ),\n\t\t\t\t\tstateVal\n\t\t\t\t);\n\t\t\t} );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar className, i, self, classNames;\n\n\t\t\tif ( type === \"string\" ) {\n\n\t\t\t\t// Toggle individual class names\n\t\t\t\ti = 0;\n\t\t\t\tself = jQuery( this );\n\t\t\t\tclassNames = value.match( rnotwhite ) || [];\n\n\t\t\t\twhile ( ( className = classNames[ i++ ] ) ) {\n\n\t\t\t\t\t// Check each className given, space separated list\n\t\t\t\t\tif ( self.hasClass( className ) ) {\n\t\t\t\t\t\tself.removeClass( className );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.addClass( className );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t// Toggle whole class name\n\t\t\t} else if ( value === undefined || type === \"boolean\" ) {\n\t\t\t\tclassName = getClass( this );\n\t\t\t\tif ( className ) {\n\n\t\t\t\t\t// Store className if set\n\t\t\t\t\tdataPriv.set( this, \"__className__\", className );\n\t\t\t\t}\n\n\t\t\t\t// If the element has a class name or if we're passed `false`,\n\t\t\t\t// then remove the whole classname (if there was one, the above saved it).\n\t\t\t\t// Otherwise bring back whatever was previously saved (if anything),\n\t\t\t\t// falling back to the empty string if nothing was stored.\n\t\t\t\tif ( this.setAttribute ) {\n\t\t\t\t\tthis.setAttribute( \"class\",\n\t\t\t\t\t\tclassName || value === false ?\n\t\t\t\t\t\t\"\" :\n\t\t\t\t\t\tdataPriv.get( this, \"__className__\" ) || \"\"\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\n\thasClass: function( selector ) {\n\t\tvar className, elem,\n\t\t\ti = 0;\n\n\t\tclassName = \" \" + selector + \" \";\n\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\tif ( elem.nodeType === 1 &&\n\t\t\t\t( \" \" + getClass( elem ) + \" \" ).replace( rclass, \" \" )\n\t\t\t\t\t.indexOf( className ) > -1\n\t\t\t) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n} );\n\n\n\n\nvar rreturn = /\\r/g,\n\trspaces = /[\\x20\\t\\r\\n\\f]+/g;\n\njQuery.fn.extend( {\n\tval: function( value ) {\n\t\tvar hooks, ret, isFunction,\n\t\t\telem = this[ 0 ];\n\n\t\tif ( !arguments.length ) {\n\t\t\tif ( elem ) {\n\t\t\t\thooks = jQuery.valHooks[ elem.type ] ||\n\t\t\t\t\tjQuery.valHooks[ elem.nodeName.toLowerCase() ];\n\n\t\t\t\tif ( hooks &&\n\t\t\t\t\t\"get\" in hooks &&\n\t\t\t\t\t( ret = hooks.get( elem, \"value\" ) ) !== undefined\n\t\t\t\t) {\n\t\t\t\t\treturn ret;\n\t\t\t\t}\n\n\t\t\t\tret = elem.value;\n\n\t\t\t\treturn typeof ret === \"string\" ?\n\n\t\t\t\t\t// Handle most common string cases\n\t\t\t\t\tret.replace( rreturn, \"\" ) :\n\n\t\t\t\t\t// Handle cases where value is null/undef or number\n\t\t\t\t\tret == null ? \"\" : ret;\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tisFunction = jQuery.isFunction( value );\n\n\t\treturn this.each( function( i ) {\n\t\t\tvar val;\n\n\t\t\tif ( this.nodeType !== 1 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( isFunction ) {\n\t\t\t\tval = value.call( this, i, jQuery( this ).val() );\n\t\t\t} else {\n\t\t\t\tval = value;\n\t\t\t}\n\n\t\t\t// Treat null/undefined as \"\"; convert numbers to string\n\t\t\tif ( val == null ) {\n\t\t\t\tval = \"\";\n\n\t\t\t} else if ( typeof val === \"number\" ) {\n\t\t\t\tval += \"\";\n\n\t\t\t} else if ( jQuery.isArray( val ) ) {\n\t\t\t\tval = jQuery.map( val, function( value ) {\n\t\t\t\t\treturn value == null ? \"\" : value + \"\";\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\thooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];\n\n\t\t\t// If set returns undefined, fall back to normal setting\n\t\t\tif ( !hooks || !( \"set\" in hooks ) || hooks.set( this, val, \"value\" ) === undefined ) {\n\t\t\t\tthis.value = val;\n\t\t\t}\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tvalHooks: {\n\t\toption: {\n\t\t\tget: function( elem ) {\n\n\t\t\t\tvar val = jQuery.find.attr( elem, \"value\" );\n\t\t\t\treturn val != null ?\n\t\t\t\t\tval :\n\n\t\t\t\t\t// Support: IE <=10 - 11 only\n\t\t\t\t\t// option.text throws exceptions (#14686, #14858)\n\t\t\t\t\t// Strip and collapse whitespace\n\t\t\t\t\t// https://html.spec.whatwg.org/#strip-and-collapse-whitespace\n\t\t\t\t\tjQuery.trim( jQuery.text( elem ) ).replace( rspaces, \" \" );\n\t\t\t}\n\t\t},\n\t\tselect: {\n\t\t\tget: function( elem ) {\n\t\t\t\tvar value, option,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tindex = elem.selectedIndex,\n\t\t\t\t\tone = elem.type === \"select-one\",\n\t\t\t\t\tvalues = one ? null : [],\n\t\t\t\t\tmax = one ? index + 1 : options.length,\n\t\t\t\t\ti = index < 0 ?\n\t\t\t\t\t\tmax :\n\t\t\t\t\t\tone ? index : 0;\n\n\t\t\t\t// Loop through all the selected options\n\t\t\t\tfor ( ; i < max; i++ ) {\n\t\t\t\t\toption = options[ i ];\n\n\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t// IE8-9 doesn't update selected after form reset (#2551)\n\t\t\t\t\tif ( ( option.selected || i === index ) &&\n\n\t\t\t\t\t\t\t// Don't return options that are disabled or in a disabled optgroup\n\t\t\t\t\t\t\t!option.disabled &&\n\t\t\t\t\t\t\t( !option.parentNode.disabled ||\n\t\t\t\t\t\t\t\t!jQuery.nodeName( option.parentNode, \"optgroup\" ) ) ) {\n\n\t\t\t\t\t\t// Get the specific value for the option\n\t\t\t\t\t\tvalue = jQuery( option ).val();\n\n\t\t\t\t\t\t// We don't need an array for one selects\n\t\t\t\t\t\tif ( one ) {\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Multi-Selects return an array\n\t\t\t\t\t\tvalues.push( value );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn values;\n\t\t\t},\n\n\t\t\tset: function( elem, value ) {\n\t\t\t\tvar optionSet, option,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tvalues = jQuery.makeArray( value ),\n\t\t\t\t\ti = options.length;\n\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\toption = options[ i ];\n\t\t\t\t\tif ( option.selected =\n\t\t\t\t\t\tjQuery.inArray( jQuery.valHooks.option.get( option ), values ) > -1\n\t\t\t\t\t) {\n\t\t\t\t\t\toptionSet = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Force browsers to behave consistently when non-matching value is set\n\t\t\t\tif ( !optionSet ) {\n\t\t\t\t\telem.selectedIndex = -1;\n\t\t\t\t}\n\t\t\t\treturn values;\n\t\t\t}\n\t\t}\n\t}\n} );\n\n// Radios and checkboxes getter/setter\njQuery.each( [ \"radio\", \"checkbox\" ], function() {\n\tjQuery.valHooks[ this ] = {\n\t\tset: function( elem, value ) {\n\t\t\tif ( jQuery.isArray( value ) ) {\n\t\t\t\treturn ( elem.checked = jQuery.inArray( jQuery( elem ).val(), value ) > -1 );\n\t\t\t}\n\t\t}\n\t};\n\tif ( !support.checkOn ) {\n\t\tjQuery.valHooks[ this ].get = function( elem ) {\n\t\t\treturn elem.getAttribute( \"value\" ) === null ? \"on\" : elem.value;\n\t\t};\n\t}\n} );\n\n\n\n\n// Return jQuery for attributes-only inclusion\n\n\nvar rfocusMorph = /^(?:focusinfocus|focusoutblur)$/;\n\njQuery.extend( jQuery.event, {\n\n\ttrigger: function( event, data, elem, onlyHandlers ) {\n\n\t\tvar i, cur, tmp, bubbleType, ontype, handle, special,\n\t\t\teventPath = [ elem || document ],\n\t\t\ttype = hasOwn.call( event, \"type\" ) ? event.type : event,\n\t\t\tnamespaces = hasOwn.call( event, \"namespace\" ) ? event.namespace.split( \".\" ) : [];\n\n\t\tcur = tmp = elem = elem || document;\n\n\t\t// Don't do events on text and comment nodes\n\t\tif ( elem.nodeType === 3 || elem.nodeType === 8 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// focus/blur morphs to focusin/out; ensure we're not firing them right now\n\t\tif ( rfocusMorph.test( type + jQuery.event.triggered ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( type.indexOf( \".\" ) > -1 ) {\n\n\t\t\t// Namespaced trigger; create a regexp to match event type in handle()\n\t\t\tnamespaces = type.split( \".\" );\n\t\t\ttype = namespaces.shift();\n\t\t\tnamespaces.sort();\n\t\t}\n\t\tontype = type.indexOf( \":\" ) < 0 && \"on\" + type;\n\n\t\t// Caller can pass in a jQuery.Event object, Object, or just an event type string\n\t\tevent = event[ jQuery.expando ] ?\n\t\t\tevent :\n\t\t\tnew jQuery.Event( type, typeof event === \"object\" && event );\n\n\t\t// Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)\n\t\tevent.isTrigger = onlyHandlers ? 2 : 3;\n\t\tevent.namespace = namespaces.join( \".\" );\n\t\tevent.rnamespace = event.namespace ?\n\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join( \"\\\\.(?:.*\\\\.|)\" ) + \"(\\\\.|$)\" ) :\n\t\t\tnull;\n\n\t\t// Clean up the event in case it is being reused\n\t\tevent.result = undefined;\n\t\tif ( !event.target ) {\n\t\t\tevent.target = elem;\n\t\t}\n\n\t\t// Clone any incoming data and prepend the event, creating the handler arg list\n\t\tdata = data == null ?\n\t\t\t[ event ] :\n\t\t\tjQuery.makeArray( data, [ event ] );\n\n\t\t// Allow special events to draw outside the lines\n\t\tspecial = jQuery.event.special[ type ] || {};\n\t\tif ( !onlyHandlers && special.trigger && special.trigger.apply( elem, data ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine event propagation path in advance, per W3C events spec (#9951)\n\t\t// Bubble up to document, then to window; watch for a global ownerDocument var (#9724)\n\t\tif ( !onlyHandlers && !special.noBubble && !jQuery.isWindow( elem ) ) {\n\n\t\t\tbubbleType = special.delegateType || type;\n\t\t\tif ( !rfocusMorph.test( bubbleType + type ) ) {\n\t\t\t\tcur = cur.parentNode;\n\t\t\t}\n\t\t\tfor ( ; cur; cur = cur.parentNode ) {\n\t\t\t\teventPath.push( cur );\n\t\t\t\ttmp = cur;\n\t\t\t}\n\n\t\t\t// Only add window if we got to document (e.g., not plain obj or detached DOM)\n\t\t\tif ( tmp === ( elem.ownerDocument || document ) ) {\n\t\t\t\teventPath.push( tmp.defaultView || tmp.parentWindow || window );\n\t\t\t}\n\t\t}\n\n\t\t// Fire handlers on the event path\n\t\ti = 0;\n\t\twhile ( ( cur = eventPath[ i++ ] ) && !event.isPropagationStopped() ) {\n\n\t\t\tevent.type = i > 1 ?\n\t\t\t\tbubbleType :\n\t\t\t\tspecial.bindType || type;\n\n\t\t\t// jQuery handler\n\t\t\thandle = ( dataPriv.get( cur, \"events\" ) || {} )[ event.type ] &&\n\t\t\t\tdataPriv.get( cur, \"handle\" );\n\t\t\tif ( handle ) {\n\t\t\t\thandle.apply( cur, data );\n\t\t\t}\n\n\t\t\t// Native handler\n\t\t\thandle = ontype && cur[ ontype ];\n\t\t\tif ( handle && handle.apply && acceptData( cur ) ) {\n\t\t\t\tevent.result = handle.apply( cur, data );\n\t\t\t\tif ( event.result === false ) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tevent.type = type;\n\n\t\t// If nobody prevented the default action, do it now\n\t\tif ( !onlyHandlers && !event.isDefaultPrevented() ) {\n\n\t\t\tif ( ( !special._default ||\n\t\t\t\tspecial._default.apply( eventPath.pop(), data ) === false ) &&\n\t\t\t\tacceptData( elem ) ) {\n\n\t\t\t\t// Call a native DOM method on the target with the same name as the event.\n\t\t\t\t// Don't do default actions on window, that's where global variables be (#6170)\n\t\t\t\tif ( ontype && jQuery.isFunction( elem[ type ] ) && !jQuery.isWindow( elem ) ) {\n\n\t\t\t\t\t// Don't re-trigger an onFOO event when we call its FOO() method\n\t\t\t\t\ttmp = elem[ ontype ];\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = null;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prevent re-triggering of the same event, since we already bubbled it above\n\t\t\t\t\tjQuery.event.triggered = type;\n\t\t\t\t\telem[ type ]();\n\t\t\t\t\tjQuery.event.triggered = undefined;\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = tmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\t// Piggyback on a donor event to simulate a different one\n\t// Used only for `focus(in | out)` events\n\tsimulate: function( type, elem, event ) {\n\t\tvar e = jQuery.extend(\n\t\t\tnew jQuery.Event(),\n\t\t\tevent,\n\t\t\t{\n\t\t\t\ttype: type,\n\t\t\t\tisSimulated: true\n\t\t\t}\n\t\t);\n\n\t\tjQuery.event.trigger( e, null, elem );\n\t}\n\n} );\n\njQuery.fn.extend( {\n\n\ttrigger: function( type, data ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.trigger( type, data, this );\n\t\t} );\n\t},\n\ttriggerHandler: function( type, data ) {\n\t\tvar elem = this[ 0 ];\n\t\tif ( elem ) {\n\t\t\treturn jQuery.event.trigger( type, data, elem, true );\n\t\t}\n\t}\n} );\n\n\njQuery.each( ( \"blur focus focusin focusout resize scroll click dblclick \" +\n\t\"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave \" +\n\t\"change select submit keydown keypress keyup contextmenu\" ).split( \" \" ),\n\tfunction( i, name ) {\n\n\t// Handle event binding\n\tjQuery.fn[ name ] = function( data, fn ) {\n\t\treturn arguments.length > 0 ?\n\t\t\tthis.on( name, null, data, fn ) :\n\t\t\tthis.trigger( name );\n\t};\n} );\n\njQuery.fn.extend( {\n\thover: function( fnOver, fnOut ) {\n\t\treturn this.mouseenter( fnOver ).mouseleave( fnOut || fnOver );\n\t}\n} );\n\n\n\n\nsupport.focusin = \"onfocusin\" in window;\n\n\n// Support: Firefox <=44\n// Firefox doesn't have focus(in | out) events\n// Related ticket - https://bugzilla.mozilla.org/show_bug.cgi?id=687787\n//\n// Support: Chrome <=48 - 49, Safari <=9.0 - 9.1\n// focus(in | out) events fire after focus & blur events,\n// which is spec violation - http://www.w3.org/TR/DOM-Level-3-Events/#events-focusevent-event-order\n// Related ticket - https://bugs.chromium.org/p/chromium/issues/detail?id=449857\nif ( !support.focusin ) {\n\tjQuery.each( { focus: \"focusin\", blur: \"focusout\" }, function( orig, fix ) {\n\n\t\t// Attach a single capturing handler on the document while someone wants focusin/focusout\n\t\tvar handler = function( event ) {\n\t\t\tjQuery.event.simulate( fix, event.target, jQuery.event.fix( event ) );\n\t\t};\n\n\t\tjQuery.event.special[ fix ] = {\n\t\t\tsetup: function() {\n\t\t\t\tvar doc = this.ownerDocument || this,\n\t\t\t\t\tattaches = dataPriv.access( doc, fix );\n\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tdoc.addEventListener( orig, handler, true );\n\t\t\t\t}\n\t\t\t\tdataPriv.access( doc, fix, ( attaches || 0 ) + 1 );\n\t\t\t},\n\t\t\tteardown: function() {\n\t\t\t\tvar doc = this.ownerDocument || this,\n\t\t\t\t\tattaches = dataPriv.access( doc, fix ) - 1;\n\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tdoc.removeEventListener( orig, handler, true );\n\t\t\t\t\tdataPriv.remove( doc, fix );\n\n\t\t\t\t} else {\n\t\t\t\t\tdataPriv.access( doc, fix, attaches );\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t} );\n}\nvar location = window.location;\n\nvar nonce = jQuery.now();\n\nvar rquery = ( /\\?/ );\n\n\n\n// Cross-browser xml parsing\njQuery.parseXML = function( data ) {\n\tvar xml;\n\tif ( !data || typeof data !== \"string\" ) {\n\t\treturn null;\n\t}\n\n\t// Support: IE 9 - 11 only\n\t// IE throws on parseFromString with invalid input.\n\ttry {\n\t\txml = ( new window.DOMParser() ).parseFromString( data, \"text/xml\" );\n\t} catch ( e ) {\n\t\txml = undefined;\n\t}\n\n\tif ( !xml || xml.getElementsByTagName( \"parsererror\" ).length ) {\n\t\tjQuery.error( \"Invalid XML: \" + data );\n\t}\n\treturn xml;\n};\n\n\nvar\n\trbracket = /\\[\\]$/,\n\trCRLF = /\\r?\\n/g,\n\trsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,\n\trsubmittable = /^(?:input|select|textarea|keygen)/i;\n\nfunction buildParams( prefix, obj, traditional, add ) {\n\tvar name;\n\n\tif ( jQuery.isArray( obj ) ) {\n\n\t\t// Serialize array item.\n\t\tjQuery.each( obj, function( i, v ) {\n\t\t\tif ( traditional || rbracket.test( prefix ) ) {\n\n\t\t\t\t// Treat each array item as a scalar.\n\t\t\t\tadd( prefix, v );\n\n\t\t\t} else {\n\n\t\t\t\t// Item is non-scalar (array or object), encode its numeric index.\n\t\t\t\tbuildParams(\n\t\t\t\t\tprefix + \"[\" + ( typeof v === \"object\" && v != null ? i : \"\" ) + \"]\",\n\t\t\t\t\tv,\n\t\t\t\t\ttraditional,\n\t\t\t\t\tadd\n\t\t\t\t);\n\t\t\t}\n\t\t} );\n\n\t} else if ( !traditional && jQuery.type( obj ) === \"object\" ) {\n\n\t\t// Serialize object item.\n\t\tfor ( name in obj ) {\n\t\t\tbuildParams( prefix + \"[\" + name + \"]\", obj[ name ], traditional, add );\n\t\t}\n\n\t} else {\n\n\t\t// Serialize scalar item.\n\t\tadd( prefix, obj );\n\t}\n}\n\n// Serialize an array of form elements or a set of\n// key/values into a query string\njQuery.param = function( a, traditional ) {\n\tvar prefix,\n\t\ts = [],\n\t\tadd = function( key, valueOrFunction ) {\n\n\t\t\t// If value is a function, invoke it and use its return value\n\t\t\tvar value = jQuery.isFunction( valueOrFunction ) ?\n\t\t\t\tvalueOrFunction() :\n\t\t\t\tvalueOrFunction;\n\n\t\t\ts[ s.length ] = encodeURIComponent( key ) + \"=\" +\n\t\t\t\tencodeURIComponent( value == null ? \"\" : value );\n\t\t};\n\n\t// If an array was passed in, assume that it is an array of form elements.\n\tif ( jQuery.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {\n\n\t\t// Serialize the form elements\n\t\tjQuery.each( a, function() {\n\t\t\tadd( this.name, this.value );\n\t\t} );\n\n\t} else {\n\n\t\t// If traditional, encode the \"old\" way (the way 1.3.2 or older\n\t\t// did it), otherwise encode params recursively.\n\t\tfor ( prefix in a ) {\n\t\t\tbuildParams( prefix, a[ prefix ], traditional, add );\n\t\t}\n\t}\n\n\t// Return the resulting serialization\n\treturn s.join( \"&\" );\n};\n\njQuery.fn.extend( {\n\tserialize: function() {\n\t\treturn jQuery.param( this.serializeArray() );\n\t},\n\tserializeArray: function() {\n\t\treturn this.map( function() {\n\n\t\t\t// Can add propHook for \"elements\" to filter or add form elements\n\t\t\tvar elements = jQuery.prop( this, \"elements\" );\n\t\t\treturn elements ? jQuery.makeArray( elements ) : this;\n\t\t} )\n\t\t.filter( function() {\n\t\t\tvar type = this.type;\n\n\t\t\t// Use .is( \":disabled\" ) so that fieldset[disabled] works\n\t\t\treturn this.name && !jQuery( this ).is( \":disabled\" ) &&\n\t\t\t\trsubmittable.test( this.nodeName ) && !rsubmitterTypes.test( type ) &&\n\t\t\t\t( this.checked || !rcheckableType.test( type ) );\n\t\t} )\n\t\t.map( function( i, elem ) {\n\t\t\tvar val = jQuery( this ).val();\n\n\t\t\treturn val == null ?\n\t\t\t\tnull :\n\t\t\t\tjQuery.isArray( val ) ?\n\t\t\t\t\tjQuery.map( val, function( val ) {\n\t\t\t\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t\t\t\t} ) :\n\t\t\t\t\t{ name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t} ).get();\n\t}\n} );\n\n\nvar\n\tr20 = /%20/g,\n\trhash = /#.*$/,\n\trts = /([?&])_=[^&]*/,\n\trheaders = /^(.*?):[ \\t]*([^\\r\\n]*)$/mg,\n\n\t// #7653, #8125, #8152: local protocol detection\n\trlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,\n\trnoContent = /^(?:GET|HEAD)$/,\n\trprotocol = /^\\/\\//,\n\n\t/* Prefilters\n\t * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)\n\t * 2) These are called:\n\t *    - BEFORE asking for a transport\n\t *    - AFTER param serialization (s.data is a string if s.processData is true)\n\t * 3) key is the dataType\n\t * 4) the catchall symbol \"*\" can be used\n\t * 5) execution will start with transport dataType and THEN continue down to \"*\" if needed\n\t */\n\tprefilters = {},\n\n\t/* Transports bindings\n\t * 1) key is the dataType\n\t * 2) the catchall symbol \"*\" can be used\n\t * 3) selection will start with transport dataType and THEN go to \"*\" if needed\n\t */\n\ttransports = {},\n\n\t// Avoid comment-prolog char sequence (#10098); must appease lint and evade compression\n\tallTypes = \"*/\".concat( \"*\" ),\n\n\t// Anchor tag for parsing the document origin\n\toriginAnchor = document.createElement( \"a\" );\n\toriginAnchor.href = location.href;\n\n// Base \"constructor\" for jQuery.ajaxPrefilter and jQuery.ajaxTransport\nfunction addToPrefiltersOrTransports( structure ) {\n\n\t// dataTypeExpression is optional and defaults to \"*\"\n\treturn function( dataTypeExpression, func ) {\n\n\t\tif ( typeof dataTypeExpression !== \"string\" ) {\n\t\t\tfunc = dataTypeExpression;\n\t\t\tdataTypeExpression = \"*\";\n\t\t}\n\n\t\tvar dataType,\n\t\t\ti = 0,\n\t\t\tdataTypes = dataTypeExpression.toLowerCase().match( rnotwhite ) || [];\n\n\t\tif ( jQuery.isFunction( func ) ) {\n\n\t\t\t// For each dataType in the dataTypeExpression\n\t\t\twhile ( ( dataType = dataTypes[ i++ ] ) ) {\n\n\t\t\t\t// Prepend if requested\n\t\t\t\tif ( dataType[ 0 ] === \"+\" ) {\n\t\t\t\t\tdataType = dataType.slice( 1 ) || \"*\";\n\t\t\t\t\t( structure[ dataType ] = structure[ dataType ] || [] ).unshift( func );\n\n\t\t\t\t// Otherwise append\n\t\t\t\t} else {\n\t\t\t\t\t( structure[ dataType ] = structure[ dataType ] || [] ).push( func );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\n// Base inspection function for prefilters and transports\nfunction inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR ) {\n\n\tvar inspected = {},\n\t\tseekingTransport = ( structure === transports );\n\n\tfunction inspect( dataType ) {\n\t\tvar selected;\n\t\tinspected[ dataType ] = true;\n\t\tjQuery.each( structure[ dataType ] || [], function( _, prefilterOrFactory ) {\n\t\t\tvar dataTypeOrTransport = prefilterOrFactory( options, originalOptions, jqXHR );\n\t\t\tif ( typeof dataTypeOrTransport === \"string\" &&\n\t\t\t\t!seekingTransport && !inspected[ dataTypeOrTransport ] ) {\n\n\t\t\t\toptions.dataTypes.unshift( dataTypeOrTransport );\n\t\t\t\tinspect( dataTypeOrTransport );\n\t\t\t\treturn false;\n\t\t\t} else if ( seekingTransport ) {\n\t\t\t\treturn !( selected = dataTypeOrTransport );\n\t\t\t}\n\t\t} );\n\t\treturn selected;\n\t}\n\n\treturn inspect( options.dataTypes[ 0 ] ) || !inspected[ \"*\" ] && inspect( \"*\" );\n}\n\n// A special extend for ajax options\n// that takes \"flat\" options (not to be deep extended)\n// Fixes #9887\nfunction ajaxExtend( target, src ) {\n\tvar key, deep,\n\t\tflatOptions = jQuery.ajaxSettings.flatOptions || {};\n\n\tfor ( key in src ) {\n\t\tif ( src[ key ] !== undefined ) {\n\t\t\t( flatOptions[ key ] ? target : ( deep || ( deep = {} ) ) )[ key ] = src[ key ];\n\t\t}\n\t}\n\tif ( deep ) {\n\t\tjQuery.extend( true, target, deep );\n\t}\n\n\treturn target;\n}\n\n/* Handles responses to an ajax request:\n * - finds the right dataType (mediates between content-type and expected dataType)\n * - returns the corresponding response\n */\nfunction ajaxHandleResponses( s, jqXHR, responses ) {\n\n\tvar ct, type, finalDataType, firstDataType,\n\t\tcontents = s.contents,\n\t\tdataTypes = s.dataTypes;\n\n\t// Remove auto dataType and get content-type in the process\n\twhile ( dataTypes[ 0 ] === \"*\" ) {\n\t\tdataTypes.shift();\n\t\tif ( ct === undefined ) {\n\t\t\tct = s.mimeType || jqXHR.getResponseHeader( \"Content-Type\" );\n\t\t}\n\t}\n\n\t// Check if we're dealing with a known content-type\n\tif ( ct ) {\n\t\tfor ( type in contents ) {\n\t\t\tif ( contents[ type ] && contents[ type ].test( ct ) ) {\n\t\t\t\tdataTypes.unshift( type );\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Check to see if we have a response for the expected dataType\n\tif ( dataTypes[ 0 ] in responses ) {\n\t\tfinalDataType = dataTypes[ 0 ];\n\t} else {\n\n\t\t// Try convertible dataTypes\n\t\tfor ( type in responses ) {\n\t\t\tif ( !dataTypes[ 0 ] || s.converters[ type + \" \" + dataTypes[ 0 ] ] ) {\n\t\t\t\tfinalDataType = type;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( !firstDataType ) {\n\t\t\t\tfirstDataType = type;\n\t\t\t}\n\t\t}\n\n\t\t// Or just use first one\n\t\tfinalDataType = finalDataType || firstDataType;\n\t}\n\n\t// If we found a dataType\n\t// We add the dataType to the list if needed\n\t// and return the corresponding response\n\tif ( finalDataType ) {\n\t\tif ( finalDataType !== dataTypes[ 0 ] ) {\n\t\t\tdataTypes.unshift( finalDataType );\n\t\t}\n\t\treturn responses[ finalDataType ];\n\t}\n}\n\n/* Chain conversions given the request and the original response\n * Also sets the responseXXX fields on the jqXHR instance\n */\nfunction ajaxConvert( s, response, jqXHR, isSuccess ) {\n\tvar conv2, current, conv, tmp, prev,\n\t\tconverters = {},\n\n\t\t// Work with a copy of dataTypes in case we need to modify it for conversion\n\t\tdataTypes = s.dataTypes.slice();\n\n\t// Create converters map with lowercased keys\n\tif ( dataTypes[ 1 ] ) {\n\t\tfor ( conv in s.converters ) {\n\t\t\tconverters[ conv.toLowerCase() ] = s.converters[ conv ];\n\t\t}\n\t}\n\n\tcurrent = dataTypes.shift();\n\n\t// Convert to each sequential dataType\n\twhile ( current ) {\n\n\t\tif ( s.responseFields[ current ] ) {\n\t\t\tjqXHR[ s.responseFields[ current ] ] = response;\n\t\t}\n\n\t\t// Apply the dataFilter if provided\n\t\tif ( !prev && isSuccess && s.dataFilter ) {\n\t\t\tresponse = s.dataFilter( response, s.dataType );\n\t\t}\n\n\t\tprev = current;\n\t\tcurrent = dataTypes.shift();\n\n\t\tif ( current ) {\n\n\t\t\t// There's only work to do if current dataType is non-auto\n\t\t\tif ( current === \"*\" ) {\n\n\t\t\t\tcurrent = prev;\n\n\t\t\t// Convert response if prev dataType is non-auto and differs from current\n\t\t\t} else if ( prev !== \"*\" && prev !== current ) {\n\n\t\t\t\t// Seek a direct converter\n\t\t\t\tconv = converters[ prev + \" \" + current ] || converters[ \"* \" + current ];\n\n\t\t\t\t// If none found, seek a pair\n\t\t\t\tif ( !conv ) {\n\t\t\t\t\tfor ( conv2 in converters ) {\n\n\t\t\t\t\t\t// If conv2 outputs current\n\t\t\t\t\t\ttmp = conv2.split( \" \" );\n\t\t\t\t\t\tif ( tmp[ 1 ] === current ) {\n\n\t\t\t\t\t\t\t// If prev can be converted to accepted input\n\t\t\t\t\t\t\tconv = converters[ prev + \" \" + tmp[ 0 ] ] ||\n\t\t\t\t\t\t\t\tconverters[ \"* \" + tmp[ 0 ] ];\n\t\t\t\t\t\t\tif ( conv ) {\n\n\t\t\t\t\t\t\t\t// Condense equivalence converters\n\t\t\t\t\t\t\t\tif ( conv === true ) {\n\t\t\t\t\t\t\t\t\tconv = converters[ conv2 ];\n\n\t\t\t\t\t\t\t\t// Otherwise, insert the intermediate dataType\n\t\t\t\t\t\t\t\t} else if ( converters[ conv2 ] !== true ) {\n\t\t\t\t\t\t\t\t\tcurrent = tmp[ 0 ];\n\t\t\t\t\t\t\t\t\tdataTypes.unshift( tmp[ 1 ] );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Apply converter (if not an equivalence)\n\t\t\t\tif ( conv !== true ) {\n\n\t\t\t\t\t// Unless errors are allowed to bubble, catch and return them\n\t\t\t\t\tif ( conv && s.throws ) {\n\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t\t} catch ( e ) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tstate: \"parsererror\",\n\t\t\t\t\t\t\t\terror: conv ? e : \"No conversion from \" + prev + \" to \" + current\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn { state: \"success\", data: response };\n}\n\njQuery.extend( {\n\n\t// Counter for holding the number of active queries\n\tactive: 0,\n\n\t// Last-Modified header cache for next request\n\tlastModified: {},\n\tetag: {},\n\n\tajaxSettings: {\n\t\turl: location.href,\n\t\ttype: \"GET\",\n\t\tisLocal: rlocalProtocol.test( location.protocol ),\n\t\tglobal: true,\n\t\tprocessData: true,\n\t\tasync: true,\n\t\tcontentType: \"application/x-www-form-urlencoded; charset=UTF-8\",\n\t\t/*\n\t\ttimeout: 0,\n\t\tdata: null,\n\t\tdataType: null,\n\t\tusername: null,\n\t\tpassword: null,\n\t\tcache: null,\n\t\tthrows: false,\n\t\ttraditional: false,\n\t\theaders: {},\n\t\t*/\n\n\t\taccepts: {\n\t\t\t\"*\": allTypes,\n\t\t\ttext: \"text/plain\",\n\t\t\thtml: \"text/html\",\n\t\t\txml: \"application/xml, text/xml\",\n\t\t\tjson: \"application/json, text/javascript\"\n\t\t},\n\n\t\tcontents: {\n\t\t\txml: /\\bxml\\b/,\n\t\t\thtml: /\\bhtml/,\n\t\t\tjson: /\\bjson\\b/\n\t\t},\n\n\t\tresponseFields: {\n\t\t\txml: \"responseXML\",\n\t\t\ttext: \"responseText\",\n\t\t\tjson: \"responseJSON\"\n\t\t},\n\n\t\t// Data converters\n\t\t// Keys separate source (or catchall \"*\") and destination types with a single space\n\t\tconverters: {\n\n\t\t\t// Convert anything to text\n\t\t\t\"* text\": String,\n\n\t\t\t// Text to html (true = no transformation)\n\t\t\t\"text html\": true,\n\n\t\t\t// Evaluate text as a json expression\n\t\t\t\"text json\": JSON.parse,\n\n\t\t\t// Parse text as xml\n\t\t\t\"text xml\": jQuery.parseXML\n\t\t},\n\n\t\t// For options that shouldn't be deep extended:\n\t\t// you can add your own custom options here if\n\t\t// and when you create one that shouldn't be\n\t\t// deep extended (see ajaxExtend)\n\t\tflatOptions: {\n\t\t\turl: true,\n\t\t\tcontext: true\n\t\t}\n\t},\n\n\t// Creates a full fledged settings object into target\n\t// with both ajaxSettings and settings fields.\n\t// If target is omitted, writes into ajaxSettings.\n\tajaxSetup: function( target, settings ) {\n\t\treturn settings ?\n\n\t\t\t// Building a settings object\n\t\t\tajaxExtend( ajaxExtend( target, jQuery.ajaxSettings ), settings ) :\n\n\t\t\t// Extending ajaxSettings\n\t\t\tajaxExtend( jQuery.ajaxSettings, target );\n\t},\n\n\tajaxPrefilter: addToPrefiltersOrTransports( prefilters ),\n\tajaxTransport: addToPrefiltersOrTransports( transports ),\n\n\t// Main method\n\tajax: function( url, options ) {\n\n\t\t// If url is an object, simulate pre-1.5 signature\n\t\tif ( typeof url === \"object\" ) {\n\t\t\toptions = url;\n\t\t\turl = undefined;\n\t\t}\n\n\t\t// Force options to be an object\n\t\toptions = options || {};\n\n\t\tvar transport,\n\n\t\t\t// URL without anti-cache param\n\t\t\tcacheURL,\n\n\t\t\t// Response headers\n\t\t\tresponseHeadersString,\n\t\t\tresponseHeaders,\n\n\t\t\t// timeout handle\n\t\t\ttimeoutTimer,\n\n\t\t\t// Url cleanup var\n\t\t\turlAnchor,\n\n\t\t\t// Request state (becomes false upon send and true upon completion)\n\t\t\tcompleted,\n\n\t\t\t// To know if global events are to be dispatched\n\t\t\tfireGlobals,\n\n\t\t\t// Loop variable\n\t\t\ti,\n\n\t\t\t// uncached part of the url\n\t\t\tuncached,\n\n\t\t\t// Create the final options object\n\t\t\ts = jQuery.ajaxSetup( {}, options ),\n\n\t\t\t// Callbacks context\n\t\t\tcallbackContext = s.context || s,\n\n\t\t\t// Context for global events is callbackContext if it is a DOM node or jQuery collection\n\t\t\tglobalEventContext = s.context &&\n\t\t\t\t( callbackContext.nodeType || callbackContext.jquery ) ?\n\t\t\t\t\tjQuery( callbackContext ) :\n\t\t\t\t\tjQuery.event,\n\n\t\t\t// Deferreds\n\t\t\tdeferred = jQuery.Deferred(),\n\t\t\tcompleteDeferred = jQuery.Callbacks( \"once memory\" ),\n\n\t\t\t// Status-dependent callbacks\n\t\t\tstatusCode = s.statusCode || {},\n\n\t\t\t// Headers (they are sent all at once)\n\t\t\trequestHeaders = {},\n\t\t\trequestHeadersNames = {},\n\n\t\t\t// Default abort message\n\t\t\tstrAbort = \"canceled\",\n\n\t\t\t// Fake xhr\n\t\t\tjqXHR = {\n\t\t\t\treadyState: 0,\n\n\t\t\t\t// Builds headers hashtable if needed\n\t\t\t\tgetResponseHeader: function( key ) {\n\t\t\t\t\tvar match;\n\t\t\t\t\tif ( completed ) {\n\t\t\t\t\t\tif ( !responseHeaders ) {\n\t\t\t\t\t\t\tresponseHeaders = {};\n\t\t\t\t\t\t\twhile ( ( match = rheaders.exec( responseHeadersString ) ) ) {\n\t\t\t\t\t\t\t\tresponseHeaders[ match[ 1 ].toLowerCase() ] = match[ 2 ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmatch = responseHeaders[ key.toLowerCase() ];\n\t\t\t\t\t}\n\t\t\t\t\treturn match == null ? null : match;\n\t\t\t\t},\n\n\t\t\t\t// Raw string\n\t\t\t\tgetAllResponseHeaders: function() {\n\t\t\t\t\treturn completed ? responseHeadersString : null;\n\t\t\t\t},\n\n\t\t\t\t// Caches the header\n\t\t\t\tsetRequestHeader: function( name, value ) {\n\t\t\t\t\tif ( completed == null ) {\n\t\t\t\t\t\tname = requestHeadersNames[ name.toLowerCase() ] =\n\t\t\t\t\t\t\trequestHeadersNames[ name.toLowerCase() ] || name;\n\t\t\t\t\t\trequestHeaders[ name ] = value;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Overrides response content-type header\n\t\t\t\toverrideMimeType: function( type ) {\n\t\t\t\t\tif ( completed == null ) {\n\t\t\t\t\t\ts.mimeType = type;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Status-dependent callbacks\n\t\t\t\tstatusCode: function( map ) {\n\t\t\t\t\tvar code;\n\t\t\t\t\tif ( map ) {\n\t\t\t\t\t\tif ( completed ) {\n\n\t\t\t\t\t\t\t// Execute the appropriate callbacks\n\t\t\t\t\t\t\tjqXHR.always( map[ jqXHR.status ] );\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Lazy-add the new callbacks in a way that preserves old ones\n\t\t\t\t\t\t\tfor ( code in map ) {\n\t\t\t\t\t\t\t\tstatusCode[ code ] = [ statusCode[ code ], map[ code ] ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Cancel the request\n\t\t\t\tabort: function( statusText ) {\n\t\t\t\t\tvar finalText = statusText || strAbort;\n\t\t\t\t\tif ( transport ) {\n\t\t\t\t\t\ttransport.abort( finalText );\n\t\t\t\t\t}\n\t\t\t\t\tdone( 0, finalText );\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t};\n\n\t\t// Attach deferreds\n\t\tdeferred.promise( jqXHR );\n\n\t\t// Add protocol if not provided (prefilters might expect it)\n\t\t// Handle falsy url in the settings object (#10093: consistency with old signature)\n\t\t// We also use the url parameter if available\n\t\ts.url = ( ( url || s.url || location.href ) + \"\" )\n\t\t\t.replace( rprotocol, location.protocol + \"//\" );\n\n\t\t// Alias method option to type as per ticket #12004\n\t\ts.type = options.method || options.type || s.method || s.type;\n\n\t\t// Extract dataTypes list\n\t\ts.dataTypes = ( s.dataType || \"*\" ).toLowerCase().match( rnotwhite ) || [ \"\" ];\n\n\t\t// A cross-domain request is in order when the origin doesn't match the current origin.\n\t\tif ( s.crossDomain == null ) {\n\t\t\turlAnchor = document.createElement( \"a\" );\n\n\t\t\t// Support: IE <=8 - 11, Edge 12 - 13\n\t\t\t// IE throws exception on accessing the href property if url is malformed,\n\t\t\t// e.g. http://example.com:80x/\n\t\t\ttry {\n\t\t\t\turlAnchor.href = s.url;\n\n\t\t\t\t// Support: IE <=8 - 11 only\n\t\t\t\t// Anchor's host property isn't correctly set when s.url is relative\n\t\t\t\turlAnchor.href = urlAnchor.href;\n\t\t\t\ts.crossDomain = originAnchor.protocol + \"//\" + originAnchor.host !==\n\t\t\t\t\turlAnchor.protocol + \"//\" + urlAnchor.host;\n\t\t\t} catch ( e ) {\n\n\t\t\t\t// If there is an error parsing the URL, assume it is crossDomain,\n\t\t\t\t// it can be rejected by the transport if it is invalid\n\t\t\t\ts.crossDomain = true;\n\t\t\t}\n\t\t}\n\n\t\t// Convert data if not already a string\n\t\tif ( s.data && s.processData && typeof s.data !== \"string\" ) {\n\t\t\ts.data = jQuery.param( s.data, s.traditional );\n\t\t}\n\n\t\t// Apply prefilters\n\t\tinspectPrefiltersOrTransports( prefilters, s, options, jqXHR );\n\n\t\t// If request was aborted inside a prefilter, stop there\n\t\tif ( completed ) {\n\t\t\treturn jqXHR;\n\t\t}\n\n\t\t// We can fire global events as of now if asked to\n\t\t// Don't fire events if jQuery.event is undefined in an AMD-usage scenario (#15118)\n\t\tfireGlobals = jQuery.event && s.global;\n\n\t\t// Watch for a new set of requests\n\t\tif ( fireGlobals && jQuery.active++ === 0 ) {\n\t\t\tjQuery.event.trigger( \"ajaxStart\" );\n\t\t}\n\n\t\t// Uppercase the type\n\t\ts.type = s.type.toUpperCase();\n\n\t\t// Determine if request has content\n\t\ts.hasContent = !rnoContent.test( s.type );\n\n\t\t// Save the URL in case we're toying with the If-Modified-Since\n\t\t// and/or If-None-Match header later on\n\t\t// Remove hash to simplify url manipulation\n\t\tcacheURL = s.url.replace( rhash, \"\" );\n\n\t\t// More options handling for requests with no content\n\t\tif ( !s.hasContent ) {\n\n\t\t\t// Remember the hash so we can put it back\n\t\t\tuncached = s.url.slice( cacheURL.length );\n\n\t\t\t// If data is available, append data to url\n\t\t\tif ( s.data ) {\n\t\t\t\tcacheURL += ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + s.data;\n\n\t\t\t\t// #9682: remove data so that it's not used in an eventual retry\n\t\t\t\tdelete s.data;\n\t\t\t}\n\n\t\t\t// Add anti-cache in uncached url if needed\n\t\t\tif ( s.cache === false ) {\n\t\t\t\tcacheURL = cacheURL.replace( rts, \"\" );\n\t\t\t\tuncached = ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + \"_=\" + ( nonce++ ) + uncached;\n\t\t\t}\n\n\t\t\t// Put hash and anti-cache on the URL that will be requested (gh-1732)\n\t\t\ts.url = cacheURL + uncached;\n\n\t\t// Change '%20' to '+' if this is encoded form body content (gh-2658)\n\t\t} else if ( s.data && s.processData &&\n\t\t\t( s.contentType || \"\" ).indexOf( \"application/x-www-form-urlencoded\" ) === 0 ) {\n\t\t\ts.data = s.data.replace( r20, \"+\" );\n\t\t}\n\n\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\tif ( s.ifModified ) {\n\t\t\tif ( jQuery.lastModified[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-Modified-Since\", jQuery.lastModified[ cacheURL ] );\n\t\t\t}\n\t\t\tif ( jQuery.etag[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-None-Match\", jQuery.etag[ cacheURL ] );\n\t\t\t}\n\t\t}\n\n\t\t// Set the correct header, if data is being sent\n\t\tif ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {\n\t\t\tjqXHR.setRequestHeader( \"Content-Type\", s.contentType );\n\t\t}\n\n\t\t// Set the Accepts header for the server, depending on the dataType\n\t\tjqXHR.setRequestHeader(\n\t\t\t\"Accept\",\n\t\t\ts.dataTypes[ 0 ] && s.accepts[ s.dataTypes[ 0 ] ] ?\n\t\t\t\ts.accepts[ s.dataTypes[ 0 ] ] +\n\t\t\t\t\t( s.dataTypes[ 0 ] !== \"*\" ? \", \" + allTypes + \"; q=0.01\" : \"\" ) :\n\t\t\t\ts.accepts[ \"*\" ]\n\t\t);\n\n\t\t// Check for headers option\n\t\tfor ( i in s.headers ) {\n\t\t\tjqXHR.setRequestHeader( i, s.headers[ i ] );\n\t\t}\n\n\t\t// Allow custom headers/mimetypes and early abort\n\t\tif ( s.beforeSend &&\n\t\t\t( s.beforeSend.call( callbackContext, jqXHR, s ) === false || completed ) ) {\n\n\t\t\t// Abort if not done already and return\n\t\t\treturn jqXHR.abort();\n\t\t}\n\n\t\t// Aborting is no longer a cancellation\n\t\tstrAbort = \"abort\";\n\n\t\t// Install callbacks on deferreds\n\t\tcompleteDeferred.add( s.complete );\n\t\tjqXHR.done( s.success );\n\t\tjqXHR.fail( s.error );\n\n\t\t// Get transport\n\t\ttransport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );\n\n\t\t// If no transport, we auto-abort\n\t\tif ( !transport ) {\n\t\t\tdone( -1, \"No Transport\" );\n\t\t} else {\n\t\t\tjqXHR.readyState = 1;\n\n\t\t\t// Send global event\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxSend\", [ jqXHR, s ] );\n\t\t\t}\n\n\t\t\t// If request was aborted inside ajaxSend, stop there\n\t\t\tif ( completed ) {\n\t\t\t\treturn jqXHR;\n\t\t\t}\n\n\t\t\t// Timeout\n\t\t\tif ( s.async && s.timeout > 0 ) {\n\t\t\t\ttimeoutTimer = window.setTimeout( function() {\n\t\t\t\t\tjqXHR.abort( \"timeout\" );\n\t\t\t\t}, s.timeout );\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tcompleted = false;\n\t\t\t\ttransport.send( requestHeaders, done );\n\t\t\t} catch ( e ) {\n\n\t\t\t\t// Rethrow post-completion exceptions\n\t\t\t\tif ( completed ) {\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\n\t\t\t\t// Propagate others as results\n\t\t\t\tdone( -1, e );\n\t\t\t}\n\t\t}\n\n\t\t// Callback for when everything is done\n\t\tfunction done( status, nativeStatusText, responses, headers ) {\n\t\t\tvar isSuccess, success, error, response, modified,\n\t\t\t\tstatusText = nativeStatusText;\n\n\t\t\t// Ignore repeat invocations\n\t\t\tif ( completed ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcompleted = true;\n\n\t\t\t// Clear timeout if it exists\n\t\t\tif ( timeoutTimer ) {\n\t\t\t\twindow.clearTimeout( timeoutTimer );\n\t\t\t}\n\n\t\t\t// Dereference transport for early garbage collection\n\t\t\t// (no matter how long the jqXHR object will be used)\n\t\t\ttransport = undefined;\n\n\t\t\t// Cache response headers\n\t\t\tresponseHeadersString = headers || \"\";\n\n\t\t\t// Set readyState\n\t\t\tjqXHR.readyState = status > 0 ? 4 : 0;\n\n\t\t\t// Determine if successful\n\t\t\tisSuccess = status >= 200 && status < 300 || status === 304;\n\n\t\t\t// Get response data\n\t\t\tif ( responses ) {\n\t\t\t\tresponse = ajaxHandleResponses( s, jqXHR, responses );\n\t\t\t}\n\n\t\t\t// Convert no matter what (that way responseXXX fields are always set)\n\t\t\tresponse = ajaxConvert( s, response, jqXHR, isSuccess );\n\n\t\t\t// If successful, handle type chaining\n\t\t\tif ( isSuccess ) {\n\n\t\t\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\t\t\tif ( s.ifModified ) {\n\t\t\t\t\tmodified = jqXHR.getResponseHeader( \"Last-Modified\" );\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.lastModified[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t\tmodified = jqXHR.getResponseHeader( \"etag\" );\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.etag[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// if no content\n\t\t\t\tif ( status === 204 || s.type === \"HEAD\" ) {\n\t\t\t\t\tstatusText = \"nocontent\";\n\n\t\t\t\t// if not modified\n\t\t\t\t} else if ( status === 304 ) {\n\t\t\t\t\tstatusText = \"notmodified\";\n\n\t\t\t\t// If we have data, let's convert it\n\t\t\t\t} else {\n\t\t\t\t\tstatusText = response.state;\n\t\t\t\t\tsuccess = response.data;\n\t\t\t\t\terror = response.error;\n\t\t\t\t\tisSuccess = !error;\n\t\t\t\t}\n\t\t\t} else {\n\n\t\t\t\t// Extract error from statusText and normalize for non-aborts\n\t\t\t\terror = statusText;\n\t\t\t\tif ( status || !statusText ) {\n\t\t\t\t\tstatusText = \"error\";\n\t\t\t\t\tif ( status < 0 ) {\n\t\t\t\t\t\tstatus = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Set data for the fake xhr object\n\t\t\tjqXHR.status = status;\n\t\t\tjqXHR.statusText = ( nativeStatusText || statusText ) + \"\";\n\n\t\t\t// Success/Error\n\t\t\tif ( isSuccess ) {\n\t\t\t\tdeferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );\n\t\t\t} else {\n\t\t\t\tdeferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );\n\t\t\t}\n\n\t\t\t// Status-dependent callbacks\n\t\t\tjqXHR.statusCode( statusCode );\n\t\t\tstatusCode = undefined;\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( isSuccess ? \"ajaxSuccess\" : \"ajaxError\",\n\t\t\t\t\t[ jqXHR, s, isSuccess ? success : error ] );\n\t\t\t}\n\n\t\t\t// Complete\n\t\t\tcompleteDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxComplete\", [ jqXHR, s ] );\n\n\t\t\t\t// Handle the global AJAX counter\n\t\t\t\tif ( !( --jQuery.active ) ) {\n\t\t\t\t\tjQuery.event.trigger( \"ajaxStop\" );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn jqXHR;\n\t},\n\n\tgetJSON: function( url, data, callback ) {\n\t\treturn jQuery.get( url, data, callback, \"json\" );\n\t},\n\n\tgetScript: function( url, callback ) {\n\t\treturn jQuery.get( url, undefined, callback, \"script\" );\n\t}\n} );\n\njQuery.each( [ \"get\", \"post\" ], function( i, method ) {\n\tjQuery[ method ] = function( url, data, callback, type ) {\n\n\t\t// Shift arguments if data argument was omitted\n\t\tif ( jQuery.isFunction( data ) ) {\n\t\t\ttype = type || callback;\n\t\t\tcallback = data;\n\t\t\tdata = undefined;\n\t\t}\n\n\t\t// The url can be an options object (which then must have .url)\n\t\treturn jQuery.ajax( jQuery.extend( {\n\t\t\turl: url,\n\t\t\ttype: method,\n\t\t\tdataType: type,\n\t\t\tdata: data,\n\t\t\tsuccess: callback\n\t\t}, jQuery.isPlainObject( url ) && url ) );\n\t};\n} );\n\n\njQuery._evalUrl = function( url ) {\n\treturn jQuery.ajax( {\n\t\turl: url,\n\n\t\t// Make this explicit, since user can override this through ajaxSetup (#11264)\n\t\ttype: \"GET\",\n\t\tdataType: \"script\",\n\t\tcache: true,\n\t\tasync: false,\n\t\tglobal: false,\n\t\t\"throws\": true\n\t} );\n};\n\n\njQuery.fn.extend( {\n\twrapAll: function( html ) {\n\t\tvar wrap;\n\n\t\tif ( this[ 0 ] ) {\n\t\t\tif ( jQuery.isFunction( html ) ) {\n\t\t\t\thtml = html.call( this[ 0 ] );\n\t\t\t}\n\n\t\t\t// The elements to wrap the target around\n\t\t\twrap = jQuery( html, this[ 0 ].ownerDocument ).eq( 0 ).clone( true );\n\n\t\t\tif ( this[ 0 ].parentNode ) {\n\t\t\t\twrap.insertBefore( this[ 0 ] );\n\t\t\t}\n\n\t\t\twrap.map( function() {\n\t\t\t\tvar elem = this;\n\n\t\t\t\twhile ( elem.firstElementChild ) {\n\t\t\t\t\telem = elem.firstElementChild;\n\t\t\t\t}\n\n\t\t\t\treturn elem;\n\t\t\t} ).append( this );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\twrapInner: function( html ) {\n\t\tif ( jQuery.isFunction( html ) ) {\n\t\t\treturn this.each( function( i ) {\n\t\t\t\tjQuery( this ).wrapInner( html.call( this, i ) );\n\t\t\t} );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar self = jQuery( this ),\n\t\t\t\tcontents = self.contents();\n\n\t\t\tif ( contents.length ) {\n\t\t\t\tcontents.wrapAll( html );\n\n\t\t\t} else {\n\t\t\t\tself.append( html );\n\t\t\t}\n\t\t} );\n\t},\n\n\twrap: function( html ) {\n\t\tvar isFunction = jQuery.isFunction( html );\n\n\t\treturn this.each( function( i ) {\n\t\t\tjQuery( this ).wrapAll( isFunction ? html.call( this, i ) : html );\n\t\t} );\n\t},\n\n\tunwrap: function( selector ) {\n\t\tthis.parent( selector ).not( \"body\" ).each( function() {\n\t\t\tjQuery( this ).replaceWith( this.childNodes );\n\t\t} );\n\t\treturn this;\n\t}\n} );\n\n\njQuery.expr.pseudos.hidden = function( elem ) {\n\treturn !jQuery.expr.pseudos.visible( elem );\n};\njQuery.expr.pseudos.visible = function( elem ) {\n\treturn !!( elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length );\n};\n\n\n\n\njQuery.ajaxSettings.xhr = function() {\n\ttry {\n\t\treturn new window.XMLHttpRequest();\n\t} catch ( e ) {}\n};\n\nvar xhrSuccessStatus = {\n\n\t\t// File protocol always yields status code 0, assume 200\n\t\t0: 200,\n\n\t\t// Support: IE <=9 only\n\t\t// #1450: sometimes IE returns 1223 when it should be 204\n\t\t1223: 204\n\t},\n\txhrSupported = jQuery.ajaxSettings.xhr();\n\nsupport.cors = !!xhrSupported && ( \"withCredentials\" in xhrSupported );\nsupport.ajax = xhrSupported = !!xhrSupported;\n\njQuery.ajaxTransport( function( options ) {\n\tvar callback, errorCallback;\n\n\t// Cross domain only allowed if supported through XMLHttpRequest\n\tif ( support.cors || xhrSupported && !options.crossDomain ) {\n\t\treturn {\n\t\t\tsend: function( headers, complete ) {\n\t\t\t\tvar i,\n\t\t\t\t\txhr = options.xhr();\n\n\t\t\t\txhr.open(\n\t\t\t\t\toptions.type,\n\t\t\t\t\toptions.url,\n\t\t\t\t\toptions.async,\n\t\t\t\t\toptions.username,\n\t\t\t\t\toptions.password\n\t\t\t\t);\n\n\t\t\t\t// Apply custom fields if provided\n\t\t\t\tif ( options.xhrFields ) {\n\t\t\t\t\tfor ( i in options.xhrFields ) {\n\t\t\t\t\t\txhr[ i ] = options.xhrFields[ i ];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Override mime type if needed\n\t\t\t\tif ( options.mimeType && xhr.overrideMimeType ) {\n\t\t\t\t\txhr.overrideMimeType( options.mimeType );\n\t\t\t\t}\n\n\t\t\t\t// X-Requested-With header\n\t\t\t\t// For cross-domain requests, seeing as conditions for a preflight are\n\t\t\t\t// akin to a jigsaw puzzle, we simply never set it to be sure.\n\t\t\t\t// (it can always be set on a per-request basis or even using ajaxSetup)\n\t\t\t\t// For same-domain requests, won't change header if already provided.\n\t\t\t\tif ( !options.crossDomain && !headers[ \"X-Requested-With\" ] ) {\n\t\t\t\t\theaders[ \"X-Requested-With\" ] = \"XMLHttpRequest\";\n\t\t\t\t}\n\n\t\t\t\t// Set headers\n\t\t\t\tfor ( i in headers ) {\n\t\t\t\t\txhr.setRequestHeader( i, headers[ i ] );\n\t\t\t\t}\n\n\t\t\t\t// Callback\n\t\t\t\tcallback = function( type ) {\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\t\tcallback = errorCallback = xhr.onload =\n\t\t\t\t\t\t\t\txhr.onerror = xhr.onabort = xhr.onreadystatechange = null;\n\n\t\t\t\t\t\t\tif ( type === \"abort\" ) {\n\t\t\t\t\t\t\t\txhr.abort();\n\t\t\t\t\t\t\t} else if ( type === \"error\" ) {\n\n\t\t\t\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t\t\t\t// On a manual native abort, IE9 throws\n\t\t\t\t\t\t\t\t// errors on any property access that is not readyState\n\t\t\t\t\t\t\t\tif ( typeof xhr.status !== \"number\" ) {\n\t\t\t\t\t\t\t\t\tcomplete( 0, \"error\" );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tcomplete(\n\n\t\t\t\t\t\t\t\t\t\t// File: protocol always yields status 0; see #8605, #14207\n\t\t\t\t\t\t\t\t\t\txhr.status,\n\t\t\t\t\t\t\t\t\t\txhr.statusText\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcomplete(\n\t\t\t\t\t\t\t\t\txhrSuccessStatus[ xhr.status ] || xhr.status,\n\t\t\t\t\t\t\t\t\txhr.statusText,\n\n\t\t\t\t\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t\t\t\t\t// IE9 has no XHR2 but throws on binary (trac-11426)\n\t\t\t\t\t\t\t\t\t// For XHR2 non-text, let the caller handle it (gh-2498)\n\t\t\t\t\t\t\t\t\t( xhr.responseType || \"text\" ) !== \"text\"  ||\n\t\t\t\t\t\t\t\t\ttypeof xhr.responseText !== \"string\" ?\n\t\t\t\t\t\t\t\t\t\t{ binary: xhr.response } :\n\t\t\t\t\t\t\t\t\t\t{ text: xhr.responseText },\n\t\t\t\t\t\t\t\t\txhr.getAllResponseHeaders()\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t};\n\n\t\t\t\t// Listen to events\n\t\t\t\txhr.onload = callback();\n\t\t\t\terrorCallback = xhr.onerror = callback( \"error\" );\n\n\t\t\t\t// Support: IE 9 only\n\t\t\t\t// Use onreadystatechange to replace onabort\n\t\t\t\t// to handle uncaught aborts\n\t\t\t\tif ( xhr.onabort !== undefined ) {\n\t\t\t\t\txhr.onabort = errorCallback;\n\t\t\t\t} else {\n\t\t\t\t\txhr.onreadystatechange = function() {\n\n\t\t\t\t\t\t// Check readyState before timeout as it changes\n\t\t\t\t\t\tif ( xhr.readyState === 4 ) {\n\n\t\t\t\t\t\t\t// Allow onerror to be called first,\n\t\t\t\t\t\t\t// but that will not handle a native abort\n\t\t\t\t\t\t\t// Also, save errorCallback to a variable\n\t\t\t\t\t\t\t// as xhr.onerror cannot be accessed\n\t\t\t\t\t\t\twindow.setTimeout( function() {\n\t\t\t\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\t\t\t\terrorCallback();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\t// Create the abort callback\n\t\t\t\tcallback = callback( \"abort\" );\n\n\t\t\t\ttry {\n\n\t\t\t\t\t// Do send the request (this may raise an exception)\n\t\t\t\t\txhr.send( options.hasContent && options.data || null );\n\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t// #14683: Only rethrow if this hasn't been notified as an error yet\n\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\tthrow e;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n} );\n\n\n\n\n// Prevent auto-execution of scripts when no explicit dataType was provided (See gh-2432)\njQuery.ajaxPrefilter( function( s ) {\n\tif ( s.crossDomain ) {\n\t\ts.contents.script = false;\n\t}\n} );\n\n// Install script dataType\njQuery.ajaxSetup( {\n\taccepts: {\n\t\tscript: \"text/javascript, application/javascript, \" +\n\t\t\t\"application/ecmascript, application/x-ecmascript\"\n\t},\n\tcontents: {\n\t\tscript: /\\b(?:java|ecma)script\\b/\n\t},\n\tconverters: {\n\t\t\"text script\": function( text ) {\n\t\t\tjQuery.globalEval( text );\n\t\t\treturn text;\n\t\t}\n\t}\n} );\n\n// Handle cache's special case and crossDomain\njQuery.ajaxPrefilter( \"script\", function( s ) {\n\tif ( s.cache === undefined ) {\n\t\ts.cache = false;\n\t}\n\tif ( s.crossDomain ) {\n\t\ts.type = \"GET\";\n\t}\n} );\n\n// Bind script tag hack transport\njQuery.ajaxTransport( \"script\", function( s ) {\n\n\t// This transport only deals with cross domain requests\n\tif ( s.crossDomain ) {\n\t\tvar script, callback;\n\t\treturn {\n\t\t\tsend: function( _, complete ) {\n\t\t\t\tscript = jQuery( \"<script>\" ).prop( {\n\t\t\t\t\tcharset: s.scriptCharset,\n\t\t\t\t\tsrc: s.url\n\t\t\t\t} ).on(\n\t\t\t\t\t\"load error\",\n\t\t\t\t\tcallback = function( evt ) {\n\t\t\t\t\t\tscript.remove();\n\t\t\t\t\t\tcallback = null;\n\t\t\t\t\t\tif ( evt ) {\n\t\t\t\t\t\t\tcomplete( evt.type === \"error\" ? 404 : 200, evt.type );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\t// Use native DOM manipulation to avoid our domManip AJAX trickery\n\t\t\t\tdocument.head.appendChild( script[ 0 ] );\n\t\t\t},\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n} );\n\n\n\n\nvar oldCallbacks = [],\n\trjsonp = /(=)\\?(?=&|$)|\\?\\?/;\n\n// Default jsonp settings\njQuery.ajaxSetup( {\n\tjsonp: \"callback\",\n\tjsonpCallback: function() {\n\t\tvar callback = oldCallbacks.pop() || ( jQuery.expando + \"_\" + ( nonce++ ) );\n\t\tthis[ callback ] = true;\n\t\treturn callback;\n\t}\n} );\n\n// Detect, normalize options and install callbacks for jsonp requests\njQuery.ajaxPrefilter( \"json jsonp\", function( s, originalSettings, jqXHR ) {\n\n\tvar callbackName, overwritten, responseContainer,\n\t\tjsonProp = s.jsonp !== false && ( rjsonp.test( s.url ) ?\n\t\t\t\"url\" :\n\t\t\ttypeof s.data === \"string\" &&\n\t\t\t\t( s.contentType || \"\" )\n\t\t\t\t\t.indexOf( \"application/x-www-form-urlencoded\" ) === 0 &&\n\t\t\t\trjsonp.test( s.data ) && \"data\"\n\t\t);\n\n\t// Handle iff the expected data type is \"jsonp\" or we have a parameter to set\n\tif ( jsonProp || s.dataTypes[ 0 ] === \"jsonp\" ) {\n\n\t\t// Get callback name, remembering preexisting value associated with it\n\t\tcallbackName = s.jsonpCallback = jQuery.isFunction( s.jsonpCallback ) ?\n\t\t\ts.jsonpCallback() :\n\t\t\ts.jsonpCallback;\n\n\t\t// Insert callback into url or form data\n\t\tif ( jsonProp ) {\n\t\t\ts[ jsonProp ] = s[ jsonProp ].replace( rjsonp, \"$1\" + callbackName );\n\t\t} else if ( s.jsonp !== false ) {\n\t\t\ts.url += ( rquery.test( s.url ) ? \"&\" : \"?\" ) + s.jsonp + \"=\" + callbackName;\n\t\t}\n\n\t\t// Use data converter to retrieve json after script execution\n\t\ts.converters[ \"script json\" ] = function() {\n\t\t\tif ( !responseContainer ) {\n\t\t\t\tjQuery.error( callbackName + \" was not called\" );\n\t\t\t}\n\t\t\treturn responseContainer[ 0 ];\n\t\t};\n\n\t\t// Force json dataType\n\t\ts.dataTypes[ 0 ] = \"json\";\n\n\t\t// Install callback\n\t\toverwritten = window[ callbackName ];\n\t\twindow[ callbackName ] = function() {\n\t\t\tresponseContainer = arguments;\n\t\t};\n\n\t\t// Clean-up function (fires after converters)\n\t\tjqXHR.always( function() {\n\n\t\t\t// If previous value didn't exist - remove it\n\t\t\tif ( overwritten === undefined ) {\n\t\t\t\tjQuery( window ).removeProp( callbackName );\n\n\t\t\t// Otherwise restore preexisting value\n\t\t\t} else {\n\t\t\t\twindow[ callbackName ] = overwritten;\n\t\t\t}\n\n\t\t\t// Save back as free\n\t\t\tif ( s[ callbackName ] ) {\n\n\t\t\t\t// Make sure that re-using the options doesn't screw things around\n\t\t\t\ts.jsonpCallback = originalSettings.jsonpCallback;\n\n\t\t\t\t// Save the callback name for future use\n\t\t\t\toldCallbacks.push( callbackName );\n\t\t\t}\n\n\t\t\t// Call if it was a function and we have a response\n\t\t\tif ( responseContainer && jQuery.isFunction( overwritten ) ) {\n\t\t\t\toverwritten( responseContainer[ 0 ] );\n\t\t\t}\n\n\t\t\tresponseContainer = overwritten = undefined;\n\t\t} );\n\n\t\t// Delegate to script\n\t\treturn \"script\";\n\t}\n} );\n\n\n\n\n// Support: Safari 8 only\n// In Safari 8 documents created via document.implementation.createHTMLDocument\n// collapse sibling forms: the second one becomes a child of the first one.\n// Because of that, this security measure has to be disabled in Safari 8.\n// https://bugs.webkit.org/show_bug.cgi?id=137337\nsupport.createHTMLDocument = ( function() {\n\tvar body = document.implementation.createHTMLDocument( \"\" ).body;\n\tbody.innerHTML = \"<form></form><form></form>\";\n\treturn body.childNodes.length === 2;\n} )();\n\n\n// Argument \"data\" should be string of html\n// context (optional): If specified, the fragment will be created in this context,\n// defaults to document\n// keepScripts (optional): If true, will include scripts passed in the html string\njQuery.parseHTML = function( data, context, keepScripts ) {\n\tif ( typeof data !== \"string\" ) {\n\t\treturn [];\n\t}\n\tif ( typeof context === \"boolean\" ) {\n\t\tkeepScripts = context;\n\t\tcontext = false;\n\t}\n\n\tvar base, parsed, scripts;\n\n\tif ( !context ) {\n\n\t\t// Stop scripts or inline event handlers from being executed immediately\n\t\t// by using document.implementation\n\t\tif ( support.createHTMLDocument ) {\n\t\t\tcontext = document.implementation.createHTMLDocument( \"\" );\n\n\t\t\t// Set the base href for the created document\n\t\t\t// so any parsed elements with URLs\n\t\t\t// are based on the document's URL (gh-2965)\n\t\t\tbase = context.createElement( \"base\" );\n\t\t\tbase.href = document.location.href;\n\t\t\tcontext.head.appendChild( base );\n\t\t} else {\n\t\t\tcontext = document;\n\t\t}\n\t}\n\n\tparsed = rsingleTag.exec( data );\n\tscripts = !keepScripts && [];\n\n\t// Single tag\n\tif ( parsed ) {\n\t\treturn [ context.createElement( parsed[ 1 ] ) ];\n\t}\n\n\tparsed = buildFragment( [ data ], context, scripts );\n\n\tif ( scripts && scripts.length ) {\n\t\tjQuery( scripts ).remove();\n\t}\n\n\treturn jQuery.merge( [], parsed.childNodes );\n};\n\n\n/**\n * Load a url into a page\n */\njQuery.fn.load = function( url, params, callback ) {\n\tvar selector, type, response,\n\t\tself = this,\n\t\toff = url.indexOf( \" \" );\n\n\tif ( off > -1 ) {\n\t\tselector = jQuery.trim( url.slice( off ) );\n\t\turl = url.slice( 0, off );\n\t}\n\n\t// If it's a function\n\tif ( jQuery.isFunction( params ) ) {\n\n\t\t// We assume that it's the callback\n\t\tcallback = params;\n\t\tparams = undefined;\n\n\t// Otherwise, build a param string\n\t} else if ( params && typeof params === \"object\" ) {\n\t\ttype = \"POST\";\n\t}\n\n\t// If we have elements to modify, make the request\n\tif ( self.length > 0 ) {\n\t\tjQuery.ajax( {\n\t\t\turl: url,\n\n\t\t\t// If \"type\" variable is undefined, then \"GET\" method will be used.\n\t\t\t// Make value of this field explicit since\n\t\t\t// user can override it through ajaxSetup method\n\t\t\ttype: type || \"GET\",\n\t\t\tdataType: \"html\",\n\t\t\tdata: params\n\t\t} ).done( function( responseText ) {\n\n\t\t\t// Save response for use in complete callback\n\t\t\tresponse = arguments;\n\n\t\t\tself.html( selector ?\n\n\t\t\t\t// If a selector was specified, locate the right elements in a dummy div\n\t\t\t\t// Exclude scripts to avoid IE 'Permission Denied' errors\n\t\t\t\tjQuery( \"<div>\" ).append( jQuery.parseHTML( responseText ) ).find( selector ) :\n\n\t\t\t\t// Otherwise use the full result\n\t\t\t\tresponseText );\n\n\t\t// If the request succeeds, this function gets \"data\", \"status\", \"jqXHR\"\n\t\t// but they are ignored because response was set above.\n\t\t// If it fails, this function gets \"jqXHR\", \"status\", \"error\"\n\t\t} ).always( callback && function( jqXHR, status ) {\n\t\t\tself.each( function() {\n\t\t\t\tcallback.apply( this, response || [ jqXHR.responseText, status, jqXHR ] );\n\t\t\t} );\n\t\t} );\n\t}\n\n\treturn this;\n};\n\n\n\n\n// Attach a bunch of functions for handling common AJAX events\njQuery.each( [\n\t\"ajaxStart\",\n\t\"ajaxStop\",\n\t\"ajaxComplete\",\n\t\"ajaxError\",\n\t\"ajaxSuccess\",\n\t\"ajaxSend\"\n], function( i, type ) {\n\tjQuery.fn[ type ] = function( fn ) {\n\t\treturn this.on( type, fn );\n\t};\n} );\n\n\n\n\njQuery.expr.pseudos.animated = function( elem ) {\n\treturn jQuery.grep( jQuery.timers, function( fn ) {\n\t\treturn elem === fn.elem;\n\t} ).length;\n};\n\n\n\n\n/**\n * Gets a window from an element\n */\nfunction getWindow( elem ) {\n\treturn jQuery.isWindow( elem ) ? elem : elem.nodeType === 9 && elem.defaultView;\n}\n\njQuery.offset = {\n\tsetOffset: function( elem, options, i ) {\n\t\tvar curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition,\n\t\t\tposition = jQuery.css( elem, \"position\" ),\n\t\t\tcurElem = jQuery( elem ),\n\t\t\tprops = {};\n\n\t\t// Set position first, in-case top/left are set even on static elem\n\t\tif ( position === \"static\" ) {\n\t\t\telem.style.position = \"relative\";\n\t\t}\n\n\t\tcurOffset = curElem.offset();\n\t\tcurCSSTop = jQuery.css( elem, \"top\" );\n\t\tcurCSSLeft = jQuery.css( elem, \"left\" );\n\t\tcalculatePosition = ( position === \"absolute\" || position === \"fixed\" ) &&\n\t\t\t( curCSSTop + curCSSLeft ).indexOf( \"auto\" ) > -1;\n\n\t\t// Need to be able to calculate position if either\n\t\t// top or left is auto and position is either absolute or fixed\n\t\tif ( calculatePosition ) {\n\t\t\tcurPosition = curElem.position();\n\t\t\tcurTop = curPosition.top;\n\t\t\tcurLeft = curPosition.left;\n\n\t\t} else {\n\t\t\tcurTop = parseFloat( curCSSTop ) || 0;\n\t\t\tcurLeft = parseFloat( curCSSLeft ) || 0;\n\t\t}\n\n\t\tif ( jQuery.isFunction( options ) ) {\n\n\t\t\t// Use jQuery.extend here to allow modification of coordinates argument (gh-1848)\n\t\t\toptions = options.call( elem, i, jQuery.extend( {}, curOffset ) );\n\t\t}\n\n\t\tif ( options.top != null ) {\n\t\t\tprops.top = ( options.top - curOffset.top ) + curTop;\n\t\t}\n\t\tif ( options.left != null ) {\n\t\t\tprops.left = ( options.left - curOffset.left ) + curLeft;\n\t\t}\n\n\t\tif ( \"using\" in options ) {\n\t\t\toptions.using.call( elem, props );\n\n\t\t} else {\n\t\t\tcurElem.css( props );\n\t\t}\n\t}\n};\n\njQuery.fn.extend( {\n\toffset: function( options ) {\n\n\t\t// Preserve chaining for setter\n\t\tif ( arguments.length ) {\n\t\t\treturn options === undefined ?\n\t\t\t\tthis :\n\t\t\t\tthis.each( function( i ) {\n\t\t\t\t\tjQuery.offset.setOffset( this, options, i );\n\t\t\t\t} );\n\t\t}\n\n\t\tvar docElem, win, rect, doc,\n\t\t\telem = this[ 0 ];\n\n\t\tif ( !elem ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Support: IE <=11 only\n\t\t// Running getBoundingClientRect on a\n\t\t// disconnected node in IE throws an error\n\t\tif ( !elem.getClientRects().length ) {\n\t\t\treturn { top: 0, left: 0 };\n\t\t}\n\n\t\trect = elem.getBoundingClientRect();\n\n\t\t// Make sure element is not hidden (display: none)\n\t\tif ( rect.width || rect.height ) {\n\t\t\tdoc = elem.ownerDocument;\n\t\t\twin = getWindow( doc );\n\t\t\tdocElem = doc.documentElement;\n\n\t\t\treturn {\n\t\t\t\ttop: rect.top + win.pageYOffset - docElem.clientTop,\n\t\t\t\tleft: rect.left + win.pageXOffset - docElem.clientLeft\n\t\t\t};\n\t\t}\n\n\t\t// Return zeros for disconnected and hidden elements (gh-2310)\n\t\treturn rect;\n\t},\n\n\tposition: function() {\n\t\tif ( !this[ 0 ] ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar offsetParent, offset,\n\t\t\telem = this[ 0 ],\n\t\t\tparentOffset = { top: 0, left: 0 };\n\n\t\t// Fixed elements are offset from window (parentOffset = {top:0, left: 0},\n\t\t// because it is its only offset parent\n\t\tif ( jQuery.css( elem, \"position\" ) === \"fixed\" ) {\n\n\t\t\t// Assume getBoundingClientRect is there when computed position is fixed\n\t\t\toffset = elem.getBoundingClientRect();\n\n\t\t} else {\n\n\t\t\t// Get *real* offsetParent\n\t\t\toffsetParent = this.offsetParent();\n\n\t\t\t// Get correct offsets\n\t\t\toffset = this.offset();\n\t\t\tif ( !jQuery.nodeName( offsetParent[ 0 ], \"html\" ) ) {\n\t\t\t\tparentOffset = offsetParent.offset();\n\t\t\t}\n\n\t\t\t// Add offsetParent borders\n\t\t\tparentOffset = {\n\t\t\t\ttop: parentOffset.top + jQuery.css( offsetParent[ 0 ], \"borderTopWidth\", true ),\n\t\t\t\tleft: parentOffset.left + jQuery.css( offsetParent[ 0 ], \"borderLeftWidth\", true )\n\t\t\t};\n\t\t}\n\n\t\t// Subtract parent offsets and element margins\n\t\treturn {\n\t\t\ttop: offset.top - parentOffset.top - jQuery.css( elem, \"marginTop\", true ),\n\t\t\tleft: offset.left - parentOffset.left - jQuery.css( elem, \"marginLeft\", true )\n\t\t};\n\t},\n\n\t// This method will return documentElement in the following cases:\n\t// 1) For the element inside the iframe without offsetParent, this method will return\n\t//    documentElement of the parent window\n\t// 2) For the hidden or detached element\n\t// 3) For body or html element, i.e. in case of the html node - it will return itself\n\t//\n\t// but those exceptions were never presented as a real life use-cases\n\t// and might be considered as more preferable results.\n\t//\n\t// This logic, however, is not guaranteed and can change at any point in the future\n\toffsetParent: function() {\n\t\treturn this.map( function() {\n\t\t\tvar offsetParent = this.offsetParent;\n\n\t\t\twhile ( offsetParent && jQuery.css( offsetParent, \"position\" ) === \"static\" ) {\n\t\t\t\toffsetParent = offsetParent.offsetParent;\n\t\t\t}\n\n\t\t\treturn offsetParent || documentElement;\n\t\t} );\n\t}\n} );\n\n// Create scrollLeft and scrollTop methods\njQuery.each( { scrollLeft: \"pageXOffset\", scrollTop: \"pageYOffset\" }, function( method, prop ) {\n\tvar top = \"pageYOffset\" === prop;\n\n\tjQuery.fn[ method ] = function( val ) {\n\t\treturn access( this, function( elem, method, val ) {\n\t\t\tvar win = getWindow( elem );\n\n\t\t\tif ( val === undefined ) {\n\t\t\t\treturn win ? win[ prop ] : elem[ method ];\n\t\t\t}\n\n\t\t\tif ( win ) {\n\t\t\t\twin.scrollTo(\n\t\t\t\t\t!top ? val : win.pageXOffset,\n\t\t\t\t\ttop ? val : win.pageYOffset\n\t\t\t\t);\n\n\t\t\t} else {\n\t\t\t\telem[ method ] = val;\n\t\t\t}\n\t\t}, method, val, arguments.length );\n\t};\n} );\n\n// Support: Safari <=7 - 9.1, Chrome <=37 - 49\n// Add the top/left cssHooks using jQuery.fn.position\n// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084\n// Blink bug: https://bugs.chromium.org/p/chromium/issues/detail?id=589347\n// getComputedStyle returns percent when specified for top/left/bottom/right;\n// rather than make the css module depend on the offset module, just check for it here\njQuery.each( [ \"top\", \"left\" ], function( i, prop ) {\n\tjQuery.cssHooks[ prop ] = addGetHookIf( support.pixelPosition,\n\t\tfunction( elem, computed ) {\n\t\t\tif ( computed ) {\n\t\t\t\tcomputed = curCSS( elem, prop );\n\n\t\t\t\t// If curCSS returns percentage, fallback to offset\n\t\t\t\treturn rnumnonpx.test( computed ) ?\n\t\t\t\t\tjQuery( elem ).position()[ prop ] + \"px\" :\n\t\t\t\t\tcomputed;\n\t\t\t}\n\t\t}\n\t);\n} );\n\n\n// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods\njQuery.each( { Height: \"height\", Width: \"width\" }, function( name, type ) {\n\tjQuery.each( { padding: \"inner\" + name, content: type, \"\": \"outer\" + name },\n\t\tfunction( defaultExtra, funcName ) {\n\n\t\t// Margin is only for outerHeight, outerWidth\n\t\tjQuery.fn[ funcName ] = function( margin, value ) {\n\t\t\tvar chainable = arguments.length && ( defaultExtra || typeof margin !== \"boolean\" ),\n\t\t\t\textra = defaultExtra || ( margin === true || value === true ? \"margin\" : \"border\" );\n\n\t\t\treturn access( this, function( elem, type, value ) {\n\t\t\t\tvar doc;\n\n\t\t\t\tif ( jQuery.isWindow( elem ) ) {\n\n\t\t\t\t\t// $( window ).outerWidth/Height return w/h including scrollbars (gh-1729)\n\t\t\t\t\treturn funcName.indexOf( \"outer\" ) === 0 ?\n\t\t\t\t\t\telem[ \"inner\" + name ] :\n\t\t\t\t\t\telem.document.documentElement[ \"client\" + name ];\n\t\t\t\t}\n\n\t\t\t\t// Get document width or height\n\t\t\t\tif ( elem.nodeType === 9 ) {\n\t\t\t\t\tdoc = elem.documentElement;\n\n\t\t\t\t\t// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height],\n\t\t\t\t\t// whichever is greatest\n\t\t\t\t\treturn Math.max(\n\t\t\t\t\t\telem.body[ \"scroll\" + name ], doc[ \"scroll\" + name ],\n\t\t\t\t\t\telem.body[ \"offset\" + name ], doc[ \"offset\" + name ],\n\t\t\t\t\t\tdoc[ \"client\" + name ]\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn value === undefined ?\n\n\t\t\t\t\t// Get width or height on the element, requesting but not forcing parseFloat\n\t\t\t\t\tjQuery.css( elem, type, extra ) :\n\n\t\t\t\t\t// Set width or height on the element\n\t\t\t\t\tjQuery.style( elem, type, value, extra );\n\t\t\t}, type, chainable ? margin : undefined, chainable );\n\t\t};\n\t} );\n} );\n\n\njQuery.fn.extend( {\n\n\tbind: function( types, data, fn ) {\n\t\treturn this.on( types, null, data, fn );\n\t},\n\tunbind: function( types, fn ) {\n\t\treturn this.off( types, null, fn );\n\t},\n\n\tdelegate: function( selector, types, data, fn ) {\n\t\treturn this.on( types, selector, data, fn );\n\t},\n\tundelegate: function( selector, types, fn ) {\n\n\t\t// ( namespace ) or ( selector, types [, fn] )\n\t\treturn arguments.length === 1 ?\n\t\t\tthis.off( selector, \"**\" ) :\n\t\t\tthis.off( types, selector || \"**\", fn );\n\t}\n} );\n\njQuery.parseJSON = JSON.parse;\n\n\n\n\n// Register as a named AMD module, since jQuery can be concatenated with other\n// files that may use define, but not via a proper concatenation script that\n// understands anonymous AMD modules. A named AMD is safest and most robust\n// way to register. Lowercase jquery is used because AMD module names are\n// derived from file names, and jQuery is normally delivered in a lowercase\n// file name. Do this after creating the global so that if an AMD module wants\n// to call noConflict to hide this version of jQuery, it will work.\n\n// Note that for maximum portability, libraries that are not jQuery should\n// declare themselves as anonymous modules, and avoid setting a global if an\n// AMD loader is present. jQuery is a special case. For more information, see\n// https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon\n\nif ( typeof define === \"function\" && define.amd ) {\n\tdefine( \"jquery\", [], function() {\n\t\treturn jQuery;\n\t} );\n}\n\n\n\n\n\nvar\n\n\t// Map over jQuery in case of overwrite\n\t_jQuery = window.jQuery,\n\n\t// Map over the $ in case of overwrite\n\t_$ = window.$;\n\njQuery.noConflict = function( deep ) {\n\tif ( window.$ === jQuery ) {\n\t\twindow.$ = _$;\n\t}\n\n\tif ( deep && window.jQuery === jQuery ) {\n\t\twindow.jQuery = _jQuery;\n\t}\n\n\treturn jQuery;\n};\n\n// Expose jQuery and $ identifiers, even in AMD\n// (#7102#comment:10, https://github.com/jquery/jquery/pull/557)\n// and CommonJS for browser emulators (#13566)\nif ( !noGlobal ) {\n\twindow.jQuery = window.$ = jQuery;\n}\n\n\nreturn jQuery;\n} ) );\n\n},{}],20:[function(require,module,exports){\n(function (global){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _jquery = require('./jquery');\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nrequire('./polyfill');\n\nvar _outputFormatter = require('./output-formatter');\n\nvar _outputFormatter2 = _interopRequireDefault(_outputFormatter);\n\nvar _loading = require('./loading');\n\nvar _loading2 = _interopRequireDefault(_loading);\n\nvar _artisan = require('./commands/artisan');\n\nvar _artisan2 = _interopRequireDefault(_artisan);\n\nvar _default = require('./commands/default');\n\nvar _default2 = _interopRequireDefault(_default);\n\nvar _help = require('./commands/help');\n\nvar _help2 = _interopRequireDefault(_help);\n\nvar _mysql = require('./commands/mysql');\n\nvar _mysql2 = _interopRequireDefault(_mysql);\n\nvar _tinker = require('./commands/tinker');\n\nvar _tinker2 = _interopRequireDefault(_tinker);\n\nvar _vi = require('./commands/vi');\n\nvar _vi2 = _interopRequireDefault(_vi);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nrequire('jquery-mousewheel');\nrequire('jquery.terminal');\nrequire('jquery.terminal/js/unix_formatting');\n\nvar console = window.console;\n\nvar Terminal = function () {\n    function Terminal(element) {\n        var _this = this;\n\n        var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n        _classCallCheck(this, Terminal);\n\n        this.$element = (0, _jquery2.default)(element);\n        this.$win = (0, _jquery2.default)(global);\n        this.$term = null;\n        Object.assign(this, {\n            options: Object.assign({}, options),\n            formatter: new _outputFormatter2.default(),\n            prompt: \"$ \"\n        });\n\n        this.$element.terminal(this.run.bind(this), {\n            greetings: this.greetings(),\n            onInit: function onInit(term) {\n                _this.$term = term;\n                _this.loading = new _loading2.default(term);\n                _this.commands = [new _help2.default(_this, options), new _artisan2.default(_this, options), new _mysql2.default(_this, options), new _tinker2.default(_this, options), new _vi2.default(_this, options), new _default2.default(_this, options)];\n                _this.run('list');\n            },\n            onClear: function onClear() {\n                _this.serverInfo();\n            },\n            prompt: this.prompt\n        });\n\n        this.$win.on('resize', function () {\n            var parent = _this.$element.parent();\n            var width = void 0,\n                height = void 0;\n            if (parent.prop('tagName').toLowerCase() === 'body') {\n                width = parent.width() - 20;\n                height = parent.height() - 20;\n            } else {\n                width = parent.width();\n                height = parent.height();\n            }\n            _this.$element.width(width);\n            _this.$element.height(height);\n        }).trigger('resize');\n    }\n\n    _createClass(Terminal, [{\n        key: 'run',\n        value: function run(command) {\n            for (var interpreter in this.options.interpreters) {\n                if (command === interpreter) {\n                    var prompt = this.options.interpreters[interpreter];\n                    this.interpreter(prompt);\n                    return;\n                }\n            }\n\n            var cmd = _jquery2.default.terminal.parseCommand(command.trim());\n            for (var i = 0; i < this.commands.length; i++) {\n                var _command = this.commands[i];\n                if (_command.match(cmd.name) === true) {\n                    _command.call(cmd);\n                    break;\n                }\n            }\n        }\n    }, {\n        key: 'interpreter',\n        value: function interpreter(prompt) {\n            var _this2 = this;\n\n            this.$term.push(function (command) {\n                _this2.run(prompt.replace(/\\s+/g, '-') + ' ' + command);\n            }, {\n                prompt: prompt + '> '\n            });\n        }\n    }, {\n        key: 'greetings',\n        value: function greetings() {\n            return [\" __                        _    _____              _         _ \", \"|  |   ___ ___ ___ _ _ ___| |  |_   ____ ___ _____|_|___ ___| |\", \"|  |__| .'|  _| .'| | | -_| |    | || -_|  _|     | |   | .'| |\", \"|_____|__,|_| |__,|\\\\_/|___|_|    |_||___|_| |_|_|_|_|_|_|__,|_|\", \"\", \"Copyright (c) 2015 Recca Tsai <http://phpwrite.blogspot.tw/>\", \"\", \"Type a command, or type `\" + this.info('help') + \"`, for a list of commands.\", \"\"].join(\"\\n\");\n        }\n    }, {\n        key: 'serverInfo',\n        value: function serverInfo() {\n            if (this.$term.level() > 1) {\n                return;\n            }\n\n            var host = '' + this.info(this.options.username) + this.info('@') + this.info(this.options.hostname);\n            var os = this.question('' + this.options.os);\n            var path = this.comment('' + this.options.basePath);\n            this.$term.echo(host + ' ' + os + ' ' + path);\n        }\n    }, {\n        key: 'error',\n        value: function error(text) {\n            return this.formatter.error(text);\n        }\n    }, {\n        key: 'info',\n        value: function info(text) {\n            return this.formatter.info(text);\n        }\n    }, {\n        key: 'comment',\n        value: function comment(text) {\n            return this.formatter.comment(text);\n        }\n    }, {\n        key: 'question',\n        value: function question(text) {\n            return this.formatter.question(text);\n        }\n    }, {\n        key: 'echo',\n        value: function echo(text) {\n            var _this3 = this;\n\n            var regex = new RegExp(\"(\\\\033\\\\[(\\\\d+)(;\\\\d+)?m(((?!\\\\033\\\\[\\\\d+).)*)\\\\033\\\\[(\\\\d+)(;\\\\d+)?m)|(\\\\[|\\\\])\", \"g\");\n            var content = void 0;\n            text = text.replace(regex, function () {\n                if ([\"[\", \"]\"].includes(arguments.length <= 0 ? undefined : arguments[0]) === true) {\n                    return _jquery2.default.terminal.escape_brackets(arguments.length <= 0 ? undefined : arguments[0]);\n                } else {\n                    content = _jquery2.default.terminal.escape_brackets(arguments.length <= 4 ? undefined : arguments[4]);\n                    switch (arguments.length <= 2 ? undefined : arguments[2]) {\n                        case '32':\n                            return _this3.info(content);\n                            break;\n                        case '33':\n                            return _this3.comment(content);\n                            break;\n                        case '37':\n                            return _this3.error(content);\n                            break;\n                        default:\n                            return arguments.length <= 0 ? undefined : arguments[0];\n                            break;\n                    }\n                }\n            });\n            text.split(\"\\n\").forEach(function (line) {\n                if (line === '') {\n                    line = ' ';\n                }\n                _this3.$term.echo(line);\n            });\n        }\n    }, {\n        key: 'confirm',\n        value: function confirm(message) {\n            var _this4 = this;\n\n            var title = arguments.length <= 1 || arguments[1] === undefined ? '' : arguments[1];\n\n            return new Promise(function (resolve, reject) {\n                var history = _this4.$term.history();\n                history.disable();\n\n                if (title != '') {\n                    _this4.$term.echo(title);\n                }\n                _this4.$term.echo(message);\n                _this4.$term.push(function (result) {\n                    if (_this4.toBoolean(result) === true) {\n                        resolve(true);\n                    } else {\n                        reject(false);\n                        _this4.serverInfo();\n                    }\n                    _this4.$term.pop();\n                    history.enable();\n                    return;\n                }, {\n                    prompt: ' > '\n                });\n            });\n        }\n    }, {\n        key: 'toBoolean',\n        value: function toBoolean(value) {\n            switch (value) {\n                case 'y':\n                case 'yes':\n                case 'true':\n                    return true;\n                    break;\n                case 'n':\n                case 'no':\n                case 'false':\n                case '':\n                    return false;\n                    break;\n            }\n\n            return false;\n        }\n    }]);\n\n    return Terminal;\n}();\n\nglobal.Terminal = Terminal;\n\nexports.default = Terminal;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./commands/artisan\":21,\"./commands/default\":23,\"./commands/help\":24,\"./commands/mysql\":25,\"./commands/tinker\":26,\"./commands/vi\":27,\"./jquery\":28,\"./loading\":29,\"./output-formatter\":30,\"./polyfill\":31,\"jquery-mousewheel\":16,\"jquery.terminal\":17,\"jquery.terminal/js/unix_formatting\":18}],21:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _command = require('./command');\n\nvar _command2 = _interopRequireDefault(_command);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Artisan = function (_Command) {\n    _inherits(Artisan, _Command);\n\n    function Artisan() {\n        _classCallCheck(this, Artisan);\n\n        return _possibleConstructorReturn(this, Object.getPrototypeOf(Artisan).apply(this, arguments));\n    }\n\n    _createClass(Artisan, [{\n        key: 'match',\n        value: function match(name) {\n            return name === 'artisan';\n        }\n    }, {\n        key: 'call',\n        value: function call(cmd) {\n            var _this2 = this;\n\n            var rest = $.terminal.parseCommand(cmd.rest.trim());\n            if (this.api.options.environment === 'production' && rest.args.includes('--force') === false && this.api.options.confirmToProceed[cmd.name].includes(rest.name) === true) {\n                this.api.$term.echo(this.api.comment('**************************************'));\n                this.api.$term.echo(this.api.comment('*     Application In Production!     *'));\n                this.api.$term.echo(this.api.comment('**************************************'));\n                this.api.$term.echo(' ');\n\n                var promise = this.api.confirm(this.api.info('Do you really wish to run this command? [y/N] (yes/no)') + ' ' + this.api.comment('[no]') + ': ');\n                promise.then(function () {\n                    cmd.command = 'artisan --command=\"' + _this2.addslashes(cmd.rest) + '\"';\n                    _get(Object.getPrototypeOf(Artisan.prototype), 'call', _this2).call(_this2, cmd);\n                }, function () {\n                    _this2.echo(\" \");\n                    _this2.$term.echo('' + _this2.comment('Command Cancelled!'));\n                    _this2.echo(\" \");\n                });\n            } else {\n                cmd.command = 'artisan --command=\"' + this.addslashes(cmd.rest) + '\"';\n                _get(Object.getPrototypeOf(Artisan.prototype), 'call', this).call(this, cmd);\n            }\n        }\n    }]);\n\n    return Artisan;\n}(_command2.default);\n\nexports.default = Artisan;\n\n},{\"./command\":22}],22:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _jquery = require('../jquery');\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nrequire('../polyfill');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Command = function () {\n    function Command(api, options) {\n        _classCallCheck(this, Command);\n\n        Object.assign(this, {\n            api: api,\n            requestId: 0\n        });\n    }\n\n    _createClass(Command, [{\n        key: 'match',\n        value: function match(name) {\n            return false;\n        }\n    }, {\n        key: 'call',\n        value: function call(cmd) {\n            var _this = this;\n\n            this.api.loading.show();\n            this.makeRequest(cmd.command).then(function (response) {\n                _this.api.loading.hide();\n                _this.api.echo(response.result);\n                _this.api.serverInfo();\n            }, function (response) {\n                _this.api.loading.hide();\n                _this.api.echo(response.result);\n                _this.api.serverInfo();\n            });\n        }\n    }, {\n        key: 'addslashes',\n        value: function addslashes(str) {\n            return (str + '').replace(/[\\\\\"']/g, '\\\\$&').replace(/\\u0000/g, '\\\\0');\n        }\n    }, {\n        key: 'makeRequest',\n        value: function makeRequest(command) {\n            var _this2 = this;\n\n            return new Promise(function (resolve, reject) {\n                _jquery2.default.ajax({\n                    url: _this2.api.options.endPoint,\n                    dataType: 'json',\n                    type: 'post',\n                    headers: {\n                        'X-CSRF-TOKEN': _this2.api.options.csrfToken\n                    },\n                    data: {\n                        jsonrpc: '2.0',\n                        id: ++_this2.requestId,\n                        command: command\n                    }\n                }).success(function (response) {\n                    if (response.error !== 0) {\n                        reject(response);\n                        return;\n                    }\n\n                    resolve(response);\n                }).error(function (jqXhr, json, errorThrown) {\n                    reject({\n                        result: jqXhr.status + ': ' + errorThrown\n                    });\n                });\n            });\n        }\n    }]);\n\n    return Command;\n}();\n\nexports.default = Command;\n\n},{\"../jquery\":28,\"../polyfill\":31}],23:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _command = require('./command');\n\nvar _command2 = _interopRequireDefault(_command);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Default = function (_Command) {\n    _inherits(Default, _Command);\n\n    function Default() {\n        _classCallCheck(this, Default);\n\n        return _possibleConstructorReturn(this, Object.getPrototypeOf(Default).apply(this, arguments));\n    }\n\n    _createClass(Default, [{\n        key: 'match',\n        value: function match(name) {\n            return ['list', 'help'].includes(name) === false;\n        }\n    }]);\n\n    return Default;\n}(_command2.default);\n\nexports.default = Default;\n\n},{\"./command\":22}],24:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _command = require('./command');\n\nvar _command2 = _interopRequireDefault(_command);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Help = function (_Command) {\n    _inherits(Help, _Command);\n\n    function Help() {\n        _classCallCheck(this, Help);\n\n        return _possibleConstructorReturn(this, Object.getPrototypeOf(Help).apply(this, arguments));\n    }\n\n    _createClass(Help, [{\n        key: 'match',\n        value: function match(name) {\n            return ['list', 'help'].includes(name);\n        }\n    }, {\n        key: 'call',\n        value: function call(cmd) {\n            this.api.echo(this.api.options.helpInfo);\n        }\n    }]);\n\n    return Help;\n}(_command2.default);\n\nexports.default = Help;\n\n},{\"./command\":22}],25:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _command = require('./command');\n\nvar _command2 = _interopRequireDefault(_command);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Mysql = function (_Command) {\n    _inherits(Mysql, _Command);\n\n    function Mysql() {\n        _classCallCheck(this, Mysql);\n\n        return _possibleConstructorReturn(this, Object.getPrototypeOf(Mysql).apply(this, arguments));\n    }\n\n    _createClass(Mysql, [{\n        key: 'match',\n        value: function match(name) {\n            return name === 'mysql';\n        }\n    }, {\n        key: 'call',\n        value: function call(cmd) {\n            cmd.command = 'mysql --command=\"' + this.addslashes(cmd.rest) + '\"';\n            _get(Object.getPrototypeOf(Mysql.prototype), 'call', this).call(this, cmd);\n        }\n    }]);\n\n    return Mysql;\n}(_command2.default);\n\nexports.default = Mysql;\n\n},{\"./command\":22}],26:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _command = require('./command');\n\nvar _command2 = _interopRequireDefault(_command);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Tinker = function (_Command) {\n    _inherits(Tinker, _Command);\n\n    function Tinker() {\n        _classCallCheck(this, Tinker);\n\n        return _possibleConstructorReturn(this, Object.getPrototypeOf(Tinker).apply(this, arguments));\n    }\n\n    _createClass(Tinker, [{\n        key: 'match',\n        value: function match(name) {\n            return name === 'tinker';\n        }\n    }, {\n        key: 'call',\n        value: function call(cmd) {\n            cmd.command = 'tinker --command=\"' + this.addslashes(cmd.rest) + '\"';\n            _get(Object.getPrototypeOf(Tinker.prototype), 'call', this).call(this, cmd);\n        }\n    }]);\n\n    return Tinker;\n}(_command2.default);\n\nexports.default = Tinker;\n\n},{\"./command\":22}],27:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _command = require('./command');\n\nvar _command2 = _interopRequireDefault(_command);\n\nvar _codemirror = require('codemirror');\n\nvar _codemirror2 = _interopRequireDefault(_codemirror);\n\nrequire('codemirror/addon/dialog/dialog');\n\nrequire('codemirror/addon/search/searchcursor');\n\nrequire('codemirror/addon/mode/loadmode');\n\nrequire('codemirror/addon/edit/matchbrackets');\n\nrequire('codemirror/addon/display/fullscreen');\n\nrequire('codemirror/mode/clike/clike');\n\nrequire('codemirror/mode/meta');\n\nrequire('codemirror/keymap/vim');\n\nrequire('codemirror/mode/php/php');\n\nrequire('codemirror/mode/css/css');\n\nrequire('codemirror/mode/javascript/javascript');\n\nrequire('codemirror/mode/htmlmixed/htmlmixed');\n\nrequire('codemirror/mode/xml/xml');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Vi = function (_Command) {\n    _inherits(Vi, _Command);\n\n    function Vi(options) {\n        _classCallCheck(this, Vi);\n\n        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Vi).call(this, options));\n\n        var textarea = $('<textarea style=\"display: none;\"></textarea>').appendTo(document.body).get(0);\n        _this.editor = _codemirror2.default.fromTextArea(textarea, {\n            lineNumbers: true,\n            matchBrackets: true,\n            keyMap: 'vim',\n            showCursorWhenSelecting: true,\n            theme: 'monokai'\n        });\n        _this.editor.getWrapperElement().className += ' CodeMirror-fullscreen';\n        $(_this.editor.getWrapperElement()).hide();\n        return _this;\n    }\n\n    _createClass(Vi, [{\n        key: 'match',\n        value: function match(name) {\n            return name === 'vi';\n        }\n    }, {\n        key: 'call',\n        value: function call(cmd) {\n            var _this2 = this;\n\n            this.api.$term.pause();\n            this.makeRequest(cmd.command).then(function (response) {\n                var path = cmd.rest;\n                var editor = _this2.editor;\n                var m = void 0,\n                    info = void 0,\n                    mode = void 0,\n                    spec = void 0;\n                if (m = path.match(/.+\\.([^.]+)$/)) {\n                    info = _codemirror2.default.findModeByExtension(m[1]);\n                    if (info) {\n                        mode = info.mode;\n                        spec = info.mime;\n                    }\n                } else if (/\\//.test(path)) {\n                    info = info = _codemirror2.default.findModeByMIME(path);\n                    if (info) {\n                        mode = info.mode;\n                        spec = info.mime;\n                    }\n                };\n\n                if (['htmlmixed', 'css', 'javascript', 'php'].includes(mode) === false) {\n                    mode = 'php';\n                    spec = 'application/x-httpd-php';\n                }\n\n                if (mode) {\n                    editor.setOption(\"mode\", spec);\n                    _codemirror2.default.autoLoadMode(editor, mode);\n                }\n                $(editor.getWrapperElement()).show();\n                var doc = editor.getDoc();\n                var cm = doc.cm;\n                doc.setValue(response.result);\n                doc.setCursor(0);\n                editor.focus();\n                cm.focus();\n                var save = function save() {\n                    var value = JSON.stringify(doc.getValue());\n                    cmd.command += ' --text=' + value;\n                    _this2.makeRequest(cmd.command).then(function () {}, function () {});\n                };\n                var quit = function quit() {\n                    $(editor.getWrapperElement()).hide();\n                    _this2.api.$term.resume();\n                    _this2.api.$term.focus();\n                };\n                _codemirror2.default.Vim.defineEx('q', 'q', function () {\n                    quit();\n                });\n                _codemirror2.default.Vim.defineEx('w', 'w', function () {\n                    save();\n                });\n                _codemirror2.default.Vim.defineEx('wq', 'wq', function () {\n                    save();\n                    quit();\n                });\n            });\n        }\n    }]);\n\n    return Vi;\n}(_command2.default);\n\nexports.default = Vi;\n\n},{\"./command\":22,\"codemirror\":7,\"codemirror/addon/dialog/dialog\":1,\"codemirror/addon/display/fullscreen\":2,\"codemirror/addon/edit/matchbrackets\":3,\"codemirror/addon/mode/loadmode\":4,\"codemirror/addon/search/searchcursor\":5,\"codemirror/keymap/vim\":6,\"codemirror/mode/clike/clike\":8,\"codemirror/mode/css/css\":9,\"codemirror/mode/htmlmixed/htmlmixed\":10,\"codemirror/mode/javascript/javascript\":11,\"codemirror/mode/meta\":12,\"codemirror/mode/php/php\":13,\"codemirror/mode/xml/xml\":14}],28:[function(require,module,exports){\n(function (global){\n'use strict';\n'user strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar $ = void 0;\nif (!global.jQuery) {\n    $ = global.jQuery = global.$ = require('jquery');\n    $.migrateMute = true;\n    require('jquery-migrate');\n} else {\n    $ = global.jQuery;\n}\n\nexports.default = $;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"jquery\":19,\"jquery-migrate\":15}],29:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Loading = function () {\n    function Loading(term) {\n        _classCallCheck(this, Loading);\n\n        this.$term = term;\n        Object.assign(this, {\n            anim: ['/', '|', '\\\\', '-'],\n            prompt: null,\n            delay: 50,\n            intervalId: null,\n            counter: 0\n        });\n    }\n\n    _createClass(Loading, [{\n        key: 'show',\n        value: function show() {\n            var _this = this;\n\n            this.counter++;\n            this.$term.disable();\n            this.prompt = this.$term.get_prompt();\n            var i = 0;\n            this.intervalId = setInterval(function () {\n                _this.$term.set_prompt(_this.anim[i++]);\n                if (i > _this.anim.length - 1) {\n                    i = 0;\n                }\n            }, this.delay);\n        }\n    }, {\n        key: 'hide',\n        value: function hide() {\n            this.counter--;\n            if (this.counter <= 0) {\n                clearInterval(this.intervalId);\n                this.$term.enable();\n                this.$term.set_prompt(this.prompt);\n                this.counter = 0;\n            }\n        }\n    }]);\n\n    return Loading;\n}();\n\nexports.default = Loading;\n\n},{}],30:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar OutputFormatterStyle = function () {\n    function OutputFormatterStyle() {\n        var foreground = arguments.length <= 0 || arguments[0] === undefined ? \"white\" : arguments[0];\n        var background = arguments.length <= 1 || arguments[1] === undefined ? \"black\" : arguments[1];\n        var options = arguments.length <= 2 || arguments[2] === undefined ? [] : arguments[2];\n\n        _classCallCheck(this, OutputFormatterStyle);\n\n        Object.assign(this, {\n            options: options,\n            colorList: {\n                30: 'black',\n                31: 'red',\n                32: 'green',\n                33: 'yellow',\n                34: 'blue',\n                35: 'magenta',\n                36: 'cyan',\n                37: 'white',\n\n                39: 'white'\n            },\n\n            backgroundList: {\n                40: 'black',\n                41: 'red',\n                42: 'green',\n                43: 'yellow',\n                44: 'blue',\n                45: 'magenta',\n                46: 'cyan',\n                47: 'white',\n\n                49: 'black'\n            },\n\n            colors: Object.assign($.terminal.ansi_colors.bold, {\n                white: $.terminal.ansi_colors.normal.white,\n                red: $.terminal.ansi_colors.normal.red\n            })\n        });\n\n        this.foreground = this.getColor(foreground);\n        this.background = this.getColor(background);\n    }\n\n    _createClass(OutputFormatterStyle, [{\n        key: \"getColor\",\n        value: function getColor(color) {\n            if (this.colors[color]) {\n                return this.colors[color];\n            } else {\n                return color;\n            }\n        }\n    }, {\n        key: \"apply\",\n        value: function apply(text) {\n            return \"[[;\" + this.foreground + \";\" + this.background + \"]\" + $.terminal.escape_brackets(text) + \"]\";\n        }\n    }]);\n\n    return OutputFormatterStyle;\n}();\n\nvar OutputFormatter = function () {\n    function OutputFormatter() {\n        _classCallCheck(this, OutputFormatter);\n\n        Object.assign(this, {\n            formatters: {\n                error: new OutputFormatterStyle('white', 'red'),\n                info: new OutputFormatterStyle('green'),\n                comment: new OutputFormatterStyle('yellow'),\n                question: new OutputFormatterStyle('magenta')\n            }\n        });\n    }\n\n    _createClass(OutputFormatter, [{\n        key: \"error\",\n        value: function error(text) {\n            return this.formatters.error.apply(text);\n        }\n    }, {\n        key: \"info\",\n        value: function info(text) {\n            return this.formatters.info.apply(text);\n        }\n    }, {\n        key: \"comment\",\n        value: function comment(text) {\n            return this.formatters.comment.apply(text);\n        }\n    }, {\n        key: \"question\",\n        value: function question(text) {\n            return this.formatters.question.apply(text);\n        }\n    }]);\n\n    return OutputFormatter;\n}();\n\nexports.default = OutputFormatter;\n\n},{}],31:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _jquery = require('./jquery');\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nif (!Object.assign) {\n    Object.assign = _jquery2.default.extend;\n}\n\nif (!Array.prototype.includes) {\n    Object.defineProperty(Array.prototype, 'includes', {\n        value: function value() {\n            for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n                args[_key] = arguments[_key];\n            }\n\n            return _jquery2.default.inArray.apply(_jquery2.default, args.concat([this])) !== -1;\n        }\n    });\n}\n\nif (!window.Promise) {\n    var _Promise = function () {\n        function _Promise(callback) {\n            var _this = this;\n\n            _classCallCheck(this, _Promise);\n\n            this.deferred = _jquery2.default.Deferred();\n            callback(function (o) {\n                _this.deferred.resolve(o);\n            }, function (o) {\n                _this.deferred.reject(o);\n            });\n            this.promise = this.deferred.promise();\n        }\n\n        _createClass(_Promise, [{\n            key: 'then',\n            value: function then(resolve, reject) {\n                this.promise.done(resolve);\n                this.promise.fail(reject);\n                return this;\n            }\n        }, {\n            key: 'catch',\n            value: function _catch(reject) {\n                this.promise.fail(reject);\n                return this;\n            }\n        }]);\n\n        return _Promise;\n    }();\n\n    window.Promise = _Promise;\n}\n\n},{\"./jquery\":28}]},{},[20]);\n"],"sourceRoot":"/source/"}