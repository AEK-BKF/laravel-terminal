(function(){!function(n,r,e){var t,o,_,i,u,a,c,s,l,m,p,f;return o=n("meta[name='csrf-token']").attr("content"),n.ajaxSetup({headers:{"X-CSRF-TOKEN":o}}),m=["artisan tinker","mysql","tinker"],_=["mysql"],n.each(Terminal.endPoints,function(r,e){return-1===n.inArray(r,m)?_.push(r):void 0}),_.sort(),s=function(n,r){return n=n.replace("[","&#91;").replace("]","&#93;"),"[[;"+r+";]"+n+"]"},a=function(n){return s(n,"#008400")},t=function(n){return s(n,"#a50")},u={copyright:[" __                        _    _____              _         _ ","|  |   ___ ___ ___ _ _ ___| |  |_   ____ ___ _____|_|___ ___| |","|  |__| .'|  _| .'| | | -_| |    | || -_|  _|     | |   | .'| |","|_____|__,|_| |__,|\\_/|___|_|    |_||___|_| |_|_|_|_|_|_|__,|_|","","Copyright (c) 2015 Recca Tsai <http://phpwrite.blogspot.tw/>",""].join("\n"),production:["",t("**************************************"),t("*     Application In Production!     *"),t("**************************************"),""].join("\n")},l=function(){var r;return r={},function(e,t,o,_){return r[e]=r[e]||0,t.pause(),n.ajax({url:e,dataType:"json",type:"post",data:{jsonrpc:"2.0",method:o,params:_,id:++r[e]}}).success(function(n){return n.result===!1?t.error(n.error):t.echo(n.result)}).error(function(n,r,e){return t.error(e)}).complete(function(){return t.resume()})}}(),f=function(){var r;return r=function(n){switch(n.toLowerCase()){case"y":case"yes":return!0;default:return!1}},function(e,t,o){var _;return null==t&&(t=""),null==o&&(o=">"),_=n.Deferred(),""!==t&&e.echo(t),e.echo(o),e.push(function(n){_.resolve(r(n)),e.pop()},{prompt:">"}),_.promise()}}(),p=function(n,r){return 0===n.indexOf(r)},c=function(n,r,e,t){return null==e&&(e=function(){}),t||(t=n),r.push(function(n){return e(t,n,r),!1},{prompt:t+">"}),!1},i=function(r,e){var o,_,i;return o=Terminal.endPoints[r.name],i=r.args,_=i.shift()||[],"artisan"===r.name&&"production"===Terminal.environment&&-1===n.inArray("--force",i)&&(p(_,"migrate")===!0&&p(_,"migrate:status")===!1||p(_,"db:seed")===!0)?void f(e,""+u.production,a("Do you really wish to run this command? [y/N] (yes/no)")+" &#91;"+t("no")+"&#93;: ").done(function(n){return n===!0?(i.push("--force"),l(o,e,_,i)):e.echo("\n"+t("Command Cancelled!"))}):void l(o,e,_,i)},n(e.body).terminal(function(r,e){var t;switch(r){case"help":return _.join("	");case"":break;case"mysql":c(r,e,function(n,r,e){var t;return t=Terminal.endPoints[n],l(t,e,r,[])});break;case"artisan tinker":c(r,e,function(n,r,e){var t;return t=Terminal.endPoints[n],l(t,e,r,[])},"tinker");break;default:t=n.terminal.parseCommand(r.trim()),-1!==n.inArray(t.name,_)?i(t,e):e.error("Command '"+r+"' Not Found!")}},{greetings:u.copyright,onBlur:function(){return!1}})}(jQuery,window,document)}).call(this);